<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      DistributingChanges (diff) – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="TracGuide.html" />
        <link rel="up" href="DistributingChanges%3Faction=history.html" title="Page history" />
        <link rel="next" href="DistributingChanges%3Faction=diff&amp;version=6.html" title="Version 6" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/diff.css" type="text/css" />
        <link rel="prev" href="DistributingChanges%3Faction=diff&amp;version=4.html" title="Version 4" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../chrome/common/css/diff.css" />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last active"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="DistributingChanges%3Faction=diff&amp;version=4.html" title="Version 4">Previous Change</a></span></li><li><a href="DistributingChanges%3Faction=history.html" title="Page history">Wiki History</a></li><li class="last"><span><a class="next" href="DistributingChanges%3Faction=diff&amp;version=6.html" title="Version 6">Next Change</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <h1>
        Changes between
          <a href="DistributingChanges%3Fversion=4.html">Version 4</a> and
          <a href="DistributingChanges%3Fversion=5.html">Version 5</a> of
          <a href="DistributingChanges%3Fversion=5.html">DistributingChanges</a>
      </h1>
      <form method="post" id="prefs" action="DistributingChanges%3Fversion=5.html"><div><input type="hidden" name="__FORM_TOKEN" value="93d81ccf9a7bb1c456462f62" /></div>
        <div>
          <input type="hidden" name="action" value="diff" />
          <input type="hidden" name="version" value="5" />
          <input type="hidden" name="old_version" value="4" />
          
  <label for="style">View differences</label>
  <select id="style" name="style">
    <option selected="selected" value="inline">inline</option>
    <option value="sidebyside">side by side</option>
  </select>
  <div class="field">
    <label><input type="radio" name="contextall" value="0" checked="checked" />
             Show</label>
      <label><input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
             lines around each change</label><br />
    <label><input type="radio" name="contextall" value="1" />
           Show the changes in full context</label>
  </div>
  <fieldset id="ignore">
    <legend>Ignore:</legend>
    <div class="field">
      <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
      <label for="ignoreblanklines">Blank lines</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorecase" name="ignorecase" />
      <label for="ignorecase">Case changes</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
      <label for="ignorewhitespace">White space changes</label>
    </div>
  </fieldset>
  <div class="buttons">
    <input type="submit" name="update" value="Update" />
  </div>

        </div>
      </form>
      <dl id="overview">
        <dt class="property time">Timestamp:</dt>
        <dd class="time">
            03/05/10 10:24:32 (<a class="timeline" href="../timeline%3Ffrom=2010-03-05T10:24:32Z&amp;precision=second.html" title="2010-03-05T10:24:32Z in Timeline">4 years</a> ago)
        </dd>
        <dt class="property author">Author:</dt>
        <dd class="author">
          rgrp
        </dd>
        <dt class="property message">Comment:</dt>
        <dd class="message">
          
          <p>
introduce new terminology, add to requirements, and create explicit sections
</p>

        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
            <dt class="mod"></dt><dd>Modified</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="DistributingChanges%3Fversion=5.html">DistributingChanges</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Version 4">
                    <a href="DistributingChanges%3Fversion=4.html#L1">
                      v4</a>
                  </th>
                  <th title="Version 5">
                    <a href="DistributingChanges%3Fversion=5.html#L1">
                      v5</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="add">
                  <tr class="first">
                          <th> </th><th>1</th><td class="r"><ins>[[PageOutline]]</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>2</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>1</th><th>3</th><td class="l"><span>Abstracting and continuing considerations from:</span> </td>
                  </tr><tr>
                          <th>2</th><th>4</th><td class="l"><span>&nbsp;- SyncingInstances</span> </td>
                  </tr><tr>
                          <th>3</th><th>5</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>6</th><td class="r"><ins>= Terminology =</ins> </td>
                  </tr><tr>
                          <th> </th><th>7</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>8</th><td class="r"><ins>To facilitate discussion here is some clarificatory terminology:</ins> </td>
                  </tr><tr>
                          <th> </th><th>9</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>10</th><td class="r"><ins>&nbsp; * Repository: a given standalone instance containing domain objects.</ins> </td>
                  </tr><tr>
                          <th> </th><th>11</th><td class="r"><ins>&nbsp; * Revision: metadata about a particular change such as unique-id, author, timestamp (and maybe more such as: parents, hash ...)</ins> </td>
                  </tr><tr>
                          <th> </th><th>12</th><td class="r"><ins>&nbsp; * Patch: description of the changes to the domain model: e.g. a set of ids for changed versioned objects along with relevant diffs, necessary changes to non-versioned objects etc</ins> </td>
                  </tr><tr>
                          <th> </th><th>13</th><td class="r"><ins>&nbsp; * Changeset: the combination of a Revision and its associated Patch</ins> </td>
                  </tr><tr>
                          <th> </th><th>14</th><td class="r"><ins>&nbsp; &nbsp; * NB: a patch alone can be applied but it can only be applied "blind" (for example one has no idea whether the patch has already been applied earlier in the Repository history)</ins> </td>
                  </tr><tr>
                          <th> </th><th>15</th><td class="r"><ins>&nbsp; &nbsp; * NB: similarly a Revision along can be applied (it is a Changeset with a null Patch)</ins> </td>
                  </tr><tr>
                          <th> </th><th>16</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>17</th><td class="r"><ins>= Wants and needs =</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>18</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>4</th><th>19</th><td class="l"><span>Apparent wants and needs:</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>5</th><th> </th><td class="l"><span>&nbsp;- to distribute local CKAN changes to foreign CKAN instances</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>20</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>21</th><td class="r"><span>&nbsp;- to distribute Changesets from one (local) CKAN Repository to a foreign CKAN Repository</span> </td>
                      </tr><tr>
                        <th> </th><th>22</th><td class="r"><span>&nbsp; &nbsp;- to do this on a repeated basis</span> </td>
                      </tr><tr>
                        <th> </th><th>23</th><td class="r"><span>&nbsp;- to be able to also pull Changesets from a foreign CKAN repository to a local one</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>24</th><td class="r"><span>&nbsp; &nbsp;- to be able to do this with a foreign repository that has previously received Changesets from the local (in particular Changesets made on foreign instance can be pulled back without duplication of Changesets pushed from the local repository)</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>6</th><th>25</th><td class="l"><span>&nbsp;- to preserve history (perhaps so that normally each instance's Recent Changes resembles the others')</span> </td>
                  </tr><tr>
                          <th>7</th><th>26</th><td class="l"><span>&nbsp;- to support selective distribution (either by selecting for some logical subset of CKAN records, or by manual approval of changes on a case-by-case basis, or a combination, or otherwise)</span> </td>
                  </tr><tr>
                          <th>8</th><th>27</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>9</th><th>28</th><td class="l"><span>Inferred wants and needs:</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>29</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>10</th><th>30</th><td class="l"><span>&nbsp;- to support use through firewall (client-server: where client pushes changes on client to server, and client polls and pulls changes on server to client) </span> </td>
                  </tr><tr>
                          <th>11</th><th>31</th><td class="l"><span>&nbsp;- to support use across internet (peer-peer: each accepts listeners, each can register to listen for changes, each notifies its listeners of any new changes, each listener pulls changes it doesn't have, etc)</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>32</th><td class="r"><ins>&nbsp;- for this process to be integrated into the AccessControl</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>12</th><th>33</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>34</th><td class="r"><ins>= Comparison between Mercurial and CKAN Situation =</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>13</th><th>35</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>14</th><th>36</th><td class="l"><span>Highlighted core models of Mercurial and of CKAN:</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="DistributingChanges%3Fversion=4.html#L42">…</a></th>
                  <th><a href="DistributingChanges%3Fversion=5.html#L64">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>42</th><th>64</th><td class="l"><span>&nbsp;- Export/Import (which BTW causes changes to be applied to the working directory before committing, that is different from Pull which doesn't affect the working directory - also worth noting that import normally aborts if there are outstanding changes in the working directory, which would carry over to CKAN should received changeset patches be queued and progressively applied unless there is a conflict, which [could] normally cause the queue to be held up, and notification to be sent to the site admins to intervene, after the conflicting patch is resolved the queue would continue until the next conflict -- other behaviours could include: automatic merging; automatic skipping; intervention each time)</span> </td>
                  </tr><tr>
                          <th>43</th><th>65</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>44</th><th> </th><td class="l"><span>Actions needed in CKAN to distribute changes (functional requirements):</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>66</th><td class="r"><span>= Actions needed in CKAN to distribute changes (functional requirements) =</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>67</th><td class="r"><span></span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>45</th><th>68</th><td class="l"><span>&nbsp;- Changeset patch, creation (on new revision: create serialised diff)</span> </td>
                  </tr><tr>
                          <th>46</th><th>69</th><td class="l"><span>&nbsp;- Changeset patch, publication (handle register-get and entity-get, searchable, publish-subscribe)</span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
  </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
