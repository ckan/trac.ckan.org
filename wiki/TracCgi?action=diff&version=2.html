<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

    <html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      TracCgi (diff) – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="TracGuide.html" />
        <link rel="up" href="TracCgi%3Faction=history.html" title="Page history" />
        <link rel="next" href="TracCgi%3Faction=diff&amp;version=3.html" title="Version 3" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/diff.css" type="text/css" />
        <link rel="prev" href="TracCgi%3Faction=diff&amp;version=1.html" title="Version 1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/diff.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="../chrome/common/css/diff.css" />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last active"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="TracCgi%3Faction=diff&amp;version=1.html" title="Version 1">Previous Change</a></span></li><li><a href="TracCgi%3Faction=history.html" title="Page history">Wiki History</a></li><li class="last"><span><a class="next" href="TracCgi%3Faction=diff&amp;version=3.html" title="Version 3">Next Change</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <h1>
        Changes between
          <a href="TracCgi%3Fversion=1.html">Version 1</a> and
          <a href="TracCgi%3Fversion=2.html">Version 2</a> of
          <a href="TracCgi%3Fversion=2.html">TracCgi</a>
      </h1>
      <form method="post" id="prefs" action="TracCgi%3Fversion=2.html"><div><input type="hidden" name="__FORM_TOKEN" value="93d81ccf9a7bb1c456462f62" /></div>
        <div>
          <input type="hidden" name="action" value="diff" />
          <input type="hidden" name="version" value="2" />
          <input type="hidden" name="old_version" value="1" />
          
  <label for="style">View differences</label>
  <select id="style" name="style">
    <option selected="selected" value="inline">inline</option>
    <option value="sidebyside">side by side</option>
  </select>
  <div class="field">
    <label><input type="radio" name="contextall" value="0" checked="checked" />
             Show</label>
      <label><input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
             lines around each change</label><br />
    <label><input type="radio" name="contextall" value="1" />
           Show the changes in full context</label>
  </div>
  <fieldset id="ignore">
    <legend>Ignore:</legend>
    <div class="field">
      <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
      <label for="ignoreblanklines">Blank lines</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorecase" name="ignorecase" />
      <label for="ignorecase">Case changes</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
      <label for="ignorewhitespace">White space changes</label>
    </div>
  </fieldset>
  <div class="buttons">
    <input type="submit" name="update" value="Update" />
  </div>

        </div>
      </form>
      <dl id="overview">
        <dt class="property time">Timestamp:</dt>
        <dd class="time">
            07/30/07 11:26:42 (<a class="timeline" href="../timeline%3Ffrom=2007-07-30T11:26:42Z&amp;precision=second.html" title="2007-07-30T11:26:42Z in Timeline">7 years</a> ago)
        </dd>
        <dt class="property author">Author:</dt>
        <dd class="author">
          trac
        </dd>
        <dt class="property message">Comment:</dt>
        <dd class="message">
          
          <p>
--
</p>

        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
            <dt class="mod"></dt><dd>Modified</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="TracCgi%3Fversion=2.html">TracCgi</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Version 1">
                    <a href="TracCgi%3Fversion=1.html#L1">
                      v1</a>
                  </th>
                  <th title="Version 2">
                    <a href="TracCgi%3Fversion=2.html#L1">
                      v2</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>1</th><th>1</th><td class="l"><span>= Installing Trac as CGI =</span> </td>
                  </tr><tr>
                          <th>2</th><th>2</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>3</th><th> </th><td class="l"><span>To install Trac as a CGI script, you need to make the `trac.cgi` executable as a CGI by your web server. If you're using [http://httpd.apache.org/ Apache HTTPD], there are a couple ways to do that:</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>3</th><td class="r"><span>To install Trac as a CGI script, you need to make the `trac.cgi` executable as a CGI by your web server.</span> </td>
                      </tr><tr>
                        <th> </th><th>4</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>5</th><td class="r"><span>&nbsp; ''Please note that using Trac via CGI is significantly slower than any other deployment method, such as [TracModPython mod_python] or [TracFastCgi FastCGI].''</span> </td>
                      </tr><tr>
                        <th> </th><th>6</th><td class="r"><span></span> </td>
                      </tr><tr class="last">
                        <th> </th><th>7</th><td class="r"><span>If you're using [http://httpd.apache.org/ Apache HTTPD], there are a couple ways to do that:</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>4</th><th>8</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>5</th><th>9</th><td class="l"><span>&nbsp;1. Use a `ScriptAlias` to map a URL to the `trac.cgi` script</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracCgi%3Fversion=1.html#L11">…</a></th>
                  <th><a href="TracCgi%3Fversion=2.html#L15">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>11</th><th>15</th><td class="l"><span>{{{</span> </td>
                  </tr><tr>
                          <th>12</th><th>16</th><td class="l"><span>ScriptAlias /trac /usr/share/trac/cgi-bin/trac.cgi</span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>17</th><td class="r"><ins>}}}</ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>13</th><th>18</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>14</th><th> </th><td class="l"><span># Trac needs to know where the database is located</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>19</th><td class="r"><span>&nbsp;''Note that this directive requires the `mod_alias` module to be installed and enabled.''</span> </td>
                      </tr><tr>
                        <th> </th><th>20</th><td class="r"><span></span> </td>
                      </tr><tr>
                        <th> </th><th>21</th><td class="r"><span>If you're using Trac with a single project you need to set its location using the `TRAC_ENV` environment variable:</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>22</th><td class="r"><span>{{{</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>15</th><th>23</th><td class="l"><span>&lt;Location "/trac"&gt;</span> </td>
                  </tr><tr>
                          <th>16</th><th>24</th><td class="l"><span>&nbsp; SetEnv TRAC_ENV "/path/to/projectenv"</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracCgi%3Fversion=1.html#L18">…</a></th>
                  <th><a href="TracCgi%3Fversion=2.html#L26">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>18</th><th>26</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>19</th><th>27</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>28</th><td class="r"><ins>Or to use multiple projects you can specify their common parent directory using the `TRAC_ENV_PARENT_DIR` variable:</ins> </td>
                  </tr><tr>
                          <th> </th><th>29</th><td class="r"><ins>{{{</ins> </td>
                  </tr><tr>
                          <th> </th><th>30</th><td class="r"><ins>&lt;Location "/trac"&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>31</th><td class="r"><ins>&nbsp; SetEnv TRAC_ENV_PARENT_DIR "/path/to/project/parent/dir"</ins> </td>
                  </tr><tr>
                          <th> </th><th>32</th><td class="r"><ins>&lt;/Location&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>33</th><td class="r"><ins>}}}</ins> </td>
                  </tr><tr>
                          <th> </th><th>34</th><td class="r"><ins></ins> </td>
                  </tr><tr>
                          <th> </th><th>35</th><td class="r"><ins>&nbsp;''Note that the `SetEnv` directive requires the `mod_env` module to be installed and enable.''</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>36</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>20</th><th>37</th><td class="l"><span>This will make Trac available at `http://yourhost.example.org/trac`.</span> </td>
                  </tr><tr>
                          <th>21</th><th>38</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>22</th><th> </th><td class="l"><span>&nbsp;''Note: Make sure that the modules mod_alias and mod_env modules are available and enabled in your Apache configuration, otherwise Apache will complain about the above snippet.''</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>39</th><td class="r"><span>If you are using the [http://httpd.apache.org/docs/suexec.html Apache suEXEC] feature please see [http://trac.edgewall.org/wiki/ApacheSuexec].</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>23</th><th>40</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>24</th><th> </th><td class="l"><span>&nbsp;''Note: If you are using the [http://httpd.apache.org/docs/suexec.html Apache suEXEC] feature see [http://projects.edgewall.com/trac/wiki/ApacheSuexec ApacheSuexec] (on the main Trac site).''</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>41</th><td class="r"><span>On some systems, you ''may'' need to edit the shebang line in the `trac.cgi` file to point to your real Python installation path. On a Windows system you may need to configure Windows to know how to execute a .cgi file (Explorer -&gt; Tools -&gt; Folder Options -&gt; File Types -&gt; CGI).</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>25</th><th>42</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>26</th><th>43</th><td class="l"><span>== Mapping Static Resources ==</span> </td>
                  </tr><tr>
                          <th>27</th><th>44</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>28</th><th> </th><td class="l"><span>Out of the box, Trac will serve static resources such as style sheets or images itself. For a CGI setup, though, this is highly undesirable, because it results in the CGI script being invoked for documents that could be m<del>ore efficiently served by the web server</del>.</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>45</th><td class="r"><span>Out of the box, Trac will serve static resources such as style sheets or images itself. For a CGI setup, though, this is highly undesirable, because it results in the CGI script being invoked for documents that could be m<ins>uch more efficiently served by the web server directly</ins>.</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>29</th><th>46</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>30</th><th>47</th><td class="l"><span>Web servers such as [http://httpd.apache.org/ Apache HTTPD] allow you to create “Aliases” to resources, thereby giving them a virtual URL that doesn't necessarily bear any resemblance to the layout of the servers file system. We already used this capability above when defining a `ScriptAlias` for the CGI script, and we'll use it now to map requests to the static resources to the directory on the file system that contains them, thereby bypassing the processing of such requests by the CGI script.</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracCgi%3Fversion=1.html#L49">…</a></th>
                  <th><a href="TracCgi%3Fversion=2.html#L66">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>49</th><th>66</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>50</th><th>67</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>51</th><th> </th><td class="l"><span>Trac will then use this URL when embedding static resources into HTML pages. Of course, you still need to make the Trac `htdocs` directory available through the web server at the specified URL, for example by copying (or linking) the directory into the document root of the web server.</span> </td>
                      </tr>
                      <tr>
                        <th> </th><th>68</th><td class="r"><span>Trac will then use this URL when embedding static resources into HTML pages. Of course, you still need to make the Trac `htdocs` directory available through the web server at the specified URL, for example by copying (or linking) the directory into the document root of the web server:</span> </td>
                      </tr><tr>
                        <th> </th><th>69</th><td class="r"><span>{{{</span> </td>
                      </tr><tr>
                        <th> </th><th>70</th><td class="r"><span>$ ln -s /usr/share/trac/htdocs /var/www/your_site.com/htdocs/trac-htdocs</span> </td>
                      </tr><tr class="last">
                        <th> </th><th>71</th><td class="r"><span>}}}</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>52</th><th>72</th><td class="l"><span></span> </td>
                  </tr><tr>
                          <th>53</th><th>73</th><td class="l"><span>== Adding Authentication ==</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracCgi%3Fversion=1.html#L75">…</a></th>
                  <th><a href="TracCgi%3Fversion=2.html#L95">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>75</th><th>95</th><td class="l"><span>Now, you'll need to enable authentication against the password file in the Apache configuration:</span> </td>
                  </tr><tr>
                          <th>76</th><th>96</th><td class="l"><span>{{{</span> </td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>77</th><th> </th><td class="l"><span>&lt;Location "/<del>cgi-bin/trac.cgi</del>/login"&gt;</span> </td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>97</th><td class="r"><span>&lt;Location "/<ins>trac</ins>/login"&gt;</span> </td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>78</th><th>98</th><td class="l"><span>&nbsp; AuthType Basic</span> </td>
                  </tr><tr>
                          <th>79</th><th>99</th><td class="l"><span>&nbsp; AuthName "Trac"</span> </td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="TracCgi%3Fversion=1.html#L83">…</a></th>
                  <th><a href="TracCgi%3Fversion=2.html#L103">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>83</th><th>103</th><td class="l"><span>}}}</span> </td>
                  </tr><tr>
                          <th>84</th><th>104</th><td class="l"><span></span> </td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>105</th><td class="r"><ins>If you're hosting multiple projects you can use the same password file for all of them:</ins> </td>
                  </tr><tr>
                          <th> </th><th>106</th><td class="r"><ins>{{{</ins> </td>
                  </tr><tr>
                          <th> </th><th>107</th><td class="r"><ins>&lt;LocationMatch "/trac/[^/]+/login"&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>108</th><td class="r"><ins>&nbsp; AuthType Basic</ins> </td>
                  </tr><tr>
                          <th> </th><th>109</th><td class="r"><ins>&nbsp; AuthName "Trac"</ins> </td>
                  </tr><tr>
                          <th> </th><th>110</th><td class="r"><ins>&nbsp; AuthUserFile /somewhere/trac.htpasswd</ins> </td>
                  </tr><tr>
                          <th> </th><th>111</th><td class="r"><ins>&nbsp; Require valid-user</ins> </td>
                  </tr><tr>
                          <th> </th><th>112</th><td class="r"><ins>&lt;/LocationMatch&gt;</ins> </td>
                  </tr><tr>
                          <th> </th><th>113</th><td class="r"><ins>}}}</ins> </td>
                  </tr><tr class="last">
                          <th> </th><th>114</th><td class="r"><ins></ins> </td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>85</th><th>115</th><td class="l"><span>For better security, it is recommended that you either enable SSL or at least use the “Digest” authentication scheme instead of “Basic”. Please read the [http://httpd.apache.org/docs/2.0/ Apache HTTPD documentation] to find out more.</span> </td>
                  </tr><tr>
                          <th>86</th><th>116</th><td class="l"><span></span> </td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
      </div>
  </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>
