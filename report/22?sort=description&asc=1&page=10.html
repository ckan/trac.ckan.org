<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=description&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=description&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=description&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=description&amp;asc=1&amp;page=10.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(901 - 1000 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <span class="current">10</span>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=10.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=10.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=10.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=10.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=10.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=10.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=10.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=10.html">
              Summary
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=description&amp;asc=0&amp;page=10.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=10.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=10.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1520.html">#1520</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1520.html">Disable name changing</a>
                          </td>
                          <td class="description">
                            <p>
Because of <a class="closed ticket" href="../ticket/1514.html" title="defect: Modifying user name loses connection with revisions (closed: duplicate)">#1514</a> we should just disable name changing, until <a class="closed ticket" href="../ticket/1514.html" title="defect: Modifying user name loses connection with revisions (closed: duplicate)">#1514</a> is done.
</p>

                            
                          </td>
                          <td class="PosixTime">1323169663000000
                          </td>
                          <td class="ModifiedTime">1323280999000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2230.html">#2230</a>
                          </td>
                          <td class="type">refactor
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2230.html">Tidy up of search facets code duplication</a>
                          </td>
                          <td class="description">
                            <p>
Because of a clash between two development branches there is some duplication of code to do with code facets (note: at the time of writing the code duplication exists only on the feature-1821-multilingual-extension branch, but this will be merged into master at some point):
</p>
<p>
The package_search() function is adding the search facets to the search results twice with two different data structures, with keys "facets" and "new_facets". It should be reduced to just the new facets (with the key changed to "facets").
</p>
<p>
Also the group and package controllers are adding both facets and new_facets to the context, should be new_facets only (but renamed to facets).
</p>
<p>
The facet_items() function in helpers.py should be removed, it uses the old facets structure and shouldn't be needed anymore with the new facets structure.
</p>
<p>
In facets.html, facet_sidebar() should be removed as it uses the old facets structure and facet_div() implements the same functionality but uses the new facets.
</p>
<p>
In facets.html, facet_list_items() will have to be updated to not use the facet_items() helper and to use the new facets structure instead.
</p>
<p>
Anywhere that "new_facets" appears it will have to be changed to "facets" (e.g. in the ckanext/multilingual/plugin.py.
</p>
<p>
This is the merge commit that introduced the duplication: <a class="ext-link" href="https://github.com/okfn/ckan/commit/1153aa876f54c22289e460aeececea22d1d4d51d"><span class="icon">​</span>https://github.com/okfn/ckan/commit/1153aa876f54c22289e460aeececea22d1d4d51d</a>
</p>
<p>
This is the earlier commit where the search facets were refactored: <a class="ext-link" href="https://github.com/okfn/ckan/commit/3970e52008b75933fda1be1d488bed2578d98c9c"><span class="icon">​</span>https://github.com/okfn/ckan/commit/3970e52008b75933fda1be1d488bed2578d98c9c</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1331744085000000
                          </td>
                          <td class="ModifiedTime">1338204707000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/165.html">#165</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/165.html">Use 'tag:' instead of 'tags:' for wui package search</a>
                          </td>
                          <td class="description">
                            <p>
Because people might try and do "tags:gov sweden" when "tag:gov sweden" makes more sense (sweden is searched for in all fields in these cases).
</p>
<p>
But in REST i/f search allow "tag"="gov" OR "tags"="gov sweden" in parameters.
</p>

                            
                          </td>
                          <td class="PosixTime">1256200526000000
                          </td>
                          <td class="ModifiedTime">1311181391000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3025.html">#3025</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3025.html">Add requests to core requirements</a>
                          </td>
                          <td class="description">
                            <p>
Because yes please
</p>

                            
                          </td>
                          <td class="PosixTime">1354052124000000
                          </td>
                          <td class="ModifiedTime">1354052124000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2928.html">#2928</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2928.html">Run CKAN tests with example_i*form extensions enabled</a>
                          </td>
                          <td class="description">
                            <p>
Before releasing CKAN 2.0 we need to run all the CKAN tests with a modified test-core.ini with the example_idatasetform, example_igroupform and example_iorganizationform plugins enabled. If any tests fail, fix the bugs. This needs to be done for each release so add it to the release process.
</p>

                            
                          </td>
                          <td class="PosixTime">1347552334000000
                          </td>
                          <td class="ModifiedTime">1347552334000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2999.html">#2999</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2999.html">Add activity streams to organization pages</a>
                          </td>
                          <td class="description">
                            <p>
Before we do this we need to merge the organizations branch into master, we need to implement smarter activity streams for organizations, and we need to implement following of organizations.
</p>

                            
                          </td>
                          <td class="PosixTime">1350484457000000
                          </td>
                          <td class="ModifiedTime">1350484457000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2998.html">#2998</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2998.html">Add activity streams to group pages</a>
                          </td>
                          <td class="description">
                            <p>
Before we do this we should implement smarter group activity streams (i.e. what activities should appear in a group's activity stream?) and following of groups.
</p>

                            
                          </td>
                          <td class="PosixTime">1350484394000000
                          </td>
                          <td class="ModifiedTime">1350484394000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1540.html">#1540</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1540.html">Search API returns an error if empty parameters are provided</a>
                          </td>
                          <td class="description">
                            <p>
Both in 1.5.1b:
</p>
<p>
<a class="ext-link" href="http://thedatahub.org/api/search/dataset?groups=lodcloud&amp;title="><span class="icon">​</span>http://thedatahub.org/api/search/dataset?groups=lodcloud&amp;title=</a>
</p>
<p>
and 1.5.2a (current master):
</p>
<p>
<a class="ext-link" href="http://test.ckan.net/api/search/dataset?groups=lodcloud&amp;title="><span class="icon">​</span>http://test.ckan.net/api/search/dataset?groups=lodcloud&amp;title=</a>
</p>
<p>
Although the error message in 1.5.2a is more verbose:
</p>
<p>
"Bad request - Bad search option: HTTP code=400, reason=org.apache.lucene.queryParser.<a class="missing wiki">ParseException?</a>: Cannot parse 'groups:lodcloud title:': Encountered \"&lt;EOF&gt;\" at line 1, column 22. Was expecting one of:     \"(\" ...     \"*\" ...     &lt;QUOTED&gt; ...     &lt;TERM&gt; ...     &lt;PREFIXTERM&gt; ...     &lt;WILDTERM&gt; ...     \"[\" ...     \"{\" ...     &lt;NUMBER&gt; ..."
</p>
<p>
Some parameter validation before sending it to Solr should do the trick
</p>

                            
                          </td>
                          <td class="PosixTime">1323359388000000
                          </td>
                          <td class="ModifiedTime">1326060385000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1338.html">#1338</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1338.html">Exception when trying to use a custom form schema from an extension</a>
                          </td>
                          <td class="description">
                            <p>
Both with the package and group controllers, when overriding the default _db_to_form_schema method (which does nothing) from an extension, you get an exception because the context is not passed to the validators.
</p>
<pre class="wiki">File '/home/adria/dev/envs/iati/src/ckan/ckan/controllers/group.py', line 140 in edit
  old_data, errors = validate(old_data, schema)
File '/home/adria/dev/envs/iati/src/ckan/ckan/lib/navl/dictization_functions.py', line 215 in validate
  converted_data, errors = _validate(flattened, schema, context)
File '/home/adria/dev/envs/iati/src/ckan/ckan/lib/navl/dictization_functions.py', line 270 in _validate
  convert(converter, key, converted_data, errors, context)
File '/home/adria/dev/envs/iati/src/ckan/ckan/lib/navl/dictization_functions.py', line 178 in convert
  converter(key, converted_data, errors, context)
File '/home/adria/dev/envs/iati/src/ckan/ckan/logic/validators.py', line 108 in group_name_validator
  model = context['model']
KeyError: 'model'
</pre>
                            
                          </td>
                          <td class="PosixTime">1315925217000000
                          </td>
                          <td class="ModifiedTime">1317117738000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/234.html">#234</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/234.html">UI Review - Autocomplete package names &amp; tags in search</a>
                          </td>
                          <td class="description">
                            <p>
Broken out from <a class="closed ticket" href="../ticket/216.html" title="enhancement: UI Review - Search (closed: fixed)">ticket:216</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1263056678000000
                          </td>
                          <td class="ModifiedTime">1338206486000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/829.html">#829</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/829.html">Admin CRUD broken</a>
                          </td>
                          <td class="description">
                            <p>
Browsing to the admin interface /admin (even logged in as a sysadmin) gives an exception.
</p>

                            
                          </td>
                          <td class="PosixTime">1290695043000000
                          </td>
                          <td class="ModifiedTime">1303838115000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/314.html">#314</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/314.html">Bugs getting revisions from the REST API</a>
                          </td>
                          <td class="description">
                            <p>
Bug report regarding getting revisions:
</p>
<p>
Getting revisons by ID (on the latest ID)
 
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_revision=44aac9b6-ba24-43a8-87a1-f6923dc523ff"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_revision=44aac9b6-ba24-43a8-87a1-f6923dc523ff</a>"
</p>
<p>
Returns a whole load of stuff (it's also quite slow - about 10 seconds)
</p>
<p>
I'm expecting it to return just an empty array - am I doing something
wrong here - if so could you clarify correct use of the API?
</p>
<p>
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-30T23:45"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-30T23:45</a>"
Returns the empty string - I'd expect an empty array ie []
</p>
<p>
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-31T23:45"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-31T23:45</a>"
Returns an internal server error 500 - I think it should probably be "bad
Request" 400 (the date is invalid)
</p>

                            
                          </td>
                          <td class="PosixTime">1273743755000000
                          </td>
                          <td class="ModifiedTime">1276523983000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1591.html">#1591</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1591.html">Upgrade CKAN 1.5 instances</a>
                          </td>
                          <td class="description">
                            <p>
CKAN 1.5 installations need to be upgrade to 1.5.1.
</p>
<p>
Working methodically through the CKANs on <a class="ext-link" href="http://datacatalogs.org/group/ckan"><span class="icon">​</span>http://datacatalogs.org/group/ckan</a> :
</p>
<p>
At 1.5:
</p>
<ul><li>ckan-brazil <a class="ext-link" href="http://br.ckan.net/"><span class="icon">​</span>http://br.ckan.net/</a> s057 - DONE
</li><li>ckan_ireland <a class="ext-link" href="http://ie.ckan.net/"><span class="icon">​</span>http://ie.ckan.net/</a> s057 - DONE 
</li><li>cz-ckan-net <a class="ext-link" href="http://cz.ckan.net/"><span class="icon">​</span>http://cz.ckan.net/</a> s057 - DONE
</li><li>datakilder-no <a class="ext-link" href="http://no.ckan.net/"><span class="icon">​</span>http://no.ckan.net/</a> s057 - DONE
</li><li>data_gov_uk <a class="ext-link" href="http://catalogue.data.gov.uk/"><span class="icon">​</span>http://catalogue.data.gov.uk/</a> 
</li><li>datacatalogs-org <a class="ext-link" href="http://datacatalogs.org/"><span class="icon">​</span>http://datacatalogs.org/</a> s054 - DONE
</li></ul><p>
Other versions:
</p>
<ul><li>berlin-open-data <a class="ext-link" href="http://daten.berlin.de/"><span class="icon">​</span>http://daten.berlin.de/</a> CKAN hidden
</li><li>ckan-italia <a class="ext-link" href="http://it.ckan.net/"><span class="icon">​</span>http://it.ckan.net/</a> 1.3.3b
</li><li>ckan-poland <a class="ext-link" href="http://pl.ckan.net/"><span class="icon">​</span>http://pl.ckan.net/</a> Down
</li><li>data-norge-no <a class="ext-link" href="http://data.norge.no/"><span class="icon">​</span>http://data.norge.no/</a> CKAN hidden
</li><li>datadotgc-ca <a class="ext-link" href="http://datadotgc.ca/"><span class="icon">​</span>http://datadotgc.ca/</a> <a class="ext-link" href="http://ca.ckan.net/"><span class="icon">​</span>http://ca.ckan.net/</a> 1.4.2a 
</li><li>datagm <a class="ext-link" href="http://www.datagm.org.uk/"><span class="icon">​</span>http://www.datagm.org.uk/</a> 1.3.3
</li><li>datagov-ru <a class="ext-link" href="http://datagov.ru/"><span class="icon">​</span>http://datagov.ru/</a> CKAN hidden
</li><li>datospublicos-org <a class="ext-link" href="http://datospublicos.org/"><span class="icon">​</span>http://datospublicos.org/</a> 1.4.2
</li><li>iati-registry <a class="ext-link" href="http://iatiregistry.org/"><span class="icon">​</span>http://iatiregistry.org/</a> 1.5.1c
</li><li>katalog-offene-daten-oesterreich <a class="ext-link" href="http://offener.datenkatalog.at/"><span class="icon">​</span>http://offener.datenkatalog.at/</a> 1.3.3b
</li><li>nosdonnees_fr <a class="ext-link" href="http://www.nosdonnees.fr/"><span class="icon">​</span>http://www.nosdonnees.fr/</a> 1.3.1a
</li><li>opengov-fi <a class="ext-link" href="http://opengov.fi/"><span class="icon">​</span>http://opengov.fi/</a> CKAN hidden
</li><li>opengov_es <a class="ext-link" href="http://opengov.es/"><span class="icon">​</span>http://opengov.es/</a> 1.2
</li><li>publicdata-eu <a class="ext-link" href="http://publicdata.eu/"><span class="icon">​</span>http://publicdata.eu/</a> 1.4.2a
</li><li>the-data-hub <a class="ext-link" href="http://thedatahub.org/"><span class="icon">​</span>http://thedatahub.org/</a> 1.5.1
</li><li>helsinki_finland <a class="ext-link" href="http://hri.fi/"><span class="icon">​</span>http://hri.fi/</a> CKAN hidden
</li></ul><p>
Now deleted from datacatalogs.org:
</p>
<ul><li>ckan-belgium <a class="ext-link" href="http://be.ckan.net/"><span class="icon">​</span>http://be.ckan.net/</a> Migrated
</li><li>si-ckan-net <a class="ext-link" href="http://si.ckan.net/"><span class="icon">​</span>http://si.ckan.net/</a> migrated
</li><li>gr-ckan-net <a class="ext-link" href="http://gr.ckan.net/"><span class="icon">​</span>http://gr.ckan.net/</a> Migrated
</li><li>hu-ckan-net <a class="ext-link" href="http://hu.ckan.net/"><span class="icon">​</span>http://hu.ckan.net/</a> Migrated
</li><li>ckan-lithuania <a class="ext-link" href="http://lt.ckan.net/"><span class="icon">​</span>http://lt.ckan.net/</a> Migrated
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324487658000000
                          </td>
                          <td class="ModifiedTime">1328789470000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1516.html">#1516</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1516.html">Update SOLR schema after 1.5.1 release and set up multicore SOLR instances if needed</a>
                          </td>
                          <td class="description">
                            <p>
CKAN 1.5.1 will introduce changes in the SOLR schema and functions to support multiple schema versions. Unfortunately the changes in the schema will be backwards incompatible so either both CKAN and SOLR are upgraded, or SOLR is configured as multicore, with one core for each schema. The solr cores would look like:
</p>
<p>
<tt>http://&lt;solr-server&gt;/solr/schema-&lt;version&gt;</tt>
</p>
<p>
Different scenarios:
</p>
<ul><li>Single SOLR instance used by only one CKAN site (e.g. SOLR running on the same machine):
<ul><li>Update CKAN
</li><li>Update SOLR schema (symlink to suitable version in CKAN source) 
</li><li>Rebuild search index
</li></ul></li></ul><ul><li>Single SOLR instance used by multiple CKAN sites.
<ul><li>Update CKAN source
</li><li>Configure SOLR as multicore, one core for version 1.2 and another for 1.3 of the schema (symlink to appropriate version in CKAN source)
</li><li>Update solr_url on each of the CKAN sites with the suitable core
</li><li>Rebuild search index
</li></ul></li></ul><p>
These are the SOLR and CKAN instances that need to be updated (Please add any missing ones):
</p>
<ul><li>Same machine as the CKAN site:
<ul><li><del>test.ckan.net</del>
</li><li><del>iati.test.ckan.net</del>
</li><li>data.gov.uk/ catalogue.data.gov.uk (confirm)
</li></ul></li></ul><ul><li><del>s046.okserver.org</del>
<ul><li><del>iatiregistry.org</del>
</li></ul></li></ul><ul><li><del>s052.okserver.org</del>
<ul><li><del>datacatalogs.org</del>
</li></ul></li></ul><ul><li><del>s004.okserver.org / eu4.okfn.org / solr.okfn.org</del>
<ul><li>thedatahub.org (=www.ckan.net)
</li><li>datagm.org.uk
</li><li><del>publicdata.eu</del>
</li><li>hri.fi (dev.fvh.fi?)
</li><li>it.ckan.net
</li><li>ie.ckan.net
</li><li>cz.ckan.net
</li><li>register.data.overheid.nl (nl.ckan.net?)
</li><li>no.ckan.net / datakilder.no
</li><li>br.ckan.net
</li><li>colorado.ckan.net
</li><li>at.ckan.net
</li></ul></li></ul><p>
TODO: which SOLR server are using these instances?
</p>
<ul><li>data.norge.no
</li><li>nederland.ckan.net
</li><li>lt.ckan.net
</li><li>pl.ckan.net
</li><li>datadotmontreal.ca/
</li><li>ca.ckan.net / datadotgc.com
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323108431000000
                          </td>
                          <td class="ModifiedTime">1323362689000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/946.html">#946</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/946.html">No default system rights</a>
                          </td>
                          <td class="description">
                            <p>
CKAN currently comes out of the box being uneditable. We'd like to encourage people to have open CKANs and therefore by default init the db with this right:
</p>
<pre class="wiki">visitor -&gt; is editor on -&gt; System system
</pre>
                            
                          </td>
                          <td class="PosixTime">1296499922000000
                          </td>
                          <td class="ModifiedTime">1296833383000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1093.html">#1093</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1093.html">500 errors on GET to api/rest/licenses</a>
                          </td>
                          <td class="description">
                            <p>
CKAN gets its license list from a license service, which can be a local file, but is often the <a class="ext-link" href="http://licenses.opendefinition.org/2.0/ckan_original"><span class="icon">​</span>http://licenses.opendefinition.org/2.0/ckan_original</a> server. This server is currently flakey, but I think we only request the list on start up. The problem is we query it much more often than required. It is queried for every request to api/rest/licenses, and we are returning lots of 500 errors when the license server is timing out.
</p>

                            
                          </td>
                          <td class="PosixTime">1302862261000000
                          </td>
                          <td class="ModifiedTime">1302865470000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2485.html">#2485</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">nils.toedtmann
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2485.html">Encourage leak containment by limiting the number of requests a CKAN process serves</a>
                          </td>
                          <td class="description">
                            <p>
CKAN has <a class="closed ticket" href="../ticket/1345.html" title="enhancement: Investigate possible memory leak (closed: fixed)">memory leaks</a>. They can be contained by limiting the time-to-live of a ckan process. An easy way to achieve this is to limit the number of requests a ckan server process can serve before it gets killed and replaced.
</p>
<p>
One should ...
</p>
<ul><li>research ways to limit requests-per-process with the different web servers (see below for a start);
</li><li>explain these safeguards in the CKAN documentation and encourage users to apply them;
</li><li>consider the helper script <strong><a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan_deb/usr/bin/ckan-create-instance"><span class="icon">​</span>ckan-create-instance</a></strong> to generate Apache configs with <strong>WSGIDaemonProcess ... maximum-requests=XY</strong> being active instead of <a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan_deb/usr/lib/ckan/common.sh#L262"><span class="icon">​</span>commented out</a>. Or at least let it warn the user to use <strong>MaxRequestsPerChild</strong>;
</li><li>Investigate current CKAN deployments whether they suffer from mem leaks, and if so contain them.
</li></ul><hr />
<p>
How to limit requests-per-process
</p>
<ul><li>Apache:
<ul><li>Use <strong>WSGIDaemonProcess</strong> with <strong>maximum-requests=50</strong> or whatever limit is appropriate. We did this sucessfully on <a class="ext-link" href="http://trac.okfn.org/ticket/904"><span class="icon">​</span>datahub.io</a> and the <a class="ext-link" href="http://trac.okfn.org/ticket/1245"><span class="icon">​</span>ckan farm</a>
</li><li>(This need to be verified) Without WSGIDaemonProcess, <strong>MaxRequestsPerChild 50</strong> should achieve the same.
</li></ul></li><li>nginx/supervisord: to be researched.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1338551229000000
                          </td>
                          <td class="ModifiedTime">1340636028000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1545.html">#1545</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1545.html">Remove external asset dependencies</a>
                          </td>
                          <td class="description">
                            <p>
CKAN is pulling a number of resources from external locations. This causes problems when connectivity is limited and you have to work locally. Maybe some of them cold be moved to CKAN source to avoid external requests.
</p>
<p>
Quick search:
</p>
<pre class="wiki">
./ckan/templates/layout_base.html:            &lt;img src="http://assets.okfn.org/images/logo/okf_logo_white_and_green_tiny.png" id="footer-okf-logo" /&gt;
./ckan/templates/layout_base.html:            &lt;a href="http://opendefinition.org/"&gt;&lt;img alt="This Content and Data is Open" src="http://assets.okfn.org/images/ok_buttons/od_80x15_blue.png" style="border: none ; margin-bottom: -4px;"/&gt;&lt;/a&gt;
./ckan/templates/package/resource_read.html:                &lt;img src="http://assets.okfn.org/images/ok_buttons/od_80x15_blue.png" alt="[Open Data]" /&gt;
./ckan/templates/package/read.html:          &lt;img src="http://assets.okfn.org/images/ok_buttons/od_80x15_blue.png" alt="[Open Data]" /&gt;&lt;/a&gt;
./ckan/templates/_util.html:                    &lt;img src="http://assets.okfn.org/images/ok_buttons/od_80x15_blue.png" alt="[Open Data]" /&gt;
./ckan/templates/_util.html:                  &lt;img src="http://assets.okfn.org/images/ok_buttons/od_80x15_blue.png" alt="[Open Data]" /&gt;
./ckan/public/scripts/vendor/ckanjs/1.0.0/ckanjs.js:      this.$dialog.html('&lt;h2&gt;Loading results...&lt;/h2&gt;&lt;img src="http://assets.okfn.org/images/icons/ajaxload-circle.gif" /&gt;');
./ckan/public/scripts/vendor/ckanjs/1.0.0/ckanjs.js:          self.setMessage('Uploading file ... &lt;img src="http://assets.okfn.org/images/icons/ajaxload-circle.gif" class="spinner" /&gt;');
./ckan/public/scripts/vendor/ckanjs/1.0.0/ckanjs.js:      self.setMessage('Checking upload permissions ... &lt;img src="http://assets.okfn.org/images/icons/ajaxload-circle.gif" class="spinner" /&gt;');
Binary file ./ckan/lib/app_globals.pyc matches
./ckan/lib/app_globals.py:                                  'http://assets.okfn.org/p/ckan/img/ckan.ico')
./ckan/config/deployment.ini_tmpl:ckan.favicon = http://assets.okfn.org/p/ckan/img/ckan.ico
</pre>
                            
                          </td>
                          <td class="PosixTime">1323702635000000
                          </td>
                          <td class="ModifiedTime">1325260051000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1108.html">#1108</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-09-12.html">ckan-sprint-2011-09-12</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1108.html">Create a more modern theme for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
CKAN looks a bit aged, it should be styled more modernly and some elements could be re-arranged: 
</p>
<ul><li>Collect user info in top bar
</li><li>re-add the logo to ckan.net
</li><li>Remove tags from main menu, replace with /sitemap.xml
</li></ul><p>
Inpiration: 
</p>
<p>
quora.com, github.com, Google Projects, Google Refine, etc.
</p>
<h2 id="CKAN.netorCKANgeneraltheme">CKAN.net or CKAN general theme?</h2>
<p>
To be decided. Suggest we start with ckan.net specific and then backwards integrate (?). Existing ckan.net theme repo:
</p>
<p>
<a class="ext-link" href="https://bitbucket.org/okfn/ckan-ckan.net"><span class="icon">​</span>https://bitbucket.org/okfn/ckan-ckan.net</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1303830790000000
                          </td>
                          <td class="ModifiedTime">1315140879000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1712.html">#1712</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1712.html">DGU /data page</a>
                          </td>
                          <td class="description">
                            <p>
CKAN provides the /data page page of data.gov.uk
</p>
<p>
Breakdown of tasks:
</p>
<ul><li>[x] Analysis / refinement of spec.
</li><li>[x] Log-in / register as publisher
</li></ul><blockquote>
<blockquote>
<p>
(Waiting on publisher form)
</p>
</blockquote>
</blockquote>
<ul><li>[x] Population of "browse by publisher"
</li></ul><blockquote>
<blockquote>
<p>
list groups ordered by most datasets
(Waiting on publisher integration)
</p>
</blockquote>
</blockquote>
<ul><li>[ ] <del>Browse by nation</del>
</li><li>[ ] <del>Featured datasets</del>
</li></ul><blockquote>
<blockquote>
<p>
Now a possible integration point with drupal
</p>
</blockquote>
</blockquote>
<ul><li>[X] Tag cloud
</li><li>[X] Developers section
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1327590527000000
                          </td>
                          <td class="ModifiedTime">1329733846000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2409.html">#2409</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2409.html">Accept headers not handled correctly</a>
                          </td>
                          <td class="description">
                            <p>
CKAN returns HTML when an Accept header should make it return RDF/XML:
</p>
<p>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002237.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002237.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1337683898000000
                          </td>
                          <td class="ModifiedTime">1337856979000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1635.html">#1635</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1635.html">Email notifications (e.g. for activity streams)</a>
                          </td>
                          <td class="description">
                            <p>
CKAN should be able to send email notifications to users.
</p>
<p>
Maybe have a notifications table in the db, and a server-side job that runs periodically and consumes rows from this table, mailing them to the users.
</p>
<p>
One thing that we may want to send users notifications of is activity stream events. So the activity streams code would have to add rows to the notifications table for the mailer job to consume. But remember that email notifications feature is separate from activity streams - we may want to send notifications of other things as well.
</p>
<p>
Need to implement (at least some of) <a class="closed ticket" href="../ticket/1634.html" title="enhancement: Allow users to follow/unfollow activity streams of other users, datasets ... (closed: duplicate)">#1634</a> before this can be implemented, in order to have something to send notifications about.
</p>
<p>
Analysis here: <a class="ext-link" href="http://ckan.okfnpad.org/27"><span class="icon">​</span>http://ckan.okfnpad.org/27</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1326304587000000
                          </td>
                          <td class="ModifiedTime">1355141157000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/501.html">#501</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/501.html">Read-only maintenance mode</a>
                          </td>
                          <td class="description">
                            <p>
CKAN should have a read-only maintenance mode with a nice little banner on all pages, appropriate REST messages etc. Bonus points if this is triggered via an environment variable and thus can be triggered by the surrounding apache. 
</p>

                            
                          </td>
                          <td class="PosixTime">1282554617000000
                          </td>
                          <td class="ModifiedTime">1282724566000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/533.html">#533</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/533.html">The performance of CKAN shall scale</a>
                          </td>
                          <td class="description">
                            <p>
CKAN uses a database. We can put the database on another machine and then clone the CKAN machine. Then there are two machines calling the database and converting SQL results into HTTP responses.
</p>
<p>
How many machines can you have before the database becomes the bottleneck? At that point, what QoS can be obtained with normal hardware?
</p>
<p>
Afterwards, can CKAN be made to scale further than this with a little development? Can its Postgres database be mirrored in realtime? Or can we change SQL writes (create/updates) to write to many databases?
</p>
<p>
Are there any other options for scaling the persistence mechanism?
</p>

                            
                          </td>
                          <td class="PosixTime">1282910499000000
                          </td>
                          <td class="ModifiedTime">1292957374000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2479.html">#2479</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2479.html">Meanings of Author and Maintainer fields are unclear</a>
                          </td>
                          <td class="description">
                            <p>
CKAN's default schema has fields for Author ('The name of the main contact, for enquiries about this particular dataset') and 'Maintainer ('another important contact person'). The distinction is not clear. Also the fields are often left blank.
</p>
<p>
The roles that seems most important are those of the original owner/publisher of the data, and the person maintaining the CKAN record/copy of it. So I suggest:
</p>
<p>
(1) Rename the fields 'Owner' and 'Maintainer'.
</p>
<p>
(2) Change the explanatory text for the relevant fields:
</p>
<p>
Owner: 'The person or organisation who create/collect/publish the data in this dataset.'
Owner e-mail: 'E-mail address for enquiries to the Owner named above.'
Maintainer: 'The person maintaining this dataset on [name of CKAN instance], if different from the above.'
Maintainer e-mail: 'E-mail address for enquiries to the Maintainer named above.'
</p>
<p>
(3) When a logged-in user creates a new dataset, the main form should have a checkbox, checked by default, marked 'I am the maintainer of this dataset'. If checked, the Maintainer name and e-mail fields are populated from the user's profile.
</p>

                            
                          </td>
                          <td class="PosixTime">1338452898000000
                          </td>
                          <td class="ModifiedTime">1339771115000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1037.html">#1037</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1037.html">More Robust Harvesting for DGU</a>
                          </td>
                          <td class="description">
                            <p>
CKAN's harvesting facility is now live on DGU but there are some major improvements that could be made to make it more robust and better fit the generic CKAN harvesting framework proposed in <a class="closed ticket" href="../ticket/987.html" title="defect: Common harvesting framework (closed: duplicate)">#987</a>.
</p>
<p>
Some of the key issues:
</p>
<ul><li>Error reports do not currently contain the ID or title of the document with the error.
</li><li>We only have "added" and "error" logging on jobs when we really need a report of "added", "updated", "not changed" and "errors" with the items in each referencing a real metadata document for which harvesting was attempted
</li><li>We need deletion and editing of sources, without deleting the harvested documents or packages
</li><li>We need a more robust harvesting mechanism than a cron job or we need to deal with the case of multiple cron jobs running at once.
</li><li>We need to know the last time a list of documents was scheduled for harvest and the last time each one was fetched.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300197602000000
                          </td>
                          <td class="ModifiedTime">1304937601000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2682.html">#2682</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2682.html">CKAN's internal tracking counts each view twice, needs unit tests</a>
                          </td>
                          <td class="description">
                            <p>
CKAN's internal tracking seems to count each page view twice, the problem appears to be with the SQL in the update_tracking() method in ckan/lib/cli.py.
</p>
<p>
The internal tracking feature needs some tests, and some of the code could maybe do with some more explanatory comments, e.g. what is the intended difference between count and running_total?
</p>

                            
                          </td>
                          <td class="PosixTime">1342446402000000
                          </td>
                          <td class="ModifiedTime">1343225636000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1271.html">#1271</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1271.html">CORS support</a>
                          </td>
                          <td class="description">
                            <p>
CORS - <a class="ext-link" href="http://www.w3.org/TR/cors/"><span class="icon">​</span>http://www.w3.org/TR/cors/</a> - support.
</p>
<p>
This is what you do in Apache. Should do this in lib/base.py or similar.
</p>
<pre class="wiki">    Header always set Access-Control-Allow-Origin "*"
    Header always set Access-Control-Allow-Methods "POST, PUT, GET, OPTIONS"
    Header always set Access-Control-Allow-Headers "X-CKAN-API-KEY, Content-Type"

    # Respond to all OPTIONS requests with 200 OK
    # This could be done in the webapp
    # This is need for pre-flighted requests (POSTs/PUTs)
    RewriteEngine On
    RewriteCond %{REQUEST_METHOD} OPTIONS
    RewriteRule ^(.*)$ $1 [R=200,L]
</pre>
                            
                          </td>
                          <td class="PosixTime">1313241839000000
                          </td>
                          <td class="ModifiedTime">1313753663000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2292.html">#2292</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2292.html">Group edit form no longer allows for adding of multiple datasets at once</a>
                          </td>
                          <td class="description">
                            <p>
Can only add one dataset at a time now (not sure when this broke but was working ~2-3m ago).
</p>
<p>
Assigning to seanh for review and estimation. I'd rate this as quite annoying but not absolutely critical (hence assigned priority).
</p>

                            
                          </td>
                          <td class="PosixTime">1334431388000000
                          </td>
                          <td class="ModifiedTime">1335021876000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1568.html">#1568</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1568.html">Moderated Edits</a>
                          </td>
                          <td class="description">
                            <p>
Can this be released as a standard CKAN feature?
</p>

                            
                          </td>
                          <td class="PosixTime">1324293776000000
                          </td>
                          <td class="ModifiedTime">1325267998000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2769.html">#2769</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;3.html">demo phase 3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2769.html">add site wide related page</a>
                          </td>
                          <td class="description">
                            <p>
Can we add the related dashboard (<a class="ext-link" href="http://trac.ckan.org/ticket/2347"><span class="icon">​</span>http://trac.ckan.org/ticket/2347</a>) to demo - central place to show off all the related stuff added.
</p>

                            
                          </td>
                          <td class="PosixTime">1343323567000000
                          </td>
                          <td class="ModifiedTime">1343734083000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2658.html">#2658</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2658.html">On Demo change 'Groups' to 'Publishers' everywhere</a>
                          </td>
                          <td class="description">
                            <p>
Can we do this as a localisation?
</p>

                            
                          </td>
                          <td class="PosixTime">1342008495000000
                          </td>
                          <td class="ModifiedTime">1352205894000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1561.html">#1561</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1561.html">To do extension</a>
                          </td>
                          <td class="description">
                            <p>
Can we finish this ready for release on data hub and CKAN Hosted.
</p>

                            
                          </td>
                          <td class="PosixTime">1324291972000000
                          </td>
                          <td class="ModifiedTime">1324291972000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2739.html">#2739</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;3.html">demo phase 3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2739.html">Help text for format field</a>
                          </td>
                          <td class="description">
                            <p>
Can we please add some text next to the format field when user adding a new resource along the lines of:
</p>
<p>
"This will be generated automatically, but you can edit if you wish"
</p>
<p>
It always seems to work better when the user does not fill it themselves...
</p>

                            
                          </td>
                          <td class="PosixTime">1343123175000000
                          </td>
                          <td class="ModifiedTime">1343817919000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1448.html">#1448</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1448.html">Set up nice way to do celery deployment.</a>
                          </td>
                          <td class="description">
                            <p>
Celery is awkward to deply, need to find a way to do it more simply.  i.e using celery-pylons and supervisor.  A modified version of celery-pylons may be the best solution. 1d
</p>

                            
                          </td>
                          <td class="PosixTime">1320666977000000
                          </td>
                          <td class="ModifiedTime">1325774155000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2315.html">#2315</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2315.html">Change Cookie expiry</a>
                          </td>
                          <td class="description">
                            <p>
Change login cookie from a default expiry of 50 years to 2 years. You can also uncheck a 'remember me' checkbox on the login form for the cookie to just last the session.
</p>
<p>
Background conversation on ckan-dev:
</p>
<p>
DR: I wonder if anyone objects to the expiry of the login cookie to be
changed from 50 years to 2 years? 50 years might be appropriate for
thedatahub.org, but for government sites it seems (to me) to be too
lax.
</p>
<p>
Toby: is this the repoze.who cookie?  If so that seems sensible to me.
</p>
<p>
Rufus: Definitely agree. I would also like to see introduction of a standard
"remember me" checkbox (set to true by default). At the moment a login
lasts forever (until you logout) automatically.
</p>

                            
                          </td>
                          <td class="PosixTime">1334919449000000
                          </td>
                          <td class="ModifiedTime">1334919522000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1218.html">#1218</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">minspamboks@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1218.html">Colour the History tab icon</a>
                          </td>
                          <td class="description">
                            <p>
Change the color of the "History" tab icon to yellowish, like the rest of the icons in the other tabs ("View" and "Edit", "Authorization").
</p>
<h2 id="Reasoning">Reasoning</h2>
<p>
When you view a data package, for instance
<a class="ext-link" href="http://ckan.net/package/thesaurus-w"><span class="icon">​</span>http://ckan.net/package/thesaurus-w</a>, you will see "View", "Edit",
"History" tabs on the top. "History" tab has a black-and-white icon
which makes it look like an inactive/disabled tab (since the text is
also grayed out when the tab is not selected). This is not a major
issue, but it is a little bit confusing for the users. This icon
exists in v1.3.2 and also in v1.4.1a (that runs on ckan.net).
</p>
<p>
The simple solution would be to change the color of the "History" tab icon and give it the same yellowish color like the rest of the icons in the other tabs (e.g. "View" and "Edit").
</p>

                            
                          </td>
                          <td class="PosixTime">1310375768000000
                          </td>
                          <td class="ModifiedTime">1310389390000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1157.html">#1157</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/pdeu-1.html">pdeu-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1157.html">A simple theme for publicdata.eu, CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Change the visual style of CKAN to be more like these sites: 
</p>
<ul><li><a class="missing wiki">GitHub?</a>
</li><li>Quora 
</li><li>Google Projects
</li></ul><p>
This does not include major UX work. 
</p>

                            
                          </td>
                          <td class="PosixTime">1306337573000000
                          </td>
                          <td class="ModifiedTime">1309804029000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1745.html">#1745</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1745.html">Dataset search UX improvements as of Jan 2012</a>
                          </td>
                          <td class="description">
                            <p>
Changes to make search both more exploratory and more satisfying to use
</p>
<ul><li>Search query build - <a class="closed ticket" href="../ticket/1603.html" title="enhancement: Search query builder (closed: duplicate)">#1603</a>
<ul><li>Ability to add new facet fields "live"
</li><li>That is add fields which then contain faceted options (a bit like data.hri.fi)
</li></ul></li><li>(??) Autocomplete  / drop down on search (i.e. search while you type)
<ul><li>Dubious about value / cost ratio here
</li></ul></li></ul><p>
Probably would involve to pure JS and HTML implementation.
</p>
<h2 id="Implementation">Implementation</h2>
<p>
Probably require
</p>
<ul><li> API changes to expose solr style API directly <a class="closed ticket" href="../ticket/1737.html" title="enhancement: Expose solr-based search API (closed: fixed)">#1737</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328224941000000
                          </td>
                          <td class="ModifiedTime">1340033358000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1793.html">#1793</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1793.html">Publisher changes</a>
                          </td>
                          <td class="description">
                            <p>
Changes to publishers for customer
</p>

                            
                          </td>
                          <td class="PosixTime">1329214299000000
                          </td>
                          <td class="ModifiedTime">1329214522000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1794.html">#1794</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1794.html">Publisher changes</a>
                          </td>
                          <td class="description">
                            <p>
Changes to publishers for customer that would otherwise clutter up the master branch.
</p>

                            
                          </td>
                          <td class="PosixTime">1329214301000000
                          </td>
                          <td class="ModifiedTime">1332148972000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2346.html">#2346</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-15.html">ckan-sprint-2012-05-15</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2346.html">EC ODP Theme updates</a>
                          </td>
                          <td class="description">
                            <p>
Changes:
</p>
<ul><li>tidy up activity feed on home page or replace with search results (by modified date)
</li><li><del>move ckan menu to a left sidebar (see Sam's template)</del> (not doing this now)
</li><li>update templates with changes from master
</li><li>use local image in language dropdown (ecportal.js)
</li><li>update dataset read template
</li></ul><p>
To discuss:
</p>
<ul><li>should we rename 'organization' to 'publisher'? Requires updating all templates and the url mapping.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1335876838000000
                          </td>
                          <td class="ModifiedTime">1338205553000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1054.html">#1054</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1054.html">Ordering of resources</a>
                          </td>
                          <td class="description">
                            <p>
Changing an old resource and creating a new resource on the end results in the old resource moving to the end in the ordering.
</p>
<p>
This breaks tests:
</p>
<ul><li>(ckanext-dgu) ckanext/dgu/tests/ons/test_ons_loader.py:TestOnsLoadBasic.test_fields
</li><li>(ckanext-importlib) ckanext/importlib/tests/test_loader.py:TestLoaderInsertingResources.test_0_reload
</li></ul><p>
You can make a ckan test break with this patch:
</p>
<pre class="wiki">diff -r e6643cf1324c ckan/tests/models/test_resource.py
--- a/ckan/tests/models/test_resource.py        Wed Mar 23 13:25:52 2011 +0000
+++ b/ckan/tests/models/test_resource.py        Wed Mar 23 19:22:35 2011 +0000
@@ -297,6 +297,8 @@
                'url':self.urls[1], 'format':u'OTHER FORMAT',
                'description':self.description, 'hash':self.hash,
                'id':original_res_ids[2]},
+            { #new
+                'url':'new'},
            ]
        pkg.update_resources(res_dicts)
        model.repo.commit_and_remove()
</pre><p>
There seems to be a problem with vdm creating a replacement Resource for the old resource - because it has a duplicate position it is put to the end by the SQLAlchemy ordering_list function.
</p>

                            
                          </td>
                          <td class="PosixTime">1300969236000000
                          </td>
                          <td class="ModifiedTime">1301305615000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1150.html">#1150</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">timmcnamara
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1150.html">Non-ASCII chars prevent data preview</a>
                          </td>
                          <td class="description">
                            <p>
Characters outside of ASCII range are not supported within data previews.
</p>
<p>
Steps to reproduce:
</p>
<ol><li>Visit <a class="ext-link" href="http://ckan.net/package/kivele2010"><span class="icon">​</span>http://ckan.net/package/kivele2010</a>
</li><li>Click on [preview] for any of the resources
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1306019914000000
                          </td>
                          <td class="ModifiedTime">1311774141000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2476.html">#2476</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2476.html">Check that translating lists of strings is being tested in multilingual tests</a>
                          </td>
                          <td class="description">
                            <p>
Check that lists of strings are being correctly translated. See <a class="ext-link" href="https://github.com/okfn/ckan/commit/f1d68c3d2d4d25a0c0f8a89a68940643fc19b156"><span class="icon">​</span>https://github.com/okfn/ckan/commit/f1d68c3d2d4d25a0c0f8a89a68940643fc19b156</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338378078000000
                          </td>
                          <td class="ModifiedTime">1339151396000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2264.html">#2264</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-16.html">ckan-sprint-2012-04-16</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2264.html">Do an audit of string translations in CKAN core and ckanext-ecportal</a>
                          </td>
                          <td class="description">
                            <p>
Check to see that all the strings are getting translated, i.e. that all user-visible strings are being passed to gettext. Fix any strings that are not getting translated.
</p>

                            
                          </td>
                          <td class="PosixTime">1332864512000000
                          </td>
                          <td class="ModifiedTime">1339411578000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/201.html">#201</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/201.html">Stress test ckan</a>
                          </td>
                          <td class="description">
                            <p>
Check:
</p>
<ul><li>high numbers of simultaneous users
</li><li>incomplete transactions
</li><li>etc.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1259844836000000
                          </td>
                          <td class="ModifiedTime">1265284419000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1065.html">[super] Change Authorization System</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets
</p>
<ul><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li><li><a class="closed ticket" href="../ticket/1050.html" title="enhancement: Authz lib improvement and refactor of ckan/lib/authztool.py (closed: invalid)">#1050</a> Authz lib improvement and refactor of ckan/lib/authztool.py
</li><li><a class="closed ticket" href="../ticket/1004.html" title="defect: Group creation instructions missing (closed: fixed)">#1004</a> Group creation instructions missing
</li><li><a class="closed ticket" href="../ticket/1099.html" title="defect: strange interactions between two browsers while playing with authz groups (closed: wontfix)">#1099</a> Strange interactions between two browsers while playing with authz groups
</li><li><a class="closed ticket" href="../ticket/1115.html" title="defect: can have two authzgroups with the same name (closed: wontfix)">#1115</a> can have two authzgroups with the same name
</li><li><a class="closed ticket" href="../ticket/1133.html" title="defect: command line rights manipulation doesn't work (closed: worksforme)">#1133</a> command line rights manipulation doesn't work
</li><li><a class="closed ticket" href="../ticket/1138.html" title="enhancement: minor navigations behave inconsistently (closed: invalid)">#1138</a> minor navigations behave inconsistently
</li></ul><p>
Old ticket description:
</p>
<ol><li>Change name of <a class="missing wiki">AuthzGroup?</a> to <a class="missing wiki">UserGroup?</a> to reflect what it is for
</li></ol><ol start="2"><li>Get rid of Roles, and replace them with direct assignment of actions, even though there are many actions, and extensions can add arbitrary ones.
<ul><li>Debatable whether we should cut the number of actions to correspond to the three roles defined by the base system.
</li><li>Have a method of finding roles (or, in future, actions) relevant to a given protection object (e.g. FILE-UPLOAD(ER) not relevant to Packages)
</li></ul></li></ol><ol start="3"><li>Change <a class="missing wiki">UserGroups?</a> so that they can have a hierarchical structure, 
</li></ol><h2 id="MoreinfoonHierarchychange">More info on Hierarchy change</h2>
<p>
e.g. <a class="missing wiki">UserGroup?</a> NHS contains the User nhsysadmin, as well as the 
<a class="missing wiki">UserGroups?</a> SURREY and BERKS, which themselves contain users.
</p>
<p>
One user in SURREY is Simon the Sysadmin, who has permissions on the whole system. His permissions should not leak out to other users or groups, and user permissions generally should not.
</p>
<p>
Each Group has permissions over various objects.
</p>
<p>
A user has permissions in his own right, and also has the permissions of his own group, and of all the groups contained in his group, and so on recursively.
</p>
<p>
Algorithm:
</p>
<p>
possible(user, action, package):
</p>
<blockquote>
<p>
if user has permission for action on package
</p>
<blockquote>
<p>
or any of have that permission
</p>
<blockquote>
<p>
or any of his groups group-children (but not user-children), and so on recursively have the permission.
</p>
</blockquote>
</blockquote>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1301508331000000
                          </td>
                          <td class="ModifiedTime">1324550041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1142.html">#1142</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">annapowellsmith
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1142.html">[super] Major Overhaul and Extension of CKAN Documentation</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="assigned ticket" href="../ticket/1041.html" title="enhancement: Start Using the CKAN Wiki for Tutorial-style documentation (assigned)">#1041</a> Start Using the CKAN Wiki for Tutorial-style documentation
</li><li><a class="closed ticket" href="../ticket/1192.html" title="task: Convert CKAN Sphinx docs into admin/reference manual (closed: fixed)">#1192</a> Convert CKAN Sphinx docs into admin/reference manual
</li></ul><p>
Previous super ticket (from 3m ago): <a class="ext-link" href="http://trac.ckan.org/ticket/927"><span class="icon">​</span>http://trac.ckan.org/ticket/927</a>
</p>
<ul><li>CKAN 1-page overview (for enterprise and for data hackers)
</li><li>Administrator's Guide (including install)
</li><li>Extensions Guide
</li><li>Separate CKAN.net info from Software Documentation (?)
</li></ul><p>
Also now a wiki page with more detail: <a class="ext-link" href="http://wiki.ckan.net/Documentation_Plans"><span class="icon">​</span>http://wiki.ckan.net/Documentation_Plans</a>
</p>
<h2 id="MinorItems">Minor Items</h2>

                            
                          </td>
                          <td class="PosixTime">1305727452000000
                          </td>
                          <td class="ModifiedTime">1313775665000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1231.html">#1231</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1231.html">[super] Management Information Reporting</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="new ticket" href="../ticket/1101.html" title="enhancement: Integrate googlanalytics into site nav (new)">#1101</a> Integrate stats and googlanalytics into site nav
</li></ul><p>
We have a spreadsheet from UKLP of statistics we'd like to generate
</p>

                            
                          </td>
                          <td class="PosixTime">1311173919000000
                          </td>
                          <td class="ModifiedTime">1325474447000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/954.html">#954</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/954.html">[super] API version 3</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1107.html" title="refactor: Move package autocomplete from package controller and move to API (closed: fixed)">#1107</a> Move package autocomplete from package controller and move to API
</li><li><a class="closed ticket" href="../ticket/1087.html" title="enhancement: version and contact info api call (closed: fixed)">#1087</a> version and contact info api call
</li></ul><p>
Move to a format that has a separate responseHeader and response.
</p>
<h3 id="Astandardpackageresponse">A standard package response</h3>
<pre class="wiki">{
  responseHeader: {
    status: 0,
  }    
  response: {package-dict}
}
</pre><p>
On error:
</p>
<pre class="wiki">{
  responseHeader: {
    status: {err-code},
    error: 'message'
  }    
  response: none
}
</pre><h3 id="Asearchquery">A search query</h3>
<p>
Based directly on solr.
</p>
<pre class="wiki">{
  responseHeader: {
    status: 0,
  }    
  response: {
    numFound: 5,
    start: 0
    docs: [
    ]
  }
}
</pre><h2 id="Issues">Issues</h2>
<p>
This is a breaking change for clients
</p>
<h2 id="References">References</h2>
<ul><li><a class="ext-link" href="http://wiki.apache.org/solr/SolJSON"><span class="icon">​</span>http://wiki.apache.org/solr/SolJSON</a>
</li><li><a class="ext-link" href="http://www.flickr.com/services/api/response.json.html"><span class="icon">​</span>http://www.flickr.com/services/api/response.json.html</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296811899000000
                          </td>
                          <td class="ModifiedTime">1320142744000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1232.html">#1232</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1232.html">[super] Interface improvements</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1194.html" title="defect: &#34;Welcome back&#34; message for newly registered user (closed: fixed)">#1194</a> "Welcome back" message for newly registered user
</li><li><a class="closed ticket" href="../ticket/1202.html" title="enhancement: Links to datapkg utility don't lead to info about it (closed: invalid)">#1202</a> Links to datapkg utility don't lead to info about it
</li><li><a class="closed ticket" href="../ticket/925.html" title="defect: Change the search box icon to remove the down arrow (closed: fixed)">#925</a> Change the search box icon to remove the down arrow
</li><li><a class="closed ticket" href="../ticket/923.html" title="defect: Search box doesn't work in leaderboard page (closed: worksforme)">#923</a> Search box doesn't work in leaderboard page in stats extension
</li><li><a class="closed ticket" href="../ticket/1034.html" title="defect: Flash message cached (closed: duplicate)">#1034</a> Flash message cached
</li><li><a class="new ticket" href="../ticket/737.html" title="enhancement: Markdown syntax summary page (new)">#737</a> Markdown syntax summary page
</li><li><a class="new ticket" href="../ticket/811.html" title="defect: Extra field editing form layout breaks when there are long field names (new)">#811</a> Extra field editing form layout breaks when there are long field names
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1311178296000000
                          </td>
                          <td class="ModifiedTime">1315948536000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1235.html">#1235</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1235.html">[super] Search Improvements</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/234.html" title="enhancement: UI Review - Autocomplete package names &amp; tags in search (closed: wontfix)">#234</a> UI Review - Autocomplete package names &amp; tags in search
</li><li><a class="closed ticket" href="../ticket/193.html" title="enhancement: Searching by time-related field (closed: wontfix)">#193</a>        Searching by time-related field
</li><li><a class="closed ticket" href="../ticket/191.html" title="enhancement: Searching by modification date (closed: fixed)">#191</a>        Searching by modification date
</li><li><a class="closed ticket" href="../ticket/905.html" title="defect: Unable to search with accented characters in package names (closed: worksforme)">#905</a> Unable to search with accented characters in package names
</li><li><a class="closed ticket" href="../ticket/906.html" title="enhancement: Ability to search without accents for accented words (closed: fixed)">#906</a> Ability to search without accents for accented words
</li><li><a class="new ticket" href="../ticket/924.html" title="enhancement: Search box has no search button (new)">#924</a> Search box has no search button
</li></ul><p>
Broadly speaking though we need to choose PostgreSQL, Solr or something else. We don't want to invest our time maintaining two search backends with a limited abstraction layer between the two.
</p>

                            
                          </td>
                          <td class="PosixTime">1311182641000000
                          </td>
                          <td class="ModifiedTime">1311182641000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2943.html">#2943</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2943.html">Chrome does not resize preview</a>
                          </td>
                          <td class="description">
                            <p>
Chrome does not resize iframe after a full refresh/ on first load
</p>

                            
                          </td>
                          <td class="PosixTime">1349089686000000
                          </td>
                          <td class="ModifiedTime">1349090759000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1517.html">#1517</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">zephod
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1517.html">Accessing resource view sometimes auto-downloads the resource</a>
                          </td>
                          <td class="description">
                            <p>
Clicking any of the links to a resource page in the dataset viewer seems to load the page and immediately start downloading the resource file. 
</p>
<p>
For example, being here: <a class="ext-link" href="http://test.ckan.net/dataset/europeana-lod"><span class="icon">​</span>http://test.ckan.net/dataset/europeana-lod</a>
and clicking on any of the links to the first resource.
</p>

                            
                          </td>
                          <td class="PosixTime">1323109647000000
                          </td>
                          <td class="ModifiedTime">1323175957000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2689.html">#2689</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;2.html">demo phase 2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2689.html">clicking on 'save &amp; add another' doesn't act as expected</a>
                          </td>
                          <td class="description">
                            <p>
Clicking on 'save &amp; add another' button here <a class="ext-link" href="http://s031.okserver.org:2375/dataset/new_resource/yo"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/new_resource/yo</a> takes you to step 3 instead of leaving you on step 2 when you haven't added any data.
</p>
<p>
Instead it should show an alert/ message that no data has been added &amp; that you need to link to a file or upload something
</p>
<p>
Also, can upload be option 2 instead of 3?
</p>

                            
                          </td>
                          <td class="PosixTime">1342538126000000
                          </td>
                          <td class="ModifiedTime">1342617293000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2677.html">#2677</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;2.html">demo phase 2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2677.html">related item links should open in new tab</a>
                          </td>
                          <td class="description">
                            <p>
Clicking on the blue buttons or images on related page <a class="ext-link" href="http://s031.okserver.org:2375/dataset/gold-prices/related"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/gold-prices/related</a> should take you to a new tab instead of navigating you away
</p>

                            
                          </td>
                          <td class="PosixTime">1342435923000000
                          </td>
                          <td class="ModifiedTime">1342461576000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/354.html">#354</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/354.html">Collect together requirements and top-level design for user/package 'groups'</a>
                          </td>
                          <td class="description">
                            <p>
Collect together requirements and top-level design for user/package 'groups': existing tickets, Rufus spec, Sean spec, meeting notes (dread) email, based on existing user authz stuff.
</p>
<p>
<a class="ext-link" href="http://knowledgeforge.net/ckan/trac/wiki/AccessControl"><span class="icon">​</span>http://knowledgeforge.net/ckan/trac/wiki/AccessControl</a>
</p>
<p>
Do we add these into user-role table somehow or new table? To present this to team
</p>

                            
                          </td>
                          <td class="PosixTime">1277131335000000
                          </td>
                          <td class="ModifiedTime">1282908983000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/480.html">#480</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/480.html">Catalogue service shall conform to specification</a>
                          </td>
                          <td class="description">
                            <p>
Common requirements for running CKAN behind a (e.g Wordpress or Drupal) front-end:
</p>
<ol><li>Unrestricted total read-only access to catalogue API for general public (e.g. voluntary organisation).
<ul><li>monitored by API key
</li><li>not monitored by API key
</li></ul></li><li>Restricted total read-write access to catalogue API for authorized clients (e.g. front-end system, bulk upload clients).
<ul><li>restricted by CKAN access controller
</li><li>restricted by HTTP Auth
</li><li>restricted by IP address
</li></ul></li><li>Restricted total read-write access to catalogue Web UI for authorized users (e.g. site admins).
<ul><li>restricted by CKAN access controller
</li><li>restricted by HTTP Auth
</li></ul></li><li>Restricted partial read-write access to catalogue Web UI for authorized users (e.g. group admins).
<ul><li>restricted by CKAN access controller
</li><li>restricted by HTTP Auth
</li></ul></li></ol><p>
<a style="padding:0; border:none" href="../attachment/ticket/480/fig128130.png.html"><img src="../raw-attachment/ticket/480/fig128130.png" alt="CKAN as a catalogue service" title="CKAN as a catalogue service" /></a>
</p>

                            
                          </td>
                          <td class="PosixTime">1282422612000000
                          </td>
                          <td class="ModifiedTime">1300281551000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1206.html">#1206</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1206.html">"Content-Type json" header scuppers package POST</a>
                          </td>
                          <td class="description">
                            <p>
Compare these two requests to create a package:
</p>
<pre class="wiki">curl http://test.ckan.net/api/rest/package -d '{name:"test"}' -H 'Content-Type: application/json' -H 'X-CKAN-API-KEY: tester'
curl http://test.ckan.net/api/rest/package -d '{name:"test"}' -H 'X-CKAN-API-KEY: tester'
</pre><p>
The second one gets the payload through (ckan log):
</p>
<pre class="wiki">Retrieving request params: UnicodeMultiDict([('{name:"test"}', u'')])
</pre><p>
But the first one causes a <a class="missing wiki">ServerError?</a> because the payload (name:&#34;test&#34;) doesn't make it to request.POST or request.params:
</p>
<pre class="wiki">Retrieving request params: UnicodeMultiDict([])
</pre><p>
The only difference is the "<a class="missing wiki">ContentType?</a>: application/json" header, which seems a reasonable thing to include. Javascript lib backbone.js (for example) inserts this automatically.
</p>
<p>
So why does this header cause the payload to not get through to the request object?
</p>

                            
                          </td>
                          <td class="PosixTime">1309344348000000
                          </td>
                          <td class="ModifiedTime">1309450216000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1254.html">#1254</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1254.html">Feature sheet</a>
                          </td>
                          <td class="description">
                            <p>
Compose a feature list for CKAN. Use the existing Feature Matrix. Basic explanation of terms. For use by customers.
</p>

                            
                          </td>
                          <td class="PosixTime">1312211925000000
                          </td>
                          <td class="ModifiedTime">1313401629000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/974.html">#974</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/974.html">Document site_description</a>
                          </td>
                          <td class="description">
                            <p>
Configuration option 'ckan.site_description' isn't documented
</p>

                            
                          </td>
                          <td class="PosixTime">1297342254000000
                          </td>
                          <td class="ModifiedTime">1297342599000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/534.html">#534</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/534.html">buildbot config - database machine moved</a>
                          </td>
                          <td class="description">
                            <p>
Configure buildbot to use postgres db which has been moved to eu5.okfn.org
</p>
<p>
pudo said: Could you perhaps also comment on <a class="ext-link" href="http://knowledgeforge.net/okfn/tasks/ticket/466"><span class="icon">​</span>http://knowledgeforge.net/okfn/tasks/ticket/466</a> with a hint on how to update this properly? I only edited /home/buildslave/okfn/full/build/buildandsmoke/buildandsmoke.ini which was the only occurence of the DB credentials I could find there.
</p>

                            
                          </td>
                          <td class="PosixTime">1283165568000000
                          </td>
                          <td class="ModifiedTime">1288002762000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1530.html">#1530</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">lucychambers
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1530.html">URL field help text in wrong place</a>
                          </td>
                          <td class="description">
                            <p>
Confusion between entering values in the title and name/url fields in datacatalogs.org.
</p>
<p>
The help text "Url must be purely lowercase alphanumeric (ascii) characters and these symbols: -_" applies to the name/url field, yet in Lucy's browser the text that is actually hovering over the title field in my browser.
</p>

                            
                          </td>
                          <td class="PosixTime">1323261984000000
                          </td>
                          <td class="ModifiedTime">1338202731000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1282.html">#1282</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1282.html">JS and WUI tidy up</a>
                          </td>
                          <td class="description">
                            <p>
Consolidate js. Remove cruft.
</p>
<ul><li>Move stuff to vendor
<ul><li>Have all vendor libs local (?)                                             
</li><li>jquery, jquery-ui etc
</li></ul></li><li>Consolidate autocomplete to use jquery-ui
<ul><li>package autocomplete (groups)
</li><li>tag autocomplete (package)
</li><li>user autocomplete (authz group create)
<ul><li>turns out that authz group edit had autocomplete disabled so refactoring meant enabling ...
</li></ul></li></ul></li><li>Move forms.css into main  
</li><li>Remove tag cloud from front page (can be example going forward)
</li><li>Remove bookmarklet (since in wiki at: <a class="ext-link" href="http://wiki.ckan.net/Managing_Data_Packages#How_Do_I_Install_the_CKAN_Bookmarklet.3F"><span class="icon">​</span>http://wiki.ckan.net/Managing_Data_Packages#How_Do_I_Install_the_CKAN_Bookmarklet.3F</a>)
</li><li>Move name slug generation into standard js and clean up
</li></ul><p>
Possible:
</p>
<ol><li>JS unit tests for the given pages ...
</li><li>Option to use external site to serve js and css (e.g. CDN)
</li></ol><p>
                                                       
</p>

                            
                          </td>
                          <td class="PosixTime">1314090389000000
                          </td>
                          <td class="ModifiedTime">1314404540000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/875.html">#875</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/875.html">Search backend supports solr interface and query API mimics solr</a>
                          </td>
                          <td class="description">
                            <p>
Consolidate search API interface (and backend) on solr (solrpy) type interface.
</p>
<ul><li>Support for standard query structure
</li><li>Support for facet options
</li></ul><p>
Do <strong>not</strong> need to change response formats. (Or do we?)
</p>
<p>
2 options here for advanced features like facets in non-solr:
</p>
<ol><li>Disable (happens automatically)
</li><li>Implement - suggest using group by etc
</li></ol><h2 id="Extras">Extras</h2>
<ul><li>Front-page tag cloud: change this to use facets
<ul><li>Accept this means that if facets not functional in backend we have no tag cloud
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1292844957000000
                          </td>
                          <td class="ModifiedTime">1297085261000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1272.html">#1272</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-10.html">ckan-sprint-2011-10-10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1272.html">Store spatial extents provided in the package form</a>
                          </td>
                          <td class="description">
                            <p>
Consolidate the extra <tt>spatial</tt> as the field for providing information about the geographic extent of the package. This will integrate automatically with the spatial search and give developers a single point to develop geospatial features.
</p>

                            
                          </td>
                          <td class="PosixTime">1313411787000000
                          </td>
                          <td class="ModifiedTime">1317381996000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/850.html">#850</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">memespring
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/850.html">Show welcome message on first visit to package page</a>
                          </td>
                          <td class="description">
                            <p>
Control using cookies.
</p>

                            
                          </td>
                          <td class="PosixTime">1291721923000000
                          </td>
                          <td class="ModifiedTime">1291721964000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/129.html">#129</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/129.html">Secure db access by channelling query generation through authz module</a>
                          </td>
                          <td class="description">
                            <p>
Controllers and templates should not access db objects directly - they should do all access via authz module giving username. They are handed by a query that has already been filtered by the packages they are authorized to read. 
</p>
<p>
(Additional idea to be discussed: When they request a package object, they are handed an copy of the db object - disconnected from the database - so it the db object can't be changed.)
</p>
<p>
A couple of tests can be reenabled when this is done:
ckan.tests.functional.test_authz.<a class="missing wiki">TestUsage?</a>.test_admin_list_deleted ckan.tests.functional.test_authz.<a class="missing wiki">TestUsage?</a>.test_search_deleted
</p>

                            
                          </td>
                          <td class="PosixTime">1253886136000000
                          </td>
                          <td class="ModifiedTime">1267719162000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/131.html">#131</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/131.html">Groups REST interface</a>
                          </td>
                          <td class="description">
                            <p>
Controlling Groups through a REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1254307959000000
                          </td>
                          <td class="ModifiedTime">1254308115000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/832.html">#832</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/832.html">Convert stats to a plugin</a>
                          </td>
                          <td class="description">
                            <p>
Convert stats section to a ckan plugin.
</p>
<p>
Stats need not be in core and making it a plugin would make it easier to extend and expand.
</p>

                            
                          </td>
                          <td class="PosixTime">1290765915000000
                          </td>
                          <td class="ModifiedTime">1296334980000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1274.html">#1274</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1274.html">Testing solr search</a>
                          </td>
                          <td class="description">
                            <p>
Copy ckan core postgres package search tests to the ckanext-solr extension and update them so that they use the solr search backend.
</p>

                            
                          </td>
                          <td class="PosixTime">1313413202000000
                          </td>
                          <td class="ModifiedTime">1313429049000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2414.html">#2414</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2414.html">Remove LXML as a dependency on core CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Core CKAN currently has a dependency on LXML and it would be nice if we could remove it (although this *may* be indirectly through genshi).
</p>

                            
                          </td>
                          <td class="PosixTime">1337761192000000
                          </td>
                          <td class="ModifiedTime">1338471374000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1300.html">#1300</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1300.html">Core changes to base theme</a>
                          </td>
                          <td class="description">
                            <p>
Core changes to theme in order to make it easier to re-theme:
</p>
<ul><li>page_heading
</li><li>side bar menu must be switchable (left to right) (through config or css)
</li><li>Add optional_footer to complement optional_head
<ul><li>And adopt rule for template writers that all extra js must go in optional footer
</li><li>That way we could move optional js to the bottom of the page to improve page load times.
</li></ul></li><li>Re-add support for body-class ... (seems to be removed by <a class="closed ticket" href="../ticket/1108.html" title="enhancement: Create a more modern theme for CKAN (closed: fixed)">#1108</a>)
</li><li>more divs.
</li><li>better labelling for css (and javascript)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1314862223000000
                          </td>
                          <td class="ModifiedTime">1319794520000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/191.html">#191</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/191.html">Searching by modification date</a>
                          </td>
                          <td class="description">
                            <p>
Cost - 2 days
</p>
<p>
Search interface has new options to filter and sort the results by the date the package has been last modified in ckan. Search options are included in both Web UI and Search API.
</p>
<p>
The filter specifies a range of dates. The results can be sorted by ascending or descending dates. The last modification date is surfaced in the package. 
</p>
<p>
Example search parameters:
</p>
<table class="wiki">
<tr><td> modification-range=5/4/09- </td><td> Exclude packages last modified earlier than 5/4/09 
</td></tr><tr><td> modification-range=5/4/09-5/12/09 </td><td> Exclude packages last modified outside of 5/4/09-5/12/09 
</td></tr><tr><td> order_by=mod </td><td style="text-align: left">Sort by metadata modification. Defaults to newest first. 
</td></tr><tr><td> order_by=mod-newest </td><td> Sort by metadata modification, newest first. 
</td></tr><tr><td> order_by=mod-oldest </td><td> Sort by metadata modification, oldest first. 
</td></tr></table>

                            
                          </td>
                          <td class="PosixTime">1258387778000000
                          </td>
                          <td class="ModifiedTime">1330020983000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/193.html">#193</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/193.html">Searching by time-related field</a>
                          </td>
                          <td class="description">
                            <p>
Cost - 2 days
</p>
<p>
Search interface has new options to filter and sort the results by the time-related field of the package. Search options are included in both Web UI and Search API.
</p>
<p>
The filter specifies a range of dates. The results can be sorted by ascending or descending dates. The last modification date is surfaced in the package. Need to decide for a time-related field value that is date range, what date is used for the search.
</p>
<p>
Example search parameters:
</p>
<table class="wiki">
<tr><td> reldate-range=5/4/09- </td><td> Exclude packages related to earlier than 5/4/09 
</td></tr><tr><td> reldate-range=5/4/09-5/12/09 </td><td> Exclude packages related to date outside of 5/4/09-5/12/09 
</td></tr><tr><td> order_by=reldate </td><td> Sort by date package is related to. Defaults to newest first. 
</td></tr><tr><td> order_by=reldate-newest </td><td> Sort by date package is related to, newest first. 
</td></tr><tr><td> order_by=reldate-oldest </td><td> Sort by date package is related to, oldest first. 
</td></tr></table>
<p>
Related to <a class="closed ticket" href="../ticket/192.html" title="enhancement: Time-related package field (closed: fixed)">ticket:192</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1258388169000000
                          </td>
                          <td class="ModifiedTime">1340626463000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/192.html">#192</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/192.html">Time-related package field</a>
                          </td>
                          <td class="description">
                            <p>
Cost - 2 days
</p>
<p>
The time period to which a package's data applies is stored in a new field called 'Relevant Date Range'. The value of this field is up to two calendar dates: i.e. either a point in time (e.g. date of a river map is 5/10/09) or a time period (e.g. pollution measurements 1/1/09-1/4/09).
</p>
<p>
Example part of package:
</p>
<p>
<strong>Date:</strong>        5/10/09
<br /> or <br />
<strong>Date:</strong>        1/1/09 – 1/4/09
</p>

                            
                          </td>
                          <td class="PosixTime">1258388163000000
                          </td>
                          <td class="ModifiedTime">1291733895000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/190.html">#190</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/190.html">Package comments</a>
                          </td>
                          <td class="description">
                            <p>
Cost 7 days
</p>
<p>
When viewing a package, users can read user comments and leave their own. Users need to be logged in to leave a message. Comments appear immediately. A mechanism for deleting unwanted comments is provided to an authorized user. Comments are sorted with the most recent first. Comments are available for read, creation and deletion in both the Web UI and over the REST API. 
</p>
<p>
The admin for the package and a superuser can delete unwanted comments, both on the package page and a collation of all comments on their user page. Users can delete their own comments(?) Need to consider whether over the REST API we encourage the use of a 'frontend user' APIKEY which can be used to leave comments for another, actual user.
</p>
<p>
Example at bottom of package page:
</p>
<p>
<strong>Leave a comment:</strong>
</p>
<table class="wiki">
<tr><td>Subject</td><td style="text-align: center">  <span class="underline"></span><span class="underline"></span>_  
</td></tr><tr><td>Comment</td><td style="text-align: center">  <span class="underline"></span><span class="underline"></span>_  
</td></tr></table>
<p>
<br />
</p>
<table class="wiki">
<tr><td>Submit button
</td></tr></table>
<p>
<strong>Comments:</strong>
</p>
<table class="wiki">
<tr><td><strong>Explanation doc</strong>
</td></tr><tr><td><em>Posted on 25h May 2009 by http://bertdavies.myopenid.com</em>
</td></tr><tr><td>It says on the pollution data web page that not all the stations have a CO2 sensor, so you have to extrapolate from the ones that do. See my visualisation of CO2 across London for an idea of what you can do: bertdavies.com/pollution-2008.jpg
</td></tr></table>
<table class="wiki">
<tr><td><strong>More info</strong>
</td></tr><tr><td><em>Posted on 24th May 2009 by http://ronsmith.myopenid.com</em>
</td></tr><tr><td>Excellent data, but why is there no value in the CO2 column for some of the testing stations?
</td></tr></table>
<h1 id="Implementationdetails:">Implementation details:</h1>
<p>
Comments table is with columns:
</p>
<table class="wiki">
<tr><td style="text-align: left">id </td><td> package_id </td><td> date (date) </td><td style="text-align: right"> comment (multi-line text)
</td></tr></table>

                            
                          </td>
                          <td class="PosixTime">1258387105000000
                          </td>
                          <td class="ModifiedTime">1280820852000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/179.html">#179</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/179.html">Restore 404 and 500 messages in WUI</a>
                          </td>
                          <td class="description">
                            <p>
Cost: 0.5h (?)
</p>
<p>
Conjecture this went missing in cset:a35db862a841
</p>

                            
                          </td>
                          <td class="PosixTime">1257412668000000
                          </td>
                          <td class="ModifiedTime">1265305549000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/61.html">#61</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/61.html">When dumping data to json do not dump private information like API keys</a>
                          </td>
                          <td class="description">
                            <p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1239123529000000
                          </td>
                          <td class="ModifiedTime">1265890790000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/70.html">#70</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.9.html">v0.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/70.html">Convert from py.test to nosetests</a>
                          </td>
                          <td class="description">
                            <p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1246434753000000
                          </td>
                          <td class="ModifiedTime">1247827053000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/71.html">#71</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/71.html">Upgrade to Pylons 0.9.7</a>
                          </td>
                          <td class="description">
                            <p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1246435041000000
                          </td>
                          <td class="ModifiedTime">1250181211000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2962.html">#2962</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2962.html">Search across multiple ckan instances</a>
                          </td>
                          <td class="description">
                            <p>
Could be done by:
</p>
<ul><li>using the solr distributed search
<ul><li>difficult set up
</li></ul></li><li>merging result sets from apis
<ul><li>make sure that results can be merged properly (score, facets, ...)
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1349736622000000
                          </td>
                          <td class="ModifiedTime">1349736622000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/184.html">#184</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/184.html">Stats page</a>
                          </td>
                          <td class="description">
                            <p>
Create /stats/ page displaying main statistics, e.g:
</p>
<ul><li>Most highly rated packages
</li><li>Most edited packages
</li><li>Largest groups
</li><li>Top tags (by packages)
</li><li>Package addition rate
</li><li>Users with most packages
</li></ul><p>
Related to <a class="closed ticket" href="../ticket/181.html" title="enhancement: New 'stats' box on right hand sidebar (closed: invalid)">ticket:181</a> - Stats side-bar
</p>
<h2 id="Details">Details</h2>
<ul><li>Should create a stats module and then use some/all of these features on stats page (likely over time that stats features much more extensive than what we display)
</li><li>For graphs (e.g. additions over time) suggest use javascript graphing -- for examples of how this is done see
<ul><li><a class="ext-link" href="http://knowledgeforge.net/econ/hg/file/tip/econ/www/controllers/plot.py"><span class="icon">​</span>http://knowledgeforge.net/econ/hg/file/tip/econ/www/controllers/plot.py</a>
</li><li><a class="ext-link" href="http://knowledgeforge.net/econ/hg/file/tip/econ/www/templates/plot/chart_code.html"><span class="icon">​</span>http://knowledgeforge.net/econ/hg/file/tip/econ/www/templates/plot/chart_code.html</a>
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1257534756000000
                          </td>
                          <td class="ModifiedTime">1266837414000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2839.html">#2839</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2839.html">Specifying sort order breaks search results on group page</a>
                          </td>
                          <td class="description">
                            <p>
Create a group, create some datasets and add them to the group, then view the group's page with a sort-order specified in the URL, e.g. <tt>/group/foo?q=&amp;sort=title_string+asc</tt>, no datasets are displayed even though there are datasets in the group that match the search query. Remove the sort order from the URL and the datasets will appear.
</p>

                            
                          </td>
                          <td class="PosixTime">1344787799000000
                          </td>
                          <td class="ModifiedTime">1344854522000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1412.html">#1412</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1412.html">application.js crashes when viewing a dataset with no resources</a>
                          </td>
                          <td class="description">
                            <p>
Create a new dataset, don't add any resources to the dataset yet, view the dataset in ckan, if you have firebug enabled you'll see the error "resource is undefined" at line 699 of application.js.
</p>

                            
                          </td>
                          <td class="PosixTime">1319450625000000
                          </td>
                          <td class="ModifiedTime">1328226385000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/276.html">#276</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/276.html">Resources in Package form seen multiple times upon preview</a>
                          </td>
                          <td class="description">
                            <p>
Create a new package with a name 'blah' and resource format 'blah'. Hit preview. There is an error because of the lack of resource url, but in the resource input boxes, there are now four resources with format 'blah'.
</p>

                            
                          </td>
                          <td class="PosixTime">1269255399000000
                          </td>
                          <td class="ModifiedTime">1272996237000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/403.html">#403</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/403.html">Create web service for OFS storage</a>
                          </td>
                          <td class="description">
                            <p>
Create a thin web service that will allow users to upload files to OFS on S3 without knowing S3 credentials. This could also provide static urls for all stored resources.
</p>
<ul><li>relates to <a class="closed ticket" href="../ticket/307.html" title="defect: datapkg upload command (closed: fixed)">#307</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1281346110000000
                          </td>
                          <td class="ModifiedTime">1287392451000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/833.html">#833</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/833.html">[super] Administrative dashboard extension</a>
                          </td>
                          <td class="description">
                            <p>
Create an admin dashboard as /ckan-admin/ allowing for admin operations and overview.
</p>
<p>
Possible features:
</p>
<ul><li>Purge revisions (or sets of revisions) and purge objects <a class="closed ticket" href="../ticket/1076.html" title="enhancement: Improve revision and package purge system (closed: fixed)">#1076</a>
</li><li>Set roles for users <a class="closed ticket" href="../ticket/1075.html" title="enhancement: Administrative dashboard - Edit Authorization related to System object (closed: fixed)">#1075</a>
</li><li>Put system into particular modes e.g. wiki mode (anyone can add, edit packages by default), data portal (only sysadmins or members of a special Editor group can create and edit packages)
<ul><li>WONTFIX
</li></ul></li><li>Overview of activity
<ul><li>WONTFIX - already have revision log
</li></ul></li></ul><p>
Currently have an admin section using the formalchemy admin controller to provide basic editing of model objects. This can still be used but located at /admin/model/.
</p>
<p>
<a class="ext-link" href="https://bitbucket.org/okfn/ckanext-admin"><span class="icon">​</span>https://bitbucket.org/okfn/ckanext-admin</a>
</p>
<h3 id="Tickets">Tickets</h3>
<ul><li><a class="closed ticket" href="../ticket/1031.html" title="enhancement: User lookup API (closed: fixed)">ticket:1031</a> - user autocomplete api in ckan
</li></ul><h3 id="Notes">Notes</h3>
<p>
Here's putting into restricted mode (plus creating a dedicated authz group so that others can admin sysadmin simply through that group):
</p>
<pre class="wiki"># first remove permissions from roles
# this is hacky but have to do it because we hardcode assignment of 
# role permissions on package on package create (see model/authz.py)
paster roles deny editor edit
paster roles deny editor create-authorization-group
paster roles deny editor create-group
paster roles deny editor create-package
paster roles deny reader create-package
# make superuser group
# create authz group administrators / Administrators (if not exists)
paster rights make agroup:administrators admin system
</pre>
                            
                          </td>
                          <td class="PosixTime">1290765921000000
                          </td>
                          <td class="ModifiedTime">1303236364000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/180.html">#180</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">jwyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/180.html">Tag cloud as way to view CKAN tags</a>
                          </td>
                          <td class="description">
                            <p>
Create big tag cloud with all CKAN tags - perhaps weighting with size and colour...
</p>

                            
                          </td>
                          <td class="PosixTime">1257534254000000
                          </td>
                          <td class="ModifiedTime">1265284374000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/171.html">#171</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datapkg-0.7.html">datapkg-0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/171.html">Create consolidated config for CLI</a>
                          </td>
                          <td class="description">
                            <p>
Create consolidated set of config by merging config from .datapkgrc and command line options and use that instead of mixture of command line options and other stuff ... (likely to be less buggy!)
</p>

                            
                          </td>
                          <td class="PosixTime">1256488011000000
                          </td>
                          <td class="ModifiedTime">1297210925000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/114.html">#114</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/114.html">Access Control - model</a>
                          </td>
                          <td class="description">
                            <p>
Create in the model basic operation of Access Control.
</p>
<p>
roles table
</p>
<pre class="wiki">name | context | action
-----------------------
admin| package | edit
admin| package | edit-permissions
admin| package | read
editor| package | update
editor| package | read
reader| package | read
This data is set-up on db init and will have no interface.
</pre><p>
user-roles table:
</p>
<pre class="wiki">username | context_type | objectid | role
rgrp     | system  | n/a | admin
visitor  | package | * | reader
bob      | package | geonames | admin
visitor  | package | geonames | editor
visitor  | package | geonames | reader
john     | group | ukgov | admin
dread    | group | ukgov | editor
visitor  | group | ukgov | reader
This data will be added when someone is given permissions for the system, a package or a group.
</pre><p>
Pseudo code:
</p>
<p>
class Package
</p>
<blockquote>
<p>
def is_allowed(name, action):
</p>
<blockquote>
<p>
is_allowed(name, action, context=self)
</p>
</blockquote>
</blockquote>
<p>
class Group
</p>
<blockquote>
<p>
def is_allowed(name, action):
</p>
<blockquote>
<p>
is_allowed(name, action, context=self)
</p>
</blockquote>
</blockquote>
<p>
def is_allowed(name, action, context=None):
<strong> name: string - a username or IP for 'visitor'
</strong></p>
<blockquote>
<p>
action: string - 'read', 'edit', 'delete', 'edit-permissions'
context: object - a Group or a Package or None (which means system)
</strong></p>
</blockquote>
<p>
<strong>
</p>
<blockquote>
<p>
# look up user from name.
# look up in user-roles table what roles this user has for this context.
# for each roles, look up in roles table what actions are allowed.
# return True if action is allowed, else False.
</p>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1252494527000000
                          </td>
                          <td class="ModifiedTime">1253034529000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/741.html">#741</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ollyc
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/741.html">Extension / Plugin system for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Create plugin system using
&lt;<a class="ext-link" href="http://pypi.python.org/pypi/pyutilib.component.core/"><span class="icon">​</span>http://pypi.python.org/pypi/pyutilib.component.core/</a>&gt;
</p>
<p>
Specification in CEP-003 (<a class="source" href="http://localhost/browser/doc/cep/cep-003.txt">browser:doc/cep/cep-003.txt</a>) and &lt;<a class="ext-link" href="http://okfnpad.org/ckan-plugins"><span class="icon">​</span>http://okfnpad.org/ckan-plugins</a>&gt;
</p>

                            
                          </td>
                          <td class="PosixTime">1287996890000000
                          </td>
                          <td class="ModifiedTime">1291989194000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1537.html">#1537</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1537.html">Package create form wizard</a>
                          </td>
                          <td class="description">
                            <p>
Create the form wizard for the package-new form.
</p>
<p>
Each section of the form will be a separate page as this was decided to be simpler than the alternative of making AJAX calls for validation at each stage. (*)
</p>
<ul><li>separate pages for each section of the form
</li><li>validation carried out at each stage against the whole schema.  Each section/page declares a list of schema keys that need to validate for that section to validate, and thus move onto the next section.
</li><li>no draft saving to be performed in this ticket.
</li></ul><p>
(*) - although the javascript alternative will probably provide better UX (each step would require a page-load in the wizard approach), it was decided that:
</p>
<ul><li>with the javascript approach it would be harder to test the workflow.
</li><li>with the javascript approach there would be additional work displaying validation correctly.  Although not that complicated, it was felt to add another point of failure.
</li><li>the multi-page wizard is quicker and easier to implement, and if it provided poor UX, then the javascript approach would be used instead.
</li><li>the multi-page wizard wouldn't preclude a javascript-tabbing create-form for other cases (where the wizard workflow wasn't such a good match, eg on the hedatahub.org)
</li><li>the multi-page wizard wouldn't preclude a javascript-tabbing edit-form.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323358451000000
                          </td>
                          <td class="ModifiedTime">1337159772000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/878.html">#878</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-09-12.html">ckan-sprint-2011-09-12</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/878.html">Integrate file upload with workflow around package resources</a>
                          </td>
                          <td class="description">
                            <p>
Create/edit a package -&gt; add a resource -&gt; Oh, i haven't uploaded yet, 'upload here' -&gt; /upload -&gt; standard upload form
</p>
<p>
Do we need to create a resource out of the file after upload? Do we sync file metadata with local Resource metadata?
</p>
<p>
If yes suggests (need to ticket):
</p>
<ul><li>'<a class="missing wiki">ResourceExtras?</a>' for extra metadata on resources
</li><li>Makes 'Resource' into first class object (and make available in WUI)?
</li></ul><h2 id="Depends">Depends</h2>
<ul><li><a class="closed ticket" href="../ticket/877.html" title="enhancement: File upload in WUI (extension) (closed: fixed)">#877</a> (Upload in WUI) - should be part of that extension
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1292868269000000
                          </td>
                          <td class="ModifiedTime">1315820838000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1191.html">#1191</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-3.html">ckan-v1.5-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1191.html">Unicode in user password gives 500 error on user registration</a>
                          </td>
                          <td class="description">
                            <p>
Create/register a user with a unicode character in the password. It creates the user, but the redirect to the user page doesn't work and results in 500 error.
</p>

                            
                          </td>
                          <td class="PosixTime">1308312895000000
                          </td>
                          <td class="ModifiedTime">1308650930000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/311.html">#311</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/311.html">Reordering of package resources can lead to integri</a>
                          </td>
                          <td class="description">
                            <p>
Created a new package resource line and then moved it up above existing one and hit save. Result: 500 error. In logs have:
</p>
<pre class="wiki">[Sat May 08 21:55:41 2010] [error] [client 86.26.8.30] Error - &lt;class 'sqlalchemy.exceptions.IntegrityError'&gt;: (IntegrityError) duplicate key value violates unique constraint "package_resource_revision_pkey", referer: http://ckan.net/package/edit/cofog
[Sat May 08 21:55:41 2010] [error] [client 86.26.8.30]  'INSERT INTO package_resource_revision (id, package_id, url, format, description, hash, position, state, revision_id, continuity_id) VALUES (%(id)s, %(package_id)s, %(url)s, %(format)s, %(description)s, %(hash)s, %(position)s, %(state)s, %(revision_id)s, %(continuity_id)s)' {'hash': '', 'description': 'The Treasury record of COFOG functions. ', 'format': 'XLS', 'url': 'http://www.hm-treasury.gov.uk/d/cofog_definitions_coins250609.xls', 'package_id': '8482334d-fe2e-4285-9114-5243130f80c0', 'state': 'active', 'continuity_id': '8bf302db-8a80-47d3-b5dc-bc07512a3928', 'position': 3, 'revision_id': 'e4e2cb2d-4bd5-414e-b646-e484f174d9ab', 'id': '8bf302db-8a80-47d3-b5dc-bc07512a3928'}, referer: http://ckan.net/package/edit/cofog
</pre>
                            
                          </td>
                          <td class="PosixTime">1273348968000000
                          </td>
                          <td class="ModifiedTime">1274282065000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/734.html">#734</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/734.html">Investigate department issue (ONS import)</a>
                          </td>
                          <td class="description">
                            <p>
Creation of duplicate packages named with trailing underscore
</p>
<p>
ww 22/9/10:
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
Need to ...
merge some packages (the "find packages by attributes"
is not 100% reliable because of inconsistent data
already in there).
</p>
</blockquote>
</blockquote>
<p>
The "find by tags" algorithm uses (title, department).
Unfortunately some of the data already there has no
department. This causes it to make a new package (with
trailing underscore).
</p>
<p>
dread 24/9/10:
</p>
<p>
I've done a test for the missing department issue and I can't
reproduce the problem. This may be due to my general tidy up and
getting tests passing using the latest ckanclient. Anyway, can you
check over my test to see if this is what you mean?:
dgu/ckanext/dgu/tests/ons/test_ons_loader.py:TestOnsLoadMissingDept
</p>
<p>
ww 20/10/10:
</p>
<p>
you should uncover it if you run against (a copy of) the dgu database.
</p>

                            
                          </td>
                          <td class="PosixTime">1287747273000000
                          </td>
                          <td class="ModifiedTime">1292587603000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1460.html">#1460</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1460.html">Improve extensions documentation</a>
                          </td>
                          <td class="description">
                            <p>
Current extensions documentation needs some work: <a class="ext-link" href="http://docs.ckan.org/en/latest/plugins.html"><span class="icon">​</span>http://docs.ckan.org/en/latest/plugins.html</a>
</p>
<ul><li>Queue extension section may now be out of date (?)
</li><li>Think about how it integrates with <a class="ext-link" href="https://github.com/okfn/ckanext-example"><span class="icon">​</span>https://github.com/okfn/ckanext-example</a> (especially tutorial and example extension)
</li><li>Document all plugin points (auto-extract from CKAN source??)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321114523000000
                          </td>
                          <td class="ModifiedTime">1340191001000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/76.html">#76</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/76.html">Convert to use formalchemy for all forms</a>
                          </td>
                          <td class="description">
                            <p>
Current form stuff is not very good (uses formencode). Switch to formalchemy would improve this, especially on validation.
</p>
<p>
As an extra we could utilize the formalchemy pylons admin interface (pretty much for free).
</p>
<p>
Cost: 12h
</p>
<h2 id="Details">Details</h2>
<ol><li>Replace htmlfill and formencode extract in controllers/templates with formalchemy
<ol><li>Crude and simple
</li><li>Suppress unwanted fields (revision, state, all revisions) and sort out ordering to be similar to before.
</li><li>Sort out tag field with a special renderer
</li></ol></li><li>Validation - testing definitely required.
</li><li>Fix up description and pretty css etc
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1247829041000000
                          </td>
                          <td class="ModifiedTime">1251301765000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <span class="current">10</span>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=description&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=description&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=description&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>