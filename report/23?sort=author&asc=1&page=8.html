<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=author&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=author&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=author&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=author&amp;asc=1&amp;page=8.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(701 - 800 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <span class="current">8</span>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="23%3Fsort=ticket&amp;asc=1&amp;page=8.html">
              Ticket
            </a>
          </th><th>
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=8.html">
              Posixtime
            </a>
          </th><th class="asc">
            <a href="23%3Fsort=author&amp;asc=0&amp;page=8.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=8.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1322515684000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've redone these changes in cset:91258a6296db71d78a on master, aiming for 1.5.2.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323172489000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">There is a description of groups, but that is not the subject of this ticket. In fact if you're not logged in you do get taken to the login page (which is quite correct). I agree with your earlier comment that the text of the link needs changing. 

Sorry to be reopening this, but I think the previous comment misses the point. Doing this ticket would be a valuable quick fix. Putting on backlog.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323177994000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">My suggested fix:
{{{

diff --git a/ckan/templates/group/index.html b/ckan/templates/group/index.html
index 8502df9..064e066 100644
--- a/ckan/templates/group/index.html
+++ b/ckan/templates/group/index.html
@@ -9,7 +9,15 @@
   &lt;py:match path="primarysidebar"&gt;
     &lt;li class="widget-container boxed widget_text"&gt;
       &lt;h3&gt;What Are Groups?&lt;/h3&gt;
-      &lt;span i18n:msg=""&gt;Whilst tags are great at collecting datasets together, 
+      &lt;p&gt;&lt;span i18n:msg=""&gt;Whilst tags are great at collecting datasets togethe
+      &lt;p&gt;
+      &lt;span i18n:msg="" class="ckan-logged-in" style="display: none;"&gt;
+         &lt;a href="${h.url_for(controller='group',action='new', id=None)}"&gt;Creat
+      &lt;/span&gt;
+      &lt;span i18n:msg="" class="ckan-logged-out"&gt;
+         To create a new group, please first &lt;a href="${h.url_for(controller='u
+      &lt;/span&gt;
+      &lt;/p&gt;
     &lt;/li&gt;
   &lt;/py:match&gt;
 
diff --git a/ckan/templates/group/layout.html b/ckan/templates/group/layout.html
index 64153aa..a3f732b 100644
--- a/ckan/templates/group/layout.html
+++ b/ckan/templates/group/layout.html
@@ -25,9 +25,12 @@
       &lt;li py:attrs="{'class':'current-tab'} if c.action=='index' else {}"&gt;
         ${h.subnav_link(c, h.icon('group') + _('List Groups'), controller='grou
       &lt;/li&gt;
-      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}"&gt;
+      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="
         ${h.subnav_link(c, h.icon('group_add') + _('Add a Group'), controller='
       &lt;/li&gt;
+      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="
+        ${h.subnav_link(c, h.icon('group_add') + _('Log-in to add a Group'), co
+      &lt;/li&gt;
     &lt;/ul&gt;
   &lt;/py:match&gt;
}}}
BUT this fix doesn't completely work. When you log-in and create a group, at this point the nav bar changes from the (correct) "Add a group" to (incorrect) "Log-in to add a group".
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323187352000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Here is the unclipped version:
{{{
      &lt;p&gt;
      &lt;span i18n:msg="" class="ckan-logged-in" style="display: none;"&gt;
	  &lt;a href="${h.url_for(controller='group',action='new', id=None)}"&gt;Create a new group&lt;/a&gt;
      &lt;/span&gt;
      &lt;span i18n:msg="" class="ckan-logged-out"&gt;
	  To create a new group, please first &lt;a href="${h.url_for(controller='user',action='login', id=None)}"&gt;log-in&lt;/a&gt;.
      &lt;/span&gt;
      &lt;/p&gt;
}}}
{{{
      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="ckan-logged-in" style="display: none;"&gt;
        ${h.subnav_link(c, h.icon('group_add') + _('Add a Group'), controller='group', action='new')}
      &lt;/li&gt;
      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="ckan-logged-out"&gt;
        ${h.subnav_link(c, h.icon('group_add') + _('Log-in to add a Group'), controller='group', action='new')}
      &lt;/li&gt;
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323195485000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Great stuff zeph! Diff looks really good and cheers for the explanation. 

On master, cset:a89a48731ba548170045a60ac2930e0019c299c7 and I've cherry picked this for release 1.5.1. too.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1005.html">#1005</a>
                          </td>
                          <td class="PosixTime">1300100085000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Moved to dgu trac ticket 869
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1298631145000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This command is slightly different to your branch policy as of two weeks ago:
{{{
stable: stable code
metastable: (will soon be deprecated) for code preparing to be stable
default: development HEAD
}}}
which I prefer. 

My ideal would be to get rid of the confusing name 'metastable' and unneeded 'stable' and start a new branch called 'released', which will act the same as 'master' in this diagram but with a more intuitive name:
http://nvie.com/posts/a-successful-git-branching-model

Then for each ckan instance we can either use the most recent release (from 'released') or choose a specific one (e.g. 'ckan-1.3' or even 'default' or 'enh-865' for getting latest features). This gives a good degree of flexibility, is more understandable to newbies and probably a more widely understood branching model.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300098217000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Reassigning to rgrp for response
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1300368449000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">As I understand it, the whole point to vdm is to make it easy to get old versions of not only the package, but its related objects (like tags, extras). David take a look at this function: Package.get_as_of(revision)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1301943096000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Changing this to 'Fixed' and #103 to 'Wont fix' to ensure this feature is noted.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1018.html">#1018</a>
                          </td>
                          <td class="PosixTime">1299073340000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:e4167f8b3f80 on default
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299598708000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in enh-1025-config-default-authz and goes into release 1.3.2.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299751045000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Thanks for pointing this out. Although changing the definition of 'editor' to not allow edit (as you admit) is a bit hacky, and I think prone to confusion. James and I weren't aware there was a precedent for doing it this way, but if we had, we may well have followed it.

I mentioned the branch for this cset, in preference to the csets.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1026.html">#1026</a>
                          </td>
                          <td class="PosixTime">1299605128000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:2dde3bd563fd for branch 1.3.2
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1028.html">#1028</a>
                          </td>
                          <td class="PosixTime">1299760360000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset 4d860a53fbad on 1.3.2 and merged to default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1033.html">#1033</a>
                          </td>
                          <td class="PosixTime">1308310446000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in 5c7caca30737 for v1.4.1
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1034.html">#1034</a>
                          </td>
                          <td class="PosixTime">1320174353000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Same problem as #1321 I believe
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1038.html">#1038</a>
                          </td>
                          <td class="PosixTime">1300212841000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:0373737f0866 for release 1.3.2
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1039.html">#1039</a>
                          </td>
                          <td class="PosixTime">1300212856000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:97d563bbf01d for release 1.3.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="PosixTime">1300213922000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed by James in 904f1f36a672 for 1.3.2
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="PosixTime">1328805778000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">The problem arises when you do two things together:

1. Have code like this in a CKAN extension's plugin.py:
{{{
        config['extra_public_paths'] = ','.join([our_public_dir,
                config.get('extra_public_paths', '')])
}}}
which will have a trailing blank value (unless you set extra_public_paths in the config file) 
{{{
extra_public_paths=['/some/path/', '']
}}}

2. Run CKAN with this code:
{{{
        extra_public_paths = config.get('extra_public_paths')
        if extra_public_paths:
            static_parsers = [StaticURLParser(public_path) \
                              for public_path in \
                              extra_public_paths.split(',')] + static_parsers
}}}
Introduced in #340 https://github.com/okfn/ckan/commit/0593c3e5050882a9dbf54fb6c263f4a2f1de2097#ckan/config/middleware.py in CKAN 1.0.2
This was made safer in https://github.com/okfn/ckan/commit/e0d5f02168116a18a7aeb7b058e4160bbd402a02#ckan/config/middleware.py for CKAN 1.3.2 (it ignores blank paths)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="PosixTime">1328806824000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Here are all the CKAN instances potentially involved in this issue:

== ckan.net / DGU ==
These suffered this problem briefly and were fixed 15/3/11

== opengov_es  http://opengov.es/ 1.2 ==
This does not have a theme extension. Is not serving files from root.

== nosdonnees_fr  http://www.nosdonnees.fr/ 1.3.1a ==
This does have a theme extension but does not seem to have a trailing blank public path since it is not serving files from root.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1042.html">#1042</a>
                          </td>
                          <td class="PosixTime">1300969265000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in ckanext cset:7610512277bd and ckanext-importlib cset:7737716e0d7b.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1042.html">#1042</a>
                          </td>
                          <td class="PosixTime">1300969865000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Remaining parts of ckanext are:
 * blackbox (rgrp, pudo, dread)
 * hammer (ww)
 * link_checker (ww)
 * solr configuration (pudo) &amp; indexer (pudo)
 * amqp listener command (ww)
 * geo form field (rgrp)
 * GData Loaders: 
    * aidprojdata (johnbywater)
    * norwaygovdata (johnbywater)
    * ordsurv (johnbywater)
    * Gemini2 (iso19139) (johnbywater, ww)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300382367000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree with leaving #1001 solving this issue. Centralising this is good. This ticket can instead focus on:
 * returning the correct 403 error (rather than the 302 currently)
 * creating some tests
 * documenting
 * consider renaming the SITE_READ variable and rethinking purpose
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300449905000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've added in tests for SITE_READ and corrected the 403 response - see branch bug-1044-site-read.

The tests have uncovered some inconsistencies in the use of SITE_READ between reading/editing a package in the Web interface vs the REST API. Friedrich, do you want to take a look at ckan/tests/functional/test_authz.py:TestSiteRead.test_pkggroupadmin_read for details and have a think about how this should best work. How about making SITE_READ more widespread in the WUI, to protect read/editing/searching things, in addition to the READ and EDIT RoleActions.

Once that is decided, it should be pretty easy to refer to the tests and document SITE_READ.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300712223000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I'm happy to leave the inconsistencies in SITE_READ for now, since this will be resolved when authz is centralised between WUI and API in the dictization refactor.

I'm also happy to leave both TestSiteRead and TestLockedDownUsage as they complement each other nicely actually.

So I think all that remains for this ticket is to add a paragraph to the authz documentation about SITE_READ. Pudo would you mind doing this? It's well worth noting where it applies and where it doesn't.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1301304871000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I think all that remains for this ticket is to add a paragraph to the authz documentation about SITE_READ. Pudo would you mind doing this? It's well worth noting where it applies and where it doesn't.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1302096155000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've added in the docs for this in cset:013da53052d1 ready for release 1.3.3.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="PosixTime">1300457708000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:98eb8b8d063e on default, scheduled for CKAN version 1.4.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="PosixTime">1300787161000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Want to identify groups by ID also in the Web interface.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="PosixTime">1300793261000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:71621df50983 on default ready for ckan 1.4
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1048.html">#1048</a>
                          </td>
                          <td class="PosixTime">1300702752000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in changeset 9d7bfa124757 on default and expect it to go into 1.4 release.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1050.html">#1050</a>
                          </td>
                          <td class="PosixTime">1300458454000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I may misunderstand how you intend to build the WUI Admin interface, but I think most of the stuff in authztool is just marshalling command line parameters anyway. The bits which do anything are factored out. 

For example, to list rights you just loop over obj_classes to call {{{model.Session.query(obj_class).all()}}} and then display the values: {{{type(subj).__name__, subj.name, role, type(obj).__name__, obj.name}}}. 

To change a right you simply call {{{model.add_user_to_role(subj, role, obj)}}} or {{{model.add_authorization_group_to_role(subj, role, obj)}}}.

But of course if there is useful stuff to factor out then be my guest!
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1050.html">#1050</a>
                          </td>
                          <td class="PosixTime">1315394117000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">There's been no objections to my comment 6 months ago saying this is invalid, so marking it invalid. Feel free to reopen if there is indeed a case here.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1052.html">#1052</a>
                          </td>
                          <td class="PosixTime">1300895410000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in branch feature-DGU#889-authorization-in-lockdown and merged to default at cset:e6643cf1324c. Only remaining issue is listing in Web interface of package relationships, which shows links to packages even to ones you can't read.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1053.html">#1053</a>
                          </td>
                          <td class="PosixTime">1310126546000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Looks to me like DELETE always changed the state to Deleted, so an invalid ticket.

We can deal with purging in another ticket if needed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1054.html">#1054</a>
                          </td>
                          <td class="PosixTime">1300989764000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've added some tests in the branch: defect-1054-resource-order
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1054.html">#1054</a>
                          </td>
                          <td class="PosixTime">1300992195000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've put in a potential fix for this into the branch - do take a look and see what you think.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1054.html">#1054</a>
                          </td>
                          <td class="PosixTime">1301305615000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This branch is now merged.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1055.html">#1055</a>
                          </td>
                          <td class="PosixTime">1300987241000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This amounted to 14 tests. Fixed in cset:5bbd0005c57e ready for ckan release 1.4.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1056.html">#1056</a>
                          </td>
                          <td class="PosixTime">1302626373000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:a025b5b3293c on default.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1056.html">#1056</a>
                          </td>
                          <td class="PosixTime">1302882616000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This was broken in cset:b681bbedfa62a68b71260ef48a0da6063109734 which was released in 1.3.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1058.html">#1058</a>
                          </td>
                          <td class="PosixTime">1301303221000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:8e1817ab8d1c on default, ready for 1.4 release.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1059.html">#1059</a>
                          </td>
                          <td class="PosixTime">1301312516000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in ckanext-importlib cset:f6d19129ac43.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1060.html">#1060</a>
                          </td>
                          <td class="PosixTime">1301312487000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in ckan-importlib cset:bc52bba86d71 and ckan cset:2751f76fb17a in time for ckan 1.4
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1061.html">#1061</a>
                          </td>
                          <td class="PosixTime">1301397271000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:fc3bc103db8c ready for release 1.3.3
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1061.html">#1061</a>
                          </td>
                          <td class="PosixTime">1301922325000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Actually there was a link at the bottom of the package edit form that my grep didn't pick up: h.url_for(str('/license')). So it is not orphaned at all.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1061.html">#1061</a>
                          </td>
                          <td class="PosixTime">1301922350000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Backed out original change fc3bc103db8c here: 7ae9aff8bc68
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="PosixTime">1302033244000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Wow, lots of solutions here, and not enough evidence of the problems encountered / difficult use cases.

I have tried here to extract what John and Seb might be suggesting is difficult with our current http://en.wikipedia.org/wiki/Role-based_access_control system.

1. (Seb) It seems crazy to change the User-Object-Roles for every single package to 'lockdown' a CKAN instance. Instead of using Roles 'reader' &amp; 'editor' we start using Roles 'logged_in_user' and 'anon_user'. Then, with only changing a couple of lines of the Role-Action table for these Roles, you can give or remove permissions to edit / create packages, groups etc.

2. (John) Actions are being added all the time by migrations and extensions. I'm not sure what the problem is here - can someone explain? The separation of Users and the new Actions by adding the Role 'join' means the migration/extension can add existing Users with the new Actions. For example when we added the 'Group' protection object, logged in users could previously create groups, so it is natural to add this action to the 'editor' role. If you get rid of Roles, as John suggests, then you end up having to add as many Rights objects as users. And you might end up trying to infer new Rights on the basis of old Rights, rather than a role, which would be more natural. (Is the only reason to denormalise the UOR and RA tables the sake of ease of understanding? I would think we can explain the concept better now...!)

3. (John) This Group Hierarchy description sounds a bit like earlier incarnations of the DGU requirements. "or any of his groups group-children (but not user-children)" I'm not sure I understand the user-children bit, and I'm wary of any difficult-to-grasp concept. This modelling seems to take the UserGroup/User hierarchy model and use that as a hard-coded interpretation of the Authorized permission. In contrast, in DGU Evan split the Organisation Hierarchy model from the Authorization model. Each User has explicit permissions for each Organisation he is allowed to add/edit packages for. This helps for these two use cases we have to contend with: when a user is an admin for unrelated branches of the Organisation hierarchy, and when an Organisation is actually in two branches of the Organisation hierarchy. It also seems more generally flexible.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="PosixTime">1302081747000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Great stuff Seb, cheers for that.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="PosixTime">1324550041000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">All subtickets are done now, apart from #1198 which I've moved into superticket #1477 Group refactor

 Change name of AuthzGroup? to UserGroup? to reflect what it is for
I think this is completely covered off in #1477 Group refactor

 Get rid of Roles, and replace them with direct assignment of actions, even though there are many actions, and extensions can add arbitrary ones.
 Debatable whether we should cut the number of actions to correspond to the three roles defined by the base system.
This is not clear - please raise a ticket for this if still promising.
 Have a method of finding roles (or, in future, actions) relevant to a given protection object (e.g. FILE-UPLOAD(ER) not relevant to Packages)
These three points I've moved into a new ticket #1596 as it was getting lost rather in this one.

 Change UserGroups? so that they can have a hierarchical structure,
I think this is completely covered off in #1477 Group refactor

Conclusion: closing this ticket as all points are covered or moved into tickets elsewhere
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1066.html">#1066</a>
                          </td>
                          <td class="PosixTime">1301904246000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Need a new role 'ANON_EDITOR' which is the default role for Visitor, which can create packages, but not groups.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1066.html">#1066</a>
                          </td>
                          <td class="PosixTime">1301930311000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Migrations:
 * Default (open) CKAN instances will have visitor as a reader on the system, and will have to upgrade them to anon_editor.
 * DGU &amp; DataGM instances have visitor as a reader on system and must stay like that.
 * Pudo's specially locked instance, where editor has been changed to only read can now use the 'reader' role (assuming he's happy for them to create users)

Migration script (37) is designed to cope with the default (open) setup, and the other special cases must be dealt with using CLI at the time of upgrade:

DGU &amp; DataGM must run:
{{{
paster rights remove visitor anon_editor system:
paster rights make visitor reader system:
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1066.html">#1066</a>
                          </td>
                          <td class="PosixTime">1301932136000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done on branch defect-1066-reader-too-permissive and merged into release-1.3.3
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1067.html">#1067</a>
                          </td>
                          <td class="PosixTime">1302186503000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:d75ab5fc3311 for release 1.3.3
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1068.html">#1068</a>
                          </td>
                          <td class="PosixTime">1302109505000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">The problem was the use of mktime which is localised. Also spotted a problem with the use of localised time stored in the datestamp created in migration script 29, when initialising the repo.

Fixed in a2094932e5e4 in release 1.3.3 branch.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1071.html">#1071</a>
                          </td>
                          <td class="PosixTime">1301943180000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:db9e2c4f65bb for release-v1.3.3
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1072.html">#1072</a>
                          </td>
                          <td class="PosixTime">1302106474000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:2a97d2d9ba4a for release 1.3.3.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1073.html">#1073</a>
                          </td>
                          <td class="PosixTime">1302185825000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:9dfc60db90ed on default branch.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1077.html">#1077</a>
                          </td>
                          <td class="PosixTime">1319797284000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I guess this is not a priority now.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1082.html">#1082</a>
                          </td>
                          <td class="PosixTime">1315317825000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">The flash message 'Language set to: English' was always in the previous language, not the new one. Pudo fixed this in cset:eaf342823caf and I have transplanted this into release-1.4.3.

I've also added/corrected translations for all languages for 'Language set to: English' so that it makes sense!

"Set language back to English causes server error:"
I can't reproduce this. The exception looks like a problem with the forwarding, which improvements were made in #1126.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1082.html">#1082</a>
                          </td>
                          <td class="PosixTime">1315917217000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Language switch problem has been around since it was introduced in the 1.3.1 release.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1084.html">#1084</a>
                          </td>
                          <td class="PosixTime">1303894555000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">ww you did this didn't you? Perhaps you could update us with the branch/changeset it was in and close this ticket please.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1085.html">#1085</a>
                          </td>
                          <td class="PosixTime">1302624602000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">As discussed on IRC, the default ckan.site_url should be blank, rather than ckan.net.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1085.html">#1085</a>
                          </td>
                          <td class="PosixTime">1302625314000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:01b3de5d4e31 on default.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1086.html">#1086</a>
                          </td>
                          <td class="PosixTime">1323346552000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Authorization groups are deprecated with the incoming Groups Refactor #1477
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1087.html">#1087</a>
                          </td>
                          <td class="PosixTime">1320866159000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Implemented in cset:0b7e2b0bed44 as status_show logic action, heading for 1.5.1 release.

Took 0.5h
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1089.html">#1089</a>
                          </td>
                          <td class="PosixTime">1302631733000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:6d41ecc431e3 on default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1090.html">#1090</a>
                          </td>
                          <td class="PosixTime">1302635699000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:e0af88edf0f0 on default.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1093.html">#1093</a>
                          </td>
                          <td class="PosixTime">1302865470000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed by this API call use the existing license cache. Done in cset:a95888ea39be on release-v1.3.4
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1097.html">#1097</a>
                          </td>
                          <td class="PosixTime">1303293476000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:5dec7eb609ab on branch release-v1.3.4.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1098.html">#1098</a>
                          </td>
                          <td class="PosixTime">1303387896000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in b2b37e39de4d in release-1.3.4. Was only broken on this branch a few days before.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1098.html">#1098</a>
                          </td>
                          <td class="PosixTime">1303406017000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Also found problem with some tests using delete_all. Fixed in cset:f9764dd43a0a release_1.3.4.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1099.html">#1099</a>
                          </td>
                          <td class="PosixTime">1324057106000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Authorization groups deprecated with the Group refactor #1477
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1100.html">#1100</a>
                          </td>
                          <td class="PosixTime">1303406103000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in release_1.3.4 cset:580e2b11b4ef and release 1.3.3 cset:cac55b8a0bd9
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1101.html">#1101</a>
                          </td>
                          <td class="PosixTime">1330082908000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Stats already in site nav - adjusting title to just mention google analytics.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1104.html">#1104</a>
                          </td>
                          <td class="PosixTime">1303920492000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree this should be fixed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1104.html">#1104</a>
                          </td>
                          <td class="PosixTime">1303920791000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed on default cset:52a3fb230074 - create-test-data now indexes the package it creates.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1107.html">#1107</a>
                          </td>
                          <td class="PosixTime">1320321170000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Notes to complete this:
 * ckan/logic/action/get.py:'def package_autocomplete' exists and is the one that should be used
 * need to ensure all places in the templates and public/scripts use this action directly, not dataset/autocomplete (or its alias package/autocomplete)
 * ckan/controllers/package.py:'def autocomplete' should be removed.
 * ckan/config/routes.py dataset/autocomplete should be removed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1109.html">#1109</a>
                          </td>
                          <td class="PosixTime">1303916487000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Close ticket?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1109.html">#1109</a>
                          </td>
                          <td class="PosixTime">1304698621000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Did we decide that this facility for storing non-strings via the API is a new feature, rather than a bug?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1109.html">#1109</a>
                          </td>
                          <td class="PosixTime">1305123852000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">What's the status?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1112.html">#1112</a>
                          </td>
                          <td class="PosixTime">1304358643000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This is complete in the branch feature-1112-allow-search-all for release 1.3.5
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1114.html">#1114</a>
                          </td>
                          <td class="PosixTime">1304085484000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:d7bd4b0f89de on default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1115.html">#1115</a>
                          </td>
                          <td class="PosixTime">1324054704000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Authorization groups deprecated with the Group refactor #1477
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1116.html">#1116</a>
                          </td>
                          <td class="PosixTime">1304358664000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This is complete in branch defect-1116-boolean-search-options for release-1.3.5
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1121.html">#1121</a>
                          </td>
                          <td class="PosixTime">1307358426000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">We don't need to support JSON extras at the moment.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1122.html">#1122</a>
                          </td>
                          <td class="PosixTime">1304368075000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">@pudo I notice you tackling solr indexing of lists/tuples in ckanext-solr cset:ecc2d69df991 so have updated to use this on ckan.net and reindexed, but #1122 still seems an issue - any chance you can take a look?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1122.html">#1122</a>
                          </td>
                          <td class="PosixTime">1305718009000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This user is now storing his list as a string so is happy. But I'll leave this ticket open, for pudo to decide whether there is an issue with SOLR indexing tuples/lists, as per the previous comment.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1122.html">#1122</a>
                          </td>
                          <td class="PosixTime">1306747706000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Changing this to "won't fix" just to be clear
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1123.html">#1123</a>
                          </td>
                          <td class="PosixTime">1307374691000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I'll change the architecture to "all" as per this article:
http://linuxreviews.org/man/deb-control/
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1126.html">#1126</a>
                          </td>
                          <td class="PosixTime">1304587078000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:61bb142a6b7c for ckan v1.3.5.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1127.html">#1127</a>
                          </td>
                          <td class="PosixTime">1304606094000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed links
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1128.html">#1128</a>
                          </td>
                          <td class="PosixTime">1310567803000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Loader in ckanext/bin/loadscotland.py.
Done upload to ckan.net:

{{{
(pyenv-ckanext)dread@dread-laptop:~/hgroot/ckanext$ scotland_loader -k xyz -H http://ckan.net/api /home/dread/ckan-local/data/scotland-2010-10-18.csv
/home/dread/hgroot/pyenv-ckanext/lib/python2.6/site-packages/pylons/templating.py:610: UserWarning: Unbuilt egg for setuptools [unknown version] (/usr/lib/python2.6/dist-packages)
  Engine = entry_point.load()
No handlers could be found for logger "vdm"
2011-07-13 15:29:17,983 INFO  [ckanext.importlib.loader] Loading scottish_neighbourhood_statistics
2011-07-13 15:29:20,109 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:22,089 INFO  [ckanext.importlib.loader] Loading traveline_scotland
2011-07-13 15:29:24,579 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:27,045 INFO  [ckanext.importlib.loader] Loading sqa_qualifications
2011-07-13 15:29:30,869 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:32,561 INFO  [ckanext.importlib.loader] Loading scotxed
2011-07-13 15:29:34,017 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:35,286 INFO  [ckanext.importlib.loader] Loading iscjis_vocabularies
2011-07-13 15:29:36,592 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:37,782 INFO  [ckanext.importlib.loader] Loading ecare_multi-agency_store_data_model_and_vocabulary
2011-07-13 15:29:39,043 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:40,267 INFO  [ckanext.importlib.loader] Loading digital_archive_scottish_archive_network
2011-07-13 15:29:41,690 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:43,727 INFO  [ckanext.importlib.loader] Loading the_scottish_register_of_tartans
2011-07-13 15:29:45,159 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:46,816 INFO  [ckanext.importlib.loader] Loading scotlands_images
2011-07-13 15:29:48,563 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:49,983 INFO  [ckanext.importlib.loader] Loading national_library_of_scotland
2011-07-13 15:29:51,709 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:53,122 INFO  [ckanext.importlib.loader] Loading scottish_government_statistics
2011-07-13 15:29:55,857 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:29:57,118 INFO  [ckanext.importlib.loader] Loading scotbis
2011-07-13 15:29:58,883 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:00,264 INFO  [ckanext.importlib.loader] Loading historic_scotland
2011-07-13 15:30:02,086 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:03,609 INFO  [ckanext.importlib.loader] Loading scheduled_monuments_in_scotland
2011-07-13 15:30:05,057 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:06,987 INFO  [ckanext.importlib.loader] Loading scotlands_house_prices_service_consumer_information
2011-07-13 15:30:08,687 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:09,932 INFO  [ckanext.importlib.loader] Loading air_quality_in_scotland
2011-07-13 15:30:11,278 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:12,637 INFO  [ckanext.importlib.loader] Loading river_and_coastal_flooding_updates_for_scotland
2011-07-13 15:30:13,940 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:15,637 INFO  [ckanext.importlib.loader] Loading public_contracts_scotland
2011-07-13 15:30:17,280 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:18,666 INFO  [ckanext.importlib.loader] Loading scottish_government_consultations
2011-07-13 15:30:20,673 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:22,234 INFO  [ckanext.importlib.loader] Loading scottish_public_health_observatory
2011-07-13 15:30:24,025 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:26,297 INFO  [ckanext.importlib.loader] Loading scotlands_information_landscape
2011-07-13 15:30:28,308 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:29,758 INFO  [ckanext.importlib.loader] Loading isd_scotland
2011-07-13 15:30:31,847 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:33,074 INFO  [ckanext.importlib.loader] Loading scotlandspeople
2011-07-13 15:30:34,541 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:35,754 INFO  [ckanext.importlib.loader] Loading general_register_office_for_scotland_statistics
2011-07-13 15:30:37,273 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:39,330 INFO  [ckanext.importlib.loader] Loading baseline_scotland_-_groundwater_chemistry_data
2011-07-13 15:30:40,716 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:41,919 INFO  [ckanext.importlib.loader] Loading the_centre_for_the_study_of_retailing_in_scotland_data_sets
2011-07-13 15:30:43,275 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:44,515 INFO  [ckanext.importlib.loader] Loading growing_up_in_scotland
2011-07-13 15:30:46,215 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:47,582 INFO  [ckanext.importlib.loader] Loading scottish_parliament_msp_allowances
2011-07-13 15:30:49,580 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:51,272 INFO  [ckanext.importlib.loader] Loading scottish_government_ministerial_hospitality
2011-07-13 15:30:53,764 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:55,642 INFO  [ckanext.importlib.loader] Loading scottish_government_expenditure_over_25000
2011-07-13 15:30:58,012 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:30:59,674 INFO  [ckanext.importlib.loader] Loading scottish_local_government_financial_statistics
2011-07-13 15:31:01,869 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:03,382 INFO  [ckanext.importlib.loader] Loading scottish_government_disclosure_of_high_earners
2011-07-13 15:31:07,086 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:11,493 INFO  [ckanext.importlib.loader] Loading scotlands_places
2011-07-13 15:31:14,452 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:31,743 INFO  [ckanext.importlib.loader] Loading scottish_national_heritage_facts
2011-07-13 15:31:36,223 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:37,830 INFO  [ckanext.importlib.loader] Loading scottish_natural_spaces
2011-07-13 15:31:40,245 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:41,764 INFO  [ckanext.importlib.loader] Loading scotland_national_address_gazetteer
2011-07-13 15:31:43,810 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:45,069 INFO  [ckanext.importlib.loader] Loading scottish_environment_protection_agency
2011-07-13 15:31:47,975 INFO  [ckanext.importlib.loader] ...creating package
2011-07-13 15:31:49,525 INFO  [ckanext.importlib.loader] Loading traffic_scotland
2011-07-13 15:31:52,396 INFO  [ckanext.importlib.loader] ...creating package
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1128.html">#1128</a>
                          </td>
                          <td class="PosixTime">1310568028000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Note, I added a title column and made one or two minor corrections that I spotted - see attached CSV for the result.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1131.html">#1131</a>
                          </td>
                          <td class="PosixTime">1305537897000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed on branch release-v1.3.5 cset:3461ed6bab0c
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1132.html">#1132</a>
                          </td>
                          <td class="PosixTime">1307352675000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Yes, these are apparently search-related and so are skipped when testing under sqlite. See README.rst for more info.

Compare with this:
{{{
$ nosetests --ckan --with-pylons=test-core.ini ckan/tests/functional/test_authz.py

............................................
----------------------------------------------------------------------
Ran 44 tests in 69.287s

OK
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1133.html">#1133</a>
                          </td>
                          <td class="PosixTime">1324057072000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Works for me - change occurs successfully.
{{{
(pyenv-ckan)dread@dread-laptop:~/gitroot/ckan$ paster rights add russianfan admin warandpeace
/home/dread/gitroot/pyenv-ckan/lib/python2.6/site-packages/pylons/templating.py:610: UserWarning: Unbuilt egg for setuptools [unknown version] (/usr/lib/python2.6/dist-packages)
  Engine = entry_point.load()
User russianfan -&gt; is admin on -&gt; Package warandpeace
(pyenv-ckan)dread@dread-laptop:~/gitroot/ckan$ paster rights
/home/dread/gitroot/pyenv-ckan/lib/python2.6/site-packages/pylons/templating.py:610: UserWarning: Unbuilt egg for setuptools [unknown version] (/usr/lib/python2.6/dist-packages)
  Engine = entry_point.load()
22 results
User visitor -&gt; is editor on -&gt; Package annakarenina
User logged_in -&gt; is editor on -&gt; Package annakarenina
User testsysadmin -&gt; is admin on -&gt; System system
User logged_in -&gt; is editor on -&gt; System system
User visitor -&gt; is reader on -&gt; Group david
User annafan -&gt; is admin on -&gt; Package annakarenina
AuthorizationGroup anauthzgroup -&gt; is reader on -&gt; Package warandpeace
User visitor -&gt; is editor on -&gt; Package warandpeace
AuthorizationGroup anauthzgroup -&gt; is editor on -&gt; Group david
User logged_in -&gt; is editor on -&gt; Package warandpeace
User logged_in -&gt; is reader on -&gt; Group david
User visitor -&gt; is reader on -&gt; Group roger
User logged_in -&gt; is reader on -&gt; Group roger
User russianfan -&gt; is admin on -&gt; Package warandpeace
User visitor -&gt; is admin on -&gt; Package warandpeace
AuthorizationGroup anotherauthzgroup -&gt; is editor on -&gt; AuthorizationGroup anauthzgroup
User russianfan -&gt; is admin on -&gt; Group roger
User russianfan -&gt; is admin on -&gt; Group david
AuthorizationGroup anauthzgroup -&gt; is admin on -&gt; AuthorizationGroup anotherauthzgroup
User visitor -&gt; is anon_editor on -&gt; System system
User visitor -&gt; is admin on -&gt; Group roger
AuthorizationGroup anauthzgroup -&gt; is editor on -&gt; System system
}}}
Tests would be nice, but it currently works, is only for admins and is therefore not as high priority as other other tests, such as front-end js.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1140.html">#1140</a>
                          </td>
                          <td class="PosixTime">1312537257000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Broken since CKAN v1.1. I have added this fix to v1.4.2 and v1.4.3 releases.
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <span class="current">8</span>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=author&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=author&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=author&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>