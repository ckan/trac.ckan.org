<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=summary&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=summary&amp;asc=1&amp;page=15.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1401 - 1500 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <span class="current">15</span>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=15.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=15.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=15.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=15.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=15.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=15.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=15.html">
              Resolution
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=summary&amp;asc=0&amp;page=15.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=15.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=15.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=15.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1061.html">#1061</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1061.html">Orphaned home/license page</a>
                          </td>
                          <td class="description">
                            <p>
No links to home/license and it contains out of date references to knowledgeforge. Remove it.
</p>

                            
                          </td>
                          <td class="PosixTime">1301392968000000
                          </td>
                          <td class="ModifiedTime">1301922350000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1707.html">#1707</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1707.html">Over-long URLs in QA ext broken links list</a>
                          </td>
                          <td class="description">
                            <p>
From Mark on the ckan-dev list:
</p>
<p>
In the table of broken links at
&lt;<a class="ext-link" href="http://thedatahub.org/qa/dataset/broken_resource_links"><span class="icon">​</span>http://thedatahub.org/qa/dataset/broken_resource_links</a>&gt;, the links as
printed should be abridged to a fixed length (but link to the full
URL). Otherwise the 'reason' column vanishes off the screen. Also a
table would probably be better since as things stand the 'reasons' are
not lined up
</p>

                            
                          </td>
                          <td class="PosixTime">1327488793000000
                          </td>
                          <td class="ModifiedTime">1328024253000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1241.html">#1241</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">timmcnamara
                          </td>
                          <td class="reporter">timmcnamara
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1241.html">Overview video of http://thedatahub.org</a>
                          </td>
                          <td class="description">
                            <p>
Produce a video explaining some of the things which can be done on the datahub.org
</p>

                            
                          </td>
                          <td class="PosixTime">1311567813000000
                          </td>
                          <td class="ModifiedTime">1340632688000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1210.html">#1210</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-4.html">ckan-v1.5-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1210.html">POST application/json error handling with newer WebOb</a>
                          </td>
                          <td class="description">
                            <p>
<a class="missing wiki">WebOb?</a> from v1.0.7 has some interesting new behaviour with reading request data for different Content-Types:
</p>
<ul><li>It seems that looking at request.body mangles request.POST. See fix in ckan cset:e83bad9caa1b (problem with <a class="missing wiki">WebOb?</a> v1.0.7 but may go back to v1.0.4?)
</li></ul><ul><li>A particular request caused an <a class="missing wiki">AssertionError?</a> during looking at request.body, so we need to enclose this in a try/except. I couldn't recreate it in a test unfortunately (problem with <a class="missing wiki">WebOb?</a> v1.0.7 but may go back to v1.0.2?)
</li></ul><p>
Example:
</p>
<pre class="wiki">Module ckan.controllers.api:206 in create
&lt;&lt;          log.debug('create: %s' % (context))
               try:
                   request_data = self._get_request_data()
               except ValueError, inst:
                   response.status_int = 400
&gt;&gt;  request_data = self._get_request_data()
Module ckan.lib.base:149 in _get_request_data
&lt;&lt;          cls.log.debug('Retrieving request params: %r' % request.params)
               cls.log.debug('Retrieving request POST: %r' % request.POST)
               cls.log.debug('Retrieving request POST body: %r' % request.body)
               if request.POST:
                   try:
&gt;&gt;  cls.log.debug('Retrieving request POST body: %r' % request.body)
Module paste.registry:137 in __getattr__
&lt;&lt;      
           def __getattr__(self, attr):
               return getattr(self._current_obj(), attr)
           
           def __setattr__(self, attr, value):
&gt;&gt;  return getattr(self._current_obj(), attr)
Module webob.request:470 in _body__get
&lt;&lt;          Return the content of the request body.
               """
               self.make_body_seekable() # we need this to have content_length
               r = self.body_file.read(self.content_length)
               self.body_file.seek(0)
&gt;&gt;  self.make_body_seekable() # we need this to have content_length
Module webob.request:697 in make_body_seekable
&lt;&lt;              self.body_file_raw.seek(0)
               else:
                   self.copy_body()
&gt;&gt;  self.copy_body()
Module webob.request:714 in copy_body
&lt;&lt;                  self.body = self.body_file_raw.read(length)
               elif self.is_body_readable:
                   self.body = self.body_file_raw.read()
                   self._copy_body_tempfile()
               else:
&gt;&gt;  self.body = self.body_file_raw.read()
Module webob.request:1190 in read
&lt;&lt;      def read(self, size=-1):
               body = self._get_body()
               if size &lt; 0:
                   v = body[self.position:]
&gt;&gt;  body = self._get_body()
Module webob.request:1207 in _get_body
&lt;&lt;                  self._body = _encode_multipart(self.vars, self.content_type)
                   else:
                       assert 0, ('Bad content type: %r' % self.content_type)
               return self._body
&gt;&gt;  assert 0, ('Bad content type: %r' % self.content_type)
AssertionError: Bad content type: '; charset=utf-8'
</pre>
                            
                          </td>
                          <td class="PosixTime">1309949451000000
                          </td>
                          <td class="ModifiedTime">1309974781000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/963.html">#963</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/963.html">Package CKAN as a debian package</a>
                          </td>
                          <td class="description">
                            <p>
Package CKAN as a debian package so it is easier to install.
</p>

                            
                          </td>
                          <td class="PosixTime">1297076364000000
                          </td>
                          <td class="ModifiedTime">1298284252000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/691.html">#691</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/691.html">Package Relationships</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1286822735000000
                          </td>
                          <td class="ModifiedTime">1295610145000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/902.html">#902</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/902.html">Package buttons not clickable / Improve submenu tabs</a>
                          </td>
                          <td class="description">
                            <p>
On a package page there are three buttons to the right - View, Edit, History. Each of these buttons contain an icon and the text, but you can only activate the button by clicking on the icon. When you click on the part of the button where the text is (about 50% of the button) then nothing happens.
</p>
<p>
Using: Chrome, Firefox
</p>

                            
                          </td>
                          <td class="PosixTime">1294756898000000
                          </td>
                          <td class="ModifiedTime">1297078885000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/190.html">#190</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/190.html">Package comments</a>
                          </td>
                          <td class="description">
                            <p>
Cost 7 days
</p>
<p>
When viewing a package, users can read user comments and leave their own. Users need to be logged in to leave a message. Comments appear immediately. A mechanism for deleting unwanted comments is provided to an authorized user. Comments are sorted with the most recent first. Comments are available for read, creation and deletion in both the Web UI and over the REST API. 
</p>
<p>
The admin for the package and a superuser can delete unwanted comments, both on the package page and a collation of all comments on their user page. Users can delete their own comments(?) Need to consider whether over the REST API we encourage the use of a 'frontend user' APIKEY which can be used to leave comments for another, actual user.
</p>
<p>
Example at bottom of package page:
</p>
<p>
<strong>Leave a comment:</strong>
</p>
<table class="wiki">
<tr><td>Subject</td><td style="text-align: center">  <span class="underline"></span><span class="underline"></span>_  
</td></tr><tr><td>Comment</td><td style="text-align: center">  <span class="underline"></span><span class="underline"></span>_  
</td></tr></table>
<p>
<br />
</p>
<table class="wiki">
<tr><td>Submit button
</td></tr></table>
<p>
<strong>Comments:</strong>
</p>
<table class="wiki">
<tr><td><strong>Explanation doc</strong>
</td></tr><tr><td><em>Posted on 25h May 2009 by http://bertdavies.myopenid.com</em>
</td></tr><tr><td>It says on the pollution data web page that not all the stations have a CO2 sensor, so you have to extrapolate from the ones that do. See my visualisation of CO2 across London for an idea of what you can do: bertdavies.com/pollution-2008.jpg
</td></tr></table>
<table class="wiki">
<tr><td><strong>More info</strong>
</td></tr><tr><td><em>Posted on 24th May 2009 by http://ronsmith.myopenid.com</em>
</td></tr><tr><td>Excellent data, but why is there no value in the CO2 column for some of the testing stations?
</td></tr></table>
<h1 id="Implementationdetails:">Implementation details:</h1>
<p>
Comments table is with columns:
</p>
<table class="wiki">
<tr><td style="text-align: left">id </td><td> package_id </td><td> date (date) </td><td style="text-align: right"> comment (multi-line text)
</td></tr></table>

                            
                          </td>
                          <td class="PosixTime">1258387105000000
                          </td>
                          <td class="ModifiedTime">1280820852000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1537.html">#1537</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1537.html">Package create form wizard</a>
                          </td>
                          <td class="description">
                            <p>
Create the form wizard for the package-new form.
</p>
<p>
Each section of the form will be a separate page as this was decided to be simpler than the alternative of making AJAX calls for validation at each stage. (*)
</p>
<ul><li>separate pages for each section of the form
</li><li>validation carried out at each stage against the whole schema.  Each section/page declares a list of schema keys that need to validate for that section to validate, and thus move onto the next section.
</li><li>no draft saving to be performed in this ticket.
</li></ul><p>
(*) - although the javascript alternative will probably provide better UX (each step would require a page-load in the wizard approach), it was decided that:
</p>
<ul><li>with the javascript approach it would be harder to test the workflow.
</li><li>with the javascript approach there would be additional work displaying validation correctly.  Although not that complicated, it was felt to add another point of failure.
</li><li>the multi-page wizard is quicker and easier to implement, and if it provided poor UX, then the javascript approach would be used instead.
</li><li>the multi-page wizard wouldn't preclude a javascript-tabbing create-form for other cases (where the wizard workflow wasn't such a good match, eg on the hedatahub.org)
</li><li>the multi-page wizard wouldn't preclude a javascript-tabbing edit-form.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323358451000000
                          </td>
                          <td class="ModifiedTime">1337159772000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/176.html">#176</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/176.html">Package dependencies</a>
                          </td>
                          <td class="description">
                            <p>
(Related to <a class="closed ticket" href="../ticket/169.html" title="enhancement: Package derivations (closed: duplicate)">ticket:169</a> - Package derivations)
</p>
<p>
A 'dependency' relationship can be applied from one package to another. It implies that a package requires the download or existence of another package which it 'depends on'. (Analogous to software package dependencies.)
</p>
<p>
e.g. london-traffic-visualisation depends on road-map
</p>
<p>
'Dependency' relationship is:
</p>
<ul><li>directional
</li><li>many:many
</li><li>stateful
</li></ul><p>
'dependency' table columns:
</p>
<ul><li>id (primary key)
</li><li>dependent (foreign key)
</li><li>dependency (foreign key)
</li></ul><p>
Further tickets:
</p>
<ul><li>WUI - package view - have list of dependencies (do not need to list packages which depend on this one)
</li><li>WUI - package edit form - new option to say 'depends on' (no need for 'has dependent package')
</li><li>REST api - expose reading and writing 'depends on' property.
</li></ul><h3 id="Issues">Issues</h3>
<ul><li>How do we deal with dependency at a particular version?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1257162812000000
                          </td>
                          <td class="ModifiedTime">1266928721000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/169.html">#169</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/169.html">Package derivations</a>
                          </td>
                          <td class="description">
                            <p>
A 'Derived' relationship can be applied from one package to another.
</p>
<p>
e.g.
sussex-demography is derived from census-2001
</p>
<p>
'Derived' relationship is:
</p>
<ul><li>directional
</li><li>many:many
</li><li>stateful
</li></ul><p>
'derived' table columns:
</p>
<ul><li>id (primary key)
</li><li>source_package (foreign key)
</li><li>result_package (foreign key)
</li><li>description (markdown text)
</li></ul><p>
Further tickets:
</p>
<ul><li>WUI - package view - shows 'derives from package x' and 'derived package y' with UML-like diagram of x -&gt; this package -&gt; y
</li><li>WUI - package edit form - new option to say it 'derives from' or 'has derivation' and you select the appropriate
</li><li>REST if - expose reading and writing this property
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1256304927000000
                          </td>
                          <td class="ModifiedTime">1266928708000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/301.html">#301</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/301.html">Package discussion pages</a>
                          </td>
                          <td class="description">
                            <p>
A package discussion page is like a wikipedia discussion page: an editable free text page for people to have discussion/post comments about a given package.
</p>
<p>
It provides a way for people to make suggestions about a package without needing access to main package.
</p>

                            
                          </td>
                          <td class="PosixTime">1272301033000000
                          </td>
                          <td class="ModifiedTime">1340632055000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/781.html">#781</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/781.html">Package edit form - 'extra' fields have 'add' and 'delete' buttons</a>
                          </td>
                          <td class="description">
                            <p>
(Just like resource table, but extra fields don't need up/down buttons)
</p>
<p>
Nice to have: a blank field is added when you tab from the last filled-in field in the table.
</p>

                            
                          </td>
                          <td class="PosixTime">1288630935000000
                          </td>
                          <td class="ModifiedTime">1294415081000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/780.html">#780</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/780.html">Package edit form - 'preview' button shows preview, with form lower in page</a>
                          </td>
                          <td class="description">
                            <p>
This ticket refers to the form shown in Drupal. This doesn't have a preview function, but we don't have a requirement for it right now, so leaving ticket closed.
</p>

                            
                          </td>
                          <td class="PosixTime">1288630829000000
                          </td>
                          <td class="ModifiedTime">1294660720000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/778.html">#778</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/778.html">Package edit form - name auto-generated from title</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1288630777000000
                          </td>
                          <td class="ModifiedTime">1294416567000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/779.html">#779</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/779.html">Package edit form - stylesheet in DGU updated</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1288630800000000
                          </td>
                          <td class="ModifiedTime">1294416581000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1047.html">#1047</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1047.html">Package edit form claims you're not logged in at the end when you are</a>
                          </td>
                          <td class="description">
                            <p>
At the bottom, it says something like
</p>
<p>
Author: Bob Bumgardner
Since you have not signed in this will just be your IP address. Click here to sign in before saving (opens in new window).
</p>

                            
                          </td>
                          <td class="PosixTime">1300384556000000
                          </td>
                          <td class="ModifiedTime">1300387309000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/812.html">#812</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/812.html">Package edit form only allows three extra fields</a>
                          </td>
                          <td class="description">
                            <h1 id="Rationale">Rationale</h1>
<p>
The package edit form is restricted to three extra fields. To enter more than three fields, one has to save the package and hit edit again (or hit preview).
</p>
<h1 id="Implementation">Implementation</h1>
<p>
A mechanism similar to the one for resources (where you can add lines as you go) would solve this. So, have a button that adds more extra field rows via JS. (Extra fields don't need up/down buttons that the Resource table has)
</p>
<p>
Nice to have: a blank field is added when you tab from the last filled-in field in the table.
</p>

                            
                          </td>
                          <td class="PosixTime">1289995010000000
                          </td>
                          <td class="ModifiedTime">1311176917000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1288.html">#1288</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1288.html">Package edit/creation can't include 'relationships' field</a>
                          </td>
                          <td class="description">
                            <p>
When you create or edit a package (via the API), you aren't able to specify the relationships it has. (If you do you get 409 <tt> {"__junk": ["The input field __junk was not expected."]} </tt>)
</p>
<p>
The normal way to create relationships is via /api/rest/relationships/ and this works. But when you GET a package, the dictionary lists all relationship details. So this bug creates a problem for editing a package that has relationships - you want to GET it, make any edits and then PUT it back. The work-around is to delete the 'relationships' key from the dict before you PUT it back.
</p>
<h2 id="Options">Options</h2>
<p>
Ideally, CKAN would read the 'relationships' key and make the necessary changes. This is a chunk of work.
</p>
<p>
Another good option is to allow an unchanged 'relationships' value, but barf it is edited. This is also a chunk of work.
</p>
<p>
A bad option would be to just ignore the 'relationships' value, since users will get frustrated changing this value and wonder why it never saves, not understanding it is different to all the rest, without error message.
</p>
<p>
A final option is to get rid of relationships altogether.
</p>

                            
                          </td>
                          <td class="PosixTime">1314203695000000
                          </td>
                          <td class="ModifiedTime">1339774098000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1355.html">#1355</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1355.html">Package extras property does not include the newly created ones</a>
                          </td>
                          <td class="description">
                            <p>
The extras in the package object sent to the extensions after editing (<a class="ext-link" href="https://bitbucket.org/okfn/ckan/src/01efd5649c10/ckan/logic/action/update.py#cl-226"><span class="icon">​</span>https://bitbucket.org/okfn/ckan/src/01efd5649c10/ckan/logic/action/update.py#cl-226</a>) do not include the newly added.
</p>

                            
                          </td>
                          <td class="PosixTime">1317034126000000
                          </td>
                          <td class="ModifiedTime">1339774056000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/266.html">#266</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/266.html">Package feed</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to track changes to a particular package.
</p>
<p>
Provide an Atom feed, linked from the package read page.
</p>

                            
                          </td>
                          <td class="PosixTime">1267716417000000
                          </td>
                          <td class="ModifiedTime">1271636901000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/185.html">#185</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/185.html">Package form field hiding</a>
                          </td>
                          <td class="description">
                            <p>
Make parts of the package form hidden by default, to make it look simpler. Users are invited to click a button to reveal the less important fields.
</p>
<p>
Fields hidden by default:
version, author, author_email, maintainer, maintainer_email
</p>

                            
                          </td>
                          <td class="PosixTime">1257763437000000
                          </td>
                          <td class="ModifiedTime">1291830039000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/154.html">#154</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/154.html">Package form guidance</a>
                          </td>
                          <td class="description">
                            <p>
Give guidance on what to put in 'author' and 'maintainer' fields (e.g.
name? URL?)
</p>
<p>
Suggestion from Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1255621572000000
                          </td>
                          <td class="ModifiedTime">1257535066000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1539.html">#1539</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1539.html">Package forms auto-save</a>
                          </td>
                          <td class="description">
                            <p>
Using the saved-draft feature, we enable auto-save for the package-new and package-edit forms.
</p>
<p>
An AJAX call is made every N seconds, and the auto-saved blob is updated.
</p>
<p>
note - we don't want to overwrite a previously save draft, but we will want to overwrite the last autosave.
</p>

                            
                          </td>
                          <td class="PosixTime">1323359385000000
                          </td>
                          <td class="ModifiedTime">1337159806000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/105.html">#105</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/105.html">Package groups (view)</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to be able to create groups of packages.
</p>
<p>
This functionality is different from tags:
</p>
<ul><li>The ability to add a package to a given group is restricted whereas anyone can add a given tag to a package
</li><li>Specifically groups have owners and only the owners can add a package to that group
</li></ul><p>
Group properties
</p>
<ul><li>id (primarykey, uuid style)
</li><li>name (restricted content - same rules as package)
</li><li>title (no restrictions)
</li><li>owners -- many:many with user object
</li><li>description (markdown)
</li><li>packages -- many:many with package object
</li></ul><p>
Don't version groups for now.
</p>
<p>
Groups address in the WUI will be:
</p>
<ul><li>/group     - browse list of groups (reuse list action)
</li><li>/group/list - same thing for now
</li><li>/group/&lt;groupname&gt; - display: group properties with links to packages. No links to user pages (yet).
</li></ul><p>
Group editing and searching will be another ticket.
</p>
<p>
Cost: 3d
</p>

                            
                          </td>
                          <td class="PosixTime">1251392282000000
                          </td>
                          <td class="ModifiedTime">1252488496000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/152.html">#152</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/152.html">Package has editable 'Extra' fields</a>
                          </td>
                          <td class="description">
                            <p>
Package edit page has fields for extra key-value pairs. Don't use formalchemy. The form displays the existing ones and new ones as follows:
</p>
<pre class="wiki">Key           Value            delete
[ country   ] [ uk, spain   ]  [x]
</pre><p>
When presenting the form, existing pairs and 3 blank pairs are provided.
</p>
<p>
When saving the data, keys that are not changed use the existing PackageExtra object (perhaps with new value). Deleted keys put the PackageExtra state to deleted. For new keys, only create a new PackageExtra if there isn't a state=deleted one to resurrect.
</p>
<p>
Validators ensure no repeated keys.
</p>

                            
                          </td>
                          <td class="PosixTime">1255615316000000
                          </td>
                          <td class="ModifiedTime">1256056193000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/303.html">#303</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/303.html">Package history &amp; diff &amp; feed to show changes to tags, extras and resources</a>
                          </td>
                          <td class="description">
                            <p>
Currently a package's history page (/package/history/xyz) and related feed only shows changes to the core package i.e. ones which create a <a class="missing wiki">PackageResource?</a>. This doesn't include changes to tags, extras and resources. These need to be added.
</p>
<p>
There is the complication that the 'diff' function doesn't currently work beyond <a class="missing wiki">PackageResource?</a>. Unless this is quick and simple to fix, I suggest we let the diff remain slightly broken for now.
</p>
<p>
Rufus suggests alongside the existing methods:
</p>
<pre class="wiki">pkg.all_revisions()
pkg.diff()
</pre><p>
we have ones which also include the related objects (tags, extras, resources):
</p>
<pre class="wiki">pkg.all_revisions_full()
pkg.diff_full()
</pre><p>
You could have a function which returned these related objects. Ideas:
</p>
<pre class="wiki">revobjlist = [ self, resources, extras ]
list of tuples: (revobj, changed_revobjs)
list of tuples: (revobj, {objtype: [changed_revobjs]})
tuple: (rev1, {Package: [ object_id, object_id], PackageTag: [object_id, object_id2] ...}
</pre>
                            
                          </td>
                          <td class="PosixTime">1272370659000000
                          </td>
                          <td class="ModifiedTime">1272989728000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1071.html">#1071</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1071.html">Package history API moved to /api/rest/package/revisions</a>
                          </td>
                          <td class="description">
                            <p>
api/rest/package_history is not RESTful or follow API naming conventions. Therefore move it to /api/rest/package/revisions
</p>
<p>
Also, API docs incomplete.
</p>

                            
                          </td>
                          <td class="PosixTime">1301937882000000
                          </td>
                          <td class="ModifiedTime">1301943180000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1546.html">#1546</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1546.html">Package metadata_created returns the wrong date</a>
                          </td>
                          <td class="description">
                            <p>
metadata_created seems to be returning the date of the earliest revision (for all packages), rather than the earliest revision for a specific package.
</p>

                            
                          </td>
                          <td class="PosixTime">1323707327000000
                          </td>
                          <td class="ModifiedTime">1324034396000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/352.html">#352</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/352.html">Package notification worker - sends XML-RPC</a>
                          </td>
                          <td class="description">
                            <h2 id="Asan">As an</h2>
<p>
external front-end
</p>
<h2 id="Iwantto">I want to</h2>
<p>
be notified (by XML-RPC) about package creations and updates.
</p>
<h2 id="Implementation">Implementation</h2>
<ol><li>A message queue worker waits for package update notifications
</li><li>On reception, it constructs XML detailing the changes and PUSHes it to a configured URI.
</li></ol><p>
Rather than turning the package fields into XML fields, the JSON dump of the list of package dictionaries will become a single XML parameter.
</p>
<p>
Config - in the CKAN config will be:
</p>
<ul><li>URI to callback to
</li><li>API version to use (version 2 gives packages referred by ID not name)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1276597996000000
                          </td>
                          <td class="ModifiedTime">1286375870000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/839.html">#839</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">anonymous
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/839.html">Package page redesign</a>
                          </td>
                          <td class="description">
                            <p>
as per <a href="http://ckan.org/wiki/UIRedesignPackage">http://ckan.org/wiki/UIRedesignPackage</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1291299579000000
                          </td>
                          <td class="ModifiedTime">1292239918000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/919.html">#919</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/919.html">Package preview contains API &amp; datapkg instructions</a>
                          </td>
                          <td class="description">
                            <ol><li>Edit a package
</li><li>Hit 'preview'.
</li></ol><p>
The preview contains the section "CKAN API / datapkg" which seems irrelevant at this point. Looking at ckan.net previews, the Comments section only appears when you view a package and not when you preview it. This seems more sensible - can this be done for the "CKAN API / datapkg" section too?
</p>

                            
                          </td>
                          <td class="PosixTime">1295346730000000
                          </td>
                          <td class="ModifiedTime">1303202627000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/918.html">#918</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/918.html">Package preview doesn't show tags or groups</a>
                          </td>
                          <td class="description">
                            <ol><li>Edit any package
</li><li>Hit 'preview'
</li></ol><p>
Notice that the preview at the bottom doesn't show what tags or groups the package is in. 
</p>
<p>
This is because the new design of the package view only has this info in the sidebar, which is not displayed in the preview.
</p>
<p>
One might argue that this is ok because the tag is not a central part of the metadata, only used for searching, so it is ok not to preview it. But I wanted to check that this change was a conscious decision.
</p>

                            
                          </td>
                          <td class="PosixTime">1295346496000000
                          </td>
                          <td class="ModifiedTime">1315911507000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/253.html">#253</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/253.html">Package relationships</a>
                          </td>
                          <td class="description">
                            <h1 id="Overview">Overview</h1>
<p>
Functionality to formally associate packages. We see a need for specific parent-child, inheriting or dependency relations. Not only should this help navigation between packages in the web interface, but it also provides a mechanism to automatically pull dependencies when downloading a data package, in a similar manner as we see in software package management.
</p>
<h1 id="Examples">Examples</h1>
<ol><li>There are 27 packages in data.gov.uk to do with the Data4NR's Health Poverty Index. There is currently no common link between these, unless you search for 'HPI' (which also brings up House Price Index), or look under tag 'health' (which also has 600 other results). There should be a link on each HPI package page to navigate to the other 'sibling' HPI packages, and to a 'root' package that has info about the set. This could be partially achieved using the existing tag or group concepts, but a more explicit/official/obvious marking of their relationship could be beneficial.
</li></ol><ol start="2"><li>In ckan.net is freedict, a collection of translation dictionaries. You could make each dictionary a child package and use this system. But it would probably be better to make each dictionary a different resource in the same package. (There are other ideas to denote a resource as the data making up a 'portion' of package, or a 'whole' of the package, to help people downloading datasets in the software package style.)
</li></ol><ol start="3"><li>OSM has had some Naptan data imported (bus stops), with special permission - i.e. a more liberal license. It would be useful to show this link on both OSM and Naptan packages in CKAN: OSM 'derives from' Naptan with a comment about the license change. I'm not sure this is useful to an automatic download or use of these datasets, but may aid exploration on the CKAN website and understanding the provenance of the bus stop data on it.
</li></ol><ol start="4"><li>IPCC collection of data linked / mirrored. Not sure if there are useful relationships here?
</li></ol><ol start="5"><li>Dracos gets postbox locations from crowd sourcing and OSM. We could say Dracos 'derives from' OSM.
</li></ol><p>
See more examples discussed here: <a class="ext-link" href="http://trac.ckan.org/ticket/253"><span class="icon">​</span>http://trac.ckan.org/ticket/253</a>
</p>
<h1 id="Implementation">Implementation</h1>
<p>
This is split into four tickets:
</p>
<ul><li>Model: <a class="closed ticket" href="../ticket/254.html" title="enhancement: Package relationships - 1. model (closed: fixed)">ticket:254</a>
</li><li>Read in WUI: <a class="closed ticket" href="../ticket/255.html" title="enhancement: Package relationships - 2. Read in WUI (closed: fixed)">ticket:255</a>
</li><li>Edit in WUI: <a class="assigned ticket" href="../ticket/256.html" title="requirement: Package relationships - 3. Edit in WUI (assigned)">ticket:256</a>
</li><li>API: <a class="closed ticket" href="../ticket/257.html" title="enhancement: Package relationships - 4. Read in API (closed: fixed)">ticket:257</a>
</li></ul><p>
No need for write access to be provided API for the moment.
</p>
<p>
This ticket also encompasses <a class="closed ticket" href="../ticket/169.html" title="enhancement: Package derivations (closed: duplicate)">ticket:169</a> (Package derivations) and <a class="closed ticket" href="../ticket/176.html" title="enhancement: Package dependencies (closed: duplicate)">ticket:176</a> (Package dependencies).
</p>

                            
                          </td>
                          <td class="PosixTime">1266854721000000
                          </td>
                          <td class="ModifiedTime">1339774726000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/254.html">#254</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/254.html">Package relationships - 1. model</a>
                          </td>
                          <td class="description">
                            <p>
New domain object: <a class="missing wiki">PackageRelationship?</a> (revisioned)
</p>
<p>
Attributes:
</p>
<ul><li>subject (Package reference)
</li><li>object (Package reference)
</li><li>type (string)
</li><li>comment
</li></ul><p>
Relationship type values:
depends_on (dependency_of)
derives_from (has_derivation)
child_of (parent_of)
</p>
<p>
Relationship type is stored as a string, as given in the first column. The reverse relationship (bracketed) is given just for display purposes only.
</p>
<p>
Subject / Object - as in a sentence: "Dracos is derived from OSM" is &lt;subject&gt; &lt;predicate&gt; &lt;object&gt;. We'll use 'type' instead of 'predicate' as that is a more familiar word.
</p>

                            
                          </td>
                          <td class="PosixTime">1266928449000000
                          </td>
                          <td class="ModifiedTime">1273596180000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/255.html">#255</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/255.html">Package relationships - 2. Read in WUI</a>
                          </td>
                          <td class="description">
                            <p>
WUI:
</p>
<ul><li>View: show both sides of the relationship (but think carefully -- e.g. a given package may have *many* dependents ...)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928542000000
                          </td>
                          <td class="ModifiedTime">1273596174000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/256.html">#256</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/256.html">Package relationships - 3. Edit in WUI</a>
                          </td>
                          <td class="description">
                            <p>
WUI:
</p>
<ul><li>Editable as part of package or separately? (e.g. like authz)
</li><li>Do we normalize to only one type name of the pair?
</li><li>Do we allow create of relationship from both ends (e.g. only from dependency to dependent or either way?)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928561000000
                          </td>
                          <td class="ModifiedTime">1339774714000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/257.html">#257</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/257.html">Package relationships - 4. Read in API</a>
                          </td>
                          <td class="description">
                            <p>
API:
</p>
<ul><li>Appear in package listing Example: 'relationships': [{'is_dependency_of':'osm', comments:'Since version 0.2'}, {'is_parent_of':'bobs_maps'}]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928630000000
                          </td>
                          <td class="ModifiedTime">1273596170000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/108.html">#108</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/108.html">Package search in the REST API</a>
                          </td>
                          <td class="description">
                            <p>
Add package search facility in the rest api at /api/search
</p>
<p>
Queries can be provided as for the normal package search either by posting to that url or by performing a get with a query string.
</p>
<p>
E.g. .../api/search/package?q=xyz
</p>
<p>
Query parameters:
</p>
<ul><li>q is keyword string (searches name, title, tags by default)
<ul><li>split by words and ANDed
</li></ul></li><li>additional parameters for specific fields
</li><li>qjson is alternative to q for Searching by specific fields (in addition to keyword string). Payload to json is a JSON-encoded dict which is a dictionary with a q field for free text (keywords) and additional key/value pairs for specific fields
<ul><li>if q and qjson specified ignore q and just process qjson value
</li></ul></li></ul><p>
Additional parameters in addition to query ("q" or "qjson") are:
</p>
<ul><li>limit
</li><li>offset
</li><li>fullinfo=0/1 - return full record for each result (default=0)
</li><li>order_by=field_name
</li><li>search_notes=0/1 (default 0) do we search notes field in a keyword search
</li></ul><p>
Return value is json encoded dictionary with keys:
</p>
<ul><li>'results': list of results
</li><li>'count': total number of results
</li></ul><h3 id="Extrasforthefuture">Extras (for the future)</h3>
<ul><li>Prioritisation is not part of this ticket (requires fulltext support in DB or in external app such as Xapian) 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1251915845000000
                          </td>
                          <td class="ModifiedTime">1252340511000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1485.html">#1485</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1485.html">Package/Group form extension mechanism so you can add forms for particular package_types</a>
                          </td>
                          <td class="description">
                            <p>
We want to be able to change form depending on package type or group type.
</p>
<p>
This is dependent on a type field being added to the Package and the Group.
</p>

                            
                          </td>
                          <td class="PosixTime">1322059169000000
                          </td>
                          <td class="ModifiedTime">1340034422000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/292.html">#292</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/292.html">PackageResources are created new on every package edit</a>
                          </td>
                          <td class="description">
                            <p>
When you edit a package, all of its resources are deleted and a fresh set created. This causes all history of them to be lost.
</p>

                            
                          </td>
                          <td class="PosixTime">1271755964000000
                          </td>
                          <td class="ModifiedTime">1272286005000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/343.html">#343</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/343.html">Packages referred by ID in API</a>
                          </td>
                          <td class="description">
                            <p>
When you do a Package Search or query a Package Relationship in the API version 2, the responses have relationships which refer to packages by name, not by ID.
</p>

                            
                          </td>
                          <td class="PosixTime">1276180179000000
                          </td>
                          <td class="ModifiedTime">1278066420000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/174.html">#174</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/174.html">Packages search broken for 'only openly licensed'</a>
                          </td>
                          <td class="description">
                            <p>
the "only openly licensed packages" tick box seems
to return blank page every time - as do queries for only openly
licensed and only downloadable packages. The "only downloadable
packages" tick box by itself seems to work fine. E.g. try searching
for 'science'.
</p>
<p>
Raised by Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1256650867000000
                          </td>
                          <td class="ModifiedTime">1265891093000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/711.html">#711</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/711.html">Packages shall support both UK government and location information with a common set of attributes</a>
                          </td>
                          <td class="description">
                            <p>
Previously, a package type attribute was intended to distinguish between package data that came from government depts. and publishers location information (GEMINI). Now there is an intention use a common set of attributes to support data from either source.
</p>
<p>
Hence, there currently a v.3 of the government attributes, a document about extracting the attributes from Gemini document using XPath, and a comparison documents mapping between governemtn attributes and Gemini attributes.
</p>
<p>
That means there are potentially four different list of attributes. I'm not sure how to go about reviewing the lists and converging any differences.
</p>
<p>
But we do want to end up with a list of names, a description of their purpose, and then perhaps the XPath which would reveal the value from a Gemini doc?
</p>

                            
                          </td>
                          <td class="PosixTime">1287580866000000
                          </td>
                          <td class="ModifiedTime">1296592589000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1436.html">#1436</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1436.html">Packages with a 'pending' state not listed on groups page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1320155227000000
                          </td>
                          <td class="ModifiedTime">1320243278000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/34.html">#34</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">somebody
                          </td>
                          <td class="reporter">zool
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/34.html">Page Not Found - returns with 200 rather than 404 as it should</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1163008961000000
                          </td>
                          <td class="ModifiedTime">1253781550000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/285.html">#285</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/285.html">Paginate list of packages on tag read page</a>
                          </td>
                          <td class="description">
                            <p>
Is this worth doing? On hmg.ckan.net start to have a lot of packages with a given tag ...
</p>

                            
                          </td>
                          <td class="PosixTime">1270664606000000
                          </td>
                          <td class="ModifiedTime">1340631923000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/170.html">#170</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/170.html">Paginate search results</a>
                          </td>
                          <td class="description">
                            <p>
e.g.
</p>
<p>
<a class="ext-link" href="http://www.ckan.net/package/search?q=science&amp;search=Search+Packages+%C2%BB"><span class="icon">​</span>http://www.ckan.net/package/search?q=science&amp;search=Search+Packages+%C2%BB</a>
</p>
<p>
Results are capped at 20, but can't see past first page.
</p>

                            
                          </td>
                          <td class="PosixTime">1256313584000000
                          </td>
                          <td class="ModifiedTime">1265891157000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/52.html">#52</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.7.html">v0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/52.html">Paginated results sets should be customizable across domain objects</a>
                          </td>
                          <td class="description">
                            <ol><li>Tag results could/should show number of associated packages
</li><li>Package results should show title (and be in list)
</li><li>Pagination should be able to be applied to other result sets than simply register listing (e.g. search results ...)
</li><li>Revisions should be listed in a table with full details
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1223549648000000
                          </td>
                          <td class="ModifiedTime">1223908425000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1501.html">#1501</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1501.html">Pagination links broken</a>
                          </td>
                          <td class="description">
                            <p>
Most of the different pagination links are broken and point to wrong locations. e.g:
</p>
<ul><li>Dataset listings in group page:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/group/bibliographic"><span class="icon">​</span>http://test.ckan.net/group/bibliographic</a>
</p>
<ul><li>Tag letters in tag listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/tag"><span class="icon">​</span>http://test.ckan.net/tag</a>
</p>
<ul><li>User listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/user"><span class="icon">​</span>http://test.ckan.net/user</a>
</p>
<ul><li>Revision listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/revision"><span class="icon">​</span>http://test.ckan.net/revision</a>
</p>
<p>
This is most probably related with:
</p>
<p>
<a class="ext-link" href="https://github.com/okfn/ckan/commit/1772a5c"><span class="icon">​</span>https://github.com/okfn/ckan/commit/1772a5c</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1322646397000000
                          </td>
                          <td class="ModifiedTime">1322684411000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1543.html">#1543</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1543.html">Pagination links in the dataset listings don't keep the current filters</a>
                          </td>
                          <td class="description">
                            <p>
E.g.
Pagination links on this page don't include groups=lodcloud
<a class="ext-link" href="http://thedatahub.org/dataset?groups=lodcloud"><span class="icon">​</span>http://thedatahub.org/dataset?groups=lodcloud</a>
</p>
<p>
Not sure if related to <a class="closed ticket" href="../ticket/1501.html" title="defect: Pagination links broken (closed: fixed)">#1501</a> (probably not)
</p>

                            
                          </td>
                          <td class="PosixTime">1323442623000000
                          </td>
                          <td class="ModifiedTime">1324483367000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2281.html">#2281</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-16.html">ckan-sprint-2012-04-16</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2281.html">Pagination styling converted to Bootstrap</a>
                          </td>
                          <td class="description">
                            <p>
Make the search results pagination styled by Bootstrap. 
</p>
<p>
Needs putting into a &lt;ul&gt; structure. Current page and '..' need become links that are styled disabled.
</p>
<p>
Wanted by DGU.
</p>

                            
                          </td>
                          <td class="PosixTime">1333967506000000
                          </td>
                          <td class="ModifiedTime">1333967862000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/699.html">#699</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">TimDavies
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/699.html">Paging search results re-sets Open Only and Downloadable Only flags</a>
                          </td>
                          <td class="description">
                            <p>
When getting a search results page (e.g. <a class="ext-link" href="http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1"><span class="icon">​</span>http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1</a>) and then using the on-page links to page through results, the next link / numbered page links go to <a class="ext-link" href="http://ckan.net/package/search?q=development&amp;page=2"><span class="icon">​</span>http://ckan.net/package/search?q=development&amp;page=2</a> rather than <a class="ext-link" href="http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1&amp;page=2"><span class="icon">​</span>http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1&amp;page=2</a> meaning that the filter flags set (Download Only; Open Only) are not respected on the second page of listings. 
</p>

                            
                          </td>
                          <td class="PosixTime">1287143698000000
                          </td>
                          <td class="ModifiedTime">1296499061000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/147.html">#147</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/147.html">Parser and loader for esw.org data</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1255440695000000
                          </td>
                          <td class="ModifiedTime">1255515162000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/148.html">#148</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/148.html">Parser and loader for esw.org data</a>
                          </td>
                          <td class="description">
                            <ul><li>parse like data4nr code
</li></ul><p>
Follow up tickets: <a class="closed ticket" href="../ticket/149.html" title="enhancement: Loader for esw data recognises existing packages (closed: fixed)">ticket:149</a> and <a class="closed ticket" href="../ticket/150.html" title="enhancement: Loader for esw data uses REST API (closed: fixed)">ticket:150</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1255440696000000
                          </td>
                          <td class="ModifiedTime">1255515222000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1312.html">#1312</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">florian.marienfeld@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1312.html">Particular characters in JSON cause exception creating package on API</a>
                          </td>
                          <td class="description">
                            <p>
From Florian:
</p>
<pre class="wiki">I am having trouble with the characters "=&amp;;".
if they occur e.g. in the title of a package, I get a 400-Bad-Request
when I try to register a package by POSTing to ckan/rest/api/package

However, when I PUT the same package as an edit to
ckan/rest/api/package/existing_package, it works and the title shows
correctly on the front end and API.
</pre><h2 id="Reproduced">Reproduced</h2>
<pre class="wiki">(pyenv-ckan)dread@dread-laptop:~/hgroot/ckan$ curl -i http://localhost:5000/api/rest/package -d '{"name": "test3", "title": "Test &amp;"}' -H "Authorization:tester" 
HTTP/1.0 400 Bad Request
Server: PasteWSGIServer/0.5 Python/2.6.5
Date: Tue, 06 Sep 2011 14:09:31 GMT
Pragma: no-cache
Cache-Control: no-cache
Content-Type: application/json;charset=utf-8
Content-Length: 87

"Bad request - JSON Error: Unterminated string starting at: line 1 column 27 (char 27)"
</pre>
                            
                          </td>
                          <td class="PosixTime">1315318863000000
                          </td>
                          <td class="ModifiedTime">1315327743000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2620.html">#2620</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;2.html">demo phase 2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2620.html">Pass a  related item into the dataset tempate</a>
                          </td>
                          <td class="description">
                            <p>
See the related sidebar box
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/dataset/adur_district_spending"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/adur_district_spending</a>
</p>
<p>
If a package has related items the first (or a random) related item should be passed into the snippet.
</p>

                            
                          </td>
                          <td class="PosixTime">1340897809000000
                          </td>
                          <td class="ModifiedTime">1342074737000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1354.html">#1354</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1354.html">Pass the context object to plugins implementing the IPackageController and IGroupController</a>
                          </td>
                          <td class="description">
                            <p>
Plugins implementing some IPackageController or IGroupController operations (i.e. read, create, edit, delete) may need the context used in the logic action. For instance, to access the Session that created a package to perform additional queries from the extension (In that case the main logic action will still perform the final commit).
</p>

                            
                          </td>
                          <td class="PosixTime">1316955680000000
                          </td>
                          <td class="ModifiedTime">1316970374000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1186.html">#1186</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1186.html">Password reset facility</a>
                          </td>
                          <td class="description">
                            <p>
You can register a user with password and (optional) email address. But if you forget the password you can't then log in again. We need a password reset facility that sends and email with a new password.
</p>

                            
                          </td>
                          <td class="PosixTime">1308142766000000
                          </td>
                          <td class="ModifiedTime">1310556519000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2400.html">#2400</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2400.html">Password reset fails</a>
                          </td>
                          <td class="description">
                            <p>
One user reports that after resetting the password via the reset form he was unable to log in again. He did have an email address associated and received the reset email. After updating his password, login failed
</p>
<pre class="wiki">"Login failed. Bad username or password. (Or if using OpenID, it hasn't been associated with a user account.)"
</pre>
                            
                          </td>
                          <td class="PosixTime">1337188614000000
                          </td>
                          <td class="ModifiedTime">1338205947000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2745.html">#2745</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2745.html">Password reset returns an exception if the key parameter is missing</a>
                          </td>
                          <td class="description">
                            <p>
Instead of showing a notice, the password reset page throws an exception if the key parameter is missing:
</p>
<pre class="wiki">Module ckan.controllers.user:329 in perform_reset
         c.reset_key = request.params.get('key')
               if not mailer.verify_reset_link(user_obj, c.reset_key):
                   h.flash_error(_('Invalid reset key. Please try again.'))
                   abort(403)
 if not mailer.verify_reset_link(user_obj, c.reset_key):
Module ckan.lib.mailer:100 in verify_reset_link
     if not user.reset_key or len(user.reset_key) &lt; 5:
               return False
           return key.strip() == user.reset_key
 return key.strip() == user.reset_key
AttributeError: 'NoneType' object has no attribute 'strip'
</pre><p>
Apart from the obvious fix of checking for the 'key' parameter, it seems like is quite common to get these reset urls without the key parameter, so I suspect some email clients might strip the query params when building the links. We could avoid this problem by making the key part of the url instead of a param:
</p>
<p>
<a class="ext-link" href="http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d/b4c2d03fa8"><span class="icon">​</span>http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d/b4c2d03fa8</a>
</p>
<p>
instead of:
</p>
<p>
<a class="ext-link" href="http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key=b4c2d03fa8"><span class="icon">​</span>http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key=b4c2d03fa8</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1343145931000000
                          </td>
                          <td class="ModifiedTime">1343145931000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1221.html">#1221</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1221.html">Password reset tidy up</a>
                          </td>
                          <td class="description">
                            <ul><li>No tests.
</li><li>500 error given when user is not found.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1310475661000000
                          </td>
                          <td class="ModifiedTime">1310556607000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2951.html">#2951</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2951.html">Paster command for building css from less</a>
                          </td>
                          <td class="description">
                            <p>
With the latest template, css and js changes in 2.0, there are a number of things that need preparation prior to a production deployment. One of these is:
</p>
<ul><li>the less files should be compiled to css (main.css, not just main.debug.css)
</li></ul><p>
This ticket is to provide a paster command which will compile the .less into the main.css file.  The idea of the paster command is that it will be run by developers, and they will check in the resulting .css files.  It will also provide a convenient mechanism for production scenarios with node.js installed on the production server, as they will be able to compile the .less there as well.
</p>
<p>
## Background
</p>
<p>
The .css files that need to be served are built using <tt>less</tt>.  The css files that are generated *are* checked-in to the repo; but they are a build artifact.  So the general workflow is:
</p>
<ul><li>commit changes to the less files
</li><li>build the main.css file and commit
</li></ul><p>
This paster command slots into the above workflow for convenience.
</p>
<p>
## Notes
</p>
<ul><li>doc/frontend-development.rst
</li><li>bin/less
</li></ul><p>
to run this paster command, <tt>Node</tt> will be required.  So that dependency should be checked.
</p>
<p>
## The paster command
</p>
<p>
This is the proposed behaviour of the paster command:
</p>
<ul><li>ensure <tt>custom.less</tt> does not exist
</li><li>for each colour in{fuchsia,green,maroon,red}:
<ul><li>generate a <tt>custom.less</tt> file for $colour.  There's a paster command that does this already: `paster color &lt;color name&gt;.
</li><li>generate the <tt>css</tt> from the <tt>less</tt> files.  ie - the equivelant of running <tt>bin/less --production</tt>.
<ul><li>this will generate a <tt>main.css</tt> file, which should be renamed to <tt>$color.css</tt>.
</li></ul></li></ul></li></ul><ul><li>ensure <tt>custom.less</tt> does not exist
</li><li>generate the <tt>css</tt> from the <tt>less</tt> files.  This will create a <tt>main.css</tt> with the default colour scheme.
</li></ul><ul><li>call the paster command that minifies css and js files.  (This command does not exist yet, see <a class="closed ticket" href="../ticket/2950.html" title="requirement: paster command to minify javascript and css (closed: fixed)">#2950</a>)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1349118740000000
                          </td>
                          <td class="ModifiedTime">1349175030000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2422.html">#2422</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2422.html">Paster rights command appears broken</a>
                          </td>
                          <td class="description">
                            <p>
Reported in IRC by @floapps
</p>
<p>
In previous ckan versions i could use paster commands to remove reader rights from visitors on all packages
and this would then throw the user to login screen when trying to see a dataset but, when i did this in ckan 1.7, i could still see all datasets as a visitor
</p>
<p>
Using <a class="ext-link" href="http://docs.ckan.org/en/latest/authorization.html#permissions-publisher-mode"><span class="icon">​</span>http://docs.ckan.org/en/latest/authorization.html#permissions-publisher-mode</a>
</p>
<blockquote>
<p>
paster rights remove visitor reader package:all
</p>
</blockquote>
<p>
Also has an empty list of roles in config for default visitor roles
</p>
<p>
I tested on my local install and could replicate with that command doing nothing. Neither affects existing or newly created datasets.
</p>

                            
                          </td>
                          <td class="PosixTime">1337937993000000
                          </td>
                          <td class="ModifiedTime">1337945204000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2945.html">#2945</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2945.html">Pdf preview does not load in IE</a>
                          </td>
                          <td class="description">
                            <p>
The pdf preview does not load in IE 9.
</p>

                            
                          </td>
                          <td class="PosixTime">1349090869000000
                          </td>
                          <td class="ModifiedTime">1349090869000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2946.html">#2946</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2946.html">Pdf preview does not load in IE</a>
                          </td>
                          <td class="description">
                            <p>
The pdf preview does not load in IE 9.
</p>

                            
                          </td>
                          <td class="PosixTime">1349090873000000
                          </td>
                          <td class="ModifiedTime">1349090992000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/485.html">#485</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/485.html">Performance beats QoS criteria</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282425219000000
                          </td>
                          <td class="ModifiedTime">1294411946000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/762.html">#762</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/762.html">Permanently Read-Only CKAN instance</a>
                          </td>
                          <td class="description">
                            <p>
A CKAN is used just for distributing metadata. Updates may still arrive through direct db manipulation, e.g.:
</p>
<ul><li>another (but writable) CKAN instance is connected to the same db
</li><li>restoring database dumps from another CKAN db
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1288090578000000
                          </td>
                          <td class="ModifiedTime">1288091982000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2668.html">#2668</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2668.html">Permission for sysadmin to read a deleted publisher</a>
                          </td>
                          <td class="description">
                            <p>
As a sysadmin I should be able to view deleted groups/publishers (publisher profile) but I can't.
</p>
<p>
In addition, there don't seem to be tests for permissions of deleted publishers.
</p>

                            
                          </td>
                          <td class="PosixTime">1342171453000000
                          </td>
                          <td class="ModifiedTime">1345565100000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/926.html">#926</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/926.html">Pick a simpler form framework</a>
                          </td>
                          <td class="description">
                            <p>
The current formalchemy setup conflates view, controller and model code in a way that makes it hard to debug and customise.
</p>
<p>
Review existing (and potentially non-existing) frameworks with a view to porting forms over to something more explicit and lightweight.
</p>
<p>
Implement the current Package forms as an example of how this would work.
</p>
<p>
Document and circulate.
</p>
<p>
Sub-ticket of <a class="closed ticket" href="../ticket/961.html" title="enhancement: [super] Refactoring of forms, validation and model synchronization (closed: fixed)">#961</a> (form, validation, model sync meta-ticket)
</p>

                            
                          </td>
                          <td class="PosixTime">1295869056000000
                          </td>
                          <td class="ModifiedTime">1298541597000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3010.html">#3010</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3010.html">Pin images don't appear in data explorer</a>
                          </td>
                          <td class="description">
                            <p>
When minified files are in use (set debug = false in ini file) the pin images for points don't show up in the data explorer map view when viewing a resource with geolocation data.
</p>
<p>
set debug = true will fix the problem by using unminified files instead but also turns on a bunch of debug stuff you wouldn't want on a production site.
</p>
<p>
middleware.py, around line 73, is where the decision to turn minified files on or off based on the debug setting is made. This can be hacked on a production site to run with unminified files but otherwise run on production mode thereby getting around the issue with the pins. But that doesn't fix the underlying bug.
</p>

                            
                          </td>
                          <td class="PosixTime">1351705506000000
                          </td>
                          <td class="ModifiedTime">1351705506000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/975.html">#975</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/975.html">Placeholder attribute not displayed in some browsers leading to poor UX</a>
                          </td>
                          <td class="description">
                            <p>
Currently placeholder text like 'Search ...' is not shown in some browsers (e.g. FF and IE).
</p>
<p>
This leads to poor UX, for example in top bar search where it unclear whether that box is for login or search.
</p>
<p>
We should fix this by finding a way to display placeholder attribute in all browsers.
</p>

                            
                          </td>
                          <td class="PosixTime">1297343755000000
                          </td>
                          <td class="ModifiedTime">1297344448000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1070.html">#1070</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1070.html">Plan a new domain model and layer architecture for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
See <a class="ext-link" href="http://wiki.ckan.net/Domain_Model"><span class="icon">​</span>http://wiki.ckan.net/Domain_Model</a> especially section on v2.
</p>
<ul><li>New domain model is planned but not yet finally agreed.
</li><li>Layer architecture is complete and implemented
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1301910940000000
                          </td>
                          <td class="ModifiedTime">1310117129000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/439.html">#439</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/439.html">Plan server requirements for DGU</a>
                          </td>
                          <td class="description">
                            <p>
Using use cases for security etc.
Draw diagram to satisfy use cases.
Communicate to Paul and therefore TSO.
</p>

                            
                          </td>
                          <td class="PosixTime">1282224452000000
                          </td>
                          <td class="ModifiedTime">1294413903000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/506.html">#506</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/506.html">Plan transition to DGU metadata-fields v3</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282660490000000
                          </td>
                          <td class="ModifiedTime">1287080989000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1123.html">#1123</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">nils.toedtmann
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1123.html">Please re-package CKAN packages as "noarch"</a>
                          </td>
                          <td class="description">
                            <p>
... or, if the CKAN packages do contain architecture-specific binary code, build packages for i386 too. 
</p>
<p>
Currently, <a class="ext-link" href="http://apt-alpha.ckan.org/debian"><span class="icon">​</span>http://apt-alpha.ckan.org/debian</a> only offers packages for amd64, but e.g. "m1.small" EC2 instances are i386.
</p>
<p>
We would need this in order to migrate the community instances to a packaged based CKAN.
</p>
<p>
Rufus, pls prioritise.
</p>

                            
                          </td>
                          <td class="PosixTime">1304530050000000
                          </td>
                          <td class="ModifiedTime">1311863806000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1535.html">#1535</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1535.html">Plump for auth header of: X-CKAN-API-KEY</a>
                          </td>
                          <td class="description">
                            <p>
When using the API, the apikey needs to be supplied in a header called 'Authorization'. Because some proxys / deployments use this header for other things, a configurable header was provided as an alternative, with default "X-CKAN-API-KEY".
</p>
<p>
Rufus suggests having *one* way for this.
a) making this not configurable any more
b) making X-CKAN-API-KEY the default
</p>
<p>
(keep Authorization allowed, but not documented, for backwards compatibility)
</p>

                            
                          </td>
                          <td class="PosixTime">1323279082000000
                          </td>
                          <td class="ModifiedTime">1339774019000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2976.html">#2976</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2976.html">Polish group and organization member pages</a>
                          </td>
                          <td class="description">
                            <p>
From Toby: A little polish to the member pages and probably a little hardening of
the controller and logic actions
</p>

                            
                          </td>
                          <td class="PosixTime">1350297709000000
                          </td>
                          <td class="ModifiedTime">1350297709000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2995.html">#2995</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2995.html">Popovers for resources, groups, organizations, tags...</a>
                          </td>
                          <td class="description">
                            <p>
If you hover the mouse over a dataset or user in an activity stream, you now get a popover with some info about that dataset or user and a follow/unfollow button.
</p>
<p>
It would be nice to add similar popovers for other types of object in CKAN, e.g. resources, groups, organizations, tags...
</p>

                            
                          </td>
                          <td class="PosixTime">1350484041000000
                          </td>
                          <td class="ModifiedTime">1350484041000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1200.html">#1200</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1200.html">Port PDEU theme to CKAN.net</a>
                          </td>
                          <td class="description">
                            <p>
PDEU has a newer layout which could be adapted to also be used on ckan.net. For this, things should be cleaned up, copied to the ckanext-ckan.net repo as needed and re-colored the core CKAN color scheme. 
</p>
<p>
Maybe we could have this coincide with a CKAN rename? 
</p>

                            
                          </td>
                          <td class="PosixTime">1308824017000000
                          </td>
                          <td class="ModifiedTime">1311180218000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/916.html">#916</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/vdm-0.8.html">vdm-0.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/916.html">Port new vdm to Mongodb</a>
                          </td>
                          <td class="description">
                            <p>
We should create a port of VDM 0.9 for MongoDB to support user editing in WDMMG. 
</p>

                            
                          </td>
                          <td class="PosixTime">1295277011000000
                          </td>
                          <td class="ModifiedTime">1297066902000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/567.html">#567</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/567.html">Post new harvest job for given harvest source</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1284039943000000
                          </td>
                          <td class="ModifiedTime">1284689374000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1613.html">#1613</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1613.html">Post-dataset-edit URL has #section</a>
                          </td>
                          <td class="description">
                            <ol><li>Viewing a dataset, hit 'Edit'
</li><li>Click on the "Basic Information" tab (note: URL has suffix   #section-basic-information
</li><li>Click 'Save'
</li><li>URL still has suffix #section-basic-information
</li></ol><p>
Affects 1.5, 1.5.1, 1.5.2a
</p>

                            
                          </td>
                          <td class="PosixTime">1325685555000000
                          </td>
                          <td class="ModifiedTime">1326813924000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/335.html">#335</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/335.html">Post-package-edit redirect to configurable URL</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
third-party interface to a CKAN instance
</p>
<h2 id="Iwantto">I want to</h2>
<p>
link to CKAN's package creation/editing pages. On 'commit', have the user redirected back to a URL in my interface that I can control. Also, when the package is created new, I need to be told what the new package's name is on return.
</p>
<h2 id="Design">Design</h2>
<ol><li>The 'return URL' is passed as a parameter to CKAN.
</li><li>CKAN substitutes the package name into the return URL.
</li></ol><p>
 
</p>
<h2 id="Example">Example</h2>
<p>
Front-end links to:
http://ca.ckan.net/package/new?return_to=http://datadotgc.ca/dataset/&lt;NAME&gt; (but with the parameter URL-encoded)
</p>
<p>
When finished editing and the user commits, CKAN redirects the user to: http://datadotgc.ca/dataset/pollution_data
</p>

                            
                          </td>
                          <td class="PosixTime">1275408834000000
                          </td>
                          <td class="ModifiedTime">1276179605000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/680.html">#680</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/680.html">Prepare for DGU tech meeting</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1286386074000000
                          </td>
                          <td class="ModifiedTime">1287141809000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/251.html">#251</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/251.html">Present in the API a list of revision IDs, and present individual revisions when referenced by ID</a>
                          </td>
                          <td class="description">
                            <p>
Want to have:
</p>
<ul><li>/api/search/revision/
</li></ul><p>
Support querying by "since time" and "since revision". Each individual revision should be available in the REST API (read-only):
</p>
<ul><li>/api/rest/revision/{revision ID}
<ul><li>should include revision attributes plus revision.packages e.g. like { "id": "...", ... "packages": [ list of packages names from e.g. revision.packages ] }
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1266519743000000
                          </td>
                          <td class="ModifiedTime">1271423917000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/447.html">#447</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/447.html">Presentation on Package edit form (labels IE7, horiz alignment in chrome)</a>
                          </td>
                          <td class="description">
                            <p>
Follow up with NS and RP.
</p>

                            
                          </td>
                          <td class="PosixTime">1282299423000000
                          </td>
                          <td class="ModifiedTime">1311182895000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1151.html">#1151</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">timmcnamara
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1151.html">Preview for geographic data should be a map</a>
                          </td>
                          <td class="description">
                            <p>
Data viewer / previewer for a resource that has a KML file, or others, such as GeoRSS and GeoJSON, we should provide a map.
</p>
<ul><li>Support for KML files: <a class="assigned ticket" href="../ticket/1458.html" title="enhancement: Support previewing kml files in data viewer (assigned)">#1458</a>
</li></ul><p>
This is non-trivial for external files as we need a way to jsonify. For files stored locally this is more of a recline issue (and will require a bit of work to either guess columns or allow user to specify them).
</p>

                            
                          </td>
                          <td class="PosixTime">1306043217000000
                          </td>
                          <td class="ModifiedTime">1330908188000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2851.html">#2851</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2851.html">Preview of PDF tries to connect to datastore</a>
                          </td>
                          <td class="description">
                            <p>
e.g. <a class="ext-link" href="http://datahub.io/dataset/ccc-gistemp/resource/80ebdbd6-d91b-4fef-9db4-d3dfbd7e868e"><span class="icon">​</span>http://datahub.io/dataset/ccc-gistemp/resource/80ebdbd6-d91b-4fef-9db4-d3dfbd7e868e</a>
</p>
<p>
CKAN attempts to render the PDF as a datastore tabular date even though the mimetype of the PDF is correctly specified.
</p>

                            
                          </td>
                          <td class="PosixTime">1345032766000000
                          </td>
                          <td class="ModifiedTime">1345032766000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2961.html">#2961</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dominik
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2961.html">Preview plugin endpoint</a>
                          </td>
                          <td class="description">
                            <p>
Users could write ckan extensions that offer previews for a certain datatype. 
</p>
<p>
Advantages:
</p>
<ul><li>We can say that you can add your own previews
</li><li>Every preview would have to define it's own dependencies
</li><li>External development (community creates new extensions?)
</li></ul><p>
Questions to answer:
</p>
<ul><li>Specification of the interface
</li><li>Precedence of previews for the same data types
</li><li>Plugins only define the datatype that they are responsible for or do we call a function that returns whether the extension is responsible. 
</li></ul><p>
As far as I can see, this should be fairly easy to implement by following these instructions: <a class="ext-link" href="http://docs.ckan.org/en/latest/writing-extensions.html#writing-a-plugin-interface"><span class="icon">​</span>http://docs.ckan.org/en/latest/writing-extensions.html#writing-a-plugin-interface</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1349696367000000
                          </td>
                          <td class="ModifiedTime">1350577990000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/304.html">#304</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/304.html">Previewing package with resource with missing url is broken</a>
                          </td>
                          <td class="description">
                            <p>
Intended outcome:
</p>
<p>
See resource url validation error when previewing package with a resources that has no url.
</p>
<p>
Recurring Error:
</p>
<pre class="wiki">URL: http://127.0.0.1:5000/package/new
File 'pyenv-ckan/lib/python2.5/site-packages/weberror/evalexception.py', line 431 in respond
  app_iter = self.application(environ, detect_start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/repoze/who/middleware.py', line 107 in __call__
  app_iter = app(environ, wrapper.wrap_start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/beaker/middleware.py', line 73 in __call__
  return self.app(environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/beaker/middleware.py', line 152 in __call__
  return self.wrap_app(environ, session_start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Routes-1.10.3-py2.5.egg/routes/middleware.py', line 130 in __call__
  response = self.app(environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/wsgiapp.py', line 125 in __call__
  response = self.dispatch(controller, environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/wsgiapp.py', line 324 in dispatch
  return controller(environ, start_response)
File 'pyenv-ckan/src/ckan/ckan/lib/base.py', line 50 in __call__
  return WSGIController.__call__(self, environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 221 in __call__
  response = self._dispatch_call()
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 172 in _dispatch_call
  response = self._inspect_call(func)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 107 in _inspect_call
  result = self._perform_call(func, args)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 60 in _perform_call
  return func(**args)
File 'pyenv-ckan/src/ckan/ckan/controllers/package.py', line 216 in new
  clear_session=True)
File 'pyenv-ckan/src/ckan/ckan/controllers/package.py', line 357 in _render_edit_form
  edit_form_html = fs.render()
File 'pyenv-ckan/src/ckan/ckan/forms/builder.py', line 13 in render
  return render(self.form_template)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 663 in render
  format=format, namespace=kargs, **cache_args)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 546 in render
  **options)
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/plugin.py', line 110 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 179 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 60 in encode
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 425 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 592 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 698 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 532 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 283 in _ensure
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 569 in _include
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/markup.py', line 245 in _match
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 543 in _exec
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 533 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 520 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 286 in _eval_expr
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 180 in evaluate
File 'pyenv-ckan/src/ckan/ckan/templates/package/form_fields.html', line 52 in &lt;Expression u'h.literal(field.render())'&gt;
  ${h.literal(field.render())}
File 'pyenv-ckan/lib/python2.5/site-packages/FormAlchemy-1.3.4-py2.5.egg/formalchemy/fields.py', line 1217 in render
  return self.renderer.render(**opts)
File 'pyenv-ckan/src/ckan/ckan/forms/common.py', line 311 in render
  return render('package/form_resources')
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 663 in render
  format=format, namespace=kargs, **cache_args)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 546 in render
  **options)
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/plugin.py', line 110 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 179 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 60 in encode
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 425 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 592 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 698 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 532 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 283 in _ensure
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 569 in _include
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/markup.py', line 245 in _match
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 543 in _exec
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 510 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 520 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 286 in _eval_expr
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 180 in evaluate
File 'pyenv-ckan/src/ckan/ckan/templates/package/form_resources.html', line 14 in &lt;Expression u"res['id'] if res else ''"&gt;
  &lt;td&gt;&lt;input name="${c.id}-${i}-id" type="hidden" value="${res['id'] if res else ''}" /&gt;&lt;/td&gt;
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 335 in lookup_item
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 405 in undefined
UndefinedError: {'url': u'a', 'hash': u'a', 'description': u'a', 'format': u'a'} has no member named "id"
</pre><p>
How to reproduce:
</p>
<ol><li>Go to package edit form, enter a package resource <strong>but without a URL</strong>.
</li><li>Click preview.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1272379550000000
                          </td>
                          <td class="ModifiedTime">1272447296000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2960.html">#2960</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2960.html">Private datasets are not private</a>
                          </td>
                          <td class="description">
                            <p>
At the moment everyone can read all resources. There is no support for hiding resources that are in private datasets.
</p>

                            
                          </td>
                          <td class="PosixTime">1349694255000000
                          </td>
                          <td class="ModifiedTime">1349694255000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1017.html">#1017</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1017.html">Problem assigning users to authz groups through web interface</a>
                          </td>
                          <td class="description">
                            <p>
Against ckan-1.3.1, when I create an authz group called "administrators" and visit /authorizationgroup/edit/administrators, I am unable to add more than one user to it.
</p>
<p>
Each time I add additional users, the existing user on the list is replaced with the new one.
</p>

                            
                          </td>
                          <td class="PosixTime">1299071127000000
                          </td>
                          <td class="ModifiedTime">1299668555000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/146.html">#146</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/146.html">Problem when an admin user logs in between commencing editing and saving</a>
                          </td>
                          <td class="description">
                            <ol><li>Visitor starts editing a package (or creates a new package)
</li><li>Visitor logs in before previewing or committing
</li><li>Visitor is an admin (or sysadmin)
</li><li>Preview or commit fails
</li></ol><p>
Reason (conjecture): the form we use for package editing is now dependent on whether you have admin privileges (we allow editing of state by admins). When you login the old form is now incorrect and this results in the formalchemy fieldset breaking.
</p>

                            
                          </td>
                          <td class="PosixTime">1255013773000000
                          </td>
                          <td class="ModifiedTime">1291829862000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2605.html">#2605</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2605.html">Problem with user.get_groups</a>
                          </td>
                          <td class="description">
                            <p>
From DR at DGU
</p>
<p>
Basically get_groups() appears to cache its results, but this falls
down when subsequent calls are in a different session. We get this
when saving a dataset. get_groups() first gets called in the
controller when it is trying to work out what permissions the user
has. It later gets called, and by this time c.userobj is detached, so
get_groups() fails.
</p>
<p>
I'm working around this by refreshing c.userobj (from c.user) before
calling get_groups(), but I wonder if the get_groups caching could
detect the detached session and bypass the cache in this case?
</p>
<p>
diff at <a class="ext-link" href="https://gist.github.com/3003117"><span class="icon">​</span>https://gist.github.com/3003117</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1340793006000000
                          </td>
                          <td class="ModifiedTime">1343127369000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1170.html">#1170</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-2.html">ckan-v1.5-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1170.html">Production deployment docs out of date</a>
                          </td>
                          <td class="description">
                            <p>
Need to cover pip-requirements.txt on different branches in the doc/deployment.rst. 
</p>
<p>
Also could do with tidying up upgrade.txt into this document too.
</p>

                            
                          </td>
                          <td class="PosixTime">1306864171000000
                          </td>
                          <td class="ModifiedTime">1306864422000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/903.html">#903</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/903.html">Proper handling of deleted packages in Solr serps</a>
                          </td>
                          <td class="description">
                            <p>
Currently, deleted packages are filtered from search results after solr returns. That means result count can drop below the requested number, down to 0. Thus we need to filter before or in Solr. 
</p>

                            
                          </td>
                          <td class="PosixTime">1294831054000000
                          </td>
                          <td class="ModifiedTime">1296588070000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/817.html">#817</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/817.html">Proposed redesign of Resources table on package pages</a>
                          </td>
                          <td class="description">
                            <p>
There are some problems with the Resources table on package pages:
</p>
<ol><li>The column labelled “URL” doesn't contain URLs, but just the word “Download”.
</li><li>The links labelled “Download” often are not download links, but something else (example links, API endpoints, documentation links).
</li></ol><p>
Attached is a screenshot for a proposed redesign. The changes are:
</p>
<ol><li>Move the Format column to the right of the Description column (description is more important)
</li><li>Make the description a clickable link
</li><li>Drop the “URL/Download” column because it's now redundant
</li><li>Rename “Description” to “Resource” (not that important)
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1289997384000000
                          </td>
                          <td class="ModifiedTime">1297073724000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1429.html">#1429</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1429.html">Provide DOIs for datasets in a CKAN instance</a>
                          </td>
                          <td class="description">
                            <p>
DOI = digital object identifier = <a class="ext-link" href="http://www.doi.org/"><span class="icon">​</span>http://www.doi.org/</a>
</p>
<p>
As a Publisher I want a DOI for my dataset so that it can be cited by and linked to by others in a standard and easy way.
</p>
<h2 id="Details">Details</h2>
<ul><li>Probably implement as extension rather than core
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1319977305000000
                          </td>
                          <td class="ModifiedTime">1319977305000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/44.html">#44</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.7.html">v0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/44.html">Provide RSS/Atom Feed of Repository History</a>
                          </td>
                          <td class="description">
                            <h1 id="AsA">As A</h1>
<p>
Visitor
</p>
<h1 id="IWantTo">I Want To</h1>
<p>
Get an RSS/Atom Feed of the Repository History to use in my feed reader (or elsewhere).
</p>
<h1 id="Details">Details</h1>
<ul><li>Preference for Atom.
</li><li>should just add parameter to /revision/list/ (or /revision/) to select atom format e.g. ?format=atom.
</li><li>should have a 'days' attribute specifying number of days back to go e.g. &amp;days=30
</li></ul><h1 id="Cost">Cost</h1>
<p>
Low
</p>

                            
                          </td>
                          <td class="PosixTime">1199788457000000
                          </td>
                          <td class="ModifiedTime">1223390660000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <span class="current">15</span>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>