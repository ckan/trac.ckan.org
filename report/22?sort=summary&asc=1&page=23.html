<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=summary&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=summary&amp;asc=1&amp;page=23.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2201 - 2300 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <span class="current">23</span>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=23.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=23.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=23.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=23.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=23.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=23.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=23.html">
              Resolution
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=23.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=23.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=23.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1649.html">#1649</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1649.html">Verify RDF Extension (ckanext-rdf) works</a>
                          </td>
                          <td class="description">
                            <ul><li>Make sure that the extension works as it should and isn't broken on current releases [3d]
</li></ul><ul><li>Make it work with the EC schema, including extras [2d]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1326709096000000
                          </td>
                          <td class="ModifiedTime">1338205274000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/459.html">#459</a>
                          </td>
                          <td class="type">bug
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/459.html">Versions on branches are broken</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282299973000000
                          </td>
                          <td class="ModifiedTime">1282921783000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/53.html">#53</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.8.html">v0.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/53.html">View Information about Package history (i.e. package revisions)</a>
                          </td>
                          <td class="description">
                            <h1 id="AsA">As A</h1>
<p>
<a class="missing wiki">Visitor/User?</a>
</p>
<h1 id="Iwantto">I want to</h1>
<p>
View information about a package history, i.e. what revisions it has.
</p>
<h1 id="Details">Details</h1>
<ul><li>History info should be available at package/history/pkg-name
</li><li>Most basic info is just info from revision (when it occurred, author etc)
</li><li>More sophisticated would be to have diff support to see differences between revisions
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1223552139000000
                          </td>
                          <td class="ModifiedTime">1239133021000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2827.html">#2827</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2827.html">View Item - RSS Feed Issues</a>
                          </td>
                          <td class="description">
                            <p>
Problem: Server Error (HTTP Code 500) when trying to see information related to an RSS feed... example: <a class="ext-link" href="http://s031.okserver.org:2375/en/dataset/testerisation/resource/974df29e-77bb-4b5e-982c-cb7a295c1923"><span class="icon">​</span>http://s031.okserver.org:2375/en/dataset/testerisation/resource/974df29e-77bb-4b5e-982c-cb7a295c1923</a>
Expected: A page that looks a bit more like this: <a class="ext-link" href="http://s031.okserver.org:2375/dataset/epims-lod2/resource/97531bd8-e75c-4efa-bfa2-bb51d0ba90d0"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/epims-lod2/resource/97531bd8-e75c-4efa-bfa2-bb51d0ba90d0</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1344505590000000
                          </td>
                          <td class="ModifiedTime">1344549139000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/6.html">#6</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">somebody
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/milestone1.html">milestone1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/6.html">View a package</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
Visitor
</p>
<h2 id="Iwantto">I want to</h2>
<p>
View the details of an individual package
</p>
<h2 id="Sothat">So that</h2>
<p>
I know more about the package. Attributes available are detailed in updating a package (../UseCase12)
</p>

                            
                          </td>
                          <td class="PosixTime">1152549960000000
                          </td>
                          <td class="ModifiedTime">1183648175000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/103.html">#103</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/103.html">View a package at a given revision</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to view a package at a given revision:
</p>
<ul><li>When I visit /package/read/xyz?rev=yyy I should be shown package at revision yyy
</li><li>package history page should provide links to these pages
</li></ul><p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1251289897000000
                          </td>
                          <td class="ModifiedTime">1311180850000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1236.html">#1236</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1236.html">View a package at a given revision</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to view a package at a given revision:
</p>
<ul><li>When I visit /package/osm@yyyy-mm-dd or /package/osm@rrrrrrr I should be shown package at date yyyy-mm-dd or revision rrrrrrr.
</li><li>viewing this page, it should say it is the old revision, just like wikipedia
</li><li>package history page should provide links to these pages
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1311269333000000
                          </td>
                          <td class="ModifiedTime">1330019788000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/104.html">#104</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/104.html">View a package at a given version</a>
                          </td>
                          <td class="description">
                            <p>
As a user i want to see a package at "version" X (NB: not revision X).
</p>
<ul><li>When I visit e.g. /package/read/xyz?version=0.7 I should be shown package at version 0.7 (or a message saying no such version)
</li><li>Implementation:
<ul><li>Find revision for this version (search revision history for when version field was last 0.7)
</li><li>Show pacakge at that revision (as in <a class="closed ticket" href="../ticket/103.html" title="enhancement: View a package at a given revision (closed: fixed)">ticket:103</a>)
</li></ul></li><li>On history page also shows versions in list of revisions associated with the package
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1251292672000000
                          </td>
                          <td class="ModifiedTime">1311181303000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/7.html">#7</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/7.html">View a release associated with a package</a>
                          </td>
                          <td class="description">
                            <p>
See Update a release (ticket 14) for more information on what should be shown.
</p>

                            
                          </td>
                          <td class="PosixTime">1152550022000000
                          </td>
                          <td class="ModifiedTime">1204136209000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/32.html">#32</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.3.html">v0.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/32.html">View a tag</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
Visitor
</p>
<h2 id="Iwantto">I want to</h2>
<p>
View a tag's page which should list all packages associated with that tag (or link to a page containing that list).
</p>
<h2 id="Notes">Notes</h2>
<ul><li>The tags should have a nice primary url such as /tag/&lt;tag-name&gt; (could also use the plural i.e. /tag/&lt;tag-name&gt;)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1157375968000000
                          </td>
                          <td class="ModifiedTime">1185472746000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/8.html">#8</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/8.html">View file</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
Visitor
</p>
<h2 id="Iwantto">I want to</h2>
<p>
View the files associated with a package.
</p>
<h2 id="Notes">Notes</h2>
<ul><li>See also <a class="closed ticket" href="../ticket/16.html" title="enhancement: Update a file (closed: invalid)">ticket:16</a> (updating a file).
</li><li>Files should either be listed on the same page as a release or there should be a link from the release page to a page listing all the files associated with the release. See also <a class="closed ticket" href="../ticket/14.html" title="enhancement: Update a release (closed: invalid)">ticket:14</a> (update a release)
</li></ul><p>
  
</p>

                            
                          </td>
                          <td class="PosixTime">1152550057000000
                          </td>
                          <td class="ModifiedTime">1250619147000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/24.html">#24</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">somebody
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.9.html">v0.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/24.html">View list of most recently registered or updated packages on front page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1152551291000000
                          </td>
                          <td class="ModifiedTime">1246441366000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1238.html">#1238</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1238.html">Viewing a package @date misses non-PackageRevisions</a>
                          </td>
                          <td class="description">
                            <p>
There's a problem with getting old versions of packages using @date. The query looks for the <a class="missing wiki">PackageRevision?</a> related to the date, but ignores <a class="missing wiki">TagRevisions?</a> etc.
</p>
<p>
So for example if you compare this table:
<a class="ext-link" href="http://ckan.net/package/history/osm"><span class="icon">​</span>http://ckan.net/package/history/osm</a>
with this view:
<a class="ext-link" href="http://ckan.net/package/osm%402010-11-30%2000%3A21%3A49.627830"><span class="icon">​</span>http://ckan.net/package/osm%402010-11-30%2000%3A21%3A49.627830</a>
you actually see the 2010-01-13 11:13 revision - the wrong revision.
</p>

                            
                          </td>
                          <td class="PosixTime">1311351303000000
                          </td>
                          <td class="ModifiedTime">1311759784000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1491.html">#1491</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1491.html">Visible strings need internationalisation</a>
                          </td>
                          <td class="description">
                            <p>
Sean spotted that some strings need internationalising, such as flash messages. Generally all strings that appear on the web front-end should be internationalised.
</p>
<p>
Particular places that need i18n:
</p>
<ul><li>ckan/controllers/admin
</li><li>ckan/lib/base
</li></ul><p>
Note: there are some exceptions, such as in i18n.py, very obscure error messages and stuff that only appears on the API.
</p>
<p>
NB: there is a cost in making a string internationalisable (all our volunteers have to translate it), so we should not be too zealous. We should also look at the i18n/ckan.pot to see if any of the existing strings can be reused.
</p>

                            
                          </td>
                          <td class="PosixTime">1322481000000000
                          </td>
                          <td class="ModifiedTime">1330020630000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1090.html">#1090</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1090.html">Visitor can't create packages on new CKAN install</a>
                          </td>
                          <td class="description">
                            <p>
Default visitor roles in default config is reader, not anon_editor. 
</p>
<p>
Problem caused by changes in <a class="closed ticket" href="../ticket/1066.html" title="enhancement: Default reader role too permissive (closed: fixed)">#1066</a> (released in 1.3.3)
</p>
<p>
New installs will be affected, although simple to just increase permissions when the installer realises a visitor can't create packages.
</p>
<p>
The solution to the config getting out of sync with the code like this is to not have the default_roles in the config - refer to the code in the configuration instructions.
</p>

                            
                          </td>
                          <td class="PosixTime">1302635219000000
                          </td>
                          <td class="ModifiedTime">1302635699000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/462.html">#462</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/462.html">Visitor downloads a daily database dump</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282305305000000
                          </td>
                          <td class="ModifiedTime">1285757238000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1.html">#1</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">somebody
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/milestone1.html">milestone1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1.html">Visitor visits service</a>
                          </td>
                          <td class="description">
                            <h2 id="Title">Title</h2>
<p>
Visitor visits service
</p>
<h2 id="Asa">As a</h2>
<p>
Visitor (general web user)
</p>
<h2 id="Iwantto">I want to</h2>
<p>
Visit the website of the service (frontpage)
</p>
<h2 id="Sothat">So that</h2>
<ul><li>See the front page and discover information about the service
</li><li>Perform various activities related to the service such as registering and finding packages, registering as a user and logging in
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1152549417000000
                          </td>
                          <td class="ModifiedTime">1183636342000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/716.html">#716</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/iati-3.html">iati-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/716.html">Visual improvments to IATI CKAN</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1287583741000000
                          </td>
                          <td class="ModifiedTime">1290000673000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/799.html">#799</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/799.html">WAF harvesting shall be optimised in respect of reharvesting only records that have changed</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1289483264000000
                          </td>
                          <td class="ModifiedTime">1294232675000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/650.html">#650</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/650.html">WUI editing for Authorization Groups</a>
                          </td>
                          <td class="description">
                            <ul><li>Copy &amp; adapt Group controller tests to suit <a class="missing wiki">AuthorizationGroups?</a>
</li><li>Copy &amp; adapt Group controllers and templates for Authorization Groups
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1284890073000000
                          </td>
                          <td class="ModifiedTime">1287391932000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2304.html">#2304</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-15.html">ckan-sprint-2012-05-15</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2304.html">Watching/following of dataset/users</a>
                          </td>
                          <td class="description">
                            <p>
User story <a class="closed ticket" href="../ticket/37.html" title="enhancement: Purge a Revision (i.e. purge all changes associated with that revision) (closed: fixed)">#037</a> here: <a class="ext-link" href="http://ckan.okfnpad.org/feature-1515-activity-streams-user-stories"><span class="icon">​</span>http://ckan.okfnpad.org/feature-1515-activity-streams-user-stories</a>
</p>
<p>
Technical analysis here: <a class="ext-link" href="http://ckan.okfnpad.org/27"><span class="icon">​</span>http://ckan.okfnpad.org/27</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1334587233000000
                          </td>
                          <td class="ModifiedTime">1337158641000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2783.html">#2783</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2783.html">Way to generate homepage backgrounds for demos/ckan hosted</a>
                          </td>
                          <td class="description">
                            <p>
Really we want this for CKAN Hosted &amp; for creating demos.
</p>
<p>
Currently we're using <a class="ext-link" href="http://leaflet.cloudmade.com/"><span class="icon">​</span>http://leaflet.cloudmade.com/</a> - but by finding the area &amp; taking screenshots. Would be better to interate with the app so that:
a) this happens automatically and 
b) correct attribution will be visible on maps
</p>

                            
                          </td>
                          <td class="PosixTime">1343812931000000
                          </td>
                          <td class="ModifiedTime">1343818702000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/341.html">#341</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/341.html">Web UI accepts package IDs in URLs</a>
                          </td>
                          <td class="description">
                            <p>
(in the same way that we can refer to packages in the API by ID as well as name.)
</p>
<h2 id="Asa">As a</h2>
<p>
client of CKAN
</p>
<h2 id="Iwantto">I want to</h2>
<p>
link to a package page in the UI, referring to it by ID
</p>

                            
                          </td>
                          <td class="PosixTime">1276162400000000
                          </td>
                          <td class="ModifiedTime">1277483030000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/745.html">#745</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/745.html">Web UI shall accept requests for harvesting jobs</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1288013148000000
                          </td>
                          <td class="ModifiedTime">1294412820000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/646.html">#646</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/646.html">Web UI shall support registering harvest sources</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1284740303000000
                          </td>
                          <td class="ModifiedTime">1294413500000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/340.html">#340</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/340.html">Web UI theme easier to configure</a>
                          </td>
                          <td class="description">
                            <p>
An install of CKAN should be configurable without changing any of the installed files. This makes it clear to upgrade CKAN. Complete the changes in this wiki page to allow static files to be served from outside CKAN paths over CKAN versions and additional CSS file to be pulled in.
</p>
<p>
<a class="ext-link" href="http://wiki.okfn.org/ckan/doc/theme"><span class="icon">​</span>http://wiki.okfn.org/ckan/doc/theme</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1276009729000000
                          </td>
                          <td class="ModifiedTime">1328807317000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1019.html">#1019</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1019.html">Webhooks notification service</a>
                          </td>
                          <td class="description">
                            <p>
We propose the following push approach using individual packages:
</p>
<ol><li>New, updated and deleted packages are pushed to a url endpoint on Wordpress (WPURL). This endpoint will be a configuration option on the CKAN side. A POST or PUT http method will get used. The payload will be a json document of the following form:
</li></ol><blockquote>
<p>
{  
</p>
<blockquote>
<p>
payload: The entity data as available from the REST API 
entity-type: 'Package', 
operation-type: 'create'|'update'|'delete' # one of these options 
</p>
</blockquote>
<p>
}
</p>
</blockquote>
<p>
It will be sent as the body of the request with content-type set to application/json.
</p>
<ol start="2"><li>The wordpress side will provide a 200 on success. Any other response will be taken as a failure. On failure, submission will be archived and failure logged and notified to system administrator. Submission can be resent later automatically by sysadmin after review.
</li></ol><ol start="3"><li>Pushes will happen continuously and approximately simultaneously with updates (a webhooks type model)
</li></ol><ol start="4"><li>[optional] CKAN side will support configuring authorization for basic authentication if applied on WP side.
</li></ol><ol start="5"><li>[optional] List queue status (including failures) on ckan adminstrative dashboard.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1299166784000000
                          </td>
                          <td class="ModifiedTime">1299166930000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1208.html">#1208</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1208.html">Webstore: a datastore with web API</a>
                          </td>
                          <td class="description">
                            <ul><li>SQLite based
</li><li>Use Cyclone for async http server on top with auth
</li><li>Designed to not be specific to CKAN or anything else
</li></ul><p>
Current code is here: <a class="ext-link" href="https://github.com/okfn/webstore"><span class="icon">​</span>https://github.com/okfn/webstore</a>.
</p>
<h2 id="APISpec">API Spec</h2>
<h4 id="Read">Read</h4>
<p>
Two basic ways to query::
</p>
<pre class="wiki">    GET: /{owner}/{db-name}/?sql=...
    GET: /{owner}/{db-name}/?table=...&amp;attr=value&amp;attr=value&amp;limit=...
</pre><p>
Returns::
</p>
<pre class="wiki">  {
      u'keys': [u'id', u'name'],
      u'data': [
          [1, u'jones'],
          [u'aaa', u'jones']
          ]
  }
</pre><h4 id="Write">Write</h4>
<p>
POST to::
</p>
<blockquote>
<p>
/{owner/{database}/{table}
</p>
</blockquote>
<p>
Payload is json data structured as follows::
</p>
<blockquote>
<p>
{
</p>
<blockquote>
<p>
unique_keys: [list of key attributes]
data: {dict of values}
</p>
</blockquote>
<p>
}
</p>
</blockquote>
<h3 id="AuthenticationandAuthorization">Authentication and Authorization</h3>
<p>
Authentication: use basic auth header.
</p>
<p>
Authorization:
</p>
<ul><li>Default: all read, owner can write
</li><li>Restricted: owner can read and write, everyone can do nothing
</li></ul><p>
Possible future: config file can specify a python method (TODO: method
signature)
</p>
<h3 id="IntegrationwithOtherSystems">Integration with Other Systems</h3>
<p>
TODO: Specify how to delegate authenatication to user database in some other system.
</p>

                            
                          </td>
                          <td class="PosixTime">1309804460000000
                          </td>
                          <td class="ModifiedTime">1312191646000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2934.html">#2934</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">Dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2934.html">Webtests for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
The tests in CKAN only test single pages (functional tests) or single methods (unit tests). In order to make sure that the whole system still works as expected, we need tests that cover whole processes. 
</p>
<p>
An example user story to be tested would be:
"As a user with create permissions I want to be able to log in, create a new resource, save it and then make sure that it is in the system."
or:
"As a user I want to use the search functionality and open a resource from the search page."
</p>
<p>
These user stories require a different testing system with interaction and processes. 
</p>

                            
                          </td>
                          <td class="PosixTime">1347966647000000
                          </td>
                          <td class="ModifiedTime">1348060201000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1822.html">#1822</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1822.html">Weight mulilingual searches correctly</a>
                          </td>
                          <td class="description">
                            <p>
Dismax query across languages. Titles and selected languages, weighted more highly. 
</p>

                            
                          </td>
                          <td class="PosixTime">1329772080000000
                          </td>
                          <td class="ModifiedTime">1330990127000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/61.html">#61</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/61.html">When dumping data to json do not dump private information like API keys</a>
                          </td>
                          <td class="description">
                            <p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1239123529000000
                          </td>
                          <td class="ModifiedTime">1265890790000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1109.html">#1109</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1109.html">When extras has a value other than a string an integrity error occurs in the api.</a>
                          </td>
                          <td class="description">
                            <p>
This is a regression that happened after refactoring the api.
</p>
<p>
It was shown by 
</p>
<p>
<a class="ext-link" href="http://pastebin.com/2v7QasZy"><span class="icon">​</span>http://pastebin.com/2v7QasZy</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1303839943000000
                          </td>
                          <td class="ModifiedTime">1305124697000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/39.html">#39</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.7.html">v0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/39.html">When listing packages show more information than just name.</a>
                          </td>
                          <td class="description">
                            <p>
When a package listing is shown (as on <a class="ext-link" href="http://ckan.net/package/list"><span class="icon">​</span>http://ckan.net/package/list</a>) more information than just name should be shown. For example package titles should be shown as well as names (could also list tags and other stuff but simplest is just title).
</p>
<p>
Cost: 1
</p>

                            
                          </td>
                          <td class="PosixTime">1194608920000000
                          </td>
                          <td class="ModifiedTime">1223908298000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/156.html">#156</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/156.html">Whitelist for html in mark-down field</a>
                          </td>
                          <td class="description">
                            <p>
Not just links that need to be displayed. Other html should be displayed too, such as tables which can't be represented in markdown. Do a search of the existing fields to see what is needed.
</p>

                            
                          </td>
                          <td class="PosixTime">1255623973000000
                          </td>
                          <td class="ModifiedTime">1271962871000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/418.html">#418</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/418.html">With COI, get SOLR working</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1281431691000000
                          </td>
                          <td class="ModifiedTime">1291637919000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1569.html">#1569</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1569.html">Wordpressser</a>
                          </td>
                          <td class="description">
                            <p>
How much effort will this be to be ready to use?
</p>

                            
                          </td>
                          <td class="PosixTime">1324294056000000
                          </td>
                          <td class="ModifiedTime">1324294056000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/580.html">#580</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/580.html">Write (create or update) CKAN package for metadata document</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1284210730000000
                          </td>
                          <td class="ModifiedTime">1284223068000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2397.html">#2397</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2397.html">Write CKAN docstring guidelines</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1337160193000000
                          </td>
                          <td class="ModifiedTime">1337963273000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/572.html">#572</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/572.html">Write CKAN package from metadata document</a>
                          </td>
                          <td class="description">
                            <p>
The attributes we need to read in are being defined here:
<a class="ext-link" href="http://okfnpad.org/uklii"><span class="icon">​</span>http://okfnpad.org/uklii</a>
</p>
<p>
The design advice is to prepare, test, and maintain a dictionary of XPaths for each of the attributes.
</p>
<p>
Work effort is to be directed to the maintainability of the XPath statements. We need to know which are needed for which documents, and to have a way of preventing cruft.
</p>

                            
                          </td>
                          <td class="PosixTime">1284040784000000
                          </td>
                          <td class="ModifiedTime">1288038237000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2234.html">#2234</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2234.html">Write a CKAN extension for pulling items from RSS/Atom feeds into CKAN templates</a>
                          </td>
                          <td class="description">
                            <p>
You configure the extension with some RSS and/or Atom feeds, it automatically reads items from these feeds and makes them available in the template context, you write a custom template to e.g. display 'news' items from a Wordpress blog on your front page.
</p>
<p>
This extension might be simpler and less fragile than ckanext-wordpresser, and also more generally useful.
</p>
<p>
Details
</p>
<ul><li>Mark Pilgrim's Universal Feed Parser might be useful for reading the feeds
</li></ul><ul><li>Feed items should probably be cached somewhere
</li></ul><p>
Suggested 
</p>
<ul><li>The news item 'widget' should be wrapped in a known class so that it can be styled easily regardless of the format of any HTML entry.
</li></ul><ul><li>For non-HTML formatted items (Atom should tell you the content type of the entry) maybe we should have a template for rendering each item along with any enclosures that it might reference
</li></ul><ul><li>Caching is pretty crucial and should probably obey the ttl of the feed.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1331902755000000
                          </td>
                          <td class="ModifiedTime">1346669567000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1326.html">#1326</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1326.html">Write a set of auth plugin functions to integrate with Druapl</a>
                          </td>
                          <td class="description">
                            <p>
Ticket <a class="closed ticket" href="../ticket/787.html" title="task: Auth API (closed: fixed)">#787</a> described join auth between CKAN and Drupal. The authentication part is live and implemented. This ticket is a placeholder for work that will be needed in the new auth system to link authorization functions to Drupal. It is dependent on the groups refactor.
</p>

                            
                          </td>
                          <td class="PosixTime">1315821084000000
                          </td>
                          <td class="ModifiedTime">1315821084000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1777.html">#1777</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1777.html">Write about multilingual features for ec.</a>
                          </td>
                          <td class="description">
                            <p>
Basic description of multilingual features intended to be supported.
</p>

                            
                          </td>
                          <td class="PosixTime">1328542835000000
                          </td>
                          <td class="ModifiedTime">1329393295000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/440.html">#440</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/440.html">Write and pass comprehensive performance tests</a>
                          </td>
                          <td class="description">
                            <p>
Run latest ckan on eu0.
Automate some queries and searches.
Check load and database connections / processes.
</p>

                            
                          </td>
                          <td class="PosixTime">1282226932000000
                          </td>
                          <td class="ModifiedTime">1294417436000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1825.html">#1825</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1825.html">Write docs for vocabularies API</a>
                          </td>
                          <td class="description">
                            <p>
Done on branch feature-1698-tag-taxonomies
</p>

                            
                          </td>
                          <td class="PosixTime">1329845122000000
                          </td>
                          <td class="ModifiedTime">1330807330000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2757.html">#2757</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">Adria
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2757.html">Write documentation for upgrading a CKAN install from an older to a newer version of CKAN</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1343235242000000
                          </td>
                          <td class="ModifiedTime">1343392006000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1767.html">#1767</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1767.html">Write end-to-end functional tests for tag vocabularies</a>
                          </td>
                          <td class="description">
                            <p>
Need to test:
 
</p>
<ul><li>API call to create new vocab
</li><li>API call to add tags with a given vocab
</li><li>API call to update tags
</li><li>Dummy plugin to test that updating tags works via WUI
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328537586000000
                          </td>
                          <td class="ModifiedTime">1329326678000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/413.html">#413</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/413.html">Write functional tests for DGU caching</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1281431633000000
                          </td>
                          <td class="ModifiedTime">1294407458000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2300.html">#2300</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2300.html">Write initial docs for multilingual branch</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1334579163000000
                          </td>
                          <td class="ModifiedTime">1335644486000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2436.html">#2436</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2436.html">Write instructions for booting CKAN demo instances on s031</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1337968345000000
                          </td>
                          <td class="ModifiedTime">1337968356000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2279.html">#2279</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2279.html">Write tutorial for our DataStore API / Data Explorer</a>
                          </td>
                          <td class="description">
                            <p>
Unfortunately ES is a little bit complex / opaque to newcomers. Need to write a simple tutorial walking through this.
</p>
<p>
This is documentation / example only (no code!)
</p>

                            
                          </td>
                          <td class="PosixTime">1333482263000000
                          </td>
                          <td class="ModifiedTime">1338205426000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1661.html">#1661</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1661.html">Wrong Routes version installed by CKAN package</a>
                          </td>
                          <td class="description">
                            <p>
Jaakko Louhio reported that the wrong Routes version got installed during CKAN's package install.
</p>
<p>
He is using Ubuntu 10.04 and he believes it install Routes 1.12.3 instead of what we use which is 1.11.
</p>

                            
                          </td>
                          <td class="PosixTime">1326718061000000
                          </td>
                          <td class="ModifiedTime">1339773949000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2906.html">#2906</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2906.html">Wrong flags in language dropdown</a>
                          </td>
                          <td class="description">
                            <p>
The flags in the dropdown on details pages are not right. 
</p>
<p>
You can see the error on <a class="ext-link" href="http://s031.okserver.org:2375/dataset/malawi-aid-projects/resource/b717c20e-2006-4ad4-82d2-59b57ebc1ab0"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/malawi-aid-projects/resource/b717c20e-2006-4ad4-82d2-59b57ebc1ab0</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1346861144000000
                          </td>
                          <td class="ModifiedTime">1346862889000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/334.html">#334</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/334.html">Wrong link for package feed icon</a>
                          </td>
                          <td class="description">
                            <p>
This is a problem with the package page e.g. <a class="ext-link" href="http://ckan.net/package/open-election-data-project"><span class="icon">​</span>http://ckan.net/package/open-election-data-project</a> . The feed icon links to <a class="missing changeset" title="No default repository defined">[1]</a>  and the text next to it "Subscribe" links to <a class="missing changeset" title="No default repository defined">[2]</a>. Surely these should be the same? The second link seems to right one to me.
</p>
<ul><li><a class="missing changeset" title="No default repository defined">[1]</a> <a class="ext-link" href="http://ckan.net/package/open-election-data-project?format=atom"><span class="icon">​</span>http://ckan.net/package/open-election-data-project?format=atom</a>
</li><li><a class="missing changeset" title="No default repository defined">[2]</a> <a class="ext-link" href="http://ckan.net/package/history/open-election-data-project?format=atom&amp;days=7"><span class="icon">​</span>http://ckan.net/package/history/open-election-data-project?format=atom&amp;days=7</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1275407445000000
                          </td>
                          <td class="ModifiedTime">1280743667000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2714.html">#2714</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2714.html">XLS preview not working</a>
                          </td>
                          <td class="description">
                            <p>
see <a class="ext-link" href="http://demo.ckan.org/dataset/vif-2012-population-totals/resource/e7b8401a-c410-4902-9e5a-6dbd78834873"><span class="icon">​</span>http://demo.ckan.org/dataset/vif-2012-population-totals/resource/e7b8401a-c410-4902-9e5a-6dbd78834873</a>
</p>
<p>
what XLS previews do we support?
</p>

                            
                          </td>
                          <td class="PosixTime">1342706454000000
                          </td>
                          <td class="ModifiedTime">1352206138000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1405.html">#1405</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">jonathan.gray@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1405.html">You can add a package twice to a group</a>
                          </td>
                          <td class="description">
                            <p>
To reproduce (from Jonathan Gray):
</p>
<ul><li>I go to add an item to the group
</li><li>As I type, I get autocomplete options (cool!)
</li><li>When I click on one, it adds this, and copies the same autocomplete option in the box
</li><li>When I click submit, it seems to add the item twice
</li><li>On the main group page I think it just shows up once, but when I click edit it shows two identical boxes, both ticked - and the count includes two copies of the same item
</li></ul><p>
Basically the problem is allowing the same package associated multiple times with a group.
</p>
<p>
This is an issue on CKAN 1.5b and probably earlier.
</p>

                            
                          </td>
                          <td class="PosixTime">1318856354000000
                          </td>
                          <td class="ModifiedTime">1320152291000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1442.html">#1442</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1442.html">You can't GET then POST a dataset as new</a>
                          </td>
                          <td class="description">
                            <p>
If you try to GET a dataset, purge it then POST it again, it fails checking authz for the group:
</p>
<pre class="wiki">Module ckan.controllers.api:278 in create
&lt;&lt;                  (register, subregister))
               try:
                   response_data = action(context, data_dict)
                   location = None
                   if "id" in data_dict:
&gt;&gt;  response_data = action(context, data_dict)
Module ckan.logic.action.create:240 in package_create_rest
&lt;&lt;      api = context.get('api_version') or '1'
       
           check_access('package_create_rest', context, data_dict)
       
           dictized_package = package_api_to_dict(data_dict, context)
&gt;&gt;  check_access('package_create_rest', context, data_dict)
Module ckan.logic:129 in check_access
&lt;&lt;          #    log.debug('Valid API key needed to make changes')
               #    raise NotAuthorized
               logic_authorization = new_authz.is_authorized(action, context, data_dict)
               if not logic_authorization['success']:
                   msg = logic_authorization.get('msg','')
&gt;&gt;  logic_authorization = new_authz.is_authorized(action, context, data_dict)
Module ckan.new_authz:16 in is_authorized
&lt;&lt;      auth_function = _get_auth_function(action)
           if auth_function:
               return auth_function(context, data_dict)
           else:
               raise ValueError(_('Authorization function not found: %s' % action))
&gt;&gt;  return auth_function(context, data_dict)
Module ckan.logic.auth.create:115 in package_create_rest
&lt;&lt;          return {'success': False, 'msg': _('Valid API key needed to create a package')}
       
           return package_create(context, data_dict)
       
       def group_create_rest(context, data_dict):
&gt;&gt;  return package_create(context, data_dict)
Module ckan.logic.auth.create:15 in package_create
&lt;&lt;      else:
               
               check2 = check_group_auth(context,data_dict)
               if not check2:
                   return {'success': False, 'msg': _('User %s not authorized to edit these groups') % str(user)}
&gt;&gt;  check2 = check_group_auth(context,data_dict)
Module ckan.logic.auth.create:90 in check_group_auth
&lt;&lt;      groups = set()
           for group_dict in group_dicts:
               id = group_dict.get('id')
               if not id:
                   continue
&gt;&gt;  id = group_dict.get('id')
AttributeError: 'unicode' object has no attribute 'get'
</pre><p>
(using RESTful Model API)
</p>
<p>
The reason is the POST is expecting the group to be expressed as a dict, not the list of names that GET returns.
</p>

                            
                          </td>
                          <td class="PosixTime">1320263318000000
                          </td>
                          <td class="ModifiedTime">1320275623000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/448.html">#448</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/448.html">[Assist with] editing packages through Drupal</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282299478000000
                          </td>
                          <td class="ModifiedTime">1294417061000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1477.html">#1477</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1477.html">[Super] Group refactor</a>
                          </td>
                          <td class="description">
                            <p>
This is the implementation of the final draft in
</p>
<p>
<a class="ext-link" href="http://wiki.ckan.org/Groups_Refactor"><span class="icon">​</span>http://wiki.ckan.org/Groups_Refactor</a>
</p>
<p>
Steps to complete this will follow (somewhat) in the following order.
</p>
<p>
Change package_group table to membership. (<a class="closed ticket" href="../ticket/1478.html" title="enhancement: change package_group to members table (closed: fixed)">#1478</a>) 3d
</p>
<ul><li>model migration. (done)
</li><li>simplify revisioning  (done)
</li><li>Remove any sqlalchemy releations from groups. (done)
</li><li>change logic functions (done)
</li></ul><p>
  
</p>
<p>
Single type per group (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>migration add type to group table. (done) 1d
</li></ul><p>
  
Add capacity table (<a class="closed ticket" href="../ticket/1522.html" title="enhancement: Add capacity to member table. (closed: fixed)">#1522</a>)
</p>
<ul><li>model migration. (done)
</li><li>add to logic functions.
</li></ul><p>
  
Allow other objects to be added to groups. (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>change logic functions (done)
</li></ul><p>
Adapt thedatahub.org to use new model.
</p>
<ul><li>move auth groups over to groups/members
</li><li>change user_object roles to use groups? keep user object roles for time being.
</li><li>make create update package/group put the correct items in the group/members/capacity tables.
</li><li>work out how ui works.
</li></ul><p>
--not doing the below as part of this super ticker now <a class="closed ticket" href="../ticket/1669.html" title="enhancement: [super] Publisher profile (closed: fixed)">#1669</a>.
</p>
<p>
Create model for dgu.
</p>
<ul><li>adapt auth functions to use auth.
</li><li>adapt package_create/update group_create/update to fill in the correct capacties/members.
</li></ul><p>
Adapt Iati, and potentially other custom instances.
</p>
<p>
Sub-tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1279.html" title="enhancement: Refactor or deprecate Authorization Groups (closed: duplicate)">#1279</a> Deprecate Authorization Groups
</li><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321959320000000
                          </td>
                          <td class="ModifiedTime">1328016209000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1736.html">#1736</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1736.html">[Super] Multilingual Metadata</a>
                          </td>
                          <td class="description">
                            <p>
Translate all areas of metatdata to selected language. This includes finding datasets in all languages.
</p>
<p>
Multilingal Metadata:
Tasks:
</p>
<ul><li>Add translation table. 2d
</li><li>Api to add translation 3d
</li><li>Add extention point to dataset view. 3d
</li><li>Add extension point to search index to add translations. 2d.
</li><li>Add all eurovoc data to translations. 1d.
</li><li>Make multilingual solr schema 2d <a class="closed ticket" href="../ticket/1715.html" title="enhancement: Search index multilingual (closed: fixed)">#1715</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328012697000000
                          </td>
                          <td class="ModifiedTime">1338205016000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1599.html">#1599</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1599.html">[contrib] Simple embeddable dataset count widget (esp for group count)</a>
                          </td>
                          <td class="description">
                            <p>
Simple embeddable widget for use on 3rd party sites showing dataset counts for a given search query. Have a specific version just for groups.
</p>
<ul><li>Simple group count widget in JS for embedding in wordpress and elsewhere
<ul><li>Requested by several people (e.g Guo Xu from Econ working group). Already have something like this in CKAN JS for doing an embeddable search box.
</li></ul></li><li>All you need to do is do a dataset query over the API e.g. <a class="ext-link" href="http://thedatahub.org/api/search/dataset?groups=economics"><span class="icon">​</span>http://thedatahub.org/api/search/dataset?groups=economics</a> and then embed in some html! 
</li></ul><p>
Estimate: 30m (for someone who knows their jquery).
</p>

                            
                          </td>
                          <td class="PosixTime">1325246358000000
                          </td>
                          <td class="ModifiedTime">1325555201000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1523.html">#1523</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1523.html">[super]</a>
                          </td>
                          <td class="description">
                            <p>
Form refactor.
</p>
<p>
New create/edit package form wizard for DGU.  See attached spec.
</p>

                            
                          </td>
                          <td class="PosixTime">1323172661000000
                          </td>
                          <td class="ModifiedTime">1323172904000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1240.html">#1240</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1240.html">[super] API v4</a>
                          </td>
                          <td class="description">
                            <p>
(Just creating this ticket as somewhere to keep notes)
</p>
<ul><li>Decide on REST api versus action API
<ul><li>Do we want to support both?
</li></ul></li><li>Tidying
<ul><li>Unify on /api/v{version num}/... structure (do we want a default option that points to current default? e.g. /api/default/ ...)
</li><li>extras merged into normal field list in package
</li><li>Get rid of /rest/ so just have api/v1/package
</li><li>Get rid of separation of search api from 'rest' api
<ul><li>Propose that GET on REST index is search e.g. /package/?q=...
<ul><li>This is also resolves issue whereby GET at root returns whole package set (a *bad* idea) as this would now become the matchall search query (with a default limit on items returned)
</li></ul></li></ul></li></ul></li><li>Resource read/write in API (separate from package)
<ul><li>Does this need authorization work?
</li></ul></li><li>user/account API - read/write
</li><li>Remove autocomplete -- can just use search
<ul><li>Do not worry about backwards compat as should only be used in our js (if others using it too bad!)
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1311525660000000
                          </td>
                          <td class="ModifiedTime">1325473312000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/954.html">#954</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/954.html">[super] API version 3</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1107.html" title="refactor: Move package autocomplete from package controller and move to API (closed: fixed)">#1107</a> Move package autocomplete from package controller and move to API
</li><li><a class="closed ticket" href="../ticket/1087.html" title="enhancement: version and contact info api call (closed: fixed)">#1087</a> version and contact info api call
</li></ul><p>
Move to a format that has a separate responseHeader and response.
</p>
<h3 id="Astandardpackageresponse">A standard package response</h3>
<pre class="wiki">{
  responseHeader: {
    status: 0,
  }    
  response: {package-dict}
}
</pre><p>
On error:
</p>
<pre class="wiki">{
  responseHeader: {
    status: {err-code},
    error: 'message'
  }    
  response: none
}
</pre><h3 id="Asearchquery">A search query</h3>
<p>
Based directly on solr.
</p>
<pre class="wiki">{
  responseHeader: {
    status: 0,
  }    
  response: {
    numFound: 5,
    start: 0
    docs: [
    ]
  }
}
</pre><h2 id="Issues">Issues</h2>
<p>
This is a breaking change for clients
</p>
<h2 id="References">References</h2>
<ul><li><a class="ext-link" href="http://wiki.apache.org/solr/SolJSON"><span class="icon">​</span>http://wiki.apache.org/solr/SolJSON</a>
</li><li><a class="ext-link" href="http://www.flickr.com/services/api/response.json.html"><span class="icon">​</span>http://www.flickr.com/services/api/response.json.html</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296811899000000
                          </td>
                          <td class="ModifiedTime">1320142744000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1515.html">#1515</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1515.html">[super] Activity Streams</a>
                          </td>
                          <td class="description">
                            <p>
We want to add "activity streams" (chronological lists of activities) to CKAN.
</p>
<p>
Activity streams standard: <a class="ext-link" href="http://activitystrea.ms/"><span class="icon">​</span>http://activitystrea.ms/</a>
</p>
<p>
Super branch where the feature was initially developed (this has now been merged into master): <a class="ext-link" href="https://github.com/okfn/ckan/tree/feature-1515-activity-streams"><span class="icon">​</span>https://github.com/okfn/ckan/tree/feature-1515-activity-streams</a>
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/notifications"><span class="icon">​</span>http://ckan.okfnpad.org/notifications</a> (most relevant parts inlined here)
</p>
<p>
Friedrich's mockup: <a class="ext-link" href="http://datahub.pudo.org/pudo"><span class="icon">​</span>http://datahub.pudo.org/pudo</a>
</p>
<h2 id="Tasks">Tasks</h2>
<p>
<del>Strikethrough</del> means the task is done.
</p>
<ul><li><del>New domain objects Activity and <a class="missing wiki">ActivityStream?</a> [2d] <a class="closed ticket" href="../ticket/1298.html" title="enhancement: Generate activites to be put into activities table. (closed: fixed)">#1298</a></del>
</li></ul><ul><li>Migrate existing data into activity streams model [3.5d] <a class="closed ticket" href="../ticket/1510.html" title="enhancement: Migrate existing data into activity streams database tables (closed: wontfix)">#1510</a> 
</li></ul><ul><li><del>Generate activities when objects are saved [4d] <a class="closed ticket" href="../ticket/1298.html" title="enhancement: Generate activites to be put into activities table. (closed: fixed)">#1298</a></del>
</li></ul><ul><li><del>Get the activity stream for a given user as a JSONifiable list of dictionaries [1d] <a class="closed ticket" href="../ticket/1511.html" title="enhancement: Logic function for getting a user's public activity stream (closed: fixed)">#1511</a></del>
</li></ul><ul><li><del>API call for getting a user's public activity stream as JSON [0.5d] <a class="closed ticket" href="../ticket/1495.html" title="enhancement: API call for getting a user's public activity stream (closed: fixed)">#1495</a></del>
</li></ul><ul><li><del>API call for getting a user's public activity stream as rendered text, HTML, etc. [5d] <a class="closed ticket" href="../ticket/1494.html" title="enhancement: API call for getting a user's public activity stream as rendered rtext (closed: wontfix)">#1494</a></del>
</li></ul><ul><li><del>Render a user's activity stream on her user page [3d] <a class="closed ticket" href="../ticket/1496.html" title="enhancement: Render a user's activity stream on her user page (closed: fixed)">#1496</a></del> (needs review/page design work)
</li></ul><ul><li><del>Generate activities for other types of objects besides users (e.g. packages, groups, tags, extras, and save them in the database.</del>
</li></ul><ul><li><del>Logic functions for getting activity streams for packages, groups, and users.</del>
</li></ul><ul><li><del>API calls for getting activity streams of packages, groups, and users</del> as JSON.
</li></ul><ul><li><del>Rendering activity streams for packages and groups etc. into their pages.</del> (done but disabled pending page design work)
</li></ul><ul><li><del>API calls for inserting events into activity streams.</del> (Still need to handle activity details in the API, ticketed).
</li></ul><ul><li>Conform to activitystrea.ms standard
</li></ul><ul><li>Enable users to subscribe to and unsubscribe from activity streams, see an aggregated activity stream on their dashboard page.
</li></ul><ul><li>Generate aggregated activity streams for arbitrary sets of multiple activity sources/streams
</li></ul><ul><li>Email notifications
</li></ul><ul><li>Extension point for extensions to register themselves as renderers for different types of activity
</li></ul><ul><li>Deploy to UAT [0.5d]
</li></ul><ul><li>Docs and announce [1d]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323105048000000
                          </td>
                          <td class="ModifiedTime">1338204149000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/833.html">#833</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/833.html">[super] Administrative dashboard extension</a>
                          </td>
                          <td class="description">
                            <p>
Create an admin dashboard as /ckan-admin/ allowing for admin operations and overview.
</p>
<p>
Possible features:
</p>
<ul><li>Purge revisions (or sets of revisions) and purge objects <a class="closed ticket" href="../ticket/1076.html" title="enhancement: Improve revision and package purge system (closed: fixed)">#1076</a>
</li><li>Set roles for users <a class="closed ticket" href="../ticket/1075.html" title="enhancement: Administrative dashboard - Edit Authorization related to System object (closed: fixed)">#1075</a>
</li><li>Put system into particular modes e.g. wiki mode (anyone can add, edit packages by default), data portal (only sysadmins or members of a special Editor group can create and edit packages)
<ul><li>WONTFIX
</li></ul></li><li>Overview of activity
<ul><li>WONTFIX - already have revision log
</li></ul></li></ul><p>
Currently have an admin section using the formalchemy admin controller to provide basic editing of model objects. This can still be used but located at /admin/model/.
</p>
<p>
<a class="ext-link" href="https://bitbucket.org/okfn/ckanext-admin"><span class="icon">​</span>https://bitbucket.org/okfn/ckanext-admin</a>
</p>
<h3 id="Tickets">Tickets</h3>
<ul><li><a class="closed ticket" href="../ticket/1031.html" title="enhancement: User lookup API (closed: fixed)">ticket:1031</a> - user autocomplete api in ckan
</li></ul><h3 id="Notes">Notes</h3>
<p>
Here's putting into restricted mode (plus creating a dedicated authz group so that others can admin sysadmin simply through that group):
</p>
<pre class="wiki"># first remove permissions from roles
# this is hacky but have to do it because we hardcode assignment of 
# role permissions on package on package create (see model/authz.py)
paster roles deny editor edit
paster roles deny editor create-authorization-group
paster roles deny editor create-group
paster roles deny editor create-package
paster roles deny reader create-package
# make superuser group
# create authz group administrators / Administrators (if not exists)
paster rights make agroup:administrators admin system
</pre>
                            
                          </td>
                          <td class="PosixTime">1290765921000000
                          </td>
                          <td class="ModifiedTime">1303236364000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1096.html">#1096</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rufuspollock
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1096.html">[super] CKAN Hosted</a>
                          </td>
                          <td class="description">
                            <p>
Many users of CKAN want to have their own instance without much effort. Setting these up in separate places is a maintenance nightmare, we should much rather have some tenant separation in core CKAN. Some ideas:
</p>
<ul><li>introduce model.Site and c.site
<ul><li>site has: custom CSS, extra_template_path, title, languages list, package_form, group_form (all configured via web UI) 
</li></ul></li><li>Subdomain detector to activate sites.
</li><li>use site in Authorizer instead of System, have a <a class="missing wiki">NullSite?</a> for global things
</li><li>allow cross-site search
</li><li>packages are in a list of sites, m:n rather than 1:n
<ul><li>list of sites is string-based, can contain sites not in site table to express harvested external material which is not editable locally. 
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1303235062000000
                          </td>
                          <td class="ModifiedTime">1339774484000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1190.html">#1190</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1190.html">[super] CREP 0004 Data API and Data Processing System</a>
                          </td>
                          <td class="description">
                            <p>
For some time (e.g. 1y+!) we have known that we want to integrate some kind of datastore / data processing system with CKAN. We've had a CREP in progress on this for some months (may copy that here at some point):
</p>
<p>
<a class="ext-link" href="http://wiki.ckan.org/CEP0004"><span class="icon">​</span>http://wiki.ckan.org/CEP0004</a>
</p>
<p>
We can distinguish 3 modules that are needed:
</p>
<ol><li>"Webstore": A datastore with dataapi - <a class="closed ticket" href="../ticket/1208.html" title="enhancement: Webstore: a datastore with web API (closed: fixed)">#1208</a>
</li></ol><p>
Suggestion is this would be sqlite based with a simple sql based API. <a class="ext-link" href="http://ckan.net/api/data/{user|org}/{datastore_name}?q={some-read-sql-query"><span class="icon">​</span>http://ckan.net/api/data/{user|org}/{datastore_name}?q={some-read-sql-query</a>}
</p>
<ol start="2"><li>Automated conversion of suitable resources into datastore upon resource creation so that e.g. they are accessible via the API. <a class="closed ticket" href="../ticket/1398.html" title="enhancement: Automated conversion of resource data into webstore (closed: fixed)">#1398</a>
</li></ol><ol start="3"><li>A data processing system which utilizes this datastore. One could
</li></ol><p>
get a long way with simple javascript running in the browser for development with this javascript then run offline using something like nodejs. Alternatively one could allow one to specify a url to e.g. a python file which would then be run in a sandbox (with access to some specified set of python modules) - <a class="new ticket" href="../ticket/1432.html" title="enhancement: [super] Data processing system for CKAN and Webstore (new)">#1432</a>
</p>
<h2 id="Moreinfo">More info</h2>
<ul><li>Overview diagram: <a class="ext-link" href="https://docs.google.com/drawings/d/1XK7dcpFXNlMzVFgLPYPZUXOsFRPzgCEvS-w7FcvydEQ/edit?hl=en_GB"><span class="icon">​</span>https://docs.google.com/drawings/d/1XK7dcpFXNlMzVFgLPYPZUXOsFRPzgCEvS-w7FcvydEQ/edit?hl=en_GB</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1308227611000000
                          </td>
                          <td class="ModifiedTime">1323270522000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1065.html">[super] Change Authorization System</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets
</p>
<ul><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li><li><a class="closed ticket" href="../ticket/1050.html" title="enhancement: Authz lib improvement and refactor of ckan/lib/authztool.py (closed: invalid)">#1050</a> Authz lib improvement and refactor of ckan/lib/authztool.py
</li><li><a class="closed ticket" href="../ticket/1004.html" title="defect: Group creation instructions missing (closed: fixed)">#1004</a> Group creation instructions missing
</li><li><a class="closed ticket" href="../ticket/1099.html" title="defect: strange interactions between two browsers while playing with authz groups (closed: wontfix)">#1099</a> Strange interactions between two browsers while playing with authz groups
</li><li><a class="closed ticket" href="../ticket/1115.html" title="defect: can have two authzgroups with the same name (closed: wontfix)">#1115</a> can have two authzgroups with the same name
</li><li><a class="closed ticket" href="../ticket/1133.html" title="defect: command line rights manipulation doesn't work (closed: worksforme)">#1133</a> command line rights manipulation doesn't work
</li><li><a class="closed ticket" href="../ticket/1138.html" title="enhancement: minor navigations behave inconsistently (closed: invalid)">#1138</a> minor navigations behave inconsistently
</li></ul><p>
Old ticket description:
</p>
<ol><li>Change name of <a class="missing wiki">AuthzGroup?</a> to <a class="missing wiki">UserGroup?</a> to reflect what it is for
</li></ol><ol start="2"><li>Get rid of Roles, and replace them with direct assignment of actions, even though there are many actions, and extensions can add arbitrary ones.
<ul><li>Debatable whether we should cut the number of actions to correspond to the three roles defined by the base system.
</li><li>Have a method of finding roles (or, in future, actions) relevant to a given protection object (e.g. FILE-UPLOAD(ER) not relevant to Packages)
</li></ul></li></ol><ol start="3"><li>Change <a class="missing wiki">UserGroups?</a> so that they can have a hierarchical structure, 
</li></ol><h2 id="MoreinfoonHierarchychange">More info on Hierarchy change</h2>
<p>
e.g. <a class="missing wiki">UserGroup?</a> NHS contains the User nhsysadmin, as well as the 
<a class="missing wiki">UserGroups?</a> SURREY and BERKS, which themselves contain users.
</p>
<p>
One user in SURREY is Simon the Sysadmin, who has permissions on the whole system. His permissions should not leak out to other users or groups, and user permissions generally should not.
</p>
<p>
Each Group has permissions over various objects.
</p>
<p>
A user has permissions in his own right, and also has the permissions of his own group, and of all the groups contained in his group, and so on recursively.
</p>
<p>
Algorithm:
</p>
<p>
possible(user, action, package):
</p>
<blockquote>
<p>
if user has permission for action on package
</p>
<blockquote>
<p>
or any of have that permission
</p>
<blockquote>
<p>
or any of his groups group-children (but not user-children), and so on recursively have the permission.
</p>
</blockquote>
</blockquote>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1301508331000000
                          </td>
                          <td class="ModifiedTime">1324550041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1593.html">#1593</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-16.html">ckan-sprint-2012-04-16</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1593.html">[super] Create feeds from search results</a>
                          </td>
                          <td class="description">
                            <p>
Recent changes (see <a class="closed ticket" href="../ticket/191.html" title="enhancement: Searching by modification date (closed: fixed)">#191</a> and <a class="closed ticket" href="../ticket/1498.html" title="enhancement: Support multiple SOLR schema versions (closed: fixed)">#1498</a>) have made really easy to get search results ordered chronologically, and creating RSS or Atom feeds from them is relatively easy.
</p>
<p>
Feeds are extremely popular and there are several tools for consuming them, so it would be a great way to allow users to follow datasets related with their topics of interest.
</p>
<p>
Apart from the general feed with changes on the whole instance, other different "pre-set" feed endpoints could be implemented. The most obvious choices for custom feeds could be groups and tags:
</p>
<pre class="wiki">http://&lt;ckan_server&gt;/feed/group/{id}.{format:rss|atom}
http://&lt;ckan_server&gt;/feed/tag/{id}.{format:rss|atom}
</pre><p>
These could be shown on the group/tag page, both on the &lt;head&gt; section, so browsers can autodiscover them, and on the UI, with a message like "Subscribe to this group/tag".
</p>
<p>
Another powerful option is to have a custom feed builder that accepts the same parameters as the search page, so users can subscribe to whatever query they are interested on
</p>
<pre class="wiki">http://&lt;ckan_server&gt;/feed/custom.{format:rss|atom}?res_format=api%2Fsparql
http://&lt;ckan_server&gt;/feed/custom.{format:rss|atom}?q=tags:animal*
</pre><p>
On this case a message "Subscribe to these search results" would appear.
</p>
<p>
Note that a lot of work on this front needs to be done for the IATI registry project (see <a class="closed ticket" href="../ticket/1590.html" title="enhancement: Create customized feeds for the IATI Registry (closed: fixed)">#1590</a>)
</p>
<p>
Other tickets related:
</p>
<ul><li><a class="closed ticket" href="../ticket/1592.html" title="enhancement: Add metadata_modified and metadata_created to package_dictize output (closed: fixed)">#1592</a>: metadata_modified and metadata_created are not included in the search results, so an extra query for each package is needed right now.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324489115000000
                          </td>
                          <td class="ModifiedTime">1334566668000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1525.html">#1525</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1525.html">[super] DGU package form refactor</a>
                          </td>
                          <td class="description">
                            <p>
Form refactor. New create/edit package form wizard for DGU.
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/dgu-package-form"><span class="icon">​</span>http://ckan.okfnpad.org/dgu-package-form</a>
</p>
<p>
Tasks:
</p>
<ul><li><a class="closed ticket" href="../ticket/1526.html" title="enhancement: [super] Update and test existing DGU package form (closed: fixed)">#1526</a> : Simple one-page form.
</li><li><a class="closed ticket" href="../ticket/1527.html" title="enhancement: Break DGU package edit form into sections (closed: fixed)">#1527</a> : Tab-ify the form using JS.  No validation between steps.
</li><li><a class="closed ticket" href="../ticket/1541.html" title="task: Setup server for the DGU form-refactor. (closed: fixed)">#1541</a> : Setup server for the DGU form-refactor.
</li><li><a class="closed ticket" href="../ticket/1537.html" title="enhancement: Package create form wizard (closed: fixed)">#1537</a> : Package create form wizard
</li><li><a class="closed ticket" href="../ticket/1538.html" title="enhancement: Store partially-filled in package form data as a draft. (closed: wontfix)">#1538</a> : <del>Store partially-filled in package form data as a draft.</del>
</li><li><a class="closed ticket" href="../ticket/1539.html" title="enhancement: Package forms auto-save (closed: wontfix)">#1539</a> : <del>Package forms auto-save</del>
</li></ul><p>
How the rest of the work is carried out is up for discussion, as it depends on the approach taken.  Whether to continue with validation using AJAX queries, or whether to break the form down into multi pages.  <a class="ext-link" href="https://docs.google.com/spreadsheet/ccc?key=0Av2RfDDpj67zdGpSdFlKVjNrQmFXV3lHbGM3ZFlDdnc&amp;hl=en_US#gid=1"><span class="icon">​</span>Google doc outlining design(s)</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1323172839000000
                          </td>
                          <td class="ModifiedTime">1337159836000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1602.html">#1602</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1602.html">[super] Data Previewer / Viewer v2</a>
                          </td>
                          <td class="description">
                            <p>
We already have first pass of Data Preview that was done as part of <a class="closed ticket" href="../ticket/1357.html" title="enhancement: Integrate new version of data preview (closed: fixed)">#1357</a>. This is about v2 of this. Two main components:
</p>
<ul><li>A new version of the separate Data Explorer library (now called Recline Data Explorer) - <a class="closed ticket" href="../ticket/1446.html" title="enhancement: Data Explorer v2 (closed: fixed)">#1446</a> <strong>Est: 10-15d</strong>
<ul><li>Why:
<ul><li>Cleaner, backbone based solution.
</li><li>Provides editing support if wanted.
</li><li>Collaboration with Max Ogden
</li></ul></li></ul></li><li>Integrate this into CKAN (into resource view page) - see <a class="closed ticket" href="../ticket/1630.html" title="enhancement: Integrate Data Explorer v2 into Data Viewer (closed: fixed)">#1630</a> <strong>Est: 1d</strong>
</li><li>Improvements to Data Viewer / Previewer system in CKAN itself - <strong>Est: 2-3d</strong>
<ul><li><del>(Update Data Preview-er (View-er) to support images ...)</del>
</li><li><del>(WONTFIX here - (?) Update Data Preview-er to support geodata - <a class="closed ticket" href="../ticket/1151.html" title="enhancement: Preview for geographic data should be a map (closed: wontfix)">#1151</a>)</del>
</li></ul></li></ul><p>
   
</p>

                            
                          </td>
                          <td class="PosixTime">1325267544000000
                          </td>
                          <td class="ModifiedTime">1328175719000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2283.html">#2283</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2283.html">[super] Data Previewer / Viewer v3</a>
                          </td>
                          <td class="description">
                            <ul><li>Basic geo map
</li><li>Facets
</li><li>Filtering
</li><li>Pivot table support (?)
</li><li>Export data (?)
</li><li>Save data query and share
</li><li>More and better graphing
</li><li>Embedding! - /resource/../embed
</li></ul><p>
User stories and analysis: <a class="ext-link" href="http://ckan.okfnpad.org/feature-2283-data-viewer-v3"><span class="icon">​</span>http://ckan.okfnpad.org/feature-2283-data-viewer-v3</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1334138341000000
                          </td>
                          <td class="ModifiedTime">1340623843000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1432.html">#1432</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1432.html">[super] Data processing system for CKAN and Webstore</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1190.html" title="enhancement: [super] CREP 0004 Data API and Data Processing System (closed: fixed)">#1190</a>
</p>
<p>
A data processing system which utilizes the  Webstore. One could
get a long way with simple javascript running in the browser for development with this javascript then run offline using something like nodejs. Alternatively one could allow one to specify a url to e.g. a python file which would then be run in a sandbox (with access to some specified set of python modules)
</p>

                            
                          </td>
                          <td class="PosixTime">1320142747000000
                          </td>
                          <td class="ModifiedTime">1339774041000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1607.html">#1607</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1607.html">[super] Data.gov.uk Maintenance Refactor and UKLP Development Support</a>
                          </td>
                          <td class="description">
                            <p>
A ticket to collect all of the changes needed for CKAN to become the 'data' tab on DGU.
</p>
<p>
Design doc: <a class="ext-link" href="https://docs.google.com/document/d/19h9bA1G4cQkv031m8jNCu6FEB3a8qpXUmdPAguM-Ofs/edit?hl=en_GB"><span class="icon">​</span>https://docs.google.com/document/d/19h9bA1G4cQkv031m8jNCu6FEB3a8qpXUmdPAguM-Ofs/edit?hl=en_GB</a>  The design doc is the authoritative source of tasks.  This ticket acts as a synopsis.
</p>
<p>
Current sprint (2012-02-20):
</p>
<ul><li>7a. <del>Public Publisher Dashboard (including QA Work and notifications) MUST PHASE 1</del>
</li><li>6. <del>Publisher Registration Improvements MUST PHASE 1</del>
</li><li>3. <del><a class="missing wiki">Themes/Taxonomy?</a> as well as tags WONT PHASE 2</del>
</li><li>32. <del>Browse by Tags PHASE 1 MUST</del>
</li><li>12. <del><a class="missing wiki">Edit/Delete?</a> for Harvested Datasets MUST URGENT PHASE 1</del>
</li><li>13. <del>Provider labelling MUST PHASE 1 [UKLP <a class="closed ticket" href="../ticket/14.html" title="enhancement: Update a release (closed: invalid)">#14</a> MUST]</del>
</li><li>17. <del>Filter “UK Location Records” MUST PHASE 1 [UKLP <a class="closed ticket" href="../ticket/21.html" title="enhancement: Undelete a package (closed: fixed)">#21</a> SHOULD]</del>
</li><li>22. <del>Mixed Licenses MUST PHASE 2</del>
</li></ul><p>
Plus, brought forward from last sprint:
</p>
<ul><li><del>Publisher hierarchy support</del>
</li><li><del>Improved dataset creation tools (form) - <a class="closed ticket" href="../ticket/1525.html" title="enhancement: [super] DGU package form refactor (closed: fixed)">#1525</a></del>
</li><li><del>Edit/delete for harvested datasets</del>
</li></ul><p>
Overview of tasks: see the design doc.
</p>

                            
                          </td>
                          <td class="PosixTime">1325503348000000
                          </td>
                          <td class="ModifiedTime">1337159969000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1327.html">#1327</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1327.html">[super] Dataset Archiving</a>
                          </td>
                          <td class="description">
                            <p>
Split out of <a class="closed ticket" href="../ticket/852.html" title="enhancement: [super] Dataset upload and archiving (closed: fixed)">#852</a>. Automated archiving of datasets (related to QA).
</p>
<p>
<strong> Automated archiving using worker process </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/890.html" title="enhancement: Introduce timed actions into ckanext-queue (closed: invalid)">#890</a> - Timed actions in ckanext-queue
</li><li><a class="closed ticket" href="../ticket/891.html" title="task: Resource download worker daemon (closed: fixed)">#891</a> - Resource download worker daemon
</li><li><a class="closed ticket" href="../ticket/892.html" title="enhancement: Make stored data available in WUI - 0.5d (closed: fixed)">#892</a> - Make stored data available in WUI
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1315821490000000
                          </td>
                          <td class="ModifiedTime">1320662446000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/852.html">#852</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/852.html">[super] Dataset upload and archiving</a>
                          </td>
                          <td class="description">
                            <p>
3 (4) use cases: (With and without access to auth keys.)
</p>
<ol><li>upload form on ckan (by default local system has auth key for storage)
</li><li>datapkg upload (client) (by default without key) (plumbing done)
</li><li>background job archiving downloads (by queue client) 
</li></ol><p>
Most important are:
</p>
<ol><li>Upload form on ckan.net (with access to keys)
</li><li>API for getting credentials for upload from ckan.net api (without access to keys).
</li></ol><p>
Aside: Once 2 was done we could deprecate storage.ckan.net
</p>
<h3 id="Sub-tickets">Sub-tickets</h3>
<p>
<strong> Required infrastructure </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/826.html" title="enhancement: Resource 'extra' fields (closed: fixed)">#826</a> - Resource 'extra' fields
</li><li><a class="closed ticket" href="../ticket/358.html" title="enhancement: Resources in REST API (closed: duplicate)">#358</a> - Resources in REST API
</li><li><a class="assigned ticket" href="../ticket/235.html" title="enhancement: Resource format normalization and detection (assigned)">#235</a> - Resource format normalization and detection
</li></ul><p>
<strong> User upload via Web UI </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/877.html" title="enhancement: File upload in WUI (extension) (closed: fixed)">#877</a> - File upload in WUI
</li><li><a class="closed ticket" href="../ticket/878.html" title="enhancement: Integrate file upload with workflow around package resources (closed: fixed)">#878</a> - Integrate file upload with workflow around package resources
</li></ul><p>
<strong> User upload via CLI/datapkg </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/853.html" title="enhancement: Client upload to storage without having primary storage keys (closed: fixed)">#853</a> - plumbing for credential-less rest upload
</li><li><a class="closed ticket" href="../ticket/879.html" title="enhancement: Storage auth API (closed: fixed)">#879</a> - Storage auth API
</li></ul><p>
Also related:
</p>
<ul><li><a class="closed ticket" href="../ticket/405.html" title="task: Retrieval options for package resources (closed: fixed)">#405</a> - Retrieval options for package resources
</li></ul><h3 id="MoreInfo">More Info</h3>
<ul><li>Upload/storage discussion: <a class="ext-link" href="http://ckan.okfnpad.org/storage"><span class="icon">​</span>http://ckan.okfnpad.org/storage</a>
<ul><li>For api to generate upload key (for e.g. datapkg usage) suggest locating at ckan.net/api/utils/
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1291722993000000
                          </td>
                          <td class="ModifiedTime">1315821628000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1211.html">#1211</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1211.html">[super] Drupal integration</a>
                          </td>
                          <td class="description">
                            <p>
Sub-tasks / tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1335.html" title="enhancement: Action API - basic (closed: fixed)">#1335</a> Action API - access to any logic layer function
</li><li>Standardize logic functions on ordering: (context, data_dict) and put parameters into data_dict.
</li><li>Add package_create_validate &amp; package_update_validate logic functions
</li><li>Allow extensions to provide logic layer functions (IActions)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1309958442000000
                          </td>
                          <td class="ModifiedTime">1315948703000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1566.html">#1566</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1566.html">[super] Finalize Google analytics extension</a>
                          </td>
                          <td class="description">
                            <ul><li><del>(Deploy it)</del>
</li><li>Integrate with stats plugin (now that is in core) - <a class="new ticket" href="../ticket/1101.html" title="enhancement: Integrate googlanalytics into site nav (new)">#1101</a>
</li><li>Blog about it <a class="new ticket" href="../ticket/1581.html" title="enhancement: Blog post about Google Analytics extension for CKAN (new)">#1581</a>
</li><li>(Other tickets re upgrading for v1.5.1 - done but where are tickets?)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324293168000000
                          </td>
                          <td class="ModifiedTime">1338203338000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1508.html">#1508</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1508.html">[super] Finalize and deploy some of our major (new) features as of Dec 2011</a>
                          </td>
                          <td class="description">
                            <p>
This ticket is about finalizing, then deploying (to <a class="ext-link" href="http://thedatahub.org/"><span class="icon">​</span>http://thedatahub.org/</a>), and finally announcing some of recent major new features such as:
</p>
<ul><li>Deploy wordpresser extension for thedatahub (so we can start blogging) - <a class="closed ticket" href="../ticket/1533.html" title="defect: Make sure ckanext-wordpresser works on CKAN 1.5.1 (closed: wontfix)">#1533</a> - WONTFIX
</li><li><del>(Deploy new Resource and Dataset pages (invite comments))</del>
</li><li>Get thedatahub geo-ified i.e. ckanext-spatial - <a class="closed ticket" href="../ticket/1601.html" title="enhancement: [super] Well integrated Geo-spatial support including search (closed: fixed)">#1601</a> (?)
<ul><li>Any additional dev that needs to be done? (e.g. geo in search ...?)
</li></ul></li><li><del>(Deploy / re-enable ckanext-googleanalytics on thedatahub - <a class="closed ticket" href="../ticket/1451.html" title="enhancement: Reintegrate download stats on dataset and resource view page - 0.5d (closed: fixed)">#1451</a> (more stuff <a class="closed ticket" href="../ticket/1566.html" title="enhancement: [super] Finalize Google analytics extension (closed: fixed)">#1566</a>))</del>
<ul><li>Rename the extension to ckanext-analytics?
</li></ul></li><li>Custom forms (and use of 'dataset types') - Ticket (??)
</li><li><del>(Get QA deployed and running - <a class="closed ticket" href="../ticket/1582.html" title="enhancement: Deploy QA for thedatahub - 0.5d (closed: fixed)">#1582</a>)</del>
</li></ul><p>
It would be best if this was done by someone *unfamiliar* with the extensions so feedback could be provided on quality of install docs etc etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1323088817000000
                          </td>
                          <td class="ModifiedTime">1328000871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1521.html">#1521</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1521.html">[super] Groups UI and UX improvements in v1.6 from Cygri</a>
                          </td>
                          <td class="description">
                            <p>
Various UX and UI improvements to groups.
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/feature-1521-groups-ux"><span class="icon">​</span>http://ckan.okfnpad.org/feature-1521-groups-ux</a>
</p>
<h2 id="Improvedgroups">Improved groups</h2>
<p>
From Richard Cyganiak.
</p>
<p>
This is a set of proposals to make the groups feature more powerful. As a result, currently separate CKAN instances such as <a class="ext-link" href="http://ie.ckan.net/"><span class="icon">​</span>http://ie.ckan.net/</a> could be turned into a simple group on the <a class="ext-link" href="http://thedatahub.org"><span class="icon">​</span>Data Hub</a> without losing their separate identity.
</p>
<ul><li><del><strong>Group homepages:</strong> Make the group pages more attractive and welcoming as homepages. The main Data Hub homepage does a great job at this now – can the group pages be made more like that? They're quite uninformative and bland right now.</del>
</li><li><strong>Subdomains for groups:</strong> Enable subdomains such as <tt>ie.thedatahub.org</tt> as aliases for <tt>thedatahub.org/group/ireland</tt>
</li><li><del><strong>Search within the group:</strong> Have a big search box that searches just within the group on the group page, with a look like on <a class="ext-link" href="http://thedatahub.org/dataset"><span class="icon">​</span>http://thedatahub.org/dataset</a></del>
</li><li><del>Have an <strong>Add a dataset to this group</strong> link on the group page, perhaps in the sidebar.</del>
</li><li><del><strong>Navigation within the group:</strong> Have some more navigation starting points on the group page, e.g., the Tags + Resource Format sidebar from <a class="ext-link" href="http://thedatahub.org/dataset"><span class="icon">​</span>http://thedatahub.org/dataset</a></del>
</li><li><del><strong>Group documentation:</strong> Add the ability to add more “About this group” text, or pages like “FAQ” and “Extra field conventions”.</del>
<ul><li><del>The only place where one can currently put group-specific text is before the dataset list. Putting much text there is bad as it moves the datasets below the fold.</del>
</li><li>Can the top-level sections of a group's description be automatically turned into separate pages that are linked from the sidebar? With headlines <em>About</em>, <em>Frequently Asked Questions</em> and <em>How to get involved</em>, we'd then get three links in the sidebar that point to <tt>datahub.org/group/ireland/about</tt>, <tt>datahub.org/group/ireland/frequently-asked-questions</tt>, <tt>datahub.org/group/ireland/how-to-get-involved</tt>
<ul><li>RP: WONTFIX this is being considered for future (generally useful) but  cost/benefit here was low particularly as it wasn't clear what optimal implementation was.
</li></ul></li></ul></li></ul><h2 id="Additional">Additional</h2>
<ul><li><del>Display members of a group as well as admins (if less than 10? If more than 10 display count only ...?)</del>
</li><li>Better group index page (sort by number of dataset, allow searching ...) - <a class="new ticket" href="../ticket/1403.html" title="enhancement: Refactor groups index page (new)">#1403</a>
<ul><li>Add search to groups: <a class="ext-link" href="http://thedatahub.org/group"><span class="icon">​</span>http://thedatahub.org/group</a>
</li><li>Way to filter by activity, number of datasets
</li></ul></li><li><a class="closed ticket" href="../ticket/1597.html" title="enhancement: Tag search - filter by group (closed: fixed)">#1597</a> <strong>Tag search, filtered by group</strong>
<ul><li>RP: not worth it in terms of benefit/cost IMO
</li></ul></li></ul><h2 id="Steps">Steps</h2>
<ul><li><del>"Add Dataset" button on action bar</del>
<ul><li><del>Make it a dropdown? -&gt; New Dataset / Existing Dataset</del>
</li><li><del>Redirect Add Existing -&gt; Edit</del>
</li><li><del>Check permissions</del>
</li></ul></li><li><del>Expandable "about this group" box</del>
</li><li><del>Implement simplest search-this-group box</del>
<ul><li><del>turn the list of datasets into a dynamic list of search results</del>
<ul><li><del>pagination</del>
</li></ul></li><li><del>Matching set of facets in the sidebar (matches 'real' search page)</del>
<ul><li><del>Deleteable, displayed facets</del>
</li></ul></li></ul></li></ul><h2 id="Nice-To-Have">Nice-To-Have</h2>
<ul><li>Get rid of the old group_package_show action (confirm with team)
</li><li>Tabbed "about this group" box (extract headers?)
</li><li><del>Scrollable group members widget in the sidebar</del>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323169961000000
                          </td>
                          <td class="ModifiedTime">1330675930000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1787.html">#1787</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1787.html">[super] Improve RESTful API</a>
                          </td>
                          <td class="description">
                            <ul><li>Lists of entities should be full URLs, rather than just the names
</li><li>Discoverability - /api/v3/rest should list the entity types that can be listed
</li></ul><p>
This could be v3 of the RESTful interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1328702082000000
                          </td>
                          <td class="ModifiedTime">1328702082000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1233.html">#1233</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1233.html">[super] Improve wiki-style functionality for history</a>
                          </td>
                          <td class="description">
                            <p>
At the moment we have a good revisioning system but a poor history interface. We need to improve this in a number of areas:
</p>
<ul><li><a class="closed ticket" href="../ticket/191.html" title="enhancement: Searching by modification date (closed: fixed)">#191</a> Searching by modification date
</li><li><a class="closed ticket" href="../ticket/193.html" title="enhancement: Searching by time-related field (closed: wontfix)">#193</a> Searching by time-related field
</li><li><a class="assigned ticket" href="../ticket/301.html" title="enhancement: Package discussion pages (assigned)">#301</a> Package discussion pages
</li><li><a class="closed ticket" href="../ticket/1236.html" title="enhancement: View a package at a given revision (closed: fixed)">#1236</a> Package history page should provide links to pages at particular revisions, similar to the wikipedia pages
</li><li><a class="closed ticket" href="../ticket/1236.html" title="enhancement: View a package at a given revision (closed: fixed)">#1236</a> Viewing old revisions or unmoderated changes should have a message at the top of the package page
</li><li>Other improvements as per my word doc.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1311179392000000
                          </td>
                          <td class="ModifiedTime">1315948668000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/927.html">#927</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/927.html">[super] Improvements to CKAN documentation</a>
                          </td>
                          <td class="description">
                            <p>
List of improvements to CKAN documentation (result of <a class="closed ticket" href="../ticket/904.html" title="task: Review CKAN documentation (closed: fixed)">ticket:904</a>). Should convert most items into sub-tickets as we go along.
</p>
<h2 id="Major">Major</h2>
<ul><li><del>(Make blog.ckan.org into ckan.org and move ckan.org to trac.ckan.org/)</del>
</li><li>Document caching system - <a class="closed ticket" href="../ticket/841.html" title="enhancement: Caching docs (as a whole) (closed: duplicate)">ticket:841</a>
</li><li>Howto guide for writing an extension - <em>started on this at <a class="ext-link" href="http://wiki.ckan.net/Extending_CKAN"><span class="icon">​</span>http://wiki.ckan.net/Extending_CKAN</a></em>
</li></ul><h2 id="Miscellaneous">Miscellaneous</h2>
<ul><li>Contributors / credits page: <a class="closed ticket" href="../ticket/928.html" title="enhancement: Documentation - CKAN credits / contributors page (closed: fixed)">ticket:928</a>
</li><li><del>(Data proxy documentation: move it to packages.python.org/dataproxy)</del>
</li><li><del>(List dataapi extensions on <a href="http://ckan.org/wiki/Extensions">http://ckan.org/wiki/Extensions</a> (Name, summary string + point to pypi page ...))</del>
</li><li>Document license configuration and license system - <a class="closed ticket" href="../ticket/973.html" title="enhancement: Document license configuration and license system. (closed: fixed)">ticket:973</a>
</li><li>Refactor trac frontpage moving general feature overview to ckan.org
</li><li>Create proper roadmap information on <a class="ext-link" href="http://trac.ckan.org/"><span class="icon">​</span>http://trac.ckan.org/</a>
</li><li>Add link to wiki.ckan.net to ckan.org
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295869492000000
                          </td>
                          <td class="ModifiedTime">1300105638000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1232.html">#1232</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1232.html">[super] Interface improvements</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1194.html" title="defect: &#34;Welcome back&#34; message for newly registered user (closed: fixed)">#1194</a> "Welcome back" message for newly registered user
</li><li><a class="closed ticket" href="../ticket/1202.html" title="enhancement: Links to datapkg utility don't lead to info about it (closed: invalid)">#1202</a> Links to datapkg utility don't lead to info about it
</li><li><a class="closed ticket" href="../ticket/925.html" title="defect: Change the search box icon to remove the down arrow (closed: fixed)">#925</a> Change the search box icon to remove the down arrow
</li><li><a class="closed ticket" href="../ticket/923.html" title="defect: Search box doesn't work in leaderboard page (closed: worksforme)">#923</a> Search box doesn't work in leaderboard page in stats extension
</li><li><a class="closed ticket" href="../ticket/1034.html" title="defect: Flash message cached (closed: duplicate)">#1034</a> Flash message cached
</li><li><a class="new ticket" href="../ticket/737.html" title="enhancement: Markdown syntax summary page (new)">#737</a> Markdown syntax summary page
</li><li><a class="new ticket" href="../ticket/811.html" title="defect: Extra field editing form layout breaks when there are long field names (new)">#811</a> Extra field editing form layout breaks when there are long field names
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1311178296000000
                          </td>
                          <td class="ModifiedTime">1315948536000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1571.html">#1571</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1571.html">[super] Issues Extension</a>
                          </td>
                          <td class="description">
                            <p>
"Proper" issues extension.
</p>
<ul><li>Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/issues"><span class="icon">​</span>http://ckan.okfnpad.org/issues</a>
</li><li>Code: <a class="ext-link" href="https://github.com/okfn/ckanext-issues"><span class="icon">​</span>https://github.com/okfn/ckanext-issues</a>
</li></ul><p>
Overview
</p>
<ul><li>This would be an extension and improvement of existing todo extension - <a class="closed ticket" href="../ticket/842.html" title="enhancement: Todo list CKAN extension (closed: fixed)">#842</a> (<a class="ext-link" href="https://github.com/okfn/ckanext-issues"><span class="icon">​</span>https://github.com/okfn/ckanext-issues</a>)
<ul><li>Current extension does work but lacks polish
</li><li>Should we polish or do significant improvements?
</li></ul></li><li>Functionality - see etherpad
</li></ul><h2 id="Steps">Steps</h2>
<ul><li><del>(Rename todo(s) -&gt; issue(s) in existing extension)</del>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324294225000000
                          </td>
                          <td class="ModifiedTime">1330863183000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1142.html">#1142</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">annapowellsmith
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1142.html">[super] Major Overhaul and Extension of CKAN Documentation</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="assigned ticket" href="../ticket/1041.html" title="enhancement: Start Using the CKAN Wiki for Tutorial-style documentation (assigned)">#1041</a> Start Using the CKAN Wiki for Tutorial-style documentation
</li><li><a class="closed ticket" href="../ticket/1192.html" title="task: Convert CKAN Sphinx docs into admin/reference manual (closed: fixed)">#1192</a> Convert CKAN Sphinx docs into admin/reference manual
</li></ul><p>
Previous super ticket (from 3m ago): <a class="ext-link" href="http://trac.ckan.org/ticket/927"><span class="icon">​</span>http://trac.ckan.org/ticket/927</a>
</p>
<ul><li>CKAN 1-page overview (for enterprise and for data hackers)
</li><li>Administrator's Guide (including install)
</li><li>Extensions Guide
</li><li>Separate CKAN.net info from Software Documentation (?)
</li></ul><p>
Also now a wiki page with more detail: <a class="ext-link" href="http://wiki.ckan.net/Documentation_Plans"><span class="icon">​</span>http://wiki.ckan.net/Documentation_Plans</a>
</p>
<h2 id="MinorItems">Minor Items</h2>

                            
                          </td>
                          <td class="PosixTime">1305727452000000
                          </td>
                          <td class="ModifiedTime">1313775665000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1231.html">#1231</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1231.html">[super] Management Information Reporting</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="new ticket" href="../ticket/1101.html" title="enhancement: Integrate googlanalytics into site nav (new)">#1101</a> Integrate stats and googlanalytics into site nav
</li></ul><p>
We have a spreadsheet from UKLP of statistics we'd like to generate
</p>

                            
                          </td>
                          <td class="PosixTime">1311173919000000
                          </td>
                          <td class="ModifiedTime">1325474447000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1141.html">#1141</a>
                          </td>
                          <td class="type">CREP
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1141.html">[super] Moderated Edits User Interface</a>
                          </td>
                          <td class="description">
                            <p>
<strong>Proposer</strong>: John Glover<br />
<strong>Seconder</strong>: James Gardner
</p>
<h2 id="Abstract">Abstract</h2>
<p>
We are trying to achieve these goals:
</p>
<ul><li>To get people involved with making edits to CKAN metadata.
</li><li>To have an ownership model as to who can moderate and validate these changes
</li><li>To not put too huge a burden on these owners.
</li></ul><p>
This feature allows anyone to edit a package and create a new revision, but requires an owner/moderator to approve a revision before it is are made "official".
</p>
<p>
There have been a lot of discussions around the revisioning system side of this ticket (CREP 0002) and I think these are now largely resolved. We now want to discuss the user interface.
</p>
<h2 id="TheProblem">The Problem</h2>
<p>
We require the following functionality:
</p>
<ul><li>Allow a group of changes to be stored as a new revision.
</li><li>Allow a linear stack of "community" revisions. 
</li><li>Provide a way for the editor and moderator to compare previous revisions to the current one.
</li><li>When a moderator approves a change it creates a new revision flagged "moderated" (this is analogous to a merge commit)
</li><li>Provide a way for the editor and moderator comment on revisions if necessary.
</li></ul><p>
Extra features:
</p>
<ul><li>Need a way to summarise the changes (as part of the preview perhaps)
</li><li>Sysadmin needs to purge a revision completely
</li></ul><h2 id="Specification">Specification</h2>
<h3 id="UIUX">UI/UX</h3>
<p>
UI Mockup:
</p>
<p>
<a style="padding:0; border:none" href="../attachment/ticket/1141/ModeratedEdits2.png.html"><img src="../raw-attachment/ticket/1141/ModeratedEdits2.png" /></a>
</p>
<p>
Revisions:
</p>
<ul><li>Revisions are per package rather than per field.
</li><li>Internally CKAN has separate revisions for resources, extras and package metadata.  From a user's point of view this could be confusing to expose, so everything that they see on a package form when they hit save is a single revision.
</li></ul><p>
On the Edit page:
</p>
<ul><li>We have a panel on the right, listing all the revisions with the current moderated one selected. Moderated revisions are highligted in some way (red and bold?).
</li><li>The values displayed in the form are by default populated from the latest revision (whether community or moderated)
</li><li>Under each field is a "shadow", showing the value of the field in the revision selected in the panel, if it is different from the value in the field. By default the shadow values are populated from the latest moderated revision which is the one selected in the revision panel by default too.
</li><li>When you change the value of a field, a shadow may appear or disappear accordingly. If they disappear a box saying that they are the same replaces it
</li><li>If you want to edit values from a previous revision, you first select that revision to get the shadows populated. There is a button named "Replace fields with values from this revision" under the revision list. You click this, a warning pops up and then you say "Yes". You then select the moderated revision again.
</li><li>We also allow package comments the same way as the todo extension works at the moment. Additionally, we need to be able to differentiate between what the moderator wrote and what a community member wrote, and so we may need to make a small change to the todo extension to facilitate this.
</li><li>In addition to package comments, each revision will have a revision log (analogous to a commit message).
</li></ul><h3 id="TechnicalDetails">Technical Details</h3>
<ul><li>This CREP will result in a new CKAN extension.
</li><li>It depends heavily on the new revisioning system (CREP0002), some of the details of which are yet to be finalised. 
</li><li>This CREP therefore requires working closely with David Raznick to come up with an API that the UI AJAX calls can use.
</li><li>We will then use suitable test data to mimic these API calls until CREP0002 is ready.
</li></ul><h2 id="Whydoitthisway">Why do it this way</h2>
<p>
This hopefully provides a clear and consistent mechanism allowing both a community member to make new revisions and a moderator to view and approve revisions, with largely the same UI/UX.
</p>
<h2 id="Implementationplan">Implementation plan</h2>
<h3 id="Deliverables">Deliverables</h3>
<p>
A new CKAN extension, consisting of:
</p>
<ul><li>Code: Python, HTML, CSS, Javascript
</li><li>Unit tests
</li><li>Localization
</li><li>Documentation
</li></ul><h3 id="Participants">Participants</h3>
<p>
John Glover to do it.
</p>
<h3 id="Progress">Progress</h3>
<p>
John has implemented the bulk of this UI. Just some things to tidy up before it is complete:
</p>
<ul><li>Genshi stream filters to be updated with CKAN 1.5 / 1.5.1 templates
</li><li>history_ajax / read_ajax to be replaced with calls to Action API (or Util REST API)
</li></ul><p>
I've split these two off into a new ticket <a class="new ticket" href="../ticket/1604.html" title="enhancement: Get ckanext-moderatededits working with CKAN 1.5+ templates (new)">#1604</a>.
</p>
<h3 id="RelatedProgress">Related Progress</h3>
<p>
The Todo extension is written and available at: <a class="ext-link" href="https://bitbucket.org/johnglover/ckanext-todo"><span class="icon">​</span>https://bitbucket.org/johnglover/ckanext-todo</a>.
</p>
<p>
In the section 'The Problem', under extra features, we mention a need for the sysadmin to be able to purge a revision already. This is already done.
</p>
<h3 id="Seealso">See also</h3>
<p>
<a class="closed ticket" href="../ticket/1129.html" title="CREP: CREP0002: Moderated  Edits (closed: fixed)">#1129</a> Backend work
</p>

                            
                          </td>
                          <td class="PosixTime">1305721003000000
                          </td>
                          <td class="ModifiedTime">1325352507000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1605.html">#1605</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1605.html">[super] Multilingual support in CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Multi-language:
</p>
<ul><li>dataset and resource metadata (and other objects such as groups?)
<ul><li>Options for implementation in <a class="ext-link" href="http://ckan.okfnpad.org/multilingual"><span class="icon">​</span>http://ckan.okfnpad.org/multilingual</a>
</li></ul></li><li>Field values in taxonomy (e.g. country names - Eurovoc)
<ul><li><a class="closed ticket" href="../ticket/1665.html" title="task: Begin doing research into eurovoc (closed: fixed)">#1665</a> Research into Eurovoc
</li><li>Display Taxonomy in different languages
</li></ul></li><li>Field values not in taxonomy (e.g. title &amp; description)
<ul><li>Use extra fields e.g. _i18n_title_fr = Le data.
</li><li>(If lots of fields would need translating then would consider having a new package for each language, linked together with <a class="missing wiki">PackageRelationships?</a>. But I think it is just title and description (resource description etc. are so minor, not worth translating?), so using extra field better.)
</li></ul></li><li>EC extension (templates, form)
<ul><li>Currently the pot file is just for CKAN core. New pot file for CKAN core and this extension? Or separate ones for extensions?
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1325473367000000
                          </td>
                          <td class="ModifiedTime">1338193641000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1294.html">#1294</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1294.html">[super] Package creation and editing UX improvements</a>
                          </td>
                          <td class="description">
                            <p>
Largely an integration of work from ckanjs
</p>
<ul><li><a class="closed ticket" href="../ticket/1295.html" title="enhancement: Simplify package create form (closed: fixed)">#1295</a> Simplify package create form
</li><li>Improvements to edit form
<ul><li>Split edit form into sections
</li><li>Remove preview from edit form (introduce inline preview on description/notes field)
</li></ul></li><li><a class="closed ticket" href="../ticket/1296.html" title="enhancement: Improved resource adding/editing on dataset/page page (closed: fixed)">#1296</a> Improved resource adding/editing on dataset/page page
</li><li><a class="closed ticket" href="../ticket/878.html" title="enhancement: Integrate file upload with workflow around package resources (closed: fixed)">#878</a> File upload integrated into resource creation
</li><li><a class="closed ticket" href="../ticket/1297.html" title="enhancement: In-place preview of edited description markdown on edit dataset form (closed: fixed)">#1297</a> In-place editing of notes field for existing packages
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1314405811000000
                          </td>
                          <td class="ModifiedTime">1315948257000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1669.html">#1669</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1669.html">[super] Publisher profile</a>
                          </td>
                          <td class="description">
                            <p>
Implement the necessary backend changes to build profile for publishers using the group refactor.
</p>
<p>
See <a class="ext-link" href="http://ckan.okfnpad.org/publisherprofiles"><span class="icon">​</span>http://ckan.okfnpad.org/publisherprofiles</a>
</p>
<p>
Subtickets are at:
</p>
<ul><li>Publisher profile analysis <a class="closed ticket" href="../ticket/1670.html" title="enhancement: Publisher profile documentation (closed: fixed)">#1670</a> [2d]
</li><li>Publisher profile sysadmin authz <a class="closed ticket" href="../ticket/1671.html" title="enhancement: Publisher profile sysadmin authz (closed: fixed)">#1671</a> [1d]
</li><li>Publisher profile user authz <a class="closed ticket" href="../ticket/1672.html" title="enhancement: Publisher profile user authz (closed: fixed)">#1672</a> [1d]
</li><li>Test auth logic hooks for publisher profile <a class="closed ticket" href="../ticket/1674.html" title="enhancement: Test auth logic hooks for publisher profile (closed: fixed)">#1674</a> [3d]
</li><li>Publisher admin authz <a class="closed ticket" href="../ticket/1675.html" title="enhancement: Publisher admin authz (closed: fixed)">#1675</a> [3d]
</li><li>Publisher editor authz <a class="closed ticket" href="../ticket/1676.html" title="enhancement: Publisher editor authz (closed: fixed)">#1676</a> [2d]
</li><li>Add approval status field to groups <a class="closed ticket" href="../ticket/1673.html" title="enhancement: Add approval status field to groups (closed: fixed)">#1673</a> [1d]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1326802473000000
                          </td>
                          <td class="ModifiedTime">1338204071000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1594.html">#1594</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1594.html">[super] QA Improvements</a>
                          </td>
                          <td class="description">
                            <p>
Now that QA has been updated for Celery and CKAN 1.5.1, there are a number of improvements that we should probably implement.
</p>
<ul><li>Integrate QA into frontend - 1d - <a class="closed ticket" href="../ticket/1583.html" title="enhancement: Integrate QA into frontend - 1d (closed: fixed)">#1583</a>
</li><li>QA report improvements - 2.5d - <a class="new ticket" href="../ticket/1584.html" title="enhancement: QA report improvements - 2.5d (new)">#1584</a>
</li><li>QA - Check license as part of 5 star rating - <a class="closed ticket" href="../ticket/1587.html" title="enhancement: QA - Check license as part of 5 star rating (closed: fixed)">#1587</a>
</li><li>QA - Give SPARQL endpoints a 4 star rating - <a class="new ticket" href="../ticket/1588.html" title="enhancement: QA - Give SPARQL endpoints a 4 star rating (new)">#1588</a>
</li><li>QA - Give 5 star rating to datasets with link metadata - <a class="new ticket" href="../ticket/1589.html" title="enhancement: QA - Give 5 star rating to datasets with link metadata (new)">#1589</a>
</li></ul><p>
Main pad: <a class="ext-link" href="http://ckan.okfnpad.org/qa"><span class="icon">​</span>http://ckan.okfnpad.org/qa</a>
</p>
<p>
Some QA discussion (relating to Celery in particular) at <a class="ext-link" href="http://ckan.okfnpad.org/queue"><span class="icon">​</span>http://ckan.okfnpad.org/queue</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1324489620000000
                          </td>
                          <td class="ModifiedTime">1338203215000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1578.html">#1578</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1578.html">[super] Re-enable and refactor ratings</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1324322443000000
                          </td>
                          <td class="ModifiedTime">1325473015000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2226.html">#2226</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2226.html">[super] Refactor and improve documentation (v1.7)</a>
                          </td>
                          <td class="description">
                            <p>
Documentation is key to the success of projects!
</p>
<h1 id="Movematerialintomaindocsfromwiki">Move material into main docs from wiki</h1>
<ul><li><a class="ext-link" href="http://wiki.ckan.org/Writing_asynchronous_tasks"><span class="icon">​</span>http://wiki.ckan.org/Writing_asynchronous_tasks</a>
</li><li><a class="ext-link" href="http://wiki.ckan.org/Domain_Model"><span class="icon">​</span>http://wiki.ckan.org/Domain_Model</a>
</li><li><a class="ext-link" href="http://wiki.ckan.org/Deployment"><span class="icon">​</span>http://wiki.ckan.org/Deployment</a>
</li></ul><h1 id="CreateaUserGuide">Create a User Guide</h1>
<p>
Basic step-by-step on getting started with CKAN (See start on set of slides here e.g. <a class="ext-link" href="http://blog.thedatahub.org/2012/03/02/tutorial-publish-data-with-the-datahub/"><span class="icon">​</span>http://blog.thedatahub.org/2012/03/02/tutorial-publish-data-with-the-datahub/</a>)
</p>
<ul><li>Publishing data
</li><li>Authorization and workflows
<ul><li>Publisher Profile (Workflow)
</li></ul></li></ul><h1 id="Breakintosections">Break into sections</h1>
<p>
Suggest something like:
</p>
<pre class="wiki"># General
* Intro
* Conceptual Overview
* What CKAN helps you do (http://ckan.org/)
* FAQ ? (or point to the wiki)

# For Administrators

* Installation and Setup
  * Configuration options
* Customization - Theming etc
* Authorization and Workflows
* Storage

# For Users (Publishers, Data Wranglers, etc etc)
* Walkthrough of publishing a dataset
* Storage
* API (see Developers section)

# CKAN Developers

* Domain Model
* API
* Extensions
* i18n

CKAN Developers
* Buildbot
</pre>
                            
                          </td>
                          <td class="PosixTime">1331481965000000
                          </td>
                          <td class="ModifiedTime">1332475494000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1094.html">#1094</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1094.html">[super] Refactor the Auth System</a>
                          </td>
                          <td class="description">
                            <p>
Here are some proposed changes related to CKAN's authorization system - they aren't very big, but should provide for some forthcoming use cases including <a class="closed ticket" href="../ticket/787.html" title="task: Auth API (closed: fixed)">#787</a>.
</p>
<p>
Two man reasons for the changes are:
</p>
<ul><li>We have a completely refactored architecture now which introduces a logic layer. These Auth changes are designed to better support the way we work with that layer.
</li></ul><ul><li>Different CKAN extension apps may need radically different authentication/authorisation so we need to allow whatever we have to be override-able.
</li></ul><p>
The first two changes revolve around the is_authorized method, which
is called by the logic layer to ask whether a particular user (e.g.
Bob) is allowed to do a certain action (e.g. edit) on a certain object (e.g. Package).
</p>
<ol><li>The first thing the is_authorized method is a hook to a plugin
</li></ol><p>
which *overrides* the current call with its own implementation (note: in previous discussions we have considered allowing a chain of plugins, no longer!)
</p>
<p>
Reason: authorization can be completely delegated to another system
(or partially)
</p>
<ol start="2"><li>is_authorized method currently takes (username, action, object)
</li></ol><p>
but for action=create_package, the object supplied is System, and for action=edit the object supplied is the package. Instead action should always be the string name of a function in the logic layer and object should always be the object passed to that function. This means our auth system is based around the actual actions we are performing (rather than a model them) and with the actual data that forms the action (rather than a related object). You never need a System object in this model.
</p>
<ol start="3"><li>Rename these two classes to better reflect what they are
<ul><li><a class="missing wiki">AuthorizationGroup?</a> -&gt; <a class="missing wiki">UserGroup?</a>
</li><li>Group -&gt; <a class="missing wiki">PackageGroup?</a>
</li></ul></li></ol><ol start="4"><li>Rename the Editor role to <a class="missing wiki">PriveledgeUser?</a> since Editors sometimes can't edit.
</li></ol><p>
Although this sounds a bit radical we already have auth extensions.
</p>
<h2 id="Read-onlyCKANWebUI">Read-only CKAN Web UI</h2>
<p>
(Additional requirement from <a class="closed ticket" href="../ticket/764.html" title="enhancement: Read-only CKAN Web UI (closed: duplicate)">#764</a>)
</p>
<p>
Whilse using CKAN web interface, you are not tempted to edit stuff:
</p>
<ul><li>You know at all times this CKAN is read-only
</li><li>All editing facilities are still seen but greyed-out with an indication why it is.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1303117973000000
                          </td>
                          <td class="ModifiedTime">1311173649000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/961.html">#961</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/961.html">[super] Refactoring of forms, validation and model synchronization</a>
                          </td>
                          <td class="description">
                            <p>
This is a meta-ticket to hold all of the work on refactoring forms, validation and model-synchronization in CKAN.
</p>
<p>
ckan-dev thread: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2011-January/000180.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2011-January/000180.html</a>
</p>
<h2 id="TheIssue">The Issue</h2>
<p>
From <a class="closed ticket" href="../ticket/926.html" title="enhancement: Pick a simpler form framework (closed: fixed)">#926</a>:
</p>
<p>
The current formalchemy setup conflates view, controller and model code in a way that makes it hard to debug and customise.
</p>
<p>
From <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2011-January/000181.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2011-January/000181.html</a>:
</p>
<p>
... FormAlchemy, in retrospect, was probably a mistake as it merges too much model/validation/form generation into one thing.
</p>
<p>
At least 3 functions involved [in this area]:
</p>
<ol><li>Generating (or just filling) a form template with 'form data' (and errors)
</li><li>Converting model data to form data (also happens for APIs in fact) -- let's call this 'dict-ization'
</li><li>Converting form data to model data (and validating) (inverse of previous step)
</li></ol><h2 id="RelatedTickets">Related Tickets</h2>
<ul><li><a class="closed ticket" href="../ticket/926.html" title="enhancement: Pick a simpler form framework (closed: fixed)">#926</a> - Pick a simpler form framework
</li><li><a class="closed ticket" href="../ticket/1046.html" title="enhancement: Dictization and the new logic layer (closed: fixed)">#1046</a> 'dictization' and the logic layer - serialization / deserialization of package (and other domain objects) to standard intermediate format such as json-convertable python dict
<ul><li><a class="closed ticket" href="../ticket/1079.html" title="enhancement: Refactor API to use new logic layer and dictization (closed: fixed)">#1079</a> Refactor API to use new logic layer and dictization
</li><li><a class="closed ticket" href="../ticket/1078.html" title="enhancement: Refactors WUI controllers and forms to use logic layer (closed: fixed)">#1078</a> Refactor WUI controllers and forms to use logic layer
</li><li>cf existing dumper and importer code
</li><li>This will fix <a class="closed ticket" href="../ticket/662.html" title="defect: Can't put entity that is returned by posting to package register (closed: fixed)">#662</a>
</li></ul></li><li>[not ticketed yet] - validation layer (should work on serialized objects?)
</li><li><a class="closed ticket" href="../ticket/662.html" title="defect: Can't put entity that is returned by posting to package register (closed: fixed)">#662</a> - Can't put entity that is returned by posting to package register (Defect)
</li><li><a class="closed ticket" href="../ticket/972.html" title="enhancement: Merge 'extras' into main package dict rather than having separate key (closed: wontfix)">#972</a> - Merge 'extras' into main package dict rather than having separate key
</li><li><a class="closed ticket" href="../ticket/1035.html" title="enhancement: Form impressions given an ID (closed: wontfix)">#1035</a> - Form impressions are given IDs
</li><li><a class="closed ticket" href="../ticket/810.html" title="enhancement: Move &#34;add packages&#34; field up in group form (closed: wontfix)">#810</a> - Move "add packages" field up in group form (easier to do this once forms are done)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1297069849000000
                          </td>
                          <td class="ModifiedTime">1310126100000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2204.html">[super] Related (Stuff) Extension</a>
                          </td>
                          <td class="description">
                            <p>
This is a reworking of the existing apps extension.
</p>
<p>
Initial proposal at <a class="ext-link" href="http://wiki.ckan.org/Proposals#Apps_in_CKAN"><span class="icon">​</span>http://wiki.ckan.org/Proposals#Apps_in_CKAN</a> and <a class="ext-link" href="http://wiki.ckan.org/Proposals#References.2FLinks_in_CKAN"><span class="icon">​</span>http://wiki.ckan.org/Proposals#References.2FLinks_in_CKAN</a>
</p>
<h2 id="Naming">Naming</h2>
<p>
What do we call this extension?
</p>
<ul><li>related
<ul><li>RP best IMO but perhaps too close to separate relationships concept?
</li></ul></li><li>relatedstuff
</li><li>links
</li><li>references
</li></ul><h2 id="Proposal">Proposal</h2>
<p>
"Related Stuff": Apps as in an application (website/service/tool) that uses this dataset (as in Apps and Ideas extension)
</p>
<ul><li>This case seems a general example of wanting to link some external thing to a dataset (e.g. this policy paper refs this dataset, this application uses this dataset, this visualization is built on this dataset cf <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2011-August/001607.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2011-August/001607.html</a>)
</li></ul><h2 id="Implementation">Implementation</h2>
<p>
New table named Related with following structure
</p>
<pre class="wiki">|| id (int) || type || title || description (markdown) || image_url || owner_id || url || created (timestamp)
</pre><ul><li>type = Idea | App | API | Visualization | Post | Paper | News Article
<ul><li>Suggest we make this a ckan.ini config option (comma separated ...?)
<ul><li>Do we want the possibility of different templates for different types of Related objects?
</li></ul></li></ul></li></ul><ul><li>image: ?? Depends where we store images. Simplest option would be to change to image_url and leave it to users to have already uploaded an image somewhere. If not we need to support image uploading and storage. See <a class="closed ticket" href="../ticket/1692.html" title="enhancement: Add image attribute to Dataset and Group (closed: wontfix)">#1692</a> (add image attribute to datasets and groups) for more discussion, once implemented the URL here can be an internal url.
</li></ul><ul><li>owner_id = user_id or creating user (see authorization below) 
</li></ul><p>
Related2Dataset (note that related_id, dataset_id tuple should be unique). This allows for m2m connections. If a given related item is only with one dataset this could be simplified. May contain status so dataset owner can turn this on/off.
</p>
<pre class="wiki">|| id || dataset_id || related_id || status
</pre><p>
status should be used to allow for a dataset owner (for dataset_id) to de-activate the relationship between the dataset and the related.
</p>
<h3 id="Url">Url</h3>
<ul><li>/dataset/{dataset-name}/related/{related-item-id}/{related-item-title-stringified}
<ul><li>If a reference item could exist in its own right (and perhaps refer to multiple datasets then it should get its own url at e.g. /related/{id}
</li></ul></li><li>/dataset/{dataset-name}/related/add =&gt; Modal dialog on related tab so we can use API to create them.
</li></ul><p>
/dataset/{id}/related &lt;- list
</p>
<ul><li>use image_url for small icon etc, title description (shortened?)
</li><li>Click through to full related item (optional)
</li><li>dataset owner is shown show / hide button ... (or on /dataset/{id}/related/{id} )
</li><li>related owner sees an edit button / icon (pops up modal)
</li></ul><p>
/dataset/{id}/related/{id} (optional)
</p>
<p>
/dataset/{id} will have a Related tab (with bubble with count).
</p>
<ul><li>Drop down with Add Related -&gt; Pop-up modal and save via API
</li></ul><blockquote>
<blockquote>
<p>
(Not used: /related/add with dataset prefilled ... )
</p>
</blockquote>
</blockquote>
<p>
/related/{id}/edit
</p>
<h3 id="Authorization">Authorization</h3>
<p>
Addition of related item be considered orthogonal to datasets (and hence with separate authorization i.e. i can add the info that site X uses dataset Y without needing permission to edit dataset Y).
</p>
<p>
Thus any logged in user could add a Related item. We set the owner of the related item to creating user and going forward only that user or a sysadmin can update or delete.
</p>
<p>
NB: we could have a system where datasets owners have to approve related items before they show up next to their dataset. This would add substantial complexity so I propose we leave out of phase 1.
</p>
<h3 id="Tasksandestimates7.5d">Tasks and estimates {7.5d}</h3>
<p>
[x] Model + Migration for Related table. {0.75d}
</p>
<p>
[x] Controller for Related (or relevant sections in Package controller). {0.75d}
</p>
<p>
[x] Routing setup. {0.25d}
</p>
<p>
[x] Schema for related. {0.5d}
</p>
<p>
[x] Logic layer actions. {1.0d}
</p>
<p>
[x] Auth (default + publisher). {0.5d}
</p>
<p>
[x] Templates + Dataset changes (new tab etc). {1.0d}
</p>
<p>
[x] JS Application for adding Related objects in a modal. {1.0d}
</p>
<p>
[x] Testing. {0.75d}
</p>
<p>
[x] Dataset owner disabling of Related (via M2M table). {0.5d}
</p>
<ul><li>Updated to allow author of related to delete as well
</li></ul><p>
[x] Documentation. {0.25d}
</p>

                            
                          </td>
                          <td class="PosixTime">1330862992000000
                          </td>
                          <td class="ModifiedTime">1337594723000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1397.html">#1397</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1397.html">[super] Resource archiving</a>
                          </td>
                          <td class="description">
                            <p>
We want to cache/archive data associated to a resource so it is available if the resource url disappears (and in order to support other processing we may wish to do e.g. webstorer ...)
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/queue"><span class="icon">​</span>http://ckan.okfnpad.org/queue</a> (most relevant parts inlined here)
</p>
<h2 id="Preliminaries">Preliminaries</h2>
<ul><li>Add task_status table to store qa/archiever/webstore information that does not need to be versioned. - <a class="closed ticket" href="../ticket/1363.html" title="enhancement: Add task_status table to store qa/archiever/webstore information that does ... (closed: fixed)">#1363</a> (and <a class="closed ticket" href="../ticket/1371.html" title="enhancement: Make logic layer functions for working with task_status table (closed: fixed)">#1371</a> - related logic functions)
</li></ul><h3 id="Configurationsetupfordaemons">Configuration setup for daemons</h3>
<p>
Pass config through to workers i.e site_url, user, api_key.
Need to make site user account. <a class="closed ticket" href="../ticket/1408.html" title="enhancement: Make site user, so tasks can post information back to ckan. (closed: fixed)">#1408</a>
</p>
<p>
celeryd config:
</p>
<p>
All providers of tasks will add an item to the following entry point:
</p>
<pre class="wiki">[ckan.tasks]
name = ckanext.{name}.tasks:....
</pre><p>
celeryconfig.py
</p>
<pre class="wiki">from pkg_resources import iter_entry_points
for entry in iter_entry_points:
     celeryimports.appen(....)

CELERY_IMPORTS = celeryimports
</pre><h2 id="WorkItems">Work Items</h2>
<ul><li>Resource change notifications in core - Make an IResourceChange and IResourceUrlChange. [1d] [0.75d] -  <a class="closed ticket" href="../ticket/1383.html" title="enhancement: Add IResourceChange IResourceUrlChange Interfaces. (closed: fixed)">#1383</a>
</li><li>Generate archiving request on resource url change [0.25d][0.25d] - <a class="closed ticket" href="../ticket/1399.html" title="enhancement: Generate archiving request on resource url change (closed: fixed)">#1399</a>
</li><li>Make site user account.
</li><li>Make entry point system for celery config
</li><li>Archiver daemon <a class="closed ticket" href="../ticket/891.html" title="task: Resource download worker daemon (closed: fixed)">#891</a>
<ol><li>implement link-check function and task (point 2 from Archiver.update above) [1d] [0.5d]
</li><li>Rewrite archiver to use external storage. (decide how!)[3d][~2d]
</li></ol></li><li>Write to resource and task status table.[1d][0.75d]
</li><li>[Required?] Make archived data available in WUI - <a class="closed ticket" href="../ticket/892.html" title="enhancement: Make stored data available in WUI - 0.5d (closed: fixed)">#892</a>
</li><li>Documentation - <a class="closed ticket" href="../ticket/1400.html" title="enhancement: Document Archiver Extension (closed: fixed)">#1400</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1318529593000000
                          </td>
                          <td class="ModifiedTime">1338202920000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1032.html">[super] Resources in WUI</a>
                          </td>
                          <td class="description">
                            <p>
Add resources into Web User Interface.
</p>
<ul><li>Locate at: /dataset/{dataset}/resource/{id}
</li><li>CRUD
</li><li>Authorization
</li></ul><p>
Done:
</p>
<ul><li><del><a class="closed ticket" href="../ticket/945.html" title="enhancement: [super] Richer resources - Resource Groups, new fields, improved UI (closed: fixed)">#945</a> - Richer resources - Resource Groups, new fields, improved UI</del>
</li><li><del><a class="closed ticket" href="../ticket/1445.html" title="enhancement: Resource View page in WUI (closed: fixed)">#1445</a> - Resource View page in WUI</del>
</li><li><del><a class="closed ticket" href="../ticket/1450.html" title="enhancement: Simplify dataset view page (closed: fixed)">#1450</a> - Dataset view pages to match</del>
</li></ul><p>
Moved to superticket <a class="closed ticket" href="../ticket/1506.html" title="enhancement: [super] UX improvements to dataset edit, create and search + group + user ... (closed: fixed)">#1506</a>: 
</p>
<ul><li><a class="closed ticket" href="../ticket/978.html" title="enhancement: Edit Resource including Extras in Web UI (closed: fixed)">#978</a> - Edit Resource Extras in Web UI
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1299782021000000
                          </td>
                          <td class="ModifiedTime">1330348463000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/945.html">#945</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/945.html">[super] Richer resources - Resource Groups, new fields, improved UI</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1032.html" title="enhancement: [super] Resources in WUI (closed: fixed)">#1032</a>
</p>
<p>
This is a meta ticket for changes that are going to happen in resources.
</p>
<ul><li>New resource group table.  <a class="closed ticket" href="../ticket/956.html" title="enhancement: Add a resource group table. (closed: fixed)">#956</a>
</li><li>New kind field in resource.  <a class="closed ticket" href="../ticket/957.html" title="enhancement: new &#34;kind &#34; field added to resources (closed: wontfix)">#957</a>
</li><li>UI for new kind field. <a class="closed ticket" href="../ticket/958.html" title="enhancement: ui for new kind field (closed: duplicate)">#958</a>
</li><li>Resources in REST API <a class="closed ticket" href="../ticket/358.html" title="enhancement: Resources in REST API (closed: duplicate)">ticket:358</a>
</li><li>Resources in WUI <a class="closed ticket" href="../ticket/1445.html" title="enhancement: Resource View page in WUI (closed: fixed)">#1445</a>
</li><li>Make Resources first class entity. <a class="closed ticket" href="../ticket/922.html" title="enhancement: Make Resources first class entity. (closed: duplicate)">#922</a> (duplicate?)
</li></ul><p>
Background on this change can be found at:
</p>
<ul><li><a class="ext-link" href="http://ckan.okfnpad.org/resources"><span class="icon">​</span>http://ckan.okfnpad.org/resources</a> - discussion etherpad
<ul><li>Contains commented version of James Gardner's main email: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2011-February/000887.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2011-February/000887.html</a>
</li></ul></li><li><a class="wiki" href="../wiki/UseCasesResources.html">UseCasesResources</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296475283000000
                          </td>
                          <td class="ModifiedTime">1325259350000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <span class="current">23</span>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>