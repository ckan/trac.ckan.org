<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=PosixTime&amp;asc=0&amp;page=10.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=PosixTime&amp;asc=0&amp;page=8.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=PosixTime&amp;asc=0&amp;page=9.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(801 - 900 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=8.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <span class="current">9</span>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=10.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="23%3Fsort=ticket&amp;asc=1&amp;page=9.html">
              Ticket
            </a>
          </th><th class="desc">
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=9.html">
              Posixtime
            </a>
          </th><th>
            <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=9.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2305.html">#2305</a>
                          </td>
                          <td class="PosixTime">1335879165000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Setting the priority to major as I think it's worth getting this done since the follow support (which is almost finished) is a bit pointless without this.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2345.html">#2345</a>
                          </td>
                          <td class="PosixTime">1335878420000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Setting priority high as we want this done by Friday for the 1.7 release.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2304.html">#2304</a>
                          </td>
                          <td class="PosixTime">1335878372000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">I'm setting the priority of this high just because it's a low-hanging fruit for this sprint, as it was almost done last sprint.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1621.html">#1621</a>
                          </td>
                          <td class="PosixTime">1335878161000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Closing because I haven't seen this test fail for ages
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1764.html">#1764</a>
                          </td>
                          <td class="PosixTime">1335878051000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Closing because I'm not sure what the reason for doing this would be.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1633.html">#1633</a>
                          </td>
                          <td class="PosixTime">1335877927000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Closing this as there doesn't seem to be much interest in showing activity streams on group pages anytime soon.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1632.html">#1632</a>
                          </td>
                          <td class="PosixTime">1335877871000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Closing this as there doesn't seem to be interest in showing activity streams on group pages anytime soon
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1812.html">#1812</a>
                          </td>
                          <td class="PosixTime">1335874864000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Ross has fixed this via group authentication.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1811.html">#1811</a>
                          </td>
                          <td class="PosixTime">1335874765000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Not using eurovoc tags.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1810.html">#1810</a>
                          </td>
                          <td class="PosixTime">1335874745000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Not using eurovoc tags.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1335795665000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Giving this ticket to Aron to fix the front end
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2323.html">#2323</a>
                          </td>
                          <td class="PosixTime">1335516967000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Doesn't make sense in Organizations mode.  Adding existing dataset would mean that dataset would have to already be in another organization.  

Leaving this open though to fix in case we decide that datasets *can* be in more than one organization at a time.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2302.html">#2302</a>
                          </td>
                          <td class="PosixTime">1335516537000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Will eventually want to allow customisation of different CSS but designs are currently under review/change.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1335460997000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">... just to add to the above:

{{{

&gt;&gt;&gt; pprint(json.loads(requests.post('http://127.0.0.1:8088/api/3/action/package_search', json.dumps({'facet.field': ["tags", "groups"]})).content))

&lt;snip&gt;


u'search_facets': {u'groups': {u'items': [{u'count': 1,
                                                        u'display_name': u"Roger's books",
                                                        u'name': u'roger'},
                                                       {u'count': 2,
                                                        u'display_name': u"Dave's books",
                                                        u'name': u'david'}],
                                            u'title': u'groups'},
                                u'tags': {u'items': [{u'count': 1,
                                                      u'display_name': u'tolstoy',
                                                      u'name': u'tolstoy'},
                                                     {u'count': 2,
                                                      u'display_name': u'russian',
                                                      u'name': u'russian'},
                                                     {u'count': 2,
                                                      u'display_name': u'Flexible \u30a1',
                                                      u'name': u'Flexible \u30a1'}],
                                          u'title': u'tags'}}},
 u'success': True}

}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1335460683000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Facet results **are** already available through the package_search action api.  The facet fields need to be specified in the query, otherwise no faceting will be done (ie - the default facets specified in the .ini file are not used).

This leaves "whitelist any GETable api actions, and optionally construct the query from url params rather than body" todo, which I've pulled out into another ticket, as it wasn't originally in this ticket.  (#2330)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2325.html">#2325</a>
                          </td>
                          <td class="PosixTime">1335366188000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in [release-v1.6.1 6343a9c]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1335287636000000
                          </td>
                          <td class="author">aron.carroll
                          </td>
                          <td class="newvalue">Making some notes of front-end changes that I think need to be implemented sooooon.

{{{
Implement better truncation (the expanded text should pop out on hover rather than expand the entire row)
Show the type of related item (an icon would be good here)
Test in IE
Make the form work without JavaScript by accepting x-www-form-urlencoded.
Add classes to first item in a row to clear the row (currently uses :nth-child CSS)
Touch gestures and re-ordering (David's request)
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1370.html">#1370</a>
                          </td>
                          <td class="PosixTime">1335273643000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">I've talked to David and we both feel that this should not be a part of core.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1370.html">#1370</a>
                          </td>
                          <td class="PosixTime">1335230503000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Just to check: I thought this was going into core. This really does not need to be an extension (it is so small ...)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2292.html">#2292</a>
                          </td>
                          <td class="PosixTime">1335021860000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">This annoyed me so much I just fixed it: https://github.com/okfn/ckan/commit/5eca7d5e37c0ef392b768b8b3768b2c3f93448b5

Issue was that our auto-completion depended on structure of the HTML which changes with bootstrapification.

BTW: have deployed this via copy and paste on datahub so i can use it. Will want to revert this when you do a deploy.

@Ross: I note that the same bug probably affects organization auto-complete.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2315.html">#2315</a>
                          </td>
                          <td class="PosixTime">1334919522000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done, with tests and bootstrapification of the form: [release-v1.6.1 b23b357]
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1370.html">#1370</a>
                          </td>
                          <td class="PosixTime">1334838259000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">The url issue wants resolving



when 1.7 released need to 

* ensure setup.py setting are complete/correct

* publish to pypi

* check setup instructions work
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2311.html">#2311</a>
                          </td>
                          <td class="PosixTime">1334837867000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">most work has been completed

comments can be added to templates via ${h.disqus_comments()}

recent comments via ${h.disqus_recent()}

basic i18n works for languages except norwegian which reverts to english

needs ckan 1.7

awaiting clarification re urls changing from under us
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2313.html">#2313</a>
                          </td>
                          <td class="PosixTime">1334756921000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Note that c.new_facets has now been renamed c.search_facets.

Before this ticket is closed the old c.facets should also be removed from the template context. It's put there by ckan/logic/action/get.py:package_search(), which also puts the new c.search_facets there.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1370.html">#1370</a>
                          </td>
                          <td class="PosixTime">1334675681000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">style &amp; sites can now be passed by individual templates
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1370.html">#1370</a>
                          </td>
                          <td class="PosixTime">1334674212000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">config options:

* social.sharethis_api_key

* social.sharethis_style = horizontal | vertical | large | none

* social.sharethis_sites = googleplus twitter facebook email sharethis

Easy to add new sites we just need the ShareThis name and a description
Currently these are all site wide maybe add options for specific templates (via the template not config)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1370.html">#1370</a>
                          </td>
                          <td class="PosixTime">1334674002000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">We can supply the following to ShareThis


* st_url 	Specifies URL (can be shortened URL) that you would like shared

* st_title 	Specifies title that you would like shared

* st_image 	Specifies link to image you would like displayed in the shared content

* st_summary 	Specifies summary text/description you wish to share


currently we just have the defaults but do we want to set these?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2303.html">#2303</a>
                          </td>
                          <td class="PosixTime">1334654727000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">feature-2303-rdf-export-command
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1334591246000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">See http://ckan.okfnpad.org/feature-1737-expose-solr-based-search-api

= Immediate actions

 * analysis of whether the current action/get.py:package_search() function exposes all we currently need for the use cases described above.
 * how to return that data (expand the current format?)
 * analysis of whether the current (action) API v.3 can use query parameters rather than as well as POSTed data.
    (controlles/api.py:action() )
    uses "self._get_request_data()" which in-turn pulls out data from POST body.

= Tasks

Extend the existing package_search action.

 * pass the facet fields into the logic layer from the request parameters.
   - /api/3/action/package_search
 * facet information not being returned via package_search action (is empty).
   - curl -X POST -d '{"q": "{!lucene q.op=AND df=text}tags:health +community -profile"}' 'http://thedatahub.org/api/3/action/package_search'
   - figure out why it's not working, and what the facet information should look like
 * whitelist any GETable api actions, and optionally construct the query from url params rather than body
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2255.html">#2255</a>
                          </td>
                          <td class="PosixTime">1334582784000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Review + restrict resource access (when private)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2239.html">#2239</a>
                          </td>
                          <td class="PosixTime">1334581838000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Changes to schema/rdf output
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2285.html">#2285</a>
                          </td>
                          <td class="PosixTime">1334580266000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Recline improvements are done.

https://github.com/okfn/recline/issues/88
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2297.html">#2297</a>
                          </td>
                          <td class="PosixTime">1334569632000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">http://ckan.okfnpad.org/27
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2271.html">#2271</a>
                          </td>
                          <td class="PosixTime">1334567582000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This was caused by an human error.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2252.html">#2252</a>
                          </td>
                          <td class="PosixTime">1334567495000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed on 0dff1f6c2e
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2296.html">#2296</a>
                          </td>
                          <td class="PosixTime">1334567141000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">* ensure the read_ajax and history_ajax actions work in the routing.
* ensure the moderatededits.js works with the new templating
* ensure that the css works with the new templating
* ensure that the stream filters work with the new templating.

~ 6 days work
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2264.html">#2264</a>
                          </td>
                          <td class="PosixTime">1334348070000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">A few strings are still left to be marked for translation:

- http://trac.ckan.org/ticket/2289
- http://trac.ckan.org/ticket/2288
- http://trac.ckan.org/ticket/2287
- http://trac.ckan.org/ticket/2290
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1334218735000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">I'd be happier adding this to another ticket rather than moving the target for this ticket half way through so have created #2284
Should only be a short ticket in the next sprint.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2275.html">#2275</a>
                          </td>
                          <td class="PosixTime">1334159668000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Done in branch feature-2275-group-logo, still need to decide on how to style.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1334144999000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">For meeting today with Adria

* How to add tracking to solr index.  Can the data live in tracking_summary?  Do we need any extra indexes on table to help indexing?

* How will we add order by popularity to search?

* Can we add resources too?

* Will search be best way to find most popular packages/resources or should we get that pages data from tracking_summary?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1334077936000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Important comment: not sure how much we have thought through using this for storing queries / views / visualizations coming from our data viewer. In particular, wonder if this necessitates some kind of support for arbitrary json data ...

Also (@icmurray): does this interact with our desire to do embedding?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1334074772000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">api counter moved to ticket #2282 as needs better specification
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2256.html">#2256</a>
                          </td>
                          <td class="PosixTime">1334052087000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">@Rufus,

Thanks, I think there is overlap and I'm happy to leave that bit of work to you (or future ticket owner) I was just adding some brief notes to this ticket on some of the outcomes I'd like to see and hence why I'd be happy to simplify the icons.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2256.html">#2256</a>
                          </td>
                          <td class="PosixTime">1334051733000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">@toby: indeed and I'm strongly in favour of the basic idea too (and largely a dev question so up to you guys though feature / functionality implications would need to be talked through). My point was that custom icon stuff was #2224 :-)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2256.html">#2256</a>
                          </td>
                          <td class="PosixTime">1334051526000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">@Rufus,

The idea of this ticket is to separate TDH into an extension rather than it being incorporated into core.  This should help TDH by making it possible to push fixes without needing to do a new release of core.  It should also help make core more stable and as slim line as possible.  New features can be tested in TDH and then if they have a wider appeal they can be merged into core.

There is a strong desire for this within the dev team.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2281.html">#2281</a>
                          </td>
                          <td class="PosixTime">1333967862000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in [release-v1.6.1 9ecbfa5][release-v1.6.1 9ecbfa5]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2256.html">#2256</a>
                          </td>
                          <td class="PosixTime">1333720237000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Not sure what ticket means (remove TDH from core?). Also agree that we should glyphicons from bootstrap where possible going forward - though that would seem to fit more naturally with #2224 (Simplify javascript and css dependencies and add minified version) and have little to do with TDH versus core :-)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1333644538000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">most work completed: outstanding issues

* add a prune tracking_raw data to cli

* add indexes to tracking_raw

* add summary page for new data format

* add api counter

  1) do we record the url or action etc (action seems more sensible)
  2) add in __call__ or in action?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2264.html">#2264</a>
                          </td>
                          <td class="PosixTime">1333635637000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Many strings have been fixed (and committed on master). Still to go:

When uploading a file:

- The "Browse..." button. This comes from the user's browser?

- Hangs when I try to upload a file, so the rest of this UI is unchecked.

The licenses on the dataset add, edit and view pages, "License Not Specified" etc.

Dataset state on dataset view page, e.g. "active".

When adding or editing resources:

- The resource types (Data File, etc.) The strings seem to come from resource.resource_type.

- "You can use Markdown formatting here", "Should a DataStore table and Data API be enabled for this resource?", "Dates are in ISO Format — eg. 2012-12-25 or 2010-05-31T14:30". I can't get strings with hyperlinks in them to translate here.

Dataset view page:

- License not specified.

Dataset search page:

- "Tags", "Res_format" and "Groups" in the sidebar. Leaving because this code has been refactored on feature-1821-multilingual-extension. Fix after that branch has been merged.

Dataset view page:

- The resource types, e.g. "plain text".
- The field names under additional information: cache_last_updated etc.

Dataset history view: timestamps not localised.

Login page:

- "Login failed. Bad username or password. (Or if using OpenID, it hasn't been associated with a user account.)" This string is marked for translation but I can't seem to get translations to work for flash messages. Also "Sean Hammond is now logged in" flash message.

Register page:

- "Missing value" in error message when you try to register and don't give an email. The string seems to come from formencode. stdtrans() not working?

User view page:

- Activity streams strings. Activity streams genshi function needs a little refactoring to be i18n-friendly.

Users page:
- "less than 1 month". This string comes from Pylons' time_ago_in_words() function which doesn't appear to support i18n.

New auth group (and edit auth group) page:

- "Unique identifier for group. 2+ chars, lowercase, using only 'a-z0-9' and '-_'". This string is marked for translation but for some reason it isn't working.

- "Name: Please enter a value" (in an error msg)

- "User name". The string comes from class FormBuilder?

Also, need to check that all tooltips are translated!
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2256.html">#2256</a>
                          </td>
                          <td class="PosixTime">1333620795000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">I'd like to remove all 'custom' icons and just use bootstrap ones - is this reasonable?  they are added in different ways but h.icon() could be easily adapted for this.

minimal .sj .css files
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2260.html">#2260</a>
                          </td>
                          <td class="PosixTime">1333554069000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Finished for this iteration, waiting for design work to be completed before making further changes.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1333535572000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">we have various options on tracking unique users seems the sane approach.

* unique daily view - needed for nice graphing

* unique total views

* total unique daily views - higher numbers and feels more right - easier to calculate if original data is lost/or archived

for now will collect all and then decide which to use for display as gives us flexibility if needed



display
-------

why is group listing of datasets inconsistent with main search (TDH at least)?
should we make these consistent?

group listing allows downloading of resource without tracking (this should be fixed)

if we make listings uniform do we want the download links or not?

I don't like the term download when it is just a link (maybe that's just me - what would be better?)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2278.html">#2278</a>
                          </td>
                          <td class="PosixTime">1333441177000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">https://github.com/okfn/ckan/commit/b7b32820a9132811028e7ccc243b2d2339492d4d
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1593.html">#1593</a>
                          </td>
                          <td class="PosixTime">1333385052000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Implemented in branch [https://github.com/okfn/ckan/commits/feature-1593-create-feeds-from-search-results feature-1593-create-feeds-from-search-results]

Not quite close as I've only included links to the atom feed in the &lt;head&gt;.  Will do that this week.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2242.html">#2242</a>
                          </td>
                          <td class="PosixTime">1333375436000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Conclusion: jenkins should work, may need some jenkins plugin magic to get it to show what branch each build was run on.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2252.html">#2252</a>
                          </td>
                          <td class="PosixTime">1333374836000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This needs more work on ckanext-dgu and testing.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2260.html">#2260</a>
                          </td>
                          <td class="PosixTime">1333373978000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Still some work to do on this, template needs to be finalised.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1600.html">#1600</a>
                          </td>
                          <td class="PosixTime">1333362031000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Closing as wontfix atm since think this will either go to main manual or won't be done here. (Also did quite a lot of work).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1788.html">#1788</a>
                          </td>
                          <td class="PosixTime">1333133365000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">I've been performing a full sweep of the site to rebuild the markup &amp; stylesheets using Bootstrap, and in doing so have managed to close off this ticket. Bootstrap allows us to delegate lots of clever functionality and layouts to Twitter's tried-and-tested code, making it easier to be compatible with IE7.

It has brought up plenty of issues: Lots of Javascript was broken; plenty of pages generate broken doctypes causing the browser to go into quirks mode (which in turn causes the page to explode all over the screen); most dynamic content would fail to generate properly in one way or another.... (see the #1788 branch for a log of issues encountered).

I've been refactoring our JS and have managed to strip ckanjs, too, because the only significant element we'd used was the File Upload view (which also now works in IE7).

test.ckan.net has been redeployed on master; I'm browsing the site in IE7 and everything is looking great :-)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2252.html">#2252</a>
                          </td>
                          <td class="PosixTime">1333108787000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">There is a new ticket for the same schema as forms issue: #2268

The exception was fixed on [https://github.com/okfn/ckanext-inspire/commit/0dff1f6 0dff1f6]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1333037710000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have tracked down the changesets to:

 * branched off master at dff9f7a8
 * merged master in for the last time (and became the 'new master'?) at 1a9227d9ff73c
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2254.html">#2254</a>
                          </td>
                          <td class="PosixTime">1332950678000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">plan of attack

a) get removal of TDH from core - this will give a better idea of the issues involved

b) have a think
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2220.html">#2220</a>
                          </td>
                          <td class="PosixTime">1332950550000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">Implementation of this has been carried out at the page level.

ckan.page_cache_enabled is config option to enable it

requires redis

need to document it somewhere
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2257.html">#2257</a>
                          </td>
                          <td class="PosixTime">1332950416000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">pushed first round of changes into master
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2255.html">#2255</a>
                          </td>
                          <td class="PosixTime">1332934041000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Changed description based on docs of stuff to verify.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2266.html">#2266</a>
                          </td>
                          <td class="PosixTime">1332932634000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in [release-v1.6.1 ed2772b] with test.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1332928847000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">This is in the 1.6.1 as far as I'm aware. The branch was deleted after the merge into master
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1332872069000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">What is the changeset for this? There is evidence of a branch "enhancement-1792-api-logic" but perhaps this name got fast-forwarded out through a bad merge? Is this merged into 1.6.1 release?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2265.html">#2265</a>
                          </td>
                          <td class="PosixTime">1332865837000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I started work on this and need to park it somewhere - here will do for now.

I was using the 'MLT Component' http://wiki.apache.org/solr/MoreLikeThis :
https://gist.github.com/2217684

But I think it would make more sense to use the 'MLT Handler' http://wiki.apache.org/solr/MoreLikeThisHandler which needs enabling by adding this to the config {{{/usr/share/solr/core1/conf/solrconfig.xml}}}:

{{{
  &lt;requestHandler name="/mlt" class="solr.MoreLikeThisHandler"&gt;
  &lt;/requestHandler&gt;
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1332843232000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">still awaiting discussion
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2227.html">#2227</a>
                          </td>
                          <td class="PosixTime">1332843126000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">being done in other tickets
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2223.html">#2223</a>
                          </td>
                          <td class="PosixTime">1332842692000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">Merged into master here: https://github.com/okfn/ckan/commit/0bf4b33955df3806785f9b42a55acaeb45596e25
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2261.html">#2261</a>
                          </td>
                          <td class="PosixTime">1332840112000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">please test logging in/out as the redirect was not testable but should be correct
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2261.html">#2261</a>
                          </td>
                          <td class="PosixTime">1332840056000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">completed plus documentation updated
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2261.html">#2261</a>
                          </td>
                          <td class="PosixTime">1332838253000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">new config option

ckan.root_path = /path/from/root/with/{{LANG}}/substitution
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1332776926000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">we want

resource show downloaded/viewed on resources

show on the dataset total/recent
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2255.html">#2255</a>
                          </td>
                          <td class="PosixTime">1332772340000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">&gt; What about ownership by users?

Good question. WIll add to description.

&gt; &gt;  New datasets can be created from the organization form, in which case the organization will be set in the dataset form dropdown (with privacy set to private - see below)
&gt; Does this mean like the setup on groups on the datahub (i.e. forward to new dataset but with some things hard-coded, organization/group?)? Or does it mean actual new dataset form on organization page.

The former, although currently we will have a slightly different form in the organizations extension, until such a time as we're ready to replace the existing one.  Tried merging the two forms but it ended up with such a mess of logic that it was unmanageable.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1332755148000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">closing as done all that I was asked to do as part of this ticket
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2255.html">#2255</a>
                          </td>
                          <td class="PosixTime">1332752936000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I would say Public is default for Organization with Private being an option (or do we make this a config option?).

What about ownership by users?

&gt;  New datasets can be created from the organization form, in which case the organization will be set in the dataset form dropdown (with privacy set to private - see below)

Does this mean like the setup on groups on the datahub (i.e. forward to new dataset but with some things hard-coded, organization/group?)? Or does it mean actual new dataset form on organization page.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2250.html">#2250</a>
                          </td>
                          <td class="PosixTime">1332680690000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Is this now how we are doing it? I thought we were integrating with RDF store (so it was more about sorting out the data viewer / recline stuff)?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1332524123000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Update description in great detail.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="PosixTime">1332519029000000
                          </td>
                          <td class="author">nils.toedtmann
                          </td>
                          <td class="newvalue">Ticket http://trac.okfn.org/ticket/1222 tracks the effort to push the clean-up script onto CKAN hosts.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="PosixTime">1332511544000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">@kindly: hope ok to assign to you (maybe just for review and thought on who would be best placed to look at ...)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="PosixTime">1332510913000000
                          </td>
                          <td class="author">nils.toedtmann
                          </td>
                          <td class="newvalue">Just to add: the remove_old_files script is only a workaround, not a fix. CKAN should clean up after itself. Feel free to re-open this ticket for a proper solution ;-)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="PosixTime">1332510790000000
                          </td>
                          <td class="author">nils.toedtmann
                          </td>
                          <td class="newvalue">Just checked s025 (which is depricated now), looks like my script is working fine - nothing older than a week in /home/okfn/var/srvc/publicdata.eu/data/sessions/.

We should activate this script on other hosts as well, e.g. so55/thedatahub.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2224.html">#2224</a>
                          </td>
                          <td class="PosixTime">1332475944000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Autocomplete based on bootstrap looks pretty non-trivial ...
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2226.html">#2226</a>
                          </td>
                          <td class="PosixTime">1332475468000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">All done (as of Tuesday in fact!). No doubt further work to do but that's a new ticket!
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2240.html">#2240</a>
                          </td>
                          <td class="PosixTime">1332408769000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Distributed to ckan-coord
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2254.html">#2254</a>
                          </td>
                          <td class="PosixTime">1332343198000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">What do we want to be able to do?

what do we use the stream stuff for at the moment?

la la la
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1332341080000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">http://ckan.okfnpad.org/feature-2204-related-stuff
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2204.html">#2204</a>
                          </td>
                          <td class="PosixTime">1332341044000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">needs discussion - planned for 23-3-2012
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1332340947000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">TODO

look at

1. How do we store this data in CKAN?

3. How do we display * Config option ckan.status.enabled = False (by default) 
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1332340874000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">notes from meeting 21-3-2012

US1 As a Site Admin / Visitor (?) I want to see how often a page has been viewed (every page) and how often resources have been downloaded.
US1a Next to a resource or a dataset see how often it has been downloaded / viewed
US1b I want to see datasets or resources ranked by most downloaded or viewed
US1c See a trend graph for a dataset (and resources)
Adminstrative Dashboard (?)
    * I want to see the traffic breakdown by country to my site ...
    * Ditto for browser type, language, etc etc
    * I want to see it graphed over time ...
== Implementation Details ==
1. How do we store this data in CKAN?
2. How do we track (and store)?
3. How do we display
* Config option ckan.status.enabled = False (by default)
=== Storing Data ===
How does ckanext-googleanalytics do this? Current table:
package_id | count_recent | count_total
Move to a new stats_summary table
id | item_id | object_type | stats_type (total, month_yyyy_mm, ...) | value
Do we store this data into the search (solr) so we can search by it?
=== Displaying Data ===
 * Helper functions / dictize:
  * Helper function: h.stats_get(object_type, id, stats_type)
   * h.stats_top_ranked(object_type, number) -&gt; returns object_dicts or just labels or ...
  * Change to dictize
 * Location in the default theme (do we show for example in search results too!)
 * Support for ranking by most popular in search?
=== Tracking Data ===
* Our own solution (just write to site_tracking)
* Google analytics (plus extension for retrieving data) &lt;- would need a refactor
* Piwiki
==== Own Solution ====
site_tracking table
id | url | timestamp | action (page_view, resource_download) |
 * Make javascript to make request to ckan to store clicks and page views.
 * Add middleware so these requests do not go through pylons and just store data quickly.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1332332390000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">not really part of ckanext-ga as we need to sit first in the middleware for speed reasons.  I'm looking at recording the details and will do a summary page like ga extension.

As far as other uses like showing popular resources etc then we need to decide where the data will live - on the resource or separate.

Downloads tracked? where is this done in the code/data stored
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2232.html">#2232</a>
                          </td>
                          <td class="PosixTime">1332331660000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in 6b4c6c9

This was due to some characters not being supported by XML. We now strip them before indexing.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="PosixTime">1332331650000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Big +1: everyone wants to know page views. Would like detail of how this goes into interface. Downloads already being tracked. Also isn't this just an extension to ckanext-googleanalytics.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1616.html">#1616</a>
                          </td>
                          <td class="PosixTime">1332327635000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in 10cfd168413

Also new flags and fixes for other commands were added:

 * Add -o option to only reindex datasets not already indexed
 * Add -i option to ignore exceptions when rebuilding
 * Add -r option to just refresh the index (not clearing it first)
 * Fix show command to show the index stored for a dataset
 * Add support for clearing the index of just one dataset
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2208.html">#2208</a>
                          </td>
                          <td class="PosixTime">1332251880000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">I've attached a ckan.pot file. To make it, I edited setup.py in CKAN core like this:

https://gist.github.com/2135849

and then ran python setup.py extract_messages. (And I had ckanext-ecportal installed at ~/pyenv/src/ckanext-ecportal.)

I guess I may need to run this again when the ckanext-ecportal source is finalised, so leaving this ticket open for now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2223.html">#2223</a>
                          </td>
                          <td class="PosixTime">1332246030000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">I have been working overtime to try and get this change straightened out as it's suddenly on the critical path for something. Have a look here: https://github.com/okfn/ckan/tree/feature-2223-bootstrap

It's 80% of the way there; some form CSS needs overriding because Bootstrap tends to make things very large so they spill over. But on the whole the markup is in a steady state, which is what we need.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1559.html">#1559</a>
                          </td>
                          <td class="PosixTime">1332242129000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Fixed. See https://github.com/okfn/ckan/commit/9965818e20f7532b37eb97a3b76c078263eb0dd1 and https://github.com/okfn/ckanext-disqus/commit/ae6bf09a153831e75f9182a4b30921973ff7d080
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=8.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <span class="current">9</span>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=10.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>