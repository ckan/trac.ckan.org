<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=ticket&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=ticket&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=ticket&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=ticket&amp;asc=1&amp;page=30.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=ticket&amp;asc=1&amp;page=29.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2801 - 2900 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <span class="current">29</span>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=31.html" title="Page 31">31</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=32.html" title="Page 32">32</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=33.html" title="Page 33">33</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=34.html" title="Page 34">34</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=35.html" title="Page 35">35</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=36.html" title="Page 36">36</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=37.html" title="Page 37">37</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=38.html" title="Page 38">38</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=30.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th class="asc">
            <a href="23%3Fsort=ticket&amp;asc=0&amp;page=29.html">
              Ticket
            </a>
          </th><th>
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=29.html">
              Posixtime
            </a>
          </th><th>
            <a href="23%3Fsort=author&amp;asc=1&amp;page=29.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=29.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1703.html">#1703</a>
                          </td>
                          <td class="PosixTime">1329918613000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Some metadata model info clarified at meeting today, will update ckanext-ecportal accordingly.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1703.html">#1703</a>
                          </td>
                          <td class="PosixTime">1330956340000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Nearly done, need to write converter to rename tags to keywords, waiting for Toby's API work to be finished.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1703.html">#1703</a>
                          </td>
                          <td class="PosixTime">1331142926000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Marking this stage as complete.  Keywords can be added/updated via WUI and API, but are still labelled 'tags' when called via package_show API call, but this will be addressed in a separate ticket.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1704.html">#1704</a>
                          </td>
                          <td class="PosixTime">1327425354000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Importer made and added to ckanext-ecportal/scripts. Still has to be run on the test server with Eurostat JSON datasets.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1705.html">#1705</a>
                          </td>
                          <td class="PosixTime">1327945105000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Done in branch feature-1698-tag-taxonomies
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1705.html">#1705</a>
                          </td>
                          <td class="PosixTime">1328094584000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Reopening because I still need to trace all the places in the model (tag.py, package.py, etc.) where there are methods that depend on tag names being unique, and then in the controllers and logic functions as well, and add new tests for the updated methods.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1707.html">#1707</a>
                          </td>
                          <td class="PosixTime">1328024253000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Tom fixed this as part of #1583
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1708.html">#1708</a>
                          </td>
                          <td class="PosixTime">1327493457000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've got a fix for this and am just looking to see where this problem started now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1708.html">#1708</a>
                          </td>
                          <td class="PosixTime">1327494415000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">The problem has traced back to this commit by Ian:

https://github.com/okfn/ckan/commit/51136465fb1bb94ea70df32be00eaef6ae43792b
ckan/config/routing.py
{{{
-from ckan.plugins import PluginImplementations, IRoutes
 	 10	
+from ckan.controllers.package import set_fallback_controller as set_fallback_package_controller,\
 	 11	
+                                     add_package_controller,\
 	 12	
+                                     set_default_as_fallback_controller_if_required as set_default_as_fallback_package_controller_if_required
 	 13	
+from ckan.plugins import PluginImplementations, IRoutes, IPluggablePackageController
}}}

By importing the package controller at this earlier point, it sets the ckan_url quasi-global variable before the config file has been loaded.

{{{
  /home/dread/gitroot/ckan/ckan/config/middleware.py(18)&lt;module&gt;()
-&gt; from ckan.config.environment import load_environment
  /home/dread/gitroot/ckan/ckan/config/environment.py(20)&lt;module&gt;()
-&gt; from ckan.config.routing import make_map
  /home/dread/gitroot/ckan/ckan/config/routing.py(10)&lt;module&gt;()
-&gt; from ckan.controllers.package import set_fallback_controller as set_fallback_package_controller,\
  /home/dread/gitroot/ckan/ckan/controllers/package.py(20)&lt;module&gt;()
-&gt; from ckan.lib.search import SearchIndexError, SearchError
  /home/dread/gitroot/ckan/ckan/lib/search/__init__.py(9)&lt;module&gt;()
-&gt; from common import (SearchIndexError, SearchError, SearchQueryError,
&gt; /home/dread/gitroot/ckan/ckan/lib/search/common.py(11)&lt;module&gt;()
-&gt; solr_url = config.get('solr_url', DEFAULT_SOLR_URL)
}}}

In retrospect we should have not initialised the variables from the config during import.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1708.html">#1708</a>
                          </td>
                          <td class="PosixTime">1327505889000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fix on its way.

This problem also stopped simple_search and affected reading the beaker settings.

Patch will make SOLR settings initialised consciously in config/environment.ini, rather than at search import time. I've also moved the search import time to be later.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1708.html">#1708</a>
                          </td>
                          <td class="PosixTime">1327580995000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in [master 0d3543c]
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327620136000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I have already fixed the issue with counts (in a branch to be merged) :-)

Also this is opened in an already ended sprint :-)

IMO we don't bother testing simple_search since intended to be hacky and unsupported. Worth documenting the option but highlighting non-supported nature.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327620218000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I also note there is an error with how importing was working (re top level imports in lib/search.py) that meant simple_search was broken. I've fixed this locally and raised with Ross (whose commit triggered the problem) ...
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327659562000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have checked in a similar fix and with a simple test.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327659722000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Note: imports issue was previously dealt with in #1708 and was originally caused by Ian's commit - Ross just merged it in to master.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1710.html">#1710</a>
                          </td>
                          <td class="PosixTime">1327580140000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Rufus says that the paster command is enough for now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1710.html">#1710</a>
                          </td>
                          <td class="PosixTime">1327583922000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Code done in [master 804b549] headed for release 

Example usage (on the appropriate server):
{{{
paster db user-dump-csv /tmp/users.csv
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1712.html">#1712</a>
                          </td>
                          <td class="PosixTime">1328526163000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Update 6/2/2012 : Awaiting the publisher hierarchy in order to populate the "browse by publisher" section.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1715.html">#1715</a>
                          </td>
                          <td class="PosixTime">1328494878000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">Mostly there, need to added types and stopfiles. Need to add actual multilingual fields.  Decided to translated title as well for relevance.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1716.html">#1716</a>
                          </td>
                          <td class="PosixTime">1327601196000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">Easily done. 

https://github.com/okfn/ckan/commit/2bd50d92f48ca67edb69e51a7bcfc5009d77a785
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1717.html">#1717</a>
                          </td>
                          <td class="PosixTime">1330088539000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">1. Already exists; "tags:csv" rather than "tag:csv"
2. Format is user selected; we just show the most popular choices. Perhaps an effort should be made to force people to homogenize their format choices (my work with automatic icons will do this to an extent). Also, res_format doesn't appear on thedatahub.org, but for some reason it does on test...
3. There are thousands. We just show the most popular/relevant tags for your search. This could break out into another ticket though - eg. autocompleting tag input on the page?
4. Can't remember what this is...
5. I did this a while ago and popular opinion was that it should change back. This gives us room for expanded options like on thedatahub's live search page right now, and matches the layout of the Groups view page.
6. They should maybe be ordered by relevance, which includes popularity in some metric? This should be broken into a seperate ticket if you want it to go ahead and given to a Solr expert.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1718.html">#1718</a>
                          </td>
                          <td class="PosixTime">1328093772000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">WEll known issue. Just needs an upgrade in jquery to 1.7.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1718.html">#1718</a>
                          </td>
                          <td class="PosixTime">1340632748000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Re-assigned to aron for triage.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1718.html">#1718</a>
                          </td>
                          <td class="PosixTime">1340703280000000
                          </td>
                          <td class="author">aron.carroll
                          </td>
                          <td class="newvalue">This was fixed at some point.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1719.html">#1719</a>
                          </td>
                          <td class="PosixTime">1328519411000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Fixed in https://github.com/okfn/ckan/commit/90c76b0b006cf505698834e833b548634cf10d17 (see log message for details of error and the fix).
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1719.html">#1719</a>
                          </td>
                          <td class="PosixTime">1328532877000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've updated test.ckan.org with this fix and am afraid there are still broken images on http://test.ckan.net/revision
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1719.html">#1719</a>
                          </td>
                          <td class="PosixTime">1328541630000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">My bad - the server wasn't updated correctly.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1720.html">#1720</a>
                          </td>
                          <td class="PosixTime">1328528809000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Moving over to current sprint. Basic converters added, still have to write tests.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1721.html">#1721</a>
                          </td>
                          <td class="PosixTime">1329133348000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">Done: https://github.com/okfn/ckan/commit/bf3c85fbf9c72c0e8ac27d2079c20e07b6c7c668
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1722.html">#1722</a>
                          </td>
                          <td class="PosixTime">1328805890000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Done on branch feature-1698-tag-taxonomies
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1723.html">#1723</a>
                          </td>
                          <td class="PosixTime">1328533040000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">We're not going to update the existing tag and package classes (as long as they don't break), going to add our own functional tests in a new file instead.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1724.html">#1724</a>
                          </td>
                          <td class="PosixTime">1328634433000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">I updated tag_list: https://github.com/okfn/ckan/commit/335535b646adf983d1d19bf19613712099db1f5e
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1724.html">#1724</a>
                          </td>
                          <td class="PosixTime">1329302302000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">I've updated tag_search() and tag_autocomplete() and added tests for them. So this ticket is finished now on branch feature-1698-tag-taxonomies
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1725.html">#1725</a>
                          </td>
                          <td class="PosixTime">1328204489000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in 6fecbd9fb08f5a22e9dd2dd2745c287a38f44a30 on master. Added test for the tag_string_validator too. Aimed for 1.6 release.

Took 1h
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1729.html">#1729</a>
                          </td>
                          <td class="PosixTime">1328537269000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">This is essentially a duplicate of #1720. We do not really need helper functions for this (as it's trivial to get the default schema and add 1 extra key), but I have added a converter for tag string (with vocab) to tag and vice versa.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1730.html">#1730</a>
                          </td>
                          <td class="PosixTime">1328537387000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">The function for this is the converter function for tags with vocabs.

Will integrate with the JQuery chosen plugin.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1731.html">#1731</a>
                          </td>
                          <td class="PosixTime">1330942924000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">The underlying auth layer is done, still there isn't UI integration (list of publishers in index page, publisher field in form...).
Needs to be moved to the next sprint.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1734.html">#1734</a>
                          </td>
                          <td class="PosixTime">1332167315000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">All sub tickets have been implemented, so closing it now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1735.html">#1735</a>
                          </td>
                          <td class="PosixTime">1328531105000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">This is an edge case, and there's no simple fix -- you can't detect *why* the tags box has lost focus -- so I think let's not waste time inventing something complicated.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1329916781000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">SOLR syntax is already accepted in:
 * api/3/search/package
 * Action API "package_search"

Actually api/1/search/package and api/1/search/package accept SOLR syntax too, but they also translate old-CKAN search parameters syntax to SOLR as well.

See: http://docs.ckan.org/en/latest/apiv3.html
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1330908235000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Did not get to this sprint as focused on #1797.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1334591246000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">See http://ckan.okfnpad.org/feature-1737-expose-solr-based-search-api

= Immediate actions

 * analysis of whether the current action/get.py:package_search() function exposes all we currently need for the use cases described above.
 * how to return that data (expand the current format?)
 * analysis of whether the current (action) API v.3 can use query parameters rather than as well as POSTed data.
    (controlles/api.py:action() )
    uses "self._get_request_data()" which in-turn pulls out data from POST body.

= Tasks

Extend the existing package_search action.

 * pass the facet fields into the logic layer from the request parameters.
   - /api/3/action/package_search
 * facet information not being returned via package_search action (is empty).
   - curl -X POST -d '{"q": "{!lucene q.op=AND df=text}tags:health +community -profile"}' 'http://thedatahub.org/api/3/action/package_search'
   - figure out why it's not working, and what the facet information should look like
 * whitelist any GETable api actions, and optionally construct the query from url params rather than body
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1335460683000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Facet results **are** already available through the package_search action api.  The facet fields need to be specified in the query, otherwise no faceting will be done (ie - the default facets specified in the .ini file are not used).

This leaves "whitelist any GETable api actions, and optionally construct the query from url params rather than body" todo, which I've pulled out into another ticket, as it wasn't originally in this ticket.  (#2330)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1335460997000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">... just to add to the above:

{{{

&gt;&gt;&gt; pprint(json.loads(requests.post('http://127.0.0.1:8088/api/3/action/package_search', json.dumps({'facet.field': ["tags", "groups"]})).content))

&lt;snip&gt;


u'search_facets': {u'groups': {u'items': [{u'count': 1,
                                                        u'display_name': u"Roger's books",
                                                        u'name': u'roger'},
                                                       {u'count': 2,
                                                        u'display_name': u"Dave's books",
                                                        u'name': u'david'}],
                                            u'title': u'groups'},
                                u'tags': {u'items': [{u'count': 1,
                                                      u'display_name': u'tolstoy',
                                                      u'name': u'tolstoy'},
                                                     {u'count': 2,
                                                      u'display_name': u'russian',
                                                      u'name': u'russian'},
                                                     {u'count': 2,
                                                      u'display_name': u'Flexible \u30a1',
                                                      u'name': u'Flexible \u30a1'}],
                                          u'title': u'tags'}}},
 u'success': True}

}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1336328947000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Having now thought about this I'm re-opening this ticket for the following reasons:

 * No real documentation (other than that in this ticket yet available)
  * It would also be nice to know how this maps to SOLR API (can i use all of the facet options solr provides or not ...?)
  * And I would again emphasize my preference for having *direct* access to something that looks *exactly* like SOLR API as I can then use client and docs from SOLR to work with it.
 * No clear resolution of separation between Action and REST API (and search API). Really seems to me there should be convergence between latter 2 (as suggested in the ticket) -- this would also resolve the problem that having GET /api/dataset return all datasets is *not* a great idea
 * The Action API requires a POST request. Since the primary purpose of the search API would be usage from JS it would be nice if GET and JSONP were supported. (Though given our CORS support we could argue this was optional).

Not saying *all* of this needs fixing but some clear approach here would be useful
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1337594352000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue"> - package_search action is now documented, with reference to the solr search parameters available. http://docs.ckan.org/en/latest/apiv3.html (auto-docs not working on rtd at the moment).

 - actions defined in get.py are now GETable.  http://docs.ckan.org/en/latest/apiv3.html#get-able-actions

 - we won't be providing direct access to solr api, as we think the cost outweighs the benefit.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1337942345000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I *strongly* disagree re access to solr API -- i don't really care if it is direct but I want something that looks like it at least for core query parameters and facets ...

Is there some major issue around security etc (e.g. limiting to only public datasets or similar?)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1337943671000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">For completeness, package_search docs can be viewed at https://github.com/okfn/ckan/blob/master/ckan/logic/action/get.py#L983

@rgrp: are you happy with this ticket now, does it expose all you need?  If so, I'll close it...
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1338719220000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Let's close. What would be nice though is ETA on the GET support getting deployed on the DataHub -- just tried using it today and realized it didn't work :-)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1340011001000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">The GET-able actions ( #2330 ) are in master, and will make it into 1.8
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1340011203000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">But not v1.7.1? (When is v1.8 due?).

Also for the record a couple of things I found when trying to use this:

 * No support for facet sort order or facet limit afaict ...
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1340015695000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Replying to [comment:22 rgrp]:
&gt; But not v1.7.1? (When is v1.8 due?).

Not 1.7.1 as it's not a bug fix (https://docs.google.com/document/d/170fxET3kd9dJ4L6VAj3yZugtK0rrVe44J4HuLbTUsEU/)

I don't know when 1.8 is due.

&gt; 
&gt; Also for the record a couple of things I found when trying to use this:
&gt; 
&gt;  * No support for facet sort order or facet limit afaict ...

Thanks, that's good to know.

facet.limit should be working [1], so if it's not, then that's a bug.  I can check that.

for facet.sort, I've added ticket #2543

[1] https://github.com/okfn/ckan/blob/master/ckan/logic/action/get.py#L1022
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1340112732000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Replying to [comment:23 icmurray]:
&gt; &gt; 
&gt; &gt; Also for the record a couple of things I found when trying to use this:
&gt; &gt; 
&gt; &gt;  * No support for facet sort order or facet limit afaict ...
&gt; 
&gt; Thanks, that's good to know.
&gt; 
&gt; facet.limit should be working [1], so if it's not, then that's a bug.  I can check that.

facet.limit is working as I'd expect. eg (on master):

{{{
import requests
import json
from pprint import pprint as pp
pp(json.loads(requests.get('http://ian-laptop:5000/api/3/action/package_search?q=data&amp;facet.field=tags&amp;facet.limit=1').content))
}}}

Returns a result where only the tag with the highest count is returned in the search_facets result dict.

One thing I did spot though was that we aren't able to specify per-field parameters.  ie whilst `facet.limit` sets the facet limit for ''all'' facet fields, solr allows that to be overridden on a per-field basis, eg `facet.tags.limit`.  This isn't something we support at the moment.  I've created a ticket for this, #2573 .  Let me know if this something that you'd find useful, otherwise I'll leave it on the backlog for a future iteration.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1738.html">#1738</a>
                          </td>
                          <td class="PosixTime">1328494709000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset: 117dce4d64de731e7b0a3c55175a1d093f2bf540
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1738.html">#1738</a>
                          </td>
                          <td class="PosixTime">1330086105000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Cset is actually dd2c0c677117f06a52aa22b3b2717bb605263570 and went into CKAN 1.6
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1739.html">#1739</a>
                          </td>
                          <td class="PosixTime">1328176197000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Sorry if we did. I (and Tom) do run tests ;-)

However, occasionally I'm unsure whether I've caused a problem when there are existing failures.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1739.html">#1739</a>
                          </td>
                          <td class="PosixTime">1328495651000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">
fixed cset:117dce4d64de731e7b0a3c55175a1d093f2bf540
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1740.html">#1740</a>
                          </td>
                          <td class="PosixTime">1328094884000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree with getting rid of {{{from module import *}}} and the approach suggested.

However, I really disagree with getting rid of {{{from x import y}}}. In particular we have a strong convention of using this for ckan.model. It is a valuable abbreviation as it is used so much in the logic layer and tests. If someone should accidentally reassign the value of model to something else then I believe it is simple to see what has gone wrong.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1741.html">#1741</a>
                          </td>
                          <td class="PosixTime">1328526473000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">2.5d, 1d remaining.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1741.html">#1741</a>
                          </td>
                          <td class="PosixTime">1329750838000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">done cset:7825caed3361e88a245b5dd2f946da8bedb160e0
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1742.html">#1742</a>
                          </td>
                          <td class="PosixTime">1328116635000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Potentially valid diff, needs test + patch when I have time.

--- a/ckan/controllers/api.py
+++ b/ckan/controllers/api.py
@@ -592,6 +592,8 @@ class ApiController(BaseController):
     def is_slug_valid(self):
         slug = request.params.get('slug') or ''
         slugtype = request.params.get('type') or ''
+        if slug in ['new', 'edit', 'search']:                 
+            return self._finish_ok( dict(valid=False) )
         if slugtype==u'package':
             response_data = dict(valid=not bool(package_exists(slug)))
             return self._finish_ok(response_data)


                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1742.html">#1742</a>
                          </td>
                          <td class="PosixTime">1328117135000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Probably better in the ckan/logic/validators.py: name_validator
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1743.html">#1743</a>
                          </td>
                          <td class="PosixTime">1328527086000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Marking as wontfix - as per discussion here: http://lists.okfn.org/pipermail/ckan-dev/2012-February/001652.html
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1744.html">#1744</a>
                          </td>
                          <td class="PosixTime">1330349472000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">Massive refactor of parent ticket mean this is all done and can be closed off. See #1506 for remaining UX work.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1746.html">#1746</a>
                          </td>
                          <td class="PosixTime">1355141062000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Closing this as won't fix, we decided to do http://trac.ckan.org/ticket/3018 instead
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1753.html">#1753</a>
                          </td>
                          <td class="PosixTime">1330908337000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">As of today kindly has this working in https://github.com/okfn/ckanext-webstorer/tree/webstorer-for-datastore and deployed on the DataHub. Need to merge into master and to possible rename of extension, update docs and we are done.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1755.html">#1755</a>
                          </td>
                          <td class="PosixTime">1328630657000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Implemented in v1.0-dev of ckanext-dgu and feature-1645-apply-simple-theme of ckanext-dgutheme
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1760.html">#1760</a>
                          </td>
                          <td class="PosixTime">1328709521000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">See src/ckanext-dgu/ckanext/dgu/bin/import_publishers.py which will pull publishers from the provided CSV file and build the hierarchy in the database.  This file describes how to obtain the publisher list (with hierarchy detail).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1761.html">#1761</a>
                          </td>
                          <td class="PosixTime">1328703769000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Have overridden the history function in the DGU package_gov3.py controller to make sure the viewer is in at least one group.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1764.html">#1764</a>
                          </td>
                          <td class="PosixTime">1335878051000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Closing because I'm not sure what the reason for doing this would be.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1765.html">#1765</a>
                          </td>
                          <td class="PosixTime">1328805833000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Done on branch feature-1698-tag-taxonomies
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1767.html">#1767</a>
                          </td>
                          <td class="PosixTime">1328806740000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">The API tests are done, in https://github.com/okfn/ckan/compare/master...feature-1698-tag-taxonomies#diff-24 on branch feature-1698-tag-taxonomies.

The WUI tests still need to be done.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1769.html">#1769</a>
                          </td>
                          <td class="PosixTime">1329737597000000
                          </td>
                          <td class="author">icmurray
                          </td>
                          <td class="newvalue">Duplicate of #1762
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1776.html">#1776</a>
                          </td>
                          <td class="PosixTime">1328805695000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">Implemented create_tag() and delete_tag() logic action functions. If you specify a vocabulary_id in the params you can use these to add tags to vocabs, one at a time.

There are not yet functions for adding or removing multiple tags in a single API call.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1779.html">#1779</a>
                          </td>
                          <td class="PosixTime">1329393759000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">complete at 669a8e9f7a768b147b1668940842b72b2a302088
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1781.html">#1781</a>
                          </td>
                          <td class="PosixTime">1329393814000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">complete at 669a8e9f7a768b147b1668940842b72b2a302088
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1783.html">#1783</a>
                          </td>
                          <td class="PosixTime">1328612744000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in [master 8f059ed] aimed for release 1.6.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1784.html">#1784</a>
                          </td>
                          <td class="PosixTime">1328615106000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I don't agree. I think we have a good compromise at the moment, where you have readable URLs, and people can change names if they want to. Names are changed only occasionally. The CKAN site adjusts all its links automatically of course. External blog posts may have incoming links, and these would break, but it's not difficult to search for a dataset. If we're really worried about this then we should provide a 'permalink' somewhere on the Package / Group / Resource page.

In the meantime, I suggest changing the Activity Stream links to be with names.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1785.html">#1785</a>
                          </td>
                          <td class="PosixTime">1340724312000000
                          </td>
                          <td class="author">seanh
                          </td>
                          <td class="newvalue">No point in doing this for 1.8 because the new theme is coming along anyway, moving into 1.9
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1786.html">#1786</a>
                          </td>
                          <td class="PosixTime">1328640597000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed [master fe6829e]. Aimed for release CKAN 1.6.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1788.html">#1788</a>
                          </td>
                          <td class="PosixTime">1330111162000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Believe most of these are resolved by https://github.com/okfn/ckan/commit/27f4fc776b9199621d259749cf20787328df101f

@zephod: could you check again and see if anything remains?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1788.html">#1788</a>
                          </td>
                          <td class="PosixTime">1330623913000000
                          </td>
                          <td class="author">zydio
                          </td>
                          <td class="newvalue">Replying to [comment:1 rgrp]:
&gt; Believe most of these are resolved by https://github.com/okfn/ckan/commit/27f4fc776b9199621d259749cf20787328df101f
&gt; 
&gt; @zephod: could you check again and see if anything remains?

I noticed that Thedatahub with latest code is still messed up..I was working with absolute paths in my environment without the h.url_for_static() to include the html5shiv.js script so I missed a problem, which can be fixed with my new [pull request #4](https://github.com/okfn/ckan/pull/4).

I'm aware of only one problem left: when you hit the "Upload a File" button inside the Dataset Edit/Resources tab nothing happens in IE &lt; 9.
This is related to those IE versions not being able to dynamically insert HTML 5 tags, which breaks some jquery-tmpl (actually JQuery) operation (if you debug the code everything works in jquery-tmpl until one of the latest operation involving JQuery returns null instead of the expected object).
I was able to fix the issue in my environment by adding the following conditional comment:
{{{
 &lt;/script&gt;
 &lt;!--[if lt IE 9]&gt;
 &lt;script type="text/javascript" src="/scripts/jquery.html5.preie9fix.js"&gt;
 &lt;/script&gt;
 &lt;![endif]--&gt;
}}}
where the jquery.html5.preie9fix.js is simply the [gist](https://gist.github.com/887560) published by Akkuma in a [jquery-tmpl issue (#36)](https://github.com/jquery/jquery-tmpl/issues/36#issuecomment-918495).

This script patches JQuery on the fly on IE &lt; 9 to rework in memory html 5 blocks handled by JQuery, so that it doesn't break.

And this fixes the "Upload a File" button on IE.
I didn't commit/pull this specific fix for the following reasons:
* the script embeds innerShiv, which is a previous incarnation of html5shiv (now included in CKAN). It doesn't sound fine to include 2 pieces of code with similar effect, but I couldn't reproduce the fix with html5shiv!
* in my environment I have included this fix sitewide even if I didn't spot other problematic features..I don't know if it would be better to include it only on the dataset edit page in the official CKAN code.

Summary: I leave to you guys the choice on how to deal with this problem.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1788.html">#1788</a>
                          </td>
                          <td class="PosixTime">1330624155000000
                          </td>
                          <td class="author">zydio
                          </td>
                          <td class="newvalue">Erh...sorry for some formatting errors in my comment.
I used markdown formatting for links, and used the #NUMBER format to cite issues, which obviously is interpreted by Trac as references to his own issues...my bad.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1788.html">#1788</a>
                          </td>
                          <td class="PosixTime">1330644056000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Re the Upload file button not sure what's best. We do have plans to replace jquery-tmpl with mustache in the near future (but not clear exactly *how* near). We'll think about this and get back to you. Thanks for the detailed debug report.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1788.html">#1788</a>
                          </td>
                          <td class="PosixTime">1333133365000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">I've been performing a full sweep of the site to rebuild the markup &amp; stylesheets using Bootstrap, and in doing so have managed to close off this ticket. Bootstrap allows us to delegate lots of clever functionality and layouts to Twitter's tried-and-tested code, making it easier to be compatible with IE7.

It has brought up plenty of issues: Lots of Javascript was broken; plenty of pages generate broken doctypes causing the browser to go into quirks mode (which in turn causes the page to explode all over the screen); most dynamic content would fail to generate properly in one way or another.... (see the #1788 branch for a log of issues encountered).

I've been refactoring our JS and have managed to strip ckanjs, too, because the only significant element we'd used was the File Upload view (which also now works in IE7).

test.ckan.net has been redeployed on master; I'm browsing the site in IE7 and everything is looking great :-)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1791.html">#1791</a>
                          </td>
                          <td class="PosixTime">1329138315000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in [release-v1.6 beaeaed]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1329483249000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">package create update use correct schema in get_action
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1332755148000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">closing as done all that I was asked to do as part of this ticket
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1332872069000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">What is the changeset for this? There is evidence of a branch "enhancement-1792-api-logic" but perhaps this name got fast-forwarded out through a bad merge? Is this merged into 1.6.1 release?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1332928847000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">This is in the 1.6.1 as far as I'm aware. The branch was deleted after the merge into master
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1333037710000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have tracked down the changesets to:

 * branched off master at dff9f7a8
 * merged master in for the last time (and became the 'new master'?) at 1a9227d9ff73c
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1796.html">#1796</a>
                          </td>
                          <td class="PosixTime">1339586499000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">LXML removed, update requirements on the extensions
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1797.html">#1797</a>
                          </td>
                          <td class="PosixTime">1330550304000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">New API endpoint, Authorization and documentation done and merged to master. Time so far. 1.5d. https://github.com/okfn/ckan/commit/a054071e2e29e70e7cfa69df8c117ad5d5871a24
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1797.html">#1797</a>
                          </td>
                          <td class="PosixTime">1330863639000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Data Viewer support for new DataStore in https://github.com/okfn/ckan/commit/9ab8b0283bb086eb4cd663ff73c27066bdd3c79a
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1797.html">#1797</a>
                          </td>
                          <td class="PosixTime">1331412469000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">All done!!

Help for data api done in https://github.com/okfn/ckan/commit/1d8e464f8542d4c33286bb93f4de50060665799f

Checkbox for datastore enabled in https://github.com/okfn/ckan/commit/3f1320cd92ae0e775fde1b5eada156260c55e0a6
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1797.html">#1797</a>
                          </td>
                          <td class="PosixTime">1331412644000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Merge fix https://github.com/okfn/ckan/commit/476a5bd32a3fac5d2dd85614f5d86c79f4ff6547
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1798.html">#1798</a>
                          </td>
                          <td class="PosixTime">1329395560000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Was fixed by Ian in https://github.com/okfn/ckan/commit/5a9054459e3833443bed3e118bbbb6c442e55b0b on branch feature-1453-flexible-tag-names.

This has gone into CKAN 1.6.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1799.html">#1799</a>
                          </td>
                          <td class="PosixTime">1330000389000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in [master ea2d824] for both logging in and registering whilst logged in. Cherry picked to release-v1.6
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1801.html">#1801</a>
                          </td>
                          <td class="PosixTime">1343144718000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Closing as both old and new theme now show password reset links
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1802.html">#1802</a>
                          </td>
                          <td class="PosixTime">1329409718000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Current progress - I have got most of the dependencies installed - many by pip, but some I had to revert to Windows msi installers. Pad with details here: http://ckan.okfnpad.org/windows. So far done: 1 day.
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <span class="current">29</span>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=31.html" title="Page 31">31</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=32.html" title="Page 32">32</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=33.html" title="Page 33">33</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=34.html" title="Page 34">34</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=35.html" title="Page 35">35</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=36.html" title="Page 36">36</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=37.html" title="Page 37">37</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=38.html" title="Page 38">38</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=30.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>