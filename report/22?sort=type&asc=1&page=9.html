<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=type&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=type&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=type&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=type&amp;asc=1&amp;page=10.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=type&amp;asc=1&amp;page=8.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=type&amp;asc=1&amp;page=9.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(801 - 900 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=type&amp;asc=1&amp;page=8.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <span class="current">9</span>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=type&amp;asc=1&amp;page=10.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=9.html">
              Id
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=type&amp;asc=0&amp;page=9.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=9.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=9.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=9.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=9.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=9.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=9.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=9.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=9.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/228.html">#228</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/228.html">Deal with duplicate packages</a>
                          </td>
                          <td class="description">
                            <p>
This needs to be thought out ...
</p>

                            
                          </td>
                          <td class="PosixTime">1262085763000000
                          </td>
                          <td class="ModifiedTime">1290596875000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/229.html">#229</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/229.html">Resource hashes</a>
                          </td>
                          <td class="description">
                            <p>
New field for resources - hash of the resource file.
</p>
<ul><li>CKAN itself will not calculate the hash value - user just pastes it in.
</li><li>Display text field in resource table.
</li><li>Requires migration script.
</li></ul><p>
Questions for the field's value:
</p>
<ol><li>Which hash to use? Restrict to python hashlib and other major hash libraries.
</li></ol><ol start="2"><li>Should we use merkle trees?
</li></ol><p>
Thanks to Julien D'Assanges for the suggestion.
</p>

                            
                          </td>
                          <td class="PosixTime">1262686287000000
                          </td>
                          <td class="ModifiedTime">1265891612000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/232.html">#232</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/232.html">Add strapline to CKAN logo</a>
                          </td>
                          <td class="description">
                            <p>
Strapline (?): Sharing, discovery and reuse of data and content
</p>
<p>
Need to consult on this.
</p>
<p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1262975291000000
                          </td>
                          <td class="ModifiedTime">1297246297000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/233.html">#233</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/233.html">Allow simple site-specific customization/overriding of templates</a>
                          </td>
                          <td class="description">
                            <p>
Options:
</p>
<ol><li>Allow for specification of genshi template paths to search in config. This way people can introduce their own templates and these templates can selectively override existing templates. (Already implemented this in shakespeare and it works)
</li></ol><ol><li>Include an extra site-specific genshi template which can then be used to customize site (e.g. by having specific calls to py:def that user can define but which are ignored if they don't exist).
</li></ol><p>
Can do this using:
</p>
<p>
&lt;xi:include href=&#34;base.html&#34;&gt;&lt;xi:fallback /&gt;&lt;/xi:include&gt;
</p>

                            
                          </td>
                          <td class="PosixTime">1263000396000000
                          </td>
                          <td class="ModifiedTime">1273080352000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/234.html">#234</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/234.html">UI Review - Autocomplete package names &amp; tags in search</a>
                          </td>
                          <td class="description">
                            <p>
Broken out from <a class="closed ticket" href="../ticket/216.html" title="enhancement: UI Review - Search (closed: fixed)">ticket:216</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1263056678000000
                          </td>
                          <td class="ModifiedTime">1338206486000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/235.html">#235</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">tobes
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/235.html">Resource format normalization and detection</a>
                          </td>
                          <td class="description">
                            <p>
Try to gather proper MIME  information for all package resources in CKAN. This is a shared ticket with dcat-tools (<a class="ext-link" href="https://bitbucket.org/pudo/dcat-tools"><span class="icon">​</span>https://bitbucket.org/pudo/dcat-tools</a>), i.e. opendatasearch.org. This can then also be used by ckanrdf, the CKAN RDF conversion service. 
</p>
<p>
Sub-tasks: 
</p>
<ul><li>Create a Google Spreadsheet with two Worksheets: "MIME-Mappings", i.e. "CSV" -&gt; "text/csv" and "Name mappings", i.e. "text/csv" -&gt; "Comma-Separated Spreadsheet". 
</li><li>Collect and map surface forms from all CKANs
</li><li>Access this via Swiss and apply, store as a <a class="missing wiki">PackageResource?</a> extra field pending <a class="closed ticket" href="../ticket/826.html" title="enhancement: Resource 'extra' fields (closed: fixed)">#826</a> (Resource extras). 
</li><li>Add heuristics for format auto-detections: 
<ul><li>Map well-known file extensions 
</li><li>Recognize obvious magic (Zip, Tar)
</li><li>Peek into <a class="missing wiki">Zipfile/Tarfiles?</a>
</li></ul></li><li>Define a convention for generic data types (many CKAN packages have only "Spreadsheet" defined, either detect specific type or set MIME to */tabular-data or similar)
</li><li>See also: <a class="closed ticket" href="../ticket/816.html" title="enhancement: Autocomplete for the resource format field (closed: fixed)">#816</a> (Autocomplete for the resource format field)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1263827604000000
                          </td>
                          <td class="ModifiedTime">1340627624000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/236.html">#236</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/236.html">The system shall present to all users a form for starting data openness enquiries</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1264157100000000
                          </td>
                          <td class="ModifiedTime">1264157324000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/237.html">#237</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/237.html">The system shall accept submissions from authenticated owners of activated accounts using the data openness enquiry form by presenting the enquiry summary and prompting for confirmation</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1264157377000000
                          </td>
                          <td class="ModifiedTime">1264157420000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/238.html">#238</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/238.html">The system shall accept submissions from unauthenticated users of the data openness enquiry form by creating an anonymous pending enquiry action, and by redirecting the user to login form, passing a reference to the pending action</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1264157814000000
                          </td>
                          <td class="ModifiedTime">1266509806000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/245.html">#245</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/245.html">Support for composite primary keys</a>
                          </td>
                          <td class="description">
                            <p>
Problem here is that foreign key then becomes "complicated" (composite).
</p>
<ul><li>Could also deprecate continuity_id field in favour of the basic foreign key on ie
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1265882630000000
                          </td>
                          <td class="ModifiedTime">1297066620000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/246.html">#246</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/246.html">Support for primary key not named id</a>
                          </td>
                          <td class="description">
                            <p>
At the moment setting of continuity_id depends on base table pkcol being id. Should not be hard to change this -- and may get for free as part of <a class="closed ticket" href="../ticket/245.html" title="enhancement: Support for composite primary keys (closed: duplicate)">ticket:245</a> (composite primary keys)
</p>

                            
                          </td>
                          <td class="PosixTime">1265882862000000
                          </td>
                          <td class="ModifiedTime">1297066757000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/247.html">#247</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/247.html">Alternative formats links on package page</a>
                          </td>
                          <td class="description">
                            <p>
"Alternative formats". Has logo for RDF (link to RDF) and JSON (link via CKAN REST i/f). 
</p>
<ul><li>How do we know if RDF available? Ans: see details in <a class="closed ticket" href="../ticket/90.html" title="enhancement: Link to RDF versions of CKAN data (closed: fixed)">ticket:90</a>.
</li></ul><p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1265890326000000
                          </td>
                          <td class="ModifiedTime">1271248813000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/248.html">#248</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/248.html">i18n of forms</a>
                          </td>
                          <td class="description">
                            <p>
Need to do i18n of forms (not in templates but in code). Should consult with tonfa about this.
</p>

                            
                          </td>
                          <td class="PosixTime">1265892313000000
                          </td>
                          <td class="ModifiedTime">1270745304000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/249.html">#249</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/249.html">Regex search</a>
                          </td>
                          <td class="description">
                            <p>
Search of package name and title (and other fields) using regular expressions.
</p>
<p>
Current example use-case: Wanting to specify packages with title beginning with 'B'.
</p>
<p>
Issues:
</p>
<ul><li>Syntax for specifying regex over natural language search - could it be contained in the q param so be available to users of the WUI, or do we simply make it alternative fields?
</li></ul><p>
Implementation:
</p>
<ul><li>Postgres reg ex searching detailed here:
</li></ul><p>
<a class="ext-link" href="http://www.postgresql.org/docs/current/static/functions-matching.html#FUNCTIONS-POSIX-TABLE"><span class="icon">​</span>http://www.postgresql.org/docs/current/static/functions-matching.html#FUNCTIONS-POSIX-TABLE</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1265994509000000
                          </td>
                          <td class="ModifiedTime">1311182450000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/250.html">#250</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/250.html">RDF link in Atom feed</a>
                          </td>
                          <td class="description">
                            <p>
Add link to RDF representation of a package in our Atom feed.
</p>

                            
                          </td>
                          <td class="PosixTime">1266507695000000
                          </td>
                          <td class="ModifiedTime">1340631430000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/251.html">#251</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/251.html">Present in the API a list of revision IDs, and present individual revisions when referenced by ID</a>
                          </td>
                          <td class="description">
                            <p>
Want to have:
</p>
<ul><li>/api/search/revision/
</li></ul><p>
Support querying by "since time" and "since revision". Each individual revision should be available in the REST API (read-only):
</p>
<ul><li>/api/rest/revision/{revision ID}
<ul><li>should include revision attributes plus revision.packages e.g. like { "id": "...", ... "packages": [ list of packages names from e.g. revision.packages ] }
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1266519743000000
                          </td>
                          <td class="ModifiedTime">1271423917000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/252.html">#252</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/252.html">Change revision object so that it has parent(s) attribute</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1266519767000000
                          </td>
                          <td class="ModifiedTime">1296477560000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/253.html">#253</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/253.html">Package relationships</a>
                          </td>
                          <td class="description">
                            <h1 id="Overview">Overview</h1>
<p>
Functionality to formally associate packages. We see a need for specific parent-child, inheriting or dependency relations. Not only should this help navigation between packages in the web interface, but it also provides a mechanism to automatically pull dependencies when downloading a data package, in a similar manner as we see in software package management.
</p>
<h1 id="Examples">Examples</h1>
<ol><li>There are 27 packages in data.gov.uk to do with the Data4NR's Health Poverty Index. There is currently no common link between these, unless you search for 'HPI' (which also brings up House Price Index), or look under tag 'health' (which also has 600 other results). There should be a link on each HPI package page to navigate to the other 'sibling' HPI packages, and to a 'root' package that has info about the set. This could be partially achieved using the existing tag or group concepts, but a more explicit/official/obvious marking of their relationship could be beneficial.
</li></ol><ol start="2"><li>In ckan.net is freedict, a collection of translation dictionaries. You could make each dictionary a child package and use this system. But it would probably be better to make each dictionary a different resource in the same package. (There are other ideas to denote a resource as the data making up a 'portion' of package, or a 'whole' of the package, to help people downloading datasets in the software package style.)
</li></ol><ol start="3"><li>OSM has had some Naptan data imported (bus stops), with special permission - i.e. a more liberal license. It would be useful to show this link on both OSM and Naptan packages in CKAN: OSM 'derives from' Naptan with a comment about the license change. I'm not sure this is useful to an automatic download or use of these datasets, but may aid exploration on the CKAN website and understanding the provenance of the bus stop data on it.
</li></ol><ol start="4"><li>IPCC collection of data linked / mirrored. Not sure if there are useful relationships here?
</li></ol><ol start="5"><li>Dracos gets postbox locations from crowd sourcing and OSM. We could say Dracos 'derives from' OSM.
</li></ol><p>
See more examples discussed here: <a class="ext-link" href="http://trac.ckan.org/ticket/253"><span class="icon">​</span>http://trac.ckan.org/ticket/253</a>
</p>
<h1 id="Implementation">Implementation</h1>
<p>
This is split into four tickets:
</p>
<ul><li>Model: <a class="closed ticket" href="../ticket/254.html" title="enhancement: Package relationships - 1. model (closed: fixed)">ticket:254</a>
</li><li>Read in WUI: <a class="closed ticket" href="../ticket/255.html" title="enhancement: Package relationships - 2. Read in WUI (closed: fixed)">ticket:255</a>
</li><li>Edit in WUI: <a class="assigned ticket" href="../ticket/256.html" title="requirement: Package relationships - 3. Edit in WUI (assigned)">ticket:256</a>
</li><li>API: <a class="closed ticket" href="../ticket/257.html" title="enhancement: Package relationships - 4. Read in API (closed: fixed)">ticket:257</a>
</li></ul><p>
No need for write access to be provided API for the moment.
</p>
<p>
This ticket also encompasses <a class="closed ticket" href="../ticket/169.html" title="enhancement: Package derivations (closed: duplicate)">ticket:169</a> (Package derivations) and <a class="closed ticket" href="../ticket/176.html" title="enhancement: Package dependencies (closed: duplicate)">ticket:176</a> (Package dependencies).
</p>

                            
                          </td>
                          <td class="PosixTime">1266854721000000
                          </td>
                          <td class="ModifiedTime">1339774726000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/254.html">#254</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/254.html">Package relationships - 1. model</a>
                          </td>
                          <td class="description">
                            <p>
New domain object: <a class="missing wiki">PackageRelationship?</a> (revisioned)
</p>
<p>
Attributes:
</p>
<ul><li>subject (Package reference)
</li><li>object (Package reference)
</li><li>type (string)
</li><li>comment
</li></ul><p>
Relationship type values:
depends_on (dependency_of)
derives_from (has_derivation)
child_of (parent_of)
</p>
<p>
Relationship type is stored as a string, as given in the first column. The reverse relationship (bracketed) is given just for display purposes only.
</p>
<p>
Subject / Object - as in a sentence: "Dracos is derived from OSM" is &lt;subject&gt; &lt;predicate&gt; &lt;object&gt;. We'll use 'type' instead of 'predicate' as that is a more familiar word.
</p>

                            
                          </td>
                          <td class="PosixTime">1266928449000000
                          </td>
                          <td class="ModifiedTime">1273596180000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/255.html">#255</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/255.html">Package relationships - 2. Read in WUI</a>
                          </td>
                          <td class="description">
                            <p>
WUI:
</p>
<ul><li>View: show both sides of the relationship (but think carefully -- e.g. a given package may have *many* dependents ...)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928542000000
                          </td>
                          <td class="ModifiedTime">1273596174000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/257.html">#257</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/257.html">Package relationships - 4. Read in API</a>
                          </td>
                          <td class="description">
                            <p>
API:
</p>
<ul><li>Appear in package listing Example: 'relationships': [{'is_dependency_of':'osm', comments:'Since version 0.2'}, {'is_parent_of':'bobs_maps'}]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928630000000
                          </td>
                          <td class="ModifiedTime">1273596170000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/258.html">#258</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/258.html">Add uuids into package in REST</a>
                          </td>
                          <td class="description">
                            <p>
Add uuids into package in REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1266954722000000
                          </td>
                          <td class="ModifiedTime">1273596163000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/260.html">#260</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/260.html">Display group package list in standard (richer) way</a>
                          </td>
                          <td class="description">
                            <p>
Currently use old "bullet-point" style. Should change to now standard style used on e.g. package search results page.
</p>
<p>
Cost: 0.5h
</p>

                            
                          </td>
                          <td class="PosixTime">1267100660000000
                          </td>
                          <td class="ModifiedTime">1267122137000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/262.html">#262</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/262.html">Mark package as duplicate of another package</a>
                          </td>
                          <td class="description">
                            <p>
Need a way to mark packages as duplicate.
</p>
<p>
<a class="missing wiki">Ideas/Questions?</a>:
</p>
<ul><li>Could work off a tag (meta-duplicate or somesuch)
</li><li>What happens if we want to delete the package (to we leave a place-holder, do we merge content?) 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1267139682000000
                          </td>
                          <td class="ModifiedTime">1296468392000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/263.html">#263</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/263.html">Improve and test openid login</a>
                          </td>
                          <td class="description">
                            <p>
At the moment the user has to figure out to login with providers -- this is not always obvious (e.g. google).
</p>
<p>
We could improve this with a small bit of javascript. As an example see: <a class="ext-link" href="http://standalone.demo.civicrm.org/standalone/"><span class="icon">​</span>http://standalone.demo.civicrm.org/standalone/</a>
</p>
<p>
Not sure exactly what library that is using (or if bespoke) so alternatives include (NB: we already use jquery):
</p>
<ul><li><a class="ext-link" href="http://code.google.com/p/openid-realselector/"><span class="icon">​</span>http://code.google.com/p/openid-realselector/</a>
</li><li><a class="ext-link" href="http://code.google.com/p/openid-selector/"><span class="icon">​</span>http://code.google.com/p/openid-selector/</a>
</li></ul><p>
In addition to implementing this we also need to test logging in with main providers: google, wordpress -- as we have had reports of it not working with e.g. wordpress (not sure if this testing can be automated really -- best hope would be selenium I think -- so OK if done by hand).
</p>
<p>
Cost: 3h (2h UI), (1h testing)
</p>

                            
                          </td>
                          <td class="PosixTime">1267605039000000
                          </td>
                          <td class="ModifiedTime">1279292730000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/265.html">#265</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/265.html">More detail shown in Atom feed</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase">Use case</h2>
<p>
As a user I want to stay abreast of package changes, such as a new package being created, newer data is available for a package or a new download is available for a package.
</p>
<h2 id="Implementation">Implementation</h2>
<p>
Add into the Atom feed:
</p>
<ol><li>a package is a new one
</li><li>the resources have been changed
</li><li>the last_updated field has been changed
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1267708364000000
                          </td>
                          <td class="ModifiedTime">1271636891000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/266.html">#266</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/266.html">Package feed</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to track changes to a particular package.
</p>
<p>
Provide an Atom feed, linked from the package read page.
</p>

                            
                          </td>
                          <td class="PosixTime">1267716417000000
                          </td>
                          <td class="ModifiedTime">1271636901000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/269.html">#269</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/269.html">Improve gov package form</a>
                          </td>
                          <td class="description">
                            <p>
If the notes field could use a WYSIWYG editor with word cleanup this would really help users who may well be pasting in text from Word (and I guess may have been approved or written by someone else)
</p>
<p>
having auto-complete on tags would both make the system easier to use - and reduce the risk of synonymous tags being created inadvertently.
</p>
<p>
Does the department drop down options list interact with user permissions - so that users who only have rights to one department only see that option ?
</p>
<p>
Similarly for licenses - can this reduce to the set of allowed options for this user/
</p>
<p>
What level of validation is there on the fields?
</p>

                            
                          </td>
                          <td class="PosixTime">1268220853000000
                          </td>
                          <td class="ModifiedTime">1291897538000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/270.html">#270</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/270.html">Refactor ckan/lib/importer and ckanclient/loader.</a>
                          </td>
                          <td class="description">
                            <p>
There is code to create packages in-process (ckan/lib/importer) and via HTTP (ckanclient/loaders/base). There is also code to read different kinds of package source (Google Spreadsheets spreadsheet, other spreadsheet).
</p>
<p>
Propose to refactor all this to have template method in base command class (subclasses may implement command line interface, graphical user interface, or Web interface), where the template method calls on aggregated strategy objects for: reading raw spreadsheet data from spreadsheet application; for inferring CKAN package entities from the raw spreadsheet data; and for writing package entities to CKAN service.
</p>
<p>
Spreadsheet readers to be factored to allow for variations of spreadsheet application.
</p>
<p>
Raw data inferrers to allow for variations in spreadsheet cell structure.
</p>
<p>
CKAN writer strategies to allow for either CKAN client or direct linking.
</p>
<p>
Actual cases then supported by specifying existing strategies (or defining new ones) in a script that invokes the command class.
</p>

                            
                          </td>
                          <td class="PosixTime">1268671804000000
                          </td>
                          <td class="ModifiedTime">1290596640000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/271.html">#271</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/271.html">The system shall support distributing changes.</a>
                          </td>
                          <td class="description">
                            <p>
See <a class="wiki" href="../wiki/DistributingChanges.html">DistributingChanges</a> for analysis and functional requirements.
</p>

                            
                          </td>
                          <td class="PosixTime">1268672137000000
                          </td>
                          <td class="ModifiedTime">1273596144000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/272.html">#272</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/272.html">Atom/RSS feeds for individual tags and groups</a>
                          </td>
                          <td class="description">
                            <p>
I want to be able to easily check when a package is added (or removed?) from a given tag or groups. To do this I would like access to an Atom/RSS feed for a given tag or group.
</p>
<ul><li>This would allow people to embed feed widgets in other places
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1268988652000000
                          </td>
                          <td class="ModifiedTime">1340631775000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/277.html">#277</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/277.html">Set some config options / settings in WUI (extension)</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase">Use case</h2>
<p>
As a ckan administrator I want to easily change options about the CKAN install.
</p>
<h2 id="Implementation">Implementation</h2>
<h3 id="SettingstobeinDB">Settings to be in DB</h3>
<p>
Suggested:
</p>
<pre class="wiki">## Title of site (using in several places including templates and &lt;title&gt; tag
ckan.site_title = CKAN

## Logo image to use (replaces site_title string on front page if defined)
ckan.site_logo = http://assets.okfn.org/p/ckan/img/ckan_logo_box.png

## Site tagline / description (used on front page)
ckan.site_description = 

## Used in creating some absolute urls (such as rss feeds, css files) and 
## dump filenames
ckan.site_url =

## Favicon (default is the CKAN software favicon)
ckan.favicon = http://assets.okfn.org/p/ckan/img/ckan.ico


## An 'id' for the site (using, for example, when creating entries in a common search index) 
## If not specified derived from the site_url
# ckan.site_id = ckan.net

## API url to use (e.g. in AJAX callbacks)
## Enable if the API is at a different domain
# ckan.api_url = http://www.ckan.net

## html content to be inserted just before &lt;/body&gt; tag (e.g. google analytics code)
## NB: can use html e.g. &lt;strong&gt;blah&lt;/strong&gt;
## NB: can have multiline strings just indent following lines
# ckan.template_footer_end = 
</pre><p>
NB: these will still need to be stored somewhere for loading on initialization. do this in db init function ...
</p>
<h3 id="SettingsOptionsKeyValuesTable">Settings / Options / <a class="missing wiki">KeyValues?</a> Table</h3>
<p>
Columns:
</p>
<ul><li>[namespace]: ? only if <a class="missing wiki">KeyValues?</a> (for settings this would then always be settings)
</li><li>key
</li><li>label
</li><li>value (json)
</li><li>type (e.g. date and to specify in advance what type should be)
</li><li>description
</li><li>tags: ?? (for grouping ...)
</li></ul><h3 id="LoadingsettingsfromDB">Loading settings from DB</h3>
<p>
Do this in ckan/config/environment.py
</p>
<h3 id="WUI">WUI</h3>
<ul><li>/ckan-admin/settings
</li><li>Show label, plus description plus text field
</li></ul><h2 id="Depends">Depends</h2>
<ul><li>Would be part of ckan-admin section and hence build on <a class="closed ticket" href="../ticket/833.html" title="enhancement: [super] Administrative dashboard extension (closed: fixed)">ticket:833</a> (Administrative dashboard)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1269274861000000
                          </td>
                          <td class="ModifiedTime">1318247121000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/279.html">#279</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/279.html">Ensure package's license is an option when it's edited</a>
                          </td>
                          <td class="description">
                            <p>
With forms configurable to show a subset of licenses and ckan instances moving packages from server to server, there is a chance that a user will edit a package and the existing package's license is not displayed in the form. If the user submits this form without touching the license dropdown, then the value is lost. 
</p>
<p>
So for this case we should add the package's license to the list displayed.
</p>

                            
                          </td>
                          <td class="PosixTime">1270205931000000
                          </td>
                          <td class="ModifiedTime">1272451384000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/281.html">#281</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/281.html">Refactor forms to be plugin-able</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1270542248000000
                          </td>
                          <td class="ModifiedTime">1270723675000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/282.html">#282</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/282.html">Provide diverts when package name changes</a>
                          </td>
                          <td class="description">
                            <p>
When a package's name is changed, references to the old name (in the WUI and REST) are redirected to the new name (assuming the old name is not being reused by another package).
</p>

                            
                          </td>
                          <td class="PosixTime">1270659003000000
                          </td>
                          <td class="ModifiedTime">1338206417000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/283.html">#283</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/283.html">Manage deletions of unwanted packages</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase">Use case</h2>
<p>
As a user I want to notify the CKAN admins of a spammed or unsuitable package for deletion.
</p>
<h2 id="Suggestedsolution">Suggested solution</h2>
<p>
In the package view side-bar, there is a note: "To have this package completely removed, contact the [ca.ckan.net administrators admin@…]."
</p>
<h2 id="Othersolutions">Other solutions</h2>
<p>
A more complicated solution would be to allow packages to be tagged for deletion, which would auto-alert administrators, and allow easier administration of this. But this might be overkill. 
</p>
<p>
c.f. <a class="ext-link" href="http://en.wikipedia.org/wiki/Deleting_an_article"><span class="icon">​</span>http://en.wikipedia.org/wiki/Deleting_an_article</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1270660210000000
                          </td>
                          <td class="ModifiedTime">1311325526000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/285.html">#285</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/285.html">Paginate list of packages on tag read page</a>
                          </td>
                          <td class="description">
                            <p>
Is this worth doing? On hmg.ckan.net start to have a lot of packages with a given tag ...
</p>

                            
                          </td>
                          <td class="PosixTime">1270664606000000
                          </td>
                          <td class="ModifiedTime">1340631923000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/286.html">#286</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/286.html">Refactor forms templates</a>
                          </td>
                          <td class="description">
                            <p>
Use Nick's examples as a basis to revamp the formalchemy usage, principally in the package edit form.
</p>
<ul><li><a class="ext-link" href="http://static.whiteink.com/css/examples/forms.html"><span class="icon">​</span>http://static.whiteink.com/css/examples/forms.html</a>
</li><li><a class="ext-link" href="http://whiteink.com/temp/ckan-forms/"><span class="icon">​</span>http://whiteink.com/temp/ckan-forms/</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1270723513000000
                          </td>
                          <td class="ModifiedTime">1270723629000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/287.html">#287</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/287.html">Customise Canadian package edit form</a>
                          </td>
                          <td class="description">
                            <p>
Spec - see attached, which is a copy of the Pirate Pad from Lauren: 
<a class="ext-link" href="http://piratepad.net/2C2iwiLDhd"><span class="icon">​</span>http://piratepad.net/2C2iwiLDhd</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1270801086000000
                          </td>
                          <td class="ModifiedTime">1270801210000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/289.html">#289</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/289.html">Document config options</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1271248690000000
                          </td>
                          <td class="ModifiedTime">1271249368000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/294.html">#294</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/294.html">Add/remove extra fields in Package edit form</a>
                          </td>
                          <td class="description">
                            <p>
Currently the package form gives you 3 fields for extras. To get more you have to hit preview. This is obscure. It would be better to have some buttons to add/remove fields, just like with the resources.
</p>

                            
                          </td>
                          <td class="PosixTime">1271756591000000
                          </td>
                          <td class="ModifiedTime">1291830960000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/295.html">#295</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/295.html">Add multiple packages when editing a group</a>
                          </td>
                          <td class="description">
                            <p>
In Group edit page, you can only add one package at a time. It would be better to use some scripting to allow adding more than one at once, to make it easier and quicker when you have a long list to add.
</p>
<p>
Ticket is split off from <a class="closed ticket" href="../ticket/221.html" title="enhancement: UI Review - Package edit (closed: fixed)">ticket:221</a>
</p>
<p>
See also <a class="closed ticket" href="../ticket/155.html" title="enhancement: Adding multiple packages to a group (closed: duplicate)">ticket:155</a> (duplicate).
</p>

                            
                          </td>
                          <td class="PosixTime">1271756713000000
                          </td>
                          <td class="ModifiedTime">1272384758000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/296.html">#296</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/296.html">Commit CKAN revisions to changeset system</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1272279521000000
                          </td>
                          <td class="ModifiedTime">1294407032000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/297.html">#297</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/297.html">Update CKAN repository from changeset system</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1272279556000000
                          </td>
                          <td class="ModifiedTime">1294407051000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/298.html">#298</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/298.html">Pull changesets from remote CKAN instance</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1272279591000000
                          </td>
                          <td class="ModifiedTime">1294407080000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/299.html">#299</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/299.html">Merge diverging lines of changesets</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1272279698000000
                          </td>
                          <td class="ModifiedTime">1294407099000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/301.html">#301</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/301.html">Package discussion pages</a>
                          </td>
                          <td class="description">
                            <p>
A package discussion page is like a wikipedia discussion page: an editable free text page for people to have discussion/post comments about a given package.
</p>
<p>
It provides a way for people to make suggestions about a package without needing access to main package.
</p>

                            
                          </td>
                          <td class="PosixTime">1272301033000000
                          </td>
                          <td class="ModifiedTime">1340632055000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/302.html">#302</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/302.html">Advertise a package's feed visually</a>
                          </td>
                          <td class="description">
                            <p>
Visual display of a package's feed in the Package Read (/package/xyz) and Package History (/package/history/xyz) pages.
</p>
<p>
Motivation: each package's Atom feed is mentioned in the &lt;link rel="alternate" type="application/atom+xml" ...&gt; tag, which Firefox displays with a feed icon, but the other 3/4 of users may not discover it.
</p>
<p>
The Repo History (/revision) page has a visual link the feed.
</p>
<p>
PS It would be nice to display the feed icon in both these places too.
</p>

                            
                          </td>
                          <td class="PosixTime">1272370397000000
                          </td>
                          <td class="ModifiedTime">1272453821000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/306.html">#306</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/306.html">datapkg build command</a>
                          </td>
                          <td class="description">
                            <p>
Need to be able to build a distribution. Need:
</p>
<ul><li>new 'build' command
</li><li>specify distribution format. Suggest at the moment a simple zip or tar.gz build in most straightforward way form distribution.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1272474212000000
                          </td>
                          <td class="ModifiedTime">1318181194000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/308.html">#308</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/308.html">Autocomplete package names &amp; tags in package search</a>
                          </td>
                          <td class="description">
                            <p>
Extracted from <a class="closed ticket" href="../ticket/216.html" title="enhancement: UI Review - Search (closed: fixed)">ticket:216</a>.
</p>
<p>
Dubious of its merit.
</p>

                            
                          </td>
                          <td class="PosixTime">1273050549000000
                          </td>
                          <td class="ModifiedTime">1275302577000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/313.html">#313</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/313.html">Allow packages to be specified by IDs in REST interface</a>
                          </td>
                          <td class="description">
                            <p>
If a package name changes, a simple CKAN client may not be aware of this (not monitoring the push notifications, revisions or feed), so it is preferable to refer to the package by its (invariant) ID.
</p>
<p>
It is still useful to refer to a package by its name though, so both should be valid arguments in the REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1273606248000000
                          </td>
                          <td class="ModifiedTime">1275404524000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/317.html">#317</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/317.html">Make search pluggable</a>
                          </td>
                          <td class="description">
                            <p>
Make lib/search.py pluggable so that we can plug in different search systems (e.g. SOLR).
</p>
<p>
Suggest we define a base Search class from which specific search implementations inherit (e.g. SQLSearch, SOLRSearch etc). The specific one being used would then be set via a config variable.
</p>

                            
                          </td>
                          <td class="PosixTime">1274295418000000
                          </td>
                          <td class="ModifiedTime">1279286041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/320.html">#320</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/320.html">site_title configuration variable which is used in template</a>
                          </td>
                          <td class="description">
                            <p>
As a sysadmin I want to configure basic site title information for use in the site templates.
</p>
<p>
Implementation:
</p>
<ul><li>ckan.site_title config variable
</li><li>set this on g in app_globals.py e.g.
<ul><li>from pylons import config; g.site_title = config.get('ckan.site_title, 'CKAN - Comprehensive Knowledge Archive Network')
</li></ul></li><li>use in head title and in main site title/logo section (use it as alt on logo image)
</li><li>Also all other pages (e.g. index, about) which talk about CKAN
<ul><li>Is this needed? Would it not be better for people who want to customize the site to simply overwrite those templates?
</li></ul></li></ul><p>
Questions:
</p>
<ul><li>Do we want a site_logo variable whic his use for site title/logo section instead of site_title if site_logo defined?
</li><li>Probably yes, but <strong>not</strong> part of this ticket.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1274378967000000
                          </td>
                          <td class="ModifiedTime">1279130535000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/321.html">#321</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/321.html">Delegate authentication to Drupal</a>
                          </td>
                          <td class="description">
                            <p>
When CKAN is included in a Drupal front-end, CKAN edit pages are used in a slave-mode, such that authentication is delegated to the Drupal front-end user model.
</p>
<p>
The Drupal front-end shall have:
</p>
<ol><li>Login page - fixed location, can authenticate users, on successful  authentication sets auth cookie and redirects to HTTP_REFERER.
</li></ol><ol start="2"><li>Access control resource - fixed location, can authorise users, on receipt of valid auth cookie return message listing account details and permitted actions.
</li></ol><ol start="3"><li>Access denied page - fixed location, static resource, gently 
</li></ol><p>
indicates what has happened, and how to ask for permission.
</p>
<p>
The CKAN slave edit page shall:
</p>
<ol><li>Try to detect a Drupal session key (passed as cookie or as request param).
</li></ol><ol start="2"><li>Redirect to Drupal login page if no session key.
</li></ol><ol start="3"><li>Check authorisation if session key is found.
</li></ol><ol start="4"><li>Redirect to access denied page if session key not authorised.
</li></ol><ol start="5"><li>Present the Package edit page.
</li></ol><ol start="6"><li>Reject unauthenticated or unauthorised edit submissions.
</li></ol><ol start="7"><li>Snag invalid edit submissions from authenticated and authorised users.
</li></ol><ol start="8"><li>Respond to valid edit submissions from authenticated and authorised users, by saving the new package state, and redirecting to Package read page in Drupal front-end.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1274705234000000
                          </td>
                          <td class="ModifiedTime">1291831399000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/322.html">#322</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/322.html">Client interface for Notification Service</a>
                          </td>
                          <td class="description">
                            <h3 id="Usecases">Use cases</h3>
<ul><li>Register for package changes
</li><li>Register for all revisions
</li><li>Notified of a package change
</li><li>Notified of a revision
</li><li>Deregistration
</li><li>Configuration of port in pylons config
</li></ul><h3 id="Design">Design</h3>
<ul><li>Default port: 5672 (standard for AMQP)
</li><li>Exchange name: 'ckan'
</li><li>Exchange type: topic exchange (most flexible)
</li><li>Routing keys: (see below)
</li></ul><h3 id="Routingdetail">Routing detail</h3>
<p>
Routing key format: "OBJ_TYPE"
(NB tags should be identified by their name, not ID)
</p>
<p>
Example routing keys
</p>
<ul><li>'package' - Package edited/created
</li><li>'resource' - Resource edited/created
</li><li>'revision' - Any change
</li><li>'db.clean'
</li><li>'db.rebuild'
</li></ul><p>
Example queue bindings that clients may use: 
</p>
<ul><li>* - no filtering - client receives all notifications
</li><li>package - only changes to packages
</li><li>revision - all revisions
</li><li>db - all database operations
</li></ul><h3 id="Versioning">Versioning</h3>
<p>
Since message payloads will be tied into the REST Entities, it makes sense to join up with the REST versioning. This could be achieved by providing new exchanges called 'ckan-1.1' perhaps?
</p>
<h3 id="Documentation">Documentation</h3>
<ul><li>How to use
</li><li>simple example of an external client?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1274720042000000
                          </td>
                          <td class="ModifiedTime">1277722821000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/323.html">#323</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/323.html">Notification message</a>
                          </td>
                          <td class="description">
                            <h3 id="Whicheventstonotifyon">Which events to notify on</h3>
<p>
Listed by domain object, these are the notification message 'change types' that will be sent:
</p>
<ul><li>Package
</li><li>PackageResource
</li></ul><p>
Also it is clear that it could be useful to know when db-wide maintenance is carried out:
</p>
<ul><li>db - 'clean', 'rebuild' (db is wiped and replaced with new data), 'upgrade' (migration)
</li></ul><h3 id="Ignoreddomainobjects">Ignored domain objects</h3>
<p>
These parts of the domain model will not carry notifications as no use case has been identified for them:
</p>
<ul><li>Revision
</li><li>Group 
</li><li>Tag
</li><li>Rating
</li><li>User - list of users is sensitive info
</li><li>Relationships - complicated
</li><li>Authz - complicated and sensitive info
</li><li>License - change of a license's metadata is a question for the 'license service'
</li></ul><h3 id="Messageformat">Message format</h3>
<p>
A notification message's header contains the routing key, identifying the object type. The client is probably interested in the object (all use cases so far), so it makes sense to send the object in the payload. This should be the JSON-encoded dictionary exactly as provided for the object's REST Entity.
</p>
<p>
For the 'db' notifications there shall be no payload.
</p>

                            
                          </td>
                          <td class="PosixTime">1274723333000000
                          </td>
                          <td class="ModifiedTime">1278578841000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/324.html">#324</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/324.html">Search indexing using notifications</a>
                          </td>
                          <td class="description">
                            <p>
Currently search indexing is triggered directly using a Postgresql db callback. Now take advantage of the Notification system to register interest in all package changes and db changes to trigger this instead.
</p>
<p>
The indexing shall run in a separate shell/process, managed by supervisord.
</p>

                            
                          </td>
                          <td class="PosixTime">1274723483000000
                          </td>
                          <td class="ModifiedTime">1278599927000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/325.html">#325</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/325.html">Event push notification</a>
                          </td>
                          <td class="description">
                            <h3 id="Asa">As a</h3>
<p>
CKAN client program
</p>
<h3 id="Iwantto">I want to</h3>
<p>
be notified when changes to the CKAN metadata occur.
</p>
<h3 id="Examplesofuse">Examples of use</h3>
<ol><li>An external search engine needing to (re)index a package. (interest: Package)
</li><li>A front-end system that caches package info and wants to know when it changes, to keep in step. (interest: Package or Revision) See further details here: <a class="closed ticket" href="../ticket/352.html" title="enhancement: Package notification worker - sends XML-RPC (closed: wontfix)">ticket:352</a> and previous iteration here: <a class="closed ticket" href="../ticket/333.html" title="enhancement: CKAN front end requirements for package notifications (closed: wontfix)">ticket:333</a>.
</li><li>A system for automatically checking package URLs and resource URLs as they are put on the system. This could alert to bad URLs and automatically email feedback to (meta)data owners. (interest: PackageResource)
</li><li>Do some processing on resource (e.g. extract sample data for display) (interest: PackageResource)
</li></ol><h3 id="Context">Context</h3>
<p>
The current state of CKAN can be queried through the REST API, you can keep track of changes by reviewing the feeds, but there is no way to find out the instant something is changed, without costly polling.
</p>
<h3 id="Design">Design</h3>
<p>
Split-off into two tickets:
</p>
<ul><li>Notification message - <a class="closed ticket" href="../ticket/323.html" title="enhancement: Notification message (closed: fixed)">ticket:323</a>
<ul><li>Which events to notify on
</li><li>Message format
</li></ul></li><li>Interface for Notifier Service - <a class="closed ticket" href="../ticket/322.html" title="enhancement: Client interface for Notification Service (closed: fixed)">ticket:322</a>
</li></ul><h3 id="Testing">Testing</h3>
<p>
To test notifications, Carrot / AMQP will be configured to use a native-Python Queue, instead of requiring RabbitMQ to be running on the machine.
</p>
<h3 id="Related">Related</h3>
<ul><li>Run CKAN search indexing using this system - <a class="closed ticket" href="../ticket/324.html" title="enhancement: Search indexing using notifications (closed: fixed)">ticket:324</a>
</li><li>Run SOLR indexing using this system - <a class="closed ticket" href="../ticket/353.html" title="defect: SOLR search indexing (closed: fixed)">ticket:353</a>
</li><li>Web hooks for notifications - <a class="closed ticket" href="../ticket/327.html" title="defect: Create a web hook worker for CKAN (closed: wontfix)">ticket:327</a> 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1274723512000000
                          </td>
                          <td class="ModifiedTime">1278599979000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/328.html">#328</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/328.html">Mention code libraries in API documentation</a>
                          </td>
                          <td class="description">
                            <p>
Should prominently (at the top?) mention existing code libraries for working with ckan api. Have:
</p>
<ul><li>Python: ckanclient
</li><li>Perl: luke closs wrote something
</li><li>PHP: drupal library?
</li><li>...?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1274988106000000
                          </td>
                          <td class="ModifiedTime">1275318745000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/331.html">#331</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/331.html">Timezone of CKAN timestamps should be configurable</a>
                          </td>
                          <td class="description">
                            <p>
Revisions are timestamped using the server's clock, which may not relate to the expected timezone for the site. e.g. the Norway site has a server on GMT. No timezone info is displayed either.
</p>
<p>
Would like to set timezone for a CKAN instance to use in rendering revision timestamps. For example, use CET or EST timezone.
</p>

                            
                          </td>
                          <td class="PosixTime">1275302440000000
                          </td>
                          <td class="ModifiedTime">1339774701000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/333.html">#333</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/333.html">CKAN front end requirements for package notifications</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase:newpackage">Use case: new package</h2>
<ol><li>An external front-end system provides a web page with a list of packages. Each package has the option to edit it or and there is also a button to create a new package. 
</li></ol><ol start="2"><li>User: clicks 'new package'. 
</li></ol><ol start="3"><li>CKAN presents the package/new form to the user. 
</li></ol><ol start="4"><li>(After a couple of previews) User: clicks 'commit'. 
</li></ol><ol start="5"><li>Notification message goes from CKAN to the front-end detailing the new package.
</li></ol><ol start="6"><li>The user is redirected back to the front-end web page displaying the list of packages, which contains the new one.
</li></ol><p>
The notification message (step 5) has to get through to the front-end that the new package is created before the redirect (step 6). This suggests that the message sending needs to be *synchronous*, i.e. acknowledged by the front-end, before CKAN redirects the user to the front-end package listing page (step 6).
</p>
<p>
In addition, this use case suggests the front-end listens for package notifications, to save another call to CKAN to get the package details, before the displaying the list of packages. If this isn't possible (see next use case) and it must listen for revision notifications instead, then perhaps it is worth including the full package details in the payload for the revision notification message. Would there be a problem with such a large message in the next use case, with 100 packages?
</p>
<h2 id="Usecase:CKANimportspackages">Use case: CKAN imports packages</h2>
<ol><li>CKAN administrator runs a script that adds 100 new packages into CKAN. 
</li></ol><ol start="2"><li>CKAN sends notification message to front-end to report the new packages/revisions.
</li></ol><ol start="3"><li>Knowing there are new revisions, the front-end queries the CKAN revision interface to get the list of new packages.
</li></ol><ol start="4"><li>The front-end queries CKAN for each new package one-by-one.
</li></ol><ol start="5"><li>A new user request to the front-end will include the info about the new packages.
</li></ol><p>
The package addition could be achieved in 1 revision, 100 revisions or some compromise:
</p>
<ul><li>If it is 1 revision then potentially there are problems displaying the long list of packages in the 'recent changes'. 
</li></ul><ul><li>If it is 100 revisions, then the notification webhook would be called 100 times, which creates unnecessary load on the front-end. Suppose each Webhook call-back (step 2) triggers the front-end to make a call to CKAN to get the latest revisions (step3), in this case it would make 100 calls, most of them fruitless, causing unnecessary load on CKAN.
</li></ul><p>
This use case suggests a bulk import of packages should go into one revision, and therefore generate one revision notification message and 100 package notification messages. The front-end client should listen to only revision messages.
</p>

                            
                          </td>
                          <td class="PosixTime">1275324042000000
                          </td>
                          <td class="ModifiedTime">1275407987000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/335.html">#335</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/335.html">Post-package-edit redirect to configurable URL</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
third-party interface to a CKAN instance
</p>
<h2 id="Iwantto">I want to</h2>
<p>
link to CKAN's package creation/editing pages. On 'commit', have the user redirected back to a URL in my interface that I can control. Also, when the package is created new, I need to be told what the new package's name is on return.
</p>
<h2 id="Design">Design</h2>
<ol><li>The 'return URL' is passed as a parameter to CKAN.
</li><li>CKAN substitutes the package name into the return URL.
</li></ol><p>
 
</p>
<h2 id="Example">Example</h2>
<p>
Front-end links to:
http://ca.ckan.net/package/new?return_to=http://datadotgc.ca/dataset/&lt;NAME&gt; (but with the parameter URL-encoded)
</p>
<p>
When finished editing and the user commits, CKAN redirects the user to: http://datadotgc.ca/dataset/pollution_data
</p>

                            
                          </td>
                          <td class="PosixTime">1275408834000000
                          </td>
                          <td class="ModifiedTime">1276179605000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/337.html">#337</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/337.html">Download links for resources should open in new window</a>
                          </td>
                          <td class="description">
                            <p>
target = _blank
</p>
<p>
Cost: 30m
</p>

                            
                          </td>
                          <td class="PosixTime">1275422151000000
                          </td>
                          <td class="ModifiedTime">1279300972000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/340.html">#340</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/340.html">Web UI theme easier to configure</a>
                          </td>
                          <td class="description">
                            <p>
An install of CKAN should be configurable without changing any of the installed files. This makes it clear to upgrade CKAN. Complete the changes in this wiki page to allow static files to be served from outside CKAN paths over CKAN versions and additional CSS file to be pulled in.
</p>
<p>
<a class="ext-link" href="http://wiki.okfn.org/ckan/doc/theme"><span class="icon">​</span>http://wiki.okfn.org/ckan/doc/theme</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1276009729000000
                          </td>
                          <td class="ModifiedTime">1328807317000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/341.html">#341</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/341.html">Web UI accepts package IDs in URLs</a>
                          </td>
                          <td class="description">
                            <p>
(in the same way that we can refer to packages in the API by ID as well as name.)
</p>
<h2 id="Asa">As a</h2>
<p>
client of CKAN
</p>
<h2 id="Iwantto">I want to</h2>
<p>
link to a package page in the UI, referring to it by ID
</p>

                            
                          </td>
                          <td class="PosixTime">1276162400000000
                          </td>
                          <td class="ModifiedTime">1277483030000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/342.html">#342</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/342.html">JSONP parameter in API</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
CKAN client using JQuery
</p>
<h2 id="Iwantto">I want to</h2>
<p>
call the CKAN API and instead of receiving back JSON I get JSONP. i.e. "%s(%s)" % (callback, json_content)
</p>
<h2 id="Suggestedimplementation">Suggested implementation</h2>
<p>
All API calls allow the JSONP 'callback' parameter to be specified in the request and this wraps the JSON response. See suggested patch to rest.py by Donovan Hide:
</p>
<p>
<a class="ext-link" href="http://knowledgeforge.net/ckan/trac/attachment/ticket/336/resource.patch"><span class="icon">​</span>http://knowledgeforge.net/ckan/trac/attachment/ticket/336/resource.patch</a>
</p>
<h2 id="Test">Test</h2>
<p>
import re
import unittest
</p>
<p>
def test_jsonp_callback():
</p>
<blockquote>
<p>
response = self.app.get('/api/search/resource/?url=<a class="ext-link" href="http://www.scraperwiki.com&amp;callback=jsoncallback"><span class="icon">​</span>http://www.scraperwiki.com&amp;callback=jsoncallback</a>')
match = re.match('jsoncallback\(.*\);',response)
self.assertTrue(match)
</p>
</blockquote>
<blockquote>
<p>
response = self.app.get('/api/search/resource/?url=<a class="ext-link" href="http://www.scraperwiki.com"><span class="icon">​</span>http://www.scraperwiki.com</a>')
match = re.match('jsoncallback\(.*\);',response)
self.assertFalse(match)
</p>
</blockquote>
<p>
I think the point needs to be made that JSONP only works for GET
requests and not POST/PUT/DELETE, so there needs to be a check
for that in the _finish_ok method.
</p>
<p>
(thanks to Donovan Hide for test)
</p>

                            
                          </td>
                          <td class="PosixTime">1276166426000000
                          </td>
                          <td class="ModifiedTime">1276278485000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/347.html">#347</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/347.html">The system shall present the package edit form in an API</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1276523692000000
                          </td>
                          <td class="ModifiedTime">1277820440000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/348.html">#348</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/348.html">The system shall accept package edit form submissions in an API</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1276523793000000
                          </td>
                          <td class="ModifiedTime">1277820496000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/350.html">#350</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">reopened
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/350.html">Search engine optimisation</a>
                          </td>
                          <td class="description">
                            <p>
Need to research what can easily be done to improve CKAN packages in the search rankings.
</p>
<p>
Comments from Glen Barnes:
</p>
<p>
We've been pretty successful at SEO without even really trying (see <a class="ext-link" href="http://www.google.co.nz/search?client=safari&amp;rls=en&amp;q=auckland+google+transit+feed&amp;ie=UTF-8&amp;oe=UTF-8&amp;redir_esc=&amp;ei=dsYSTOzJLs2eceuZiI8I"><span class="icon">​</span>http://www.google.co.nz/search?client=safari&amp;rls=en&amp;q=auckland+google+transit+feed&amp;ie=UTF-8&amp;oe=UTF-8&amp;redir_esc=&amp;ei=dsYSTOzJLs2eceuZiI8I</a> as an example). This to me is key. If we are to make data available it has to be findable which is the main reason for a catalogue. There are probably things we should be doing on CKAN like using slugged urls (<a class="ext-link" href="http://www.ckan.net/package/ascoe"><span class="icon">​</span>http://www.ckan.net/package/ascoe</a> -&gt; <a class="ext-link" href="http://www.ckan.net/package/ascoe/atmospheric-chemistry-studies-in-the-oceanic-environment"><span class="icon">​</span>http://www.ckan.net/package/ascoe/atmospheric-chemistry-studies-in-the-oceanic-environment</a>), setting the H1 tag correctly ("Atmospheric Chemistry Studies in the Oceanic Environment"  on the example above). Some basic SEO 101 on page optimisations. 
</p>

                            
                          </td>
                          <td class="PosixTime">1276594541000000
                          </td>
                          <td class="ModifiedTime">1339774690000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/351.html">#351</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/351.html">Homepage: list new, updated and 'hot' packages</a>
                          </td>
                          <td class="description">
                            <p>
Have a simpler list of exciting data, as opposed to the big revision list.
</p>
<p>
For example:
</p>
<pre class="wiki">Hot data
===========

New packages: package1, package2, package3
Updated resources: package1, package2, package3
Popular packages: 
</pre>
                            
                          </td>
                          <td class="PosixTime">1276595816000000
                          </td>
                          <td class="ModifiedTime">1339774677000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/352.html">#352</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/352.html">Package notification worker - sends XML-RPC</a>
                          </td>
                          <td class="description">
                            <h2 id="Asan">As an</h2>
<p>
external front-end
</p>
<h2 id="Iwantto">I want to</h2>
<p>
be notified (by XML-RPC) about package creations and updates.
</p>
<h2 id="Implementation">Implementation</h2>
<ol><li>A message queue worker waits for package update notifications
</li><li>On reception, it constructs XML detailing the changes and PUSHes it to a configured URI.
</li></ol><p>
Rather than turning the package fields into XML fields, the JSON dump of the list of package dictionaries will become a single XML parameter.
</p>
<p>
Config - in the CKAN config will be:
</p>
<ul><li>URI to callback to
</li><li>API version to use (version 2 gives packages referred by ID not name)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1276597996000000
                          </td>
                          <td class="ModifiedTime">1286375870000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/356.html">#356</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/356.html">Search box in at top of page (UI)</a>
                          </td>
                          <td class="description">
                            <p>
A small but useful ui improvement would be to have a search box at top right on every page.
</p>
<p>
As an example see the one here on trac or on github.com or bitbucket.org.
</p>
<ul><li>It would be particularly good to include a small advanced search link that took you to the full search page. Need to keep it small because screen real-estate here is limited (see how github.com does this for inspiration).
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1277235411000000
                          </td>
                          <td class="ModifiedTime">1278931830000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/358.html">#358</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/358.html">Resources in REST API</a>
                          </td>
                          <td class="description">
                            <p>
(spun out of <a class="closed ticket" href="../ticket/336.html" title="defect: Resource Search API (closed: fixed)">ticket:336</a>)
</p>
<p>
Resource added to model API at:
</p>
<p>
api/rest/resource
</p>
<h3 id="Examplemodelrequest">Example model request</h3>
<p>
GET to: /api/2/rest/resource/a3dd8f64-9078-4f04-845c-e3f047125028
</p>
<p>
returns:
</p>
<pre class="wiki"> [{"id": "a3dd8f64-9078-4f04-845c-e3f047125028",
   "package_id": "b8a325c8-af2a-43f3-8245-9db7d73dfbfe",
   "URL": "http://scraperwiki.com/lincolnshire-councillors", 
   "format": "CSV", 
   "Description": "Scrape of www.lincs.gov/councillors.pdf by ScraperWiki.",
   "hash": "", 
   "position": 2
 }]
</pre><h2 id="Authorization">Authorization</h2>
<ol><li>Have it generic (ie. not per resource) and use an action/role on system
</li><li>Require all resources to attach to packages an inherit their permissions (i.e. read/write etc if and only read/write on associated packages)
</li><li>Introduce Resource in authorization system (requires migration)
</li></ol><p>
Mixed model
</p>
<pre class="wiki">Create / Edit:

if resource associated to package:
    check_permissions(package, update)
else:
    check_system_permissions(c.user, model.Action.Resouce Create/Update, model.System)
</pre>
                            
                          </td>
                          <td class="PosixTime">1277483282000000
                          </td>
                          <td class="ModifiedTime">1310128782000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/361.html">#361</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datapkg-0.7.html">datapkg-0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/361.html">Allow specification of the default index in configuration</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1277803305000000
                          </td>
                          <td class="ModifiedTime">1291135756000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/365.html">#365</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/365.html">ResourceNotifications</a>
                          </td>
                          <td class="description">
                            <p>
If you change a resource then you not only get a <a class="missing wiki">PackageNotification?</a>, but also a <a class="missing wiki">ResourceNofication?</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1279037411000000
                          </td>
                          <td class="ModifiedTime">1279300621000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/366.html">#366</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/366.html">A flash message says why you are redirected to the 'user login' page</a>
                          </td>
                          <td class="description">
                            <p>
You get redirected for a number of different reasons - often confuses me let alone the average user!
</p>
<p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1279128058000000
                          </td>
                          <td class="ModifiedTime">1300212171000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/367.html">#367</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/367.html">Notfication monitor</a>
                          </td>
                          <td class="description">
                            <p>
Runs on the commandline and prints out notifications.
</p>

                            
                          </td>
                          <td class="PosixTime">1279303310000000
                          </td>
                          <td class="ModifiedTime">1279303693000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/369.html">#369</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">shudson@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/369.html">"Package Listing Key" should appear on Tag results</a>
                          </td>
                          <td class="description">
                            <p>
Currently there's a nice legend titled "Package Listing Key" that appears in right side of "Browse Packages" results. The same key should show on other search results like when searching for a tag.
</p>

                            
                          </td>
                          <td class="PosixTime">1279821634000000
                          </td>
                          <td class="ModifiedTime">1339774666000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/370.html">#370</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">shudson@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/370.html">Use better email encryption for author_email and maintainer_email</a>
                          </td>
                          <td class="description">
                            <p>
The <a class="missing wiki">JavaScript?</a> email encryption used is not very reassuring. Google's <a class="missing wiki">MailHide?</a> is a much better solution that is easily implemented.
</p>
<p>
<a class="ext-link" href="http://www.google.com/recaptcha/mailhide/"><span class="icon">​</span>http://www.google.com/recaptcha/mailhide/</a>
</p>
<p>
Check on the Mailhide API where there are even some Python libraries already built.
</p>

                            
                          </td>
                          <td class="PosixTime">1279821819000000
                          </td>
                          <td class="ModifiedTime">1339774649000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/377.html">#377</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">glen@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/377.html">API Should return JSON in all cases</a>
                          </td>
                          <td class="description">
                            <p>
When the API returns any response it should always retunr JSON. For example a 404 response should return something like
</p>
<pre class="wiki">{'status': 404, 'message': 'package somename not found'}

</pre><p>
When errors are encountered when creating a package: 
</p>
<pre class="wiki">{'status': nnn, 'message': 'Validation Errors', 'errors':['description':'name cannot be
blank', 'description':'license code must be an integer']}

</pre><p>
Not authorised:
</p>
<pre class="wiki">{'status': 503, 'message': 'You are not authorised to create this package.'}

</pre><p>
The reason being that screeds of html coming back in the response just makes it harder to debug and understand. Having the proper error codes/messages means that you can see why your package was not created.
</p>

                            
                          </td>
                          <td class="PosixTime">1280268158000000
                          </td>
                          <td class="ModifiedTime">1338206349000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/505.html">#505</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/505.html">DGU fieldset supports v3 of DGU metadata specification</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282660416000000
                          </td>
                          <td class="ModifiedTime">1298368280000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/510.html">#510</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/510.html">Setup cron for ons import</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282665939000000
                          </td>
                          <td class="ModifiedTime">1294138332000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/541.html">#541</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/541.html">Full-page caching even for logged in users</a>
                          </td>
                          <td class="description">
                            <p>
The simplest way to improve performance on specific pages is to implement full page caching.
</p>
<p>
This, however, has challenges on pages with user-specific content. For example, on CKAN when a user is logged at the top of the page we have "You are logged in as: {username}". Similarly we change the visibility of some material depending on the status of users:
</p>
<ul><li>Visibility of Edit or Authz link on packages and groups
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1283243139000000
                          </td>
                          <td class="ModifiedTime">1294924872000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/659.html">#659</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nils.toedtmann
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/659.html">Check CKAN instance works automatically</a>
                          </td>
                          <td class="description">
                            <p>
Auto way to check web and API interface of a CKAN instance basically works. Several gotchas can be quickly determined, such as logging in, search not working. Needs to be configurable per site basis.
</p>

                            
                          </td>
                          <td class="PosixTime">1285348333000000
                          </td>
                          <td class="ModifiedTime">1311183031000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/672.html">#672</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/672.html">Facets in CKAN search results</a>
                          </td>
                          <td class="description">
                            <p>
This has been done in IATI ckan but should be ported over to CKAN main and put into the UI in a nice fashion.
</p>
<p>
IATI: <a class="ext-link" href="http://bitbucket.org/okfn/iati/changeset/378431974c76"><span class="icon">​</span>http://bitbucket.org/okfn/iati/changeset/378431974c76</a> (related to <a class="closed ticket" href="../ticket/520.html" title="requirement: Browseable web interface onto the data (closed: fixed)">#520</a>)
</p>
<p>
Requires SOLR search backend (for postgres should fall back gracefully -- just do not show them).
</p>

                            
                          </td>
                          <td class="PosixTime">1286190736000000
                          </td>
                          <td class="ModifiedTime">1291715338000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/682.html">#682</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/682.html">Add ckanclient tests to buildbot</a>
                          </td>
                          <td class="description">
                            <p>
Some work done on this to make tests run independently.
</p>

                            
                          </td>
                          <td class="PosixTime">1286386769000000
                          </td>
                          <td class="ModifiedTime">1297358266000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/737.html">#737</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/737.html">Markdown syntax summary page</a>
                          </td>
                          <td class="description">
                            <p>
I suggest we produce a quick Markdown cheat-sheet page, showing the key runes: e.g. create a title and quote some text. This page can link to the full Markdown docs for advanced users.
</p>
<p>
A user going to the Markdown docs that we link will have to read a couple of pages of the raison-d'etre of Markdown before he gets to the syntax. And it's not very easy to read, and being white on black it looks like proper geek stuff.
</p>

                            
                          </td>
                          <td class="PosixTime">1287766749000000
                          </td>
                          <td class="ModifiedTime">1323170239000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/741.html">#741</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ollyc
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/741.html">Extension / Plugin system for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Create plugin system using
&lt;<a class="ext-link" href="http://pypi.python.org/pypi/pyutilib.component.core/"><span class="icon">​</span>http://pypi.python.org/pypi/pyutilib.component.core/</a>&gt;
</p>
<p>
Specification in CEP-003 (<a class="source" href="http://localhost/browser/doc/cep/cep-003.txt">browser:doc/cep/cep-003.txt</a>) and &lt;<a class="ext-link" href="http://okfnpad.org/ckan-plugins"><span class="icon">​</span>http://okfnpad.org/ckan-plugins</a>&gt;
</p>

                            
                          </td>
                          <td class="PosixTime">1287996890000000
                          </td>
                          <td class="ModifiedTime">1291989194000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/750.html">#750</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/750.html">Get CSW records modified since given time</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1288014402000000
                          </td>
                          <td class="ModifiedTime">1296592940000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/754.html">#754</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/754.html">Filtering for harvesting sysem</a>
                          </td>
                          <td class="description">
                            <p>
This has once again been ruled out for UKLP for the timebeing.
</p>

                            
                          </td>
                          <td class="PosixTime">1288040469000000
                          </td>
                          <td class="ModifiedTime">1303118020000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/763.html">#763</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/763.html">Read-only mode - Setup</a>
                          </td>
                          <td class="description">
                            <p>
Admin configures entering read-only mode in one of two places:
</p>
<ul><li>CKAN config file (e.g. ckan.ini)
</li><li>environment variable from Apache config
</li></ul><p>
Once enabled, no writes can occur to the database (including user ratings and other usage stats).
</p>

                            
                          </td>
                          <td class="PosixTime">1288091506000000
                          </td>
                          <td class="ModifiedTime">1338206204000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/764.html">#764</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/764.html">Read-only CKAN Web UI</a>
                          </td>
                          <td class="description">
                            <p>
Whilse using CKAN web interface, you are not tempted to edit stuff:
</p>
<ul><li>You know at all times this CKAN is read-only
</li><li>All editing facilities are still seen but greyed-out with an indication why it is.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1288091619000000
                          </td>
                          <td class="ModifiedTime">1310133334000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/765.html">#765</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/765.html">Read-only mode - API usage</a>
                          </td>
                          <td class="description">
                            <p>
All writes to the API are captured and you are returned an error explaining the reason.
</p>
<p>
Possible errors: 
</p>
<ul><li>503 temporary maintenance
</li><li>403 forbidden (if server if permanently read-only)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1288091897000000
                          </td>
                          <td class="ModifiedTime">1338206123000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/776.html">#776</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/776.html">Avoid generating vdm warnings</a>
                          </td>
                          <td class="description">
                            <p>
We get a host of vdm warnings frequently in the CKAN logs. Are these genuine worries or can they be avoided?
</p>
<pre class="wiki">2010-10-29 17:10:06,003 WARNI [vdm] Skipping adding property Package.package_search (PackageSearch) to revisioned object
2010-10-29 17:10:06,015 WARNI [vdm] Skipping adding property Package.all_revisions_unordered (PackageRevision) to revisioned object
2010-10-29 17:10:06,024 WARNI [vdm] Skipping adding property PackageTag.all_revisions_unordered (PackageTagRevision) to revisioned object
2010-10-29 17:10:06,081 WARNI [vdm] Skipping adding property PackageExtra.all_revisions_unordered (PackageExtraRevision) to revisioned object
2010-10-29 17:10:06,105 WARNI [vdm] Skipping adding property PackageResource.all_revisions_unordered (PackageResourceRevision) to revisioned object
2010-10-29 17:10:06,129 WARNI [vdm] Skipping adding property PackageRelationship.all_revisions_unordered (PackageRelationshipRevision) to revisioned object
</pre>
                            
                          </td>
                          <td class="PosixTime">1288372797000000
                          </td>
                          <td class="ModifiedTime">1297066840000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/797.html">#797</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/797.html">Rework core html layout to mirror wordpress twentyten</a>
                          </td>
                          <td class="description">
                            <p>
WP twentyten has an excellent core html structure. Furthermore, using that structure makes us compatible with all the WP twentyten compatible themes.
</p>
<ul><li>Convert to wp twentyten html
</li><li>Switch css to be based off twentyten css (and perhaps rework somewhat)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1289402873000000
                          </td>
                          <td class="ModifiedTime">1289402982000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/801.html">#801</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/801.html">Get/Set last harvested time for a given harvest source</a>
                          </td>
                          <td class="description">
                            <p>
Implies that last harvested time must be stored on source by harvesting job (see <a class="closed ticket" href="../ticket/802.html" title="story: Save last harvested time on source (closed: duplicate)">#802</a>).
</p>

                            
                          </td>
                          <td class="PosixTime">1289483546000000
                          </td>
                          <td class="ModifiedTime">1300196714000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/806.html">#806</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/806.html">Metadata created and last modified timestamps for packages</a>
                          </td>
                          <td class="description">
                            <p>
Packages should provide create and last modified attributes which are included in package dict exposed via api.
</p>
<p>
These attributes will not be in db but are computed (depend not just on package but related objects -- package tags, package resources, package extras etc)
</p>

                            
                          </td>
                          <td class="PosixTime">1289854894000000
                          </td>
                          <td class="ModifiedTime">1324034356000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/807.html">#807</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/807.html">Handle robot traffic better</a>
                          </td>
                          <td class="description">
                            <p>
We get a lot of robot traffic. Notice that robots are visiting package edit pages. Suggest:
</p>
<ul><li>Add rel=nofollow to various links
</li><li>Throttle some robots (not all seem to respect robots.txt)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1289899826000000
                          </td>
                          <td class="ModifiedTime">1297075372000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/808.html">#808</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/808.html">Allow i18n language choice on site (and possibly set automatically)</a>
                          </td>
                          <td class="description">
                            <p>
Allow choice of language on ckan instance.
</p>
<ul><li>Configuration variable listing language choices (could try doing this automatically but recommend against this)
</li><li>Switcher option in UI (perhaps on user profile page)
</li><li>Default it automatically based on browser settings (?)
</li></ul><p>
Think this is high value (and cost is low)
</p>
<p>
Cost: low (4h)
</p>

                            
                          </td>
                          <td class="PosixTime">1289944394000000
                          </td>
                          <td class="ModifiedTime">1297783658000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/810.html">#810</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/810.html">Move "add packages" field up in group form</a>
                          </td>
                          <td class="description">
                            <p>
Subticket of forms super ticket <a class="closed ticket" href="../ticket/961.html" title="enhancement: [super] Refactoring of forms, validation and model synchronization (closed: fixed)">#961</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1289992287000000
                          </td>
                          <td class="ModifiedTime">1310128477000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=type&amp;asc=1&amp;page=8.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <span class="current">9</span>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=type&amp;asc=1&amp;page=10.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>