<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=summary&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=summary&amp;asc=0&amp;page=27.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2601 - 2647 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <span class="current">27</span>
      </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=27.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=27.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=27.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=27.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=27.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=27.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=27.html">
              Resolution
            </a>
          </th><th class="desc">
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=27.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=27.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=27.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=27.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1774.html">#1774</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1774.html">22. Mixed Licenses MUST PHASE 2</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1328540153000000
                          </td>
                          <td class="ModifiedTime">1329733550000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1773.html">#1773</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1773.html">17. Filter “UK Location Records” MUST PHASE 1 [UKLP #21 SHOULD]</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1328540130000000
                          </td>
                          <td class="ModifiedTime">1329733534000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1772.html">#1772</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1772.html">13. Provider labelling MUST PHASE 1 [UKLP #14 MUST]</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1328539902000000
                          </td>
                          <td class="ModifiedTime">1329733962000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2867.html">#2867</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2867.html">1.8 url_for error</a>
                          </td>
                          <td class="description">
                            <p>
From: &lt;thedatahub.org@…&gt;
Date: Thu, Aug 16, 2012 at 10:30 AM
Subject: <a class="missing wiki">WebApp?</a> Error: &lt;class 'routes.util.<a class="missing wiki">GenerationException?</a>'&gt;: url_for can only return a string, got unicode instead: <a class="ext-link" href="https://ckannet-storage.commondatastorage.googleapis.com/file/fd3e00d9-eb0d-479b-8303-38909e5400ca?Signature=cmuU3CzRHQ86F3aZ0gljxv%2B3IqQ%3D&amp;Expires=1345109432&amp;AWSAccessKeyId=GOOGC6OU3AYPNY47B66M&amp;x-goog-meta-uploaded-by=d5c8ed25-70de-4035-b29d-ddbe363913c6"><span class="icon">​</span>https://ckannet-storage.commondatastorage.googleapis.com/file/fd3e00d9-eb0d-479b-8303-38909e5400ca?Signature=cmuU3CzRHQ86F3aZ0gljxv%2B3IqQ%3D&amp;Expires=1345109432&amp;AWSAccessKeyId=GOOGC6OU3AYPNY47B66M&amp;x-goog-meta-uploaded-by=d5c8ed25-70de-4035-b29d-ddbe363913c6</a>
To: ckan-sysadmin@…, kindly@…
</p>
<p>
URL: <a class="ext-link" href="http://ckan.net/storage/f/file/fd3e00d9-eb0d-479b-8303-38909e5400ca"><span class="icon">​</span>http://ckan.net/storage/f/file/fd3e00d9-eb0d-479b-8303-38909e5400ca</a>
Module weberror.errormiddleware:162 in <span class="underline">call</span>
&lt;&lt;              <span class="underline">traceback_supplement</span> = Supplement, self, environ
</p>
<blockquote>
<p>
sr_checker = <a class="missing wiki">ResponseStartChecker?</a>(start_response)
app_iter = self.application(environ, sr_checker)
return self.make_catching_iter(app_iter, environ, sr_checker)
</p>
</blockquote>
<blockquote>
<p>
except:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
app_iter = self.application(environ, sr_checker)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:73 in <span class="underline">call</span>
&lt;&lt;                                                     self.cache_manager)
</p>
<blockquote>
<p>
environ[self.environ_key] = self.cache_manager
return self.app(environ, start_response)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:155 in <span class="underline">call</span>
&lt;&lt;                          headers.append(('Set-cookie', cookie))
</p>
<blockquote>
<p>
return start_response(status, headers, exc_info)
</p>
</blockquote>
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def _get_session(self):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module routes.middleware:131 in <span class="underline">call</span>
&lt;&lt;                                               r'\1', oldpath)
               
</p>
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
# Wrapped in try as in rare cases the attribute will be gone already
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:125 in <span class="underline">call</span>
&lt;&lt;          
</p>
<blockquote>
<p>
controller = self.resolve(environ, start_response)
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
if 'paste.testing_variables' in environ and hasattr(response,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
</p>
<blockquote>
<p>
log.debug("Calling controller class with WSGI interface")
</p>
</blockquote>
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def load_test_env(self, environ):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:239 in <span class="underline">call</span>
&lt;&lt;          try:
</p>
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
<blockquote>
<p>
finally:
</p>
<blockquote>
<p>
model.Session.remove()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:221 in <span class="underline">call</span>
&lt;&lt;                  return response(environ, self.start_response)
               
</p>
<blockquote>
<p>
response = self._dispatch_call()
if not start_response_called:
</p>
<blockquote>
<p>
self.start_response = start_response
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._dispatch_call()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ<a class="missing wiki">pylons.action_method?</a> = func
                   
</p>
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.<span class="underline">name</span>, args)
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
<p>
except HTTPException, httpe:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
</p>
<blockquote>
<p>
<span class="underline">traceback_hide</span> = 'before_and_this'
return func(<strong>args)
</strong></p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def _inspect_call(self, func):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return func(<strong>args)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.storage:190 in file
&lt;&lt;              return fapp(request.environ, self.start_response)
</p>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
h.redirect_to(file_url)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
h.redirect_to(file_url)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.helpers:57 in redirect_to
&lt;&lt;      if are_there_flash_messages():
</p>
<blockquote>
<p>
kw<a class="missing wiki">__no_cache__?</a> = True
</p>
</blockquote>
<blockquote>
<p>
return _redirect_to(url_for(*args, <strong>kw))
</strong></p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def url(*args, <strong>kw):
</strong></p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return _redirect_to(url_for(*args, <strong>kw))
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.helpers:79 in url_for
&lt;&lt;          # fix ver to include the slash
</p>
<blockquote>
<p>
kw<a class="missing wiki">ver?</a> = '/%s' % ver
</p>
</blockquote>
<blockquote>
<p>
my_url = _routes_default_url_for(*args, <strong>kw)
kw<a class="missing wiki">__ckan_no_root?</a> = no_root
return _add_i18n_to_url(my_url, locale=locale, </strong>kw)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
my_url = _routes_default_url_for(*args, <strong>kw)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module routes.util:265 in url_for
&lt;&lt;      if not isinstance(url, str) and url is not None:
</p>
<blockquote>
<p>
raise <a class="missing wiki">GenerationException?</a>("url_for can only return a string, got "
</p>
<blockquote>
<p>
"unicode instead: %s" % url)
</p>
</blockquote>
</blockquote>
<blockquote>
<p>
if url is None:
</p>
<blockquote>
<p>
raise <a class="missing wiki">GenerationException?</a>(
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
"unicode instead: %s" % url)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
<a class="missing wiki">GenerationException?</a>: url_for can only return a string, got unicode instead: <a class="ext-link" href="https://ckannet-storage.commondatastorage.googleapis.com/file/fd3e00d9-eb0d-479b-8303-38909e5400ca?Signature=cmuU3CzRHQ86F3aZ0gljxv%2B3IqQ%3D&amp;Expires=1345109432&amp;AWSAccessKeyId=GOOGC6OU3AYPNY47B66M&amp;x-goog-meta-uploaded-by=d5c8ed25-70de-4035-b29d-ddbe363913c6"><span class="icon">​</span>https://ckannet-storage.commondatastorage.googleapis.com/file/fd3e00d9-eb0d-479b-8303-38909e5400ca?Signature=cmuU3CzRHQ86F3aZ0gljxv%2B3IqQ%3D&amp;Expires=1345109432&amp;AWSAccessKeyId=GOOGC6OU3AYPNY47B66M&amp;x-goog-meta-uploaded-by=d5c8ed25-70de-4035-b29d-ddbe363913c6</a>
CGI Variables
CKAN_CURRENT_URL        '/storage/f/file/fd3e00d9-eb0d-479b-8303-38909e5400ca'
CKAN_LANG        'en'
CKAN_LANG_IS_DEFAULT        True
CONTENT_TYPE        '; charset=utf-8'
DOCUMENT_ROOT        '/etc/apache2/htdocs'
GATEWAY_INTERFACE        'CGI/1.1'
HTTP_ACCEPT        '*/*'
HTTP_ACCEPT_CHARSET        'utf-8;q=0.7,iso-8859-1;q=0.2,*;q=0.1'
HTTP_CONNECTION        'close'
HTTP_HOST        'ckan.net'
HTTP_USER_AGENT        'Mozilla/5.0 (compatible; Ezooms/1.0; ezooms.bot@…)'
PATH_INFO        '/storage/f/file/fd3e00d9-eb0d-479b-8303-38909e5400ca'
PATH_TRANSLATED        '/etc/ckan/datahub/apache.wsgi/storage/f/file/fd3e00d9-eb0d-479b-8303-38909e5400ca'
REMOTE_ADDR        '127.0.0.1'
REMOTE_PORT        '37236'
REQUEST_METHOD        'GET'
REQUEST_URI        '/storage/f/file/fd3e00d9-eb0d-479b-8303-38909e5400ca'
SCRIPT_FILENAME        '/etc/ckan/datahub/apache.wsgi'
SERVER_ADDR        '127.0.0.1'
SERVER_ADMIN        '[no address given]'
SERVER_NAME        'ckan.net'
SERVER_PORT        '80'
SERVER_PROTOCOL        'HTTP/1.0'
SERVER_SIGNATURE        '&lt;address&gt;Apache/2.2.22 (Ubuntu) Server at ckan.net Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE        'Apache/2.2.22 (Ubuntu)'
WSGI Variables
application        &lt;beaker.middleware.<a class="missing wiki">CacheMiddleware?</a> object at 0x7f5312a51650&gt;
beaker.cache        &lt;beaker.cache.<a class="missing wiki">CacheManager?</a> object at 0x7f5312a51790&gt;
beaker.get_session        &lt;bound method <a class="missing wiki">SessionMiddleware?</a>._get_session of &lt;beaker.middleware.<a class="missing wiki">SessionMiddleware?</a> object at 0x7f5312a516d0&gt;&gt;
beaker.session        {'_accessed_time': 1345109433.273328, '_creation_time': 1345109433.273328}
mod_wsgi.application_group        'ckan.net|'
mod_wsgi.callable_object        'application'
mod_wsgi.handler_script        <em>
mod_wsgi.input_chunked        '0'
mod_wsgi.listener_host        </em>
mod_wsgi.listener_port        '8080'
mod_wsgi.process_group        'datahub'
mod_wsgi.request_handler        'wsgi-script'
mod_wsgi.script_reloading        '1'
mod_wsgi.version        (3, 3)
paste.cookies        (&lt;SimpleCookie: &gt;, <em>)
paste.registry        &lt;paste.registry.Registry object at 0x7f5303b05610&gt;
paste.throw_errors        True
pylons.action_method        &lt;bound method <a class="missing wiki">StorageController?</a>.file of &lt;ckan.controllers.storage.<a class="missing wiki">StorageController?</a> object at 0x7f530891fa10&gt;&gt;
pylons.controller        &lt;ckan.controllers.storage.<a class="missing wiki">StorageController?</a> object at 0x7f530891fa10&gt;
pylons.environ_config        {'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons        &lt;pylons.util.<a class="missing wiki">PylonsContext?</a> object at 0x7f52f864f850&gt;
pylons.routes_dict        {'action': u'file', 'controller': u'ckan.controllers.storage:StorageController', 'label': u'file/fd3e00d9-eb0d-479b-8303-38909e5400ca'}
repoze.who.logger        &lt;logging.Logger object at 0x7f53127b2b50&gt;
repoze.who.plugins        {'openid': &lt;<a class="missing wiki">OpenIdIdentificationPlugin?</a> 139994769488336&gt;, 'friendlyform': &lt;<a class="missing wiki">FriendlyFormPlugin?</a> 139994769488528&gt;, 'ckan.lib.authenticator:UsernamePasswordAuthenticator': &lt;ckan.lib.authenticator.<a class="missing wiki">UsernamePasswordAuthenticator?</a> object at 0x7f5312d893d0&gt;, 'auth_tkt': &lt;<a class="missing wiki">AuthTktCookiePlugin?</a> 139994771858704&gt;, 'ckan.lib.authenticator:OpenIDAuthenticator': &lt;ckan.lib.authenticator.OpenIDAuthenticator object at 0x7f5312d89350&gt;}
routes.route        &lt;routes.route.Route object at 0x7f531296e690&gt;
routes.url        &lt;routes.util.URLGenerator object at 0x7f52f82cd450&gt;
webob._parsed_query_vars        (GET([]), </em>)
webob.adhoc_attrs        {'language': 'en-us'}
wsgi process        'Multi process AND threads (?)'
wsgi.file_wrapper        &lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f52f5870cd8&gt;
wsgi.version        (1, 1)
wsgiorg.routing_args        (&lt;routes.util.URLGenerator object at 0x7f52f82cd450&gt;, {'action': u'file', 'controller': u'ckan.controllers.storage:StorageController', 'label': u'file/fd3e00d9-eb0d-479b-8303-38909e5400ca'})
</p>

                            
                          </td>
                          <td class="PosixTime">1345114669000000
                          </td>
                          <td class="ModifiedTime">1345128279000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2865.html">#2865</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2865.html">1.8 unicode error</a>
                          </td>
                          <td class="description">
                            <p>
URL: <a class="ext-link" href="http://thedatahub.org/el/tag/jutatt%C3%A1sok"><span class="icon">​</span>http://thedatahub.org/el/tag/jutatt%C3%A1sok</a>
Module weberror.errormiddleware:162 in <span class="underline">call</span>
&lt;&lt;              <span class="underline">traceback_supplement</span> = Supplement, self, environ
</p>
<blockquote>
<p>
sr_checker = <a class="missing wiki">ResponseStartChecker?</a>(start_response)
app_iter = self.application(environ, sr_checker)
return self.make_catching_iter(app_iter, environ, sr_checker)
</p>
</blockquote>
<blockquote>
<p>
except:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
app_iter = self.application(environ, sr_checker)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:73 in <span class="underline">call</span>
&lt;&lt;                                                     self.cache_manager)
</p>
<blockquote>
<p>
environ[self.environ_key] = self.cache_manager
return self.app(environ, start_response)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:155 in <span class="underline">call</span>
&lt;&lt;                          headers.append(('Set-cookie', cookie))
</p>
<blockquote>
<p>
return start_response(status, headers, exc_info)
</p>
</blockquote>
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def _get_session(self):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module routes.middleware:131 in <span class="underline">call</span>
&lt;&lt;                                               r'\1', oldpath)
               
</p>
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
# Wrapped in try as in rare cases the attribute will be gone already
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:125 in <span class="underline">call</span>
&lt;&lt;          
</p>
<blockquote>
<p>
controller = self.resolve(environ, start_response)
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
if 'paste.testing_variables' in environ and hasattr(response,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
</p>
<blockquote>
<p>
log.debug("Calling controller class with WSGI interface")
</p>
</blockquote>
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def load_test_env(self, environ):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:239 in <span class="underline">call</span>
&lt;&lt;          try:
</p>
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
<blockquote>
<p>
finally:
</p>
<blockquote>
<p>
model.Session.remove()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:221 in <span class="underline">call</span>
&lt;&lt;                  return response(environ, self.start_response)
               
</p>
<blockquote>
<p>
response = self._dispatch_call()
if not start_response_called:
</p>
<blockquote>
<p>
self.start_response = start_response
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._dispatch_call()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ<a class="missing wiki">pylons.action_method?</a> = func
                   
</p>
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.<span class="underline">name</span>, args)
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
<p>
except HTTPException, httpe:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
</p>
<blockquote>
<p>
<span class="underline">traceback_hide</span> = 'before_and_this'
return func(<strong>args)
</strong></p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def _inspect_call(self, func):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return func(<strong>args)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.template:30 in view
&lt;&lt;          """
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
return render(url)
</p>
</blockquote>
<p>
except <a class="missing wiki">TemplateNotFound?</a>:
</p>
<blockquote>
<p>
if url.endswith('.html'):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return render(url)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:153 in render
&lt;&lt;      try:
</p>
<blockquote>
<p>
return cached_template(template_name, render_template,
</p>
<blockquote>
<p>
loader_class=loader_class)
</p>
</blockquote>
</blockquote>
<blockquote>
<p>
except ckan.exceptions.<a class="missing wiki">CkanUrlException?</a>, e:
</p>
<blockquote>
<p>
raise
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
loader_class=loader_class)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.templating:249 in cached_template
&lt;&lt;          return content
</p>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
return render_func()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return render_func()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:95 in render_template
&lt;&lt;          template = globs<a class="missing wiki">app_globals?</a>.genshi_loader.load(template_name,
</p>
<blockquote>
<p>
cls=loader_class)
</p>
</blockquote>
<blockquote>
<p>
stream = template.generate(<strong>globs)
</strong></p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
cls=loader_class)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.loader:223 in load
&lt;&lt;                      loadfunc = directory(loadfunc)
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
filepath, filename, fileobj, uptodate = loadfunc(filename)
</p>
</blockquote>
<p>
except IOError:
</p>
<blockquote>
<p>
continue
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
filepath, filename, fileobj, uptodate = loadfunc(filename)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.loader:286 in _load_from_directory
&lt;&lt;          def _load_from_directory(filename):
</p>
<blockquote>
<p>
filepath = os.path.join(path, filename)
fileobj = open(filepath, 'U')
mtime = os.path.getmtime(filepath)
def _uptodate():
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
fileobj = open(filepath, 'U')
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
<a class="missing wiki">UnicodeEncodeError?</a>: 'ascii' codec can't encode character u'\xe1' in position 73: ordinal not in range(128)
CGI Variables
CKAN_CURRENT_URL        '/el/tag/jutatt%C3%A1sok'
CKAN_LANG        'en'
CKAN_LANG_IS_DEFAULT        True
CKAN_PAGE_CACHABLE        True
CONTENT_TYPE        '; charset=utf-8'
DOCUMENT_ROOT        '/etc/apache2/htdocs'
GATEWAY_INTERFACE        'CGI/1.1'
HTTP_ACCEPT        '*/*'
HTTP_ACCEPT_ENCODING        'gzip,deflate'
HTTP_CONNECTION        'close'
HTTP_FROM        'googlebot(at)googlebot.com'
HTTP_HOST        'thedatahub.org'
HTTP_USER_AGENT        'Mozilla/5.0 (compatible; Googlebot/2.1; +<a class="ext-link" href="http://www.google.com/bot.html"><span class="icon">​</span>http://www.google.com/bot.html</a>)'
PATH_INFO        '/el/tag/jutatt\xc3\xa1sok'
PATH_TRANSLATED        '/etc/ckan/datahub/apache.wsgi/el/tag/jutatt\xc3\xa1sok'
REMOTE_ADDR        '127.0.0.1'
REMOTE_PORT        '49520'
REQUEST_METHOD        'GET'
REQUEST_URI        '/el/tag/jutatt%c3%a1sok'
SCRIPT_FILENAME        '/etc/ckan/datahub/apache.wsgi'
SERVER_ADDR        '127.0.0.1'
SERVER_ADMIN        '[no address given]'
SERVER_NAME        'thedatahub.org'
SERVER_PORT        '80'
SERVER_PROTOCOL        'HTTP/1.0'
SERVER_SIGNATURE        '&lt;address&gt;Apache/2.2.22 (Ubuntu) Server at thedatahub.org Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE        'Apache/2.2.22 (Ubuntu)'
WSGI Variables
application        &lt;beaker.middleware.<a class="missing wiki">CacheMiddleware?</a> object at 0x7f5312a51650&gt;
beaker.cache        &lt;beaker.cache.<a class="missing wiki">CacheManager?</a> object at 0x7f5312a51790&gt;
beaker.get_session        &lt;bound method <a class="missing wiki">SessionMiddleware?</a>._get_session of &lt;beaker.middleware.<a class="missing wiki">SessionMiddleware?</a> object at 0x7f5312a516d0&gt;&gt;
beaker.session        {'_accessed_time': 1345113298.778472, '_creation_time': 1345113298.778472}
mod_wsgi.application_group        'ckan.net|'
mod_wsgi.callable_object        'application'
mod_wsgi.handler_script        <em>
mod_wsgi.input_chunked        '0'
mod_wsgi.listener_host        </em>
mod_wsgi.listener_port        '8080'
mod_wsgi.process_group        'datahub'
mod_wsgi.request_handler        'wsgi-script'
mod_wsgi.script_reloading        '1'
mod_wsgi.version        (3, 3)
paste.cookies        (&lt;SimpleCookie: &gt;, <em>)
paste.registry        &lt;paste.registry.Registry object at 0x7f5309add610&gt;
paste.throw_errors        True
pylons.action_method        &lt;bound method <a class="missing wiki">TemplateController?</a>.view of &lt;ckan.controllers.template.<a class="missing wiki">TemplateController?</a> object at 0x7f52b0ea2d10&gt;&gt;
pylons.controller        &lt;ckan.controllers.template.<a class="missing wiki">TemplateController?</a> object at 0x7f52b0ea2d10&gt;
pylons.environ_config        {'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons        &lt;pylons.util.<a class="missing wiki">PylonsContext?</a> object at 0x7f52b0ea2b90&gt;
pylons.routes_dict        {'url': u'el/tag/jutatt\xe1sok', 'action': u'view', 'controller': u'template'}
repoze.who.logger        &lt;logging.Logger object at 0x7f53127b2b50&gt;
repoze.who.plugins        {'openid': &lt;<a class="missing wiki">OpenIdIdentificationPlugin?</a> 139994769488336&gt;, 'friendlyform': &lt;<a class="missing wiki">FriendlyFormPlugin?</a> 139994769488528&gt;, 'ckan.lib.authenticator:UsernamePasswordAuthenticator': &lt;ckan.lib.authenticator.<a class="missing wiki">UsernamePasswordAuthenticator?</a> object at 0x7f5312d893d0&gt;, 'auth_tkt': &lt;<a class="missing wiki">AuthTktCookiePlugin?</a> 139994771858704&gt;, 'ckan.lib.authenticator:OpenIDAuthenticator': &lt;ckan.lib.authenticator.OpenIDAuthenticator object at 0x7f5312d89350&gt;}
routes.route        &lt;routes.route.Route object at 0x7f531296ea10&gt;
routes.url        &lt;routes.util.URLGenerator object at 0x7f5309add810&gt;
webob._parsed_query_vars        (GET([]), </em>)
webob.adhoc_attrs        {'language': 'en-us'}
wsgi process        'Multi process AND threads (?)'
wsgi.file_wrapper        &lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f52d4004990&gt;
wsgi.version        (1, 1)
wsgiorg.routing_args        (&lt;routes.util.URLGenerator object at 0x7f5309add810&gt;, {'url': u'el/tag/jutatt\xe1sok', 'action': u'view', 'controller': u'template'})
</p>

                            
                          </td>
                          <td class="PosixTime">1345114613000000
                          </td>
                          <td class="ModifiedTime">1346670331000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2866.html">#2866</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2866.html">1.8 template error</a>
                          </td>
                          <td class="description">
                            <p>
URL: <a class="ext-link" href="http://thedatahub.org/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key%3Db4c2d03fa8"><span class="icon">​</span>http://thedatahub.org/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key%3Db4c2d03fa8</a>
Module weberror.errormiddleware:162 in <span class="underline">call</span>
&lt;&lt;              <span class="underline">traceback_supplement</span> = Supplement, self, environ
</p>
<blockquote>
<p>
sr_checker = <a class="missing wiki">ResponseStartChecker?</a>(start_response)
app_iter = self.application(environ, sr_checker)
return self.make_catching_iter(app_iter, environ, sr_checker)
</p>
</blockquote>
<blockquote>
<p>
except:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
app_iter = self.application(environ, sr_checker)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:73 in <span class="underline">call</span>
&lt;&lt;                                                     self.cache_manager)
</p>
<blockquote>
<p>
environ[self.environ_key] = self.cache_manager
return self.app(environ, start_response)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:155 in <span class="underline">call</span>
&lt;&lt;                          headers.append(('Set-cookie', cookie))
</p>
<blockquote>
<p>
return start_response(status, headers, exc_info)
</p>
</blockquote>
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def _get_session(self):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module routes.middleware:131 in <span class="underline">call</span>
&lt;&lt;                                               r'\1', oldpath)
               
</p>
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
# Wrapped in try as in rare cases the attribute will be gone already
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:125 in <span class="underline">call</span>
&lt;&lt;          
</p>
<blockquote>
<p>
controller = self.resolve(environ, start_response)
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
if 'paste.testing_variables' in environ and hasattr(response,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
</p>
<blockquote>
<p>
log.debug("Calling controller class with WSGI interface")
</p>
</blockquote>
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def load_test_env(self, environ):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:239 in <span class="underline">call</span>
&lt;&lt;          try:
</p>
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
<blockquote>
<p>
finally:
</p>
<blockquote>
<p>
model.Session.remove()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:221 in <span class="underline">call</span>
&lt;&lt;                  return response(environ, self.start_response)
               
</p>
<blockquote>
<p>
response = self._dispatch_call()
if not start_response_called:
</p>
<blockquote>
<p>
self.start_response = start_response
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._dispatch_call()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ<a class="missing wiki">pylons.action_method?</a> = func
                   
</p>
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.<span class="underline">name</span>, args)
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
<p>
except HTTPException, httpe:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
</p>
<blockquote>
<p>
<span class="underline">traceback_hide</span> = 'before_and_this'
return func(<strong>args)
</strong></p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def _inspect_call(self, func):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return func(<strong>args)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.user:409 in perform_reset
&lt;&lt;          c.reset_key = request.params.get('key')
</p>
<blockquote>
<p>
if not mailer.verify_reset_link(user_obj, c.reset_key):
</p>
<blockquote>
<p>
h.flash_error(_('Invalid reset key. Please try again.'))
abort(403)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
if not mailer.verify_reset_link(user_obj, c.reset_key):
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.mailer:100 in verify_reset_link
&lt;&lt;      if not user.reset_key or len(user.reset_key) &lt; 5:
</p>
<blockquote>
<p>
return False
</p>
</blockquote>
<blockquote>
<p>
return key.strip() == user.reset_key
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return key.strip() == user.reset_key
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
<a class="missing wiki">AttributeError?</a>: '<a class="missing wiki">NoneType?</a>' object has no attribute 'strip'
CGI Variables
CKAN_CURRENT_URL        '/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key%253Db4c2d03fa8'
CKAN_LANG        'it'
CONTENT_TYPE        '; charset=utf-8'
DOCUMENT_ROOT        '/etc/apache2/htdocs'
GATEWAY_INTERFACE        'CGI/1.1'
HTTP_ACCEPT        '*/*'
HTTP_ACCEPT_ENCODING        'gzip,deflate'
HTTP_CONNECTION        'close'
HTTP_FROM        'googlebot(at)googlebot.com'
HTTP_HOST        'thedatahub.org'
HTTP_USER_AGENT        'Mozilla/5.0 (compatible; Googlebot/2.1; +<a class="ext-link" href="http://www.google.com/bot.html"><span class="icon">​</span>http://www.google.com/bot.html</a>)'
PATH_INFO        '/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d'
PATH_TRANSLATED        '/etc/ckan/datahub/apache.wsgi/it/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d'
QUERY_STRING        'key%3Db4c2d03fa8'
REMOTE_ADDR        '127.0.0.1'
REMOTE_PORT        '54634'
REQUEST_METHOD        'GET'
REQUEST_URI        '/it/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key%3Db4c2d03fa8'
SCRIPT_FILENAME        '/etc/ckan/datahub/apache.wsgi'
SERVER_ADDR        '127.0.0.1'
SERVER_ADMIN        '[no address given]'
SERVER_NAME        'thedatahub.org'
SERVER_PORT        '80'
SERVER_PROTOCOL        'HTTP/1.0'
SERVER_SIGNATURE        '&lt;address&gt;Apache/2.2.22 (Ubuntu) Server at thedatahub.org Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE        'Apache/2.2.22 (Ubuntu)'
WSGI Variables
application        &lt;beaker.middleware.<a class="missing wiki">CacheMiddleware?</a> object at 0x7f5312a51650&gt;
beaker.cache        &lt;beaker.cache.<a class="missing wiki">CacheManager?</a> object at 0x7f5312a51790&gt;
beaker.get_session        &lt;bound method <a class="missing wiki">SessionMiddleware?</a>._get_session of &lt;beaker.middleware.<a class="missing wiki">SessionMiddleware?</a> object at 0x7f5312a516d0&gt;&gt;
beaker.session        {'_accessed_time': 1345066159.520708, '_creation_time': 1345066159.520708}
mod_wsgi.application_group        'ckan.net|'
mod_wsgi.callable_object        'application'
mod_wsgi.handler_script        <em>
mod_wsgi.input_chunked        '0'
mod_wsgi.listener_host        </em>
mod_wsgi.listener_port        '8080'
mod_wsgi.process_group        'datahub'
mod_wsgi.request_handler        'wsgi-script'
mod_wsgi.script_reloading        '1'
mod_wsgi.version        (3, 3)
paste.cookies        (&lt;SimpleCookie: &gt;, <em>)
paste.parsed_dict_querystring        (<a class="missing wiki">MultiDict?</a>([('key=b4c2d03fa8', </em>)]), 'key%3Db4c2d03fa8')
paste.parsed_querystring        ([('key=b4c2d03fa8', <em>)], 'key%3Db4c2d03fa8')
paste.registry        &lt;paste.registry.Registry object at 0x7f52eba637d0&gt;
paste.throw_errors        True
pylons.action_method        &lt;bound method <a class="missing wiki">UserController?</a>.perform_reset of &lt;ckan.controllers.user.<a class="missing wiki">UserController?</a> object at 0x7f52e49f7a50&gt;&gt;
pylons.controller        &lt;ckan.controllers.user.<a class="missing wiki">UserController?</a> object at 0x7f52e49f7a50&gt;
pylons.environ_config        {'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons        &lt;pylons.util.<a class="missing wiki">PylonsContext?</a> object at 0x7f52f5649ad0&gt;
pylons.routes_dict        {'action': u'perform_reset', 'controller': u'user', 'id': u'3086e91c-fe09-4a98-92e1-19de67a9ac9d'}
repoze.who.logger        &lt;logging.Logger object at 0x7f53127b2b50&gt;
repoze.who.plugins        {'openid': &lt;<a class="missing wiki">OpenIdIdentificationPlugin?</a> 139994769488336&gt;, 'friendlyform': &lt;<a class="missing wiki">FriendlyFormPlugin?</a> 139994769488528&gt;, 'ckan.lib.authenticator:UsernamePasswordAuthenticator': &lt;ckan.lib.authenticator.<a class="missing wiki">UsernamePasswordAuthenticator?</a> object at 0x7f5312d893d0&gt;, 'auth_tkt': &lt;<a class="missing wiki">AuthTktCookiePlugin?</a> 139994771858704&gt;, 'ckan.lib.authenticator:OpenIDAuthenticator': &lt;ckan.lib.authenticator.OpenIDAuthenticator object at 0x7f5312d89350&gt;}
routes.route        &lt;routes.route.Route object at 0x7f5312961ad0&gt;
routes.url        &lt;routes.util.URLGenerator object at 0x7f52de7f6390&gt;
webob._parsed_query_vars        (GET([('key=b4c2d03fa8', </em>)]), 'key%3Db4c2d03fa8')
webob.adhoc_attrs        {'language': 'en-us'}
wsgi process        'Multi process AND threads (?)'
wsgi.file_wrapper        &lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f52fc4f1a08&gt;
wsgi.version        (1, 1)
wsgiorg.routing_args        (&lt;routes.util.URLGenerator object at 0x7f52de7f6390&gt;, {'action': u'perform_reset', 'controller': u'user', 'id': u'3086e91c-fe09-4a98-92e1-19de67a9ac9d'})
</p>

                            
                          </td>
                          <td class="PosixTime">1345114641000000
                          </td>
                          <td class="ModifiedTime">1346670324000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2870.html">#2870</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2870.html">1.8 tag_list not defined</a>
                          </td>
                          <td class="description">
                            <p>
From: &lt;thedatahub.org@…&gt;
Date: Thu, Aug 16, 2012 at 3:20 AM
Subject: <a class="missing wiki">WebApp?</a> Error: &lt;class 'genshi.template.eval.<a class="missing wiki">UndefinedError?</a>'&gt;: "tag_list" not defined
To: ckan-sysadmin@…, kindly@…
</p>
<p>
URL: <a class="ext-link" href="http://ckan.net/dataset/uk-postboxes"><span class="icon">​</span>http://ckan.net/dataset/uk-postboxes</a>
Module weberror.errormiddleware:162 in <span class="underline">call</span>
&lt;&lt;              <span class="underline">traceback_supplement</span> = Supplement, self, environ
</p>
<blockquote>
<p>
sr_checker = <a class="missing wiki">ResponseStartChecker?</a>(start_response)
app_iter = self.application(environ, sr_checker)
return self.make_catching_iter(app_iter, environ, sr_checker)
</p>
</blockquote>
<blockquote>
<p>
except:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
app_iter = self.application(environ, sr_checker)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:73 in <span class="underline">call</span>
&lt;&lt;                                                     self.cache_manager)
</p>
<blockquote>
<p>
environ[self.environ_key] = self.cache_manager
return self.app(environ, start_response)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:155 in <span class="underline">call</span>
&lt;&lt;                          headers.append(('Set-cookie', cookie))
</p>
<blockquote>
<p>
return start_response(status, headers, exc_info)
</p>
</blockquote>
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def _get_session(self):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module routes.middleware:131 in <span class="underline">call</span>
&lt;&lt;                                               r'\1', oldpath)
               
</p>
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
# Wrapped in try as in rare cases the attribute will be gone already
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:125 in <span class="underline">call</span>
&lt;&lt;          
</p>
<blockquote>
<p>
controller = self.resolve(environ, start_response)
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
if 'paste.testing_variables' in environ and hasattr(response,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
</p>
<blockquote>
<p>
log.debug("Calling controller class with WSGI interface")
</p>
</blockquote>
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def load_test_env(self, environ):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:239 in <span class="underline">call</span>
&lt;&lt;          try:
</p>
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
<blockquote>
<p>
finally:
</p>
<blockquote>
<p>
model.Session.remove()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:221 in <span class="underline">call</span>
&lt;&lt;                  return response(environ, self.start_response)
               
</p>
<blockquote>
<p>
response = self._dispatch_call()
if not start_response_called:
</p>
<blockquote>
<p>
self.start_response = start_response
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._dispatch_call()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ<a class="missing wiki">pylons.action_method?</a> = func
                   
</p>
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.<span class="underline">name</span>, args)
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
<p>
except HTTPException, httpe:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
</p>
<blockquote>
<p>
<span class="underline">traceback_hide</span> = 'before_and_this'
return func(<strong>args)
</strong></p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def _inspect_call(self, func):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return func(<strong>args)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.package:322 in read
&lt;&lt;          template = template[:template.index('.') + 1] + format
       
</p>
<blockquote>
<p>
return render(template, loader_class=loader)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def comments(self, id):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return render(template, loader_class=loader)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:153 in render
&lt;&lt;      try:
</p>
<blockquote>
<p>
return cached_template(template_name, render_template,
</p>
<blockquote>
<p>
loader_class=loader_class)
</p>
</blockquote>
</blockquote>
<blockquote>
<p>
except ckan.exceptions.<a class="missing wiki">CkanUrlException?</a>, e:
</p>
<blockquote>
<p>
raise
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
loader_class=loader_class)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.templating:249 in cached_template
&lt;&lt;          return content
</p>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
return render_func()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return render_func()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:102 in render_template
&lt;&lt;          if loader_class == <a class="missing wiki">NewTextTemplate?</a>:
</p>
<blockquote>
<p>
return literal(stream.render(method="text", encoding=None))
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
return literal(stream.render(method=method, encoding=None,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return literal(stream.render(method="text", encoding =None))
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:183 in render
&lt;&lt;              method = self.serializer or 'xml'
</p>
<blockquote>
<p>
generator = self.serialize(method=method, <strong>kwargs)
return encode(generator, method=method, encoding=encoding, out=out)
</strong></p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def select(self, path, namespaces=None, variables=None):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return encode(generator, method=method, encoding=encoding, out =out)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.output:57 in encode
&lt;&lt;          _encode = lambda string: string
</p>
<blockquote>
<p>
if out is None:
</p>
<blockquote>
<p>
return _encode(<em>.join(list(iterator)))
</em></p>
</blockquote>
<p>
for chunk in iterator:
</p>
<blockquote>
<p>
out.write(_encode(chunk))
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return _encode(<em>.join(list(iterator)))
</em></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.output:569 in <span class="underline">call</span>
&lt;&lt;      def <span class="underline">call</span>(self, stream):
</p>
<blockquote>
<p>
strip_markup = self.strip_markup
for event in stream:
</p>
<blockquote>
<p>
if event<a class="missing changeset" title="No default repository defined">[0]</a> is TEXT:
</p>
<blockquote>
<p>
data = event<a class="missing changeset" title="No default repository defined">[1]</a>
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:686 in _unmark
&lt;&lt;      def _unmark(self, stream):
</p>
<blockquote>
<p>
for mark, event in stream:
</p>
<blockquote>
<p>
kind = event<a class="missing changeset" title="No default repository defined">[0]</a>
if not (kind is None or kind is ATTR or kind is BREAK):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:1145 in <span class="underline">call</span>
&lt;&lt;          :param stream: The marked event stream to filter
</p>
<blockquote>
<p>
"""
for mark, event in stream:
</p>
<blockquote>
<p>
yield mark, event
if mark is ENTER:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:714 in <span class="underline">call</span>
&lt;&lt;          stream = iter(stream)
</p>
<blockquote>
<p>
next = stream.next
for mark, event in stream:
</p>
<blockquote>
<p>
if mark is None:
</p>
<blockquote>
<p>
yield mark, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:682 in _mark
&lt;&lt;      def _mark(self, stream):
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
yield OUTSIDE, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:686 in _unmark
&lt;&lt;      def _unmark(self, stream):
</p>
<blockquote>
<p>
for mark, event in stream:
</p>
<blockquote>
<p>
kind = event<a class="missing changeset" title="No default repository defined">[0]</a>
if not (kind is None or kind is ATTR or kind is BREAK):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:1145 in <span class="underline">call</span>
&lt;&lt;          :param stream: The marked event stream to filter
</p>
<blockquote>
<p>
"""
for mark, event in stream:
</p>
<blockquote>
<p>
yield mark, event
if mark is ENTER:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:714 in <span class="underline">call</span>
&lt;&lt;          stream = iter(stream)
</p>
<blockquote>
<p>
next = stream.next
for mark, event in stream:
</p>
<blockquote>
<p>
if mark is None:
</p>
<blockquote>
<p>
yield mark, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:682 in _mark
&lt;&lt;      def _mark(self, stream):
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
yield OUTSIDE, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:686 in _unmark
&lt;&lt;      def _unmark(self, stream):
</p>
<blockquote>
<p>
for mark, event in stream:
</p>
<blockquote>
<p>
kind = event<a class="missing changeset" title="No default repository defined">[0]</a>
if not (kind is None or kind is ATTR or kind is BREAK):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:1145 in <span class="underline">call</span>
&lt;&lt;          :param stream: The marked event stream to filter
</p>
<blockquote>
<p>
"""
for mark, event in stream:
</p>
<blockquote>
<p>
yield mark, event
if mark is ENTER:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:714 in <span class="underline">call</span>
&lt;&lt;          stream = iter(stream)
</p>
<blockquote>
<p>
next = stream.next
for mark, event in stream:
</p>
<blockquote>
<p>
if mark is None:
</p>
<blockquote>
<p>
yield mark, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:682 in _mark
&lt;&lt;      def _mark(self, stream):
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
yield OUTSIDE, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:686 in _unmark
&lt;&lt;      def _unmark(self, stream):
</p>
<blockquote>
<p>
for mark, event in stream:
</p>
<blockquote>
<p>
kind = event<a class="missing changeset" title="No default repository defined">[0]</a>
if not (kind is None or kind is ATTR or kind is BREAK):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckanext.googleanalytics.plugin:93 in download_adder
&lt;&lt;                  [downloaded %s times]&lt;/span&gt;<strong>
</strong></p>
<blockquote>
<p>
count = None
for mark, (kind, data, pos) in stream:
</p>
<blockquote>
<p>
if mark and kind == START:
</p>
<blockquote>
<p>
href = data<a class="missing changeset" title="No default repository defined">[1]</a>.get('href')
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, (kind, data, pos) in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:714 in <span class="underline">call</span>
&lt;&lt;          stream = iter(stream)
</p>
<blockquote>
<p>
next = stream.next
for mark, event in stream:
</p>
<blockquote>
<p>
if mark is None:
</p>
<blockquote>
<p>
yield mark, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:682 in _mark
&lt;&lt;      def _mark(self, stream):
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
yield OUTSIDE, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:686 in _unmark
&lt;&lt;      def _unmark(self, stream):
</p>
<blockquote>
<p>
for mark, event in stream:
</p>
<blockquote>
<p>
kind = event<a class="missing changeset" title="No default repository defined">[0]</a>
if not (kind is None or kind is ATTR or kind is BREAK):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:1175 in <span class="underline">call</span>
&lt;&lt;          """
</p>
<blockquote>
<p>
callable_value = hasattr(self.value, '<span class="underline">call</span>')
for mark, (kind, data, pos) in stream:
</p>
<blockquote>
<p>
if mark is ENTER:
</p>
<blockquote>
<p>
if callable_value:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, (kind, data, pos) in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:714 in <span class="underline">call</span>
&lt;&lt;          stream = iter(stream)
</p>
<blockquote>
<p>
next = stream.next
for mark, event in stream:
</p>
<blockquote>
<p>
if mark is None:
</p>
<blockquote>
<p>
yield mark, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:682 in _mark
&lt;&lt;      def _mark(self, stream):
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
yield OUTSIDE, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.core:288 in _ensure
&lt;&lt;      # unchanged
</p>
<blockquote>
<p>
yield event
for event in stream:
</p>
<blockquote>
<p>
yield event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:686 in _unmark
&lt;&lt;      def _unmark(self, stream):
</p>
<blockquote>
<p>
for mark, event in stream:
</p>
<blockquote>
<p>
kind = event<a class="missing changeset" title="No default repository defined">[0]</a>
if not (kind is None or kind is ATTR or kind is BREAK):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:1145 in <span class="underline">call</span>
&lt;&lt;          :param stream: The marked event stream to filter
</p>
<blockquote>
<p>
"""
for mark, event in stream:
</p>
<blockquote>
<p>
yield mark, event
if mark is ENTER:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:714 in <span class="underline">call</span>
&lt;&lt;          stream = iter(stream)
</p>
<blockquote>
<p>
next = stream.next
for mark, event in stream:
</p>
<blockquote>
<p>
if mark is None:
</p>
<blockquote>
<p>
yield mark, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for mark, event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.filters.transform:682 in _mark
&lt;&lt;      def _mark(self, stream):
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
yield OUTSIDE, event
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.base:605 in _include
&lt;&lt;          from genshi.template.loader import <a class="missing wiki">TemplateNotFound?</a>
       
</p>
<blockquote>
<p>
for event in stream:
</p>
<blockquote>
<p>
if event<a class="missing changeset" title="No default repository defined">[0]</a> is INCLUDE:
</p>
<blockquote>
<p>
href, cls, fallback = event<a class="missing changeset" title="No default repository defined">[1]</a>
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
for event in stream:
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.base:565 in _flatten
&lt;&lt;                  elif kind is EXPR:
</p>
<blockquote>
<p>
result = _eval_expr(data, ctxt, vars)
if result is not None:
</p>
<blockquote>
<p>
# First check for a string, otherwise the iterable test
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
result = _eval_expr(data, ctxt, vars)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.base:277 in _eval_expr
&lt;&lt;      if vars:
</p>
<blockquote>
<p>
ctxt.push(vars)
</p>
</blockquote>
<blockquote>
<p>
retval = expr.evaluate(ctxt)
if vars:
</p>
<blockquote>
<p>
ctxt.pop()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
retval = expr.evaluate(ctxt)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.eval:178 in evaluate
&lt;&lt;          <span class="underline">traceback_hide</span> = 'before_and_this'
</p>
<blockquote>
<p>
_globals = self._globals(data)
return eval(self.code, _globals, {'<span class="underline">data</span>': data})
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return eval(self.code, _globals, {'<span class="underline">data</span>': data})
</p>
</blockquote>
</blockquote>
</blockquote>
</em></blockquote>
<p>
Module ?:51 in &lt;Expression u"tag_list(c.pkg_dict.get('tags', <em>))"&gt;
&lt;&lt;      &lt;li py:if=&#34;c.pkg_dict.get('tags')" class="sidebar-section"&gt;
</p>
<blockquote>
<p>
&lt;h3&gt;Tags&lt;/h3&gt;
${tag_list(c.pkg_dict.get('tags', <em>))}
</em></p>
</blockquote>
<blockquote>
<p>
&lt;/li&gt;
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
${tag_list(c.pkg_dict.get('tags', <em>))}
</em></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.eval:309 in lookup_name
&lt;&lt;              val = BUILTINS.get(name, val)
</p>
<blockquote>
<p>
if val is UNDEFINED:
</p>
<blockquote>
<p>
val = cls.undefined(name)
</p>
</blockquote>
</blockquote>
<blockquote>
<p>
return val
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
val = cls.undefined(name)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module genshi.template.eval:410 in undefined
&lt;&lt;          """Raise an <tt></tt><a class="missing wiki">UndefinedError?</a><tt></tt> immediately."""
</p>
<blockquote>
<p>
<span class="underline">traceback_hide</span> = True
raise <a class="missing wiki">UndefinedError?</a>(key, owner=owner)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
raise <a class="missing wiki">UndefinedError?</a>(key, owner=owner)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
<a class="missing wiki">UndefinedError?</a>: "tag_list" not defined
CGI Variables
CKAN_CURRENT_URL        '/dataset/uk-postboxes'
CKAN_LANG        'en'
CKAN_LANG_IS_DEFAULT        True
CKAN_PAGE_CACHABLE        True
CONTENT_TYPE        '; charset=utf-8'
DOCUMENT_ROOT        '/etc/apache2/htdocs'
GATEWAY_INTERFACE        'CGI/1.1'
HTTP_ACCEPT        'text/html,text/plain,text/xml'
HTTP_ACCEPT_CHARSET        'ISO-8859-1,utf-8;q=0.7,*;q=0.7'
HTTP_ACCEPT_ENCODING        'gzip'
HTTP_ACCEPT_LANGUAGE        'vi,en-us;q=0.7,en;q=0.3'
HTTP_CONNECTION        'close'
HTTP_HOST        'ckan.net'
HTTP_USER_AGENT        'coccoc/1.0 ()'
PATH_INFO        '/dataset/uk-postboxes'
PATH_TRANSLATED        '/etc/ckan/datahub/apache.wsgi/dataset/uk-postboxes'
REMOTE_ADDR        '127.0.0.1'
REMOTE_PORT        '47065'
REQUEST_METHOD        'GET'
REQUEST_URI        '/dataset/uk-postboxes'
SCRIPT_FILENAME        '/etc/ckan/datahub/apache.wsgi'
SERVER_ADDR        '127.0.0.1'
SERVER_ADMIN        '[no address given]'
SERVER_NAME        'ckan.net'
SERVER_PORT        '80'
SERVER_PROTOCOL        'HTTP/1.0'
SERVER_SIGNATURE        '&lt;address&gt;Apache/2.2.22 (Ubuntu) Server at ckan.net Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE        'Apache/2.2.22 (Ubuntu)'
WSGI Variables
application        &lt;beaker.middleware.<a class="missing wiki">CacheMiddleware?</a> object at 0x7f5312a51650&gt;
beaker.cache        &lt;beaker.cache.<a class="missing wiki">CacheManager?</a> object at 0x7f5312a51790&gt;
beaker.get_session        &lt;bound method <a class="missing wiki">SessionMiddleware?</a>._get_session of &lt;beaker.middleware.<a class="missing wiki">SessionMiddleware?</a> object at 0x7f5312a516d0&gt;&gt;
beaker.session        {'_accessed_time': 1345083636.079552, '_creation_time': 1345083636.079552}
mod_wsgi.application_group        'ckan.net|'
mod_wsgi.callable_object        'application'
mod_wsgi.handler_script        <em>
mod_wsgi.input_chunked        '0'
mod_wsgi.listener_host        </em>
mod_wsgi.listener_port        '8080'
mod_wsgi.process_group        'datahub'
mod_wsgi.request_handler        'wsgi-script'
mod_wsgi.script_reloading        '1'
mod_wsgi.version        (3, 3)
paste.cookies        (&lt;SimpleCookie: &gt;, <em>)
paste.registry        &lt;paste.registry.Registry object at 0x7f52e47477d0&gt;
paste.throw_errors        True
pylons.action_method        &lt;bound method <a class="missing wiki">PackageController?</a>.read of &lt;ckan.controllers.package.<a class="missing wiki">PackageController?</a> object at 0x7f52e477b810&gt;&gt;
pylons.controller        &lt;ckan.controllers.package.<a class="missing wiki">PackageController?</a> object at 0x7f52e477b810&gt;
pylons.environ_config        {'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons        &lt;pylons.util.<a class="missing wiki">PylonsContext?</a> object at 0x7f52e477be90&gt;
pylons.routes_dict        {'action': u'read', 'controller': u'package', 'id': u'uk-postboxes'}
repoze.who.logger        &lt;logging.Logger object at 0x7f53127b2b50&gt;
repoze.who.plugins        {'openid': &lt;<a class="missing wiki">OpenIdIdentificationPlugin?</a> 139994769488336&gt;, 'friendlyform': &lt;<a class="missing wiki">FriendlyFormPlugin?</a> 139994769488528&gt;, 'ckan.lib.authenticator:UsernamePasswordAuthenticator': &lt;ckan.lib.authenticator.<a class="missing wiki">UsernamePasswordAuthenticator?</a> object at 0x7f5312d893d0&gt;, 'auth_tkt': &lt;<a class="missing wiki">AuthTktCookiePlugin?</a> 139994771858704&gt;, 'ckan.lib.authenticator:OpenIDAuthenticator': &lt;ckan.lib.authenticator.OpenIDAuthenticator object at 0x7f5312d89350&gt;}
routes.route        &lt;routes.route.Route object at 0x7f5312955a50&gt;
routes.url        &lt;routes.util.URLGenerator object at 0x7f52eb8c9090&gt;
webob._parsed_query_vars        (GET([]), </em>)
webob.adhoc_attrs        {'language': 'en-us'}
wsgi process        'Multi process AND threads (?)'
wsgi.file_wrapper        &lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f5308983a80&gt;
wsgi.version        (1, 1)
wsgiorg.routing_args        (&lt;routes.util.URLGenerator object at 0x7f52eb8c9090&gt;, {'action': u'read', 'controller': u'package', 'id': u'uk-postboxes'})
</p>

                            
                          </td>
                          <td class="PosixTime">1345114732000000
                          </td>
                          <td class="ModifiedTime">1345114732000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2868.html">#2868</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2868.html">1.8 SOLR error</a>
                          </td>
                          <td class="description">
                            <p>
From: &lt;thedatahub.org@…&gt;
Date: Wed, Aug 15, 2012 at 8:34 AM
Subject: <a class="missing wiki">WebApp?</a> Error: &lt;class 'ckan.lib.search.common.<a class="missing wiki">SearchError?</a>'&gt;: SOLR returned an error running query: {'sort': 'metadata_modified desc', 'fq': u'groups:&#34;welcome&#34; capacity:&#34;public&#34; +site_id:&#34;www.ckan.net&#34; +state:active', 'facet.mincount': 1, 'rows': 21, 'facet.limit': '50', 'facet': 'true', 'q': '*:*', 'start': -20, 'wt': 'json', 'fl': 'id data_dict'} Error: "'start' parameter cannot be negative"
To: ckan-sysadmin@…, kindly@…
</p>
<p>
URL: <a class="ext-link" href="http://thedatahub.org/feeds/group/welcome.atom?page=0"><span class="icon">​</span>http://thedatahub.org/feeds/group/welcome.atom?page=0</a>
Module weberror.errormiddleware:162 in <span class="underline">call</span>
&lt;&lt;              <span class="underline">traceback_supplement</span> = Supplement, self, environ
</p>
<blockquote>
<p>
sr_checker = <a class="missing wiki">ResponseStartChecker?</a>(start_response)
app_iter = self.application(environ, sr_checker)
return self.make_catching_iter(app_iter, environ, sr_checker)
</p>
</blockquote>
<blockquote>
<p>
except:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
app_iter = self.application(environ, sr_checker)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:73 in <span class="underline">call</span>
&lt;&lt;                                                     self.cache_manager)
</p>
<blockquote>
<p>
environ[self.environ_key] = self.cache_manager
return self.app(environ, start_response)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module beaker.middleware:155 in <span class="underline">call</span>
&lt;&lt;                          headers.append(('Set-cookie', cookie))
</p>
<blockquote>
<p>
return start_response(status, headers, exc_info)
</p>
</blockquote>
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
def _get_session(self):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self.wrap_app(environ, session_start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module routes.middleware:131 in <span class="underline">call</span>
&lt;&lt;                                               r'\1', oldpath)
               
</p>
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
# Wrapped in try as in rare cases the attribute will be gone already
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.app(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:125 in <span class="underline">call</span>
&lt;&lt;          
</p>
<blockquote>
<p>
controller = self.resolve(environ, start_response)
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
<p>
               
</p>
<blockquote>
<p>
if 'paste.testing_variables' in environ and hasattr(response,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self.dispatch(controller, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
</p>
<blockquote>
<p>
log.debug("Calling controller class with WSGI interface")
</p>
</blockquote>
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def load_test_env(self, environ):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return controller(environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.base:239 in <span class="underline">call</span>
&lt;&lt;          try:
</p>
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
<blockquote>
<p>
finally:
</p>
<blockquote>
<p>
model.Session.remove()
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
res = WSGIController.<span class="underline">call</span>(self, environ, start_response)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:221 in <span class="underline">call</span>
&lt;&lt;                  return response(environ, self.start_response)
               
</p>
<blockquote>
<p>
response = self._dispatch_call()
if not start_response_called:
</p>
<blockquote>
<p>
self.start_response = start_response
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._dispatch_call()
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ<a class="missing wiki">pylons.action_method?</a> = func
                   
</p>
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
<blockquote>
<p>
else:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
response = self._inspect_call(func)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.<span class="underline">name</span>, args)
</p>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
<p>
except HTTPException, httpe:
</p>
<blockquote>
<p>
if log_debug:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
result = self._perform_call(func, args)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
</p>
<blockquote>
<p>
<span class="underline">traceback_hide</span> = 'before_and_this'
return func(<strong>args)
</strong></p>
</blockquote>
<p>
           
</p>
<blockquote>
<p>
def _inspect_call(self, func):
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return func(<strong>args)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.feed:180 in group
&lt;&lt;          data_dict<a class="missing wiki">fq?</a> = 'groups:&#34;%s&#34;' % id
       
</p>
<blockquote>
<p>
item_count, results = _package_search(data_dict)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
navigation_urls = self._navigation_urls(params,
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
item_count, results = _package_search(data_dict)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.feed:57 in _package_search
&lt;&lt;      # package_search action modifies the data_dict, so keep our copy intact.
</p>
<blockquote>
<p>
query = get_action('package_search')(context, data_dict.copy())
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
return query<a class="missing wiki">count?</a>, query<a class="missing wiki">results?</a>
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
query = get_action('package_search')(context, data_dict.copy())
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.logic.action.get:1130 in package_search
&lt;&lt;          query = search.query_for(model.Package)
</p>
<blockquote>
<p>
query.run(data_dict)
</p>
</blockquote>
<p>
       
</p>
<blockquote>
<p>
for package in query.results:
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
query.run(data_dict)
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.lib.search.query:350 in run
&lt;&lt;          except <a class="missing wiki">SolrException?</a>, e:
</p>
<blockquote>
<p>
raise <a class="missing wiki">SearchError?</a>('SOLR returned an error running query: %r Error: %r' %
</p>
<blockquote>
<p>
(query, e.reason))
</p>
</blockquote>
</blockquote>
<blockquote>
<p>
try:
</p>
<blockquote>
<p>
data = json.loads(solr_response)
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
(query, e.reason))
</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<p>
<a class="missing wiki">SearchError?</a>: SOLR returned an error running query: {'sort': 'metadata_modified desc', 'fq': u'groups:&#34;welcome&#34; capacity:&#34;public&#34; +site_id:&#34;www.ckan.net&#34; +state:active', 'facet.mincount': 1, 'rows': 21, 'facet.limit': '50', 'facet': 'true', 'q': '*:*', 'start': -20, 'wt': 'json', 'fl': 'id data_dict'} Error: "'start' parameter cannot be negative"
CGI Variables
CKAN_CURRENT_URL        '/feeds/group/welcome.atom?page%3D0'
CKAN_LANG        'ja'
CONTENT_TYPE        '; charset=utf-8'
DOCUMENT_ROOT        '/etc/apache2/htdocs'
GATEWAY_INTERFACE        'CGI/1.1'
HTTP_ACCEPT        '*/*'
HTTP_ACCEPT_ENCODING        'gzip,deflate'
HTTP_CONNECTION        'close'
HTTP_FROM        'googlebot(at)googlebot.com'
HTTP_HOST        'thedatahub.org'
HTTP_USER_AGENT        'Mozilla/5.0 (compatible; Googlebot/2.1; +<a class="ext-link" href="http://www.google.com/bot.html"><span class="icon">​</span>http://www.google.com/bot.html</a>)'
PATH_INFO        '/feeds/group/welcome.atom'
PATH_TRANSLATED        '/etc/ckan/datahub/apache.wsgi/ja/feeds/group/welcome.atom'
QUERY_STRING        'page=0'
REMOTE_ADDR        '127.0.0.1'
REMOTE_PORT        '33139'
REQUEST_METHOD        'GET'
REQUEST_URI        '/ja/feeds/group/welcome.atom?page=0'
SCRIPT_FILENAME        '/etc/ckan/datahub/apache.wsgi'
SERVER_ADDR        '127.0.0.1'
SERVER_ADMIN        '[no address given]'
SERVER_NAME        'thedatahub.org'
SERVER_PORT        '80'
SERVER_PROTOCOL        'HTTP/1.0'
SERVER_SIGNATURE        '&lt;address&gt;Apache/2.2.22 (Ubuntu) Server at thedatahub.org Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE        'Apache/2.2.22 (Ubuntu)'
WSGI Variables
application        &lt;beaker.middleware.<a class="missing wiki">CacheMiddleware?</a> object at 0x7f5312a51650&gt;
beaker.cache        &lt;beaker.cache.<a class="missing wiki">CacheManager?</a> object at 0x7f5312a51790&gt;
beaker.get_session        &lt;bound method <a class="missing wiki">SessionMiddleware?</a>._get_session of &lt;beaker.middleware.<a class="missing wiki">SessionMiddleware?</a> object at 0x7f5312a516d0&gt;&gt;
beaker.session        {'_accessed_time': 1345016040.884951, '_creation_time': 1345016040.884951}
mod_wsgi.application_group        'ckan.net|'
mod_wsgi.callable_object        'application'
mod_wsgi.handler_script        <em>
mod_wsgi.input_chunked        '0'
mod_wsgi.listener_host        </em>
mod_wsgi.listener_port        '8080'
mod_wsgi.process_group        'datahub'
mod_wsgi.request_handler        'wsgi-script'
mod_wsgi.script_reloading        '1'
mod_wsgi.version        (3, 3)
paste.cookies        (&lt;SimpleCookie: &gt;, <em>)
paste.parsed_dict_querystring        (<a class="missing wiki">MultiDict?</a>([('page', '0')]), 'page=0')
paste.parsed_querystring        ([('page', '0')], 'page=0')
paste.registry        &lt;paste.registry.Registry object at 0x7f5302eef7d0&gt;
paste.throw_errors        True
pylons.action_method        &lt;bound method <a class="missing wiki">FeedController?</a>.group of &lt;ckan.controllers.feed.<a class="missing wiki">FeedController?</a> object at 0x7f52f0341750&gt;&gt;
pylons.controller        &lt;ckan.controllers.feed.<a class="missing wiki">FeedController?</a> object at 0x7f52f0341750&gt;
pylons.environ_config        {'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons        &lt;pylons.util.<a class="missing wiki">PylonsContext?</a> object at 0x7f52f0341450&gt;
pylons.routes_dict        {'action': u'group', 'controller': u'feed', 'id': u'welcome'}
repoze.who.logger        &lt;logging.Logger object at 0x7f53127b2b50&gt;
repoze.who.plugins        {'openid': &lt;<a class="missing wiki">OpenIdIdentificationPlugin?</a> 139994769488336&gt;, 'friendlyform': &lt;<a class="missing wiki">FriendlyFormPlugin?</a> 139994769488528&gt;, 'ckan.lib.authenticator:UsernamePasswordAuthenticator': &lt;ckan.lib.authenticator.<a class="missing wiki">UsernamePasswordAuthenticator?</a> object at 0x7f5312d893d0&gt;, 'auth_tkt': &lt;<a class="missing wiki">AuthTktCookiePlugin?</a> 139994771858704&gt;, 'ckan.lib.authenticator:OpenIDAuthenticator': &lt;ckan.lib.authenticator.OpenIDAuthenticator object at 0x7f5312d89350&gt;}
routes.route        &lt;routes.route.Route object at 0x7f5312961e90&gt;
routes.url        &lt;routes.util.URLGenerator object at 0x7f52f0341210&gt;
webob._parsed_query_vars        (GET([('page', '0')]), 'page=0')
webob.adhoc_attrs        {'language': 'en-us'}
wsgi process        'Multi process AND threads (?)'
wsgi.file_wrapper        &lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f52ed4873f0&gt;
wsgi.version        (1, 1)
wsgiorg.routing_args        (&lt;routes.util.URLGenerator object at 0x7f52f0341210&gt;, {'action': u'group', 'controller': u'feed', 'id': u'welcome'})
</em></p>

                            
                          </td>
                          <td class="PosixTime">1345114696000000
                          </td>
                          <td class="ModifiedTime">1345124503000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1316.html">#1316</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1316.html">/api/action uncaught exception if missing necessary parameter</a>
                          </td>
                          <td class="description">
                            <pre class="wiki">curl http://ckan.net/api/action/package_show -d '{"name": "uk-quango-data"}'
</pre><p>
This gives 500 error due to <a class="missing wiki">KeyError?</a> (it looked for the 'id' param), rather than 400.
</p>

                            
                          </td>
                          <td class="PosixTime">1315397224000000
                          </td>
                          <td class="ModifiedTime">1338193724000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2684.html">#2684</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;2.html">demo phase 2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2684.html">.js leaving forms warning</a>
                          </td>
                          <td class="description">
                            <p>
I think it would be nice to have all form pages monitor their forms - excluding search ones - and if a field has changed then warn the user that they have not saved the form data but are leaving the page.
</p>
<p>
This would help with things like changing resources on the add dataset resource form etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1342510477000000
                          </td>
                          <td class="ModifiedTime">1342539637000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2411.html">#2411</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2411.html">.ini file is a mess</a>
                          </td>
                          <td class="description">
                            <p>
The .ini file needs cleaning up in assorted ways which Toby will expand upon.
</p>

                            
                          </td>
                          <td class="PosixTime">1337686900000000
                          </td>
                          <td class="ModifiedTime">1338210872000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1098.html">#1098</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1098.html">--ckan-migration tests not initialised correctly</a>
                          </td>
                          <td class="description">
                            <p>
Only tests with failing --ckan-migration fail, due to authz not being initialised.
</p>

                            
                          </td>
                          <td class="PosixTime">1303377336000000
                          </td>
                          <td class="ModifiedTime">1303406017000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/101.html">#101</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/101.html">(Improved) Download support</a>
                          </td>
                          <td class="description">
                            <ol><li>Given a url download from that url to disk
</li><li>Given a package use download url to download to disk
</li></ol><p>
Once on disk should uncompress (if necessary).
</p>
<h2 id="Details">Details</h2>
<ul><li>Should download either to tmp directory (defaulted in config) or a specified path on disk
</li><li>In download would like to support as many types of target urls as possible:
<ol><li>Single files (usually compressed filesets but could be individual files)
</li><li>Index pages listing files to download
</li><li>Revision control repositories
</li><li>...
</li></ol></li></ul><blockquote>
<p>
This will obviously be a significant amount of work. Suggest:
</p>
</blockquote>
<ol><li>Start off just supporting the first option.
</li><li>Have something like a plugin system to handle new target types
</li><li>Reuse existing work (e.g. easy_install and pip handle standard vcs such as svn, hg, git etc)
</li></ol><p>
Cost: 1d
</p>

                            
                          </td>
                          <td class="PosixTime">1249988866000000
                          </td>
                          <td class="ModifiedTime">1267648607000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2847.html">#2847</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;3.html">demo phase 3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2847.html">'show inactive sources' checkbox displaying incorrectly</a>
                          </td>
                          <td class="description">
                            <p>
On harvest page: <a class="ext-link" href="http://s031.okserver.org:2375/harvest"><span class="icon">​</span>http://s031.okserver.org:2375/harvest</a> the checkbox appears above the text and not clear what it refers to/
</p>
<p>
Beter to relocate to the left (as on publicdata.eu) see screenshots attached.
</p>

                            
                          </td>
                          <td class="PosixTime">1344864322000000
                          </td>
                          <td class="ModifiedTime">1345023769000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1493.html">#1493</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1493.html">'search-index rebuild/clear' doesn't work if no ckan.site_id</a>
                          </td>
                          <td class="description">
                            <p>
You can't delete things from the SOLR search index if the ckan.site_id and ckan.site_url are blank.
</p>
<p>
Should assert that one of these are set up.
</p>

                            
                          </td>
                          <td class="PosixTime">1322484422000000
                          </td>
                          <td class="ModifiedTime">1324474360000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1440.html">#1440</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1440.html">'paster db load' doesn't update search index</a>
                          </td>
                          <td class="description">
                            <p>
<tt>paster db load ckan.pgdump</tt> will load in the database but not update the search index, no we're using SOLR.
</p>
<h1 id="implementation">implementation</h1>
<p>
We can't tack on 'rebuild' to this command, because it needs a 'db upgrade' first. I'm tempted to make 'db load' do the upgrade and rebuild all in one command.
</p>

                            
                          </td>
                          <td class="PosixTime">1320232415000000
                          </td>
                          <td class="ModifiedTime">1320235084000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1346.html">#1346</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1346.html">'get_authorization_group_dict not found' exception</a>
                          </td>
                          <td class="description">
                            <p>
This stems from a feature to allow you to prefill fields in the authorizationgroup creation form. 
</p>
<p>
e.g. <a class="ext-link" href="http://ckan.net/authorizationgroup/new?name=science"><span class="icon">​</span>http://ckan.net/authorizationgroup/new?name=science</a>
</p>
<p>
It's not tested, not supported in the new logic layer and therefore broken. I don't think anyone uses it - can remove it.
</p>

                            
                          </td>
                          <td class="PosixTime">1316081974000000
                          </td>
                          <td class="ModifiedTime">1316094632000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/983.html">#983</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/983.html">'db upgrade' creates system priviledges</a>
                          </td>
                          <td class="description">
                            <p>
(should leave priviledges alone)
</p>

                            
                          </td>
                          <td class="PosixTime">1297518265000000
                          </td>
                          <td class="ModifiedTime">1297773407000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1308.html">#1308</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1308.html">'create package' user case failure</a>
                          </td>
                          <td class="description">
                            <p>
On the CKAN home page there is no suggestion that you can add or register a dataset. The 'Register a dataset' option has been removed at some point! (only visible to users that have registered - why would they do that when the benefits aren't described?)
</p>

                            
                          </td>
                          <td class="PosixTime">1315219500000000
                          </td>
                          <td class="ModifiedTime">1323174312000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2692.html">#2692</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;2.html">demo phase 2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2692.html">'add your own data' link in no search results wrong</a>
                          </td>
                          <td class="description">
                            <p>
the "add your own data"  link in "Try another search term, browse the datasets below or add your own data." here <a class="ext-link" href="http://s031.okserver.org:2375/dataset?q=stuff"><span class="icon">​</span>http://s031.okserver.org:2375/dataset?q=stuff</a> doesn't take you to add a dataset, just back to the search/datasets page
</p>

                            
                          </td>
                          <td class="PosixTime">1342540803000000
                          </td>
                          <td class="ModifiedTime">1342617328000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2607.html">#2607</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2607.html">'Upload a file' appears on resource form when storage not enabled</a>
                          </td>
                          <td class="description">
                            <p>
if the user tries to upload a file they will get "Failed to get credentials for storage upload. Upload cannot proceed"
</p>
<p>
Maybe add a test for it this time, this bug has appeared and reappeared before
</p>

                            
                          </td>
                          <td class="PosixTime">1340803808000000
                          </td>
                          <td class="ModifiedTime">1346663383000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1586.html">#1586</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1586.html">'Sort by' field for package search</a>
                          </td>
                          <td class="description">
                            <p>
We default to sort packages search results by "search rank", but we can change it to be "name", "title", "metadata_modified" date, "metadata_created" date. It works in the API now, so let's have (say) a drop-down in the Web UI for this.
</p>
<p>
Follows on from <a class="closed ticket" href="../ticket/191.html" title="enhancement: Searching by modification date (closed: fixed)">#191</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1324479588000000
                          </td>
                          <td class="ModifiedTime">1337079419000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/542.html">#542</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/542.html">'Show and Tell' page customization using cookie + js</a>
                          </td>
                          <td class="description">
                            <p>
To allow for full page caching even on customized pages for logged in users we can use cookie+javascript techniques as described here: <a class="ext-link" href="http://www.ibm.com/developerworks/web/library/wa-rails2/"><span class="icon">​</span>http://www.ibm.com/developerworks/web/library/wa-rails2/</a>
</p>
<p>
In the first place we just need to apply this to:
</p>
<ul><li>You are logged in as
</li><li>Package/group edit/authz tabs
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1283244432000000
                          </td>
                          <td class="ModifiedTime">1283278942000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1827.html">#1827</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1827.html">'Register' link should be hidden if you not allowed to register</a>
                          </td>
                          <td class="description">
                            <pre class="wiki">I have just deny visitors the create-user permission:
sudo -u ckanstd paster --plugin=ckan roles deny reader create-user -c /etc/ckan/std/std.ini
sudo -u ckanstd paster --plugin=ckan roles deny anon_editor create-user -c /etc/ckan/std/std.ini

and after restarting, the register link is *not* hidden, but now when you access the register page, it shows you this message "Unauthorized to create a user" (when not logged in). But anyway that is an improvement.
</pre>
                            
                          </td>
                          <td class="PosixTime">1329924939000000
                          </td>
                          <td class="ModifiedTime">1339773730000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1318.html">#1318</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1318.html">'Register user' doesn't log you in</a>
                          </td>
                          <td class="description">
                            <p>
When you register a user, it doesn't seem to be logged in properly straight away. Top-right it invites you to "log in" and "register". Also the "create package" menu option doesn't appear. Going to /user/me sends you to login page. If you then login, then all these things are corrected.
</p>

                            
                          </td>
                          <td class="PosixTime">1315415783000000
                          </td>
                          <td class="ModifiedTime">1315569362000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2265.html">#2265</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2265.html">'More Like This' for a dataset</a>
                          </td>
                          <td class="description">
                            <p>
When viewing a dataset, it would be nice to show a couple of 'Related Datasets'. i.e. ones that are similar.
</p>
<p>
SOLR has a feature for finding documents similar to a particular document, called 'More Like This'.
</p>
<p>
We would like this for DGU.
</p>

                            
                          </td>
                          <td class="PosixTime">1332865220000000
                          </td>
                          <td class="ModifiedTime">1339771350000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/824.html">#824</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/824.html">'Getdata' moved out of CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Data importers should use API instead of object model directly:
</p>
<ul><li>saves load on server
</li><li>much better error checking and authentication
</li><li>eating our own dogfood (tests the API well)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1290595507000000
                          </td>
                          <td class="ModifiedTime">1290595559000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1042.html">#1042</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1042.html">'Ckanext' split-up</a>
                          </td>
                          <td class="description">
                            <p>
It's not good to have ckanext doing lots of different things with different dependencies. Split it off into:
</p>
<ul><li>ckanext-importlib
</li></ul><p>
etc.
</p>
<p>
And then deprecate the ckanext repo itself.
</p>

                            
                          </td>
                          <td class="PosixTime">1300293907000000
                          </td>
                          <td class="ModifiedTime">1300969865000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1710.html">#1710</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1710.html">'Announce' email list for thedatahub</a>
                          </td>
                          <td class="description">
                            <p>
We want to make email announcements to users of thedatahub.org.
</p>
<p>
The most simple way to do this is to get a dump of the email addresses and subscribe/invite them to a mailman list.
</p>
<p>
Different ways to do it:
</p>
<ul><li>'paster dump-users-csv' creates a CSV file. Apache serves up the directory using password protection. Is this secure enough?
</li><li>CKAN admin pages provides a button to produce the CSV and download it. A config option may be necessary to enable this (disabled by default).
</li></ul><p>
Something more advanced in the future could be:
</p>
<ul><li>CKAN tells mailman about new subscribers using the mailman web interface. Could be brittle.
</li><li>Mailman doesn't have an Internet API, but it does have a python interface. So CKAN could tell mailman about new subscribers using a python proxy. There may be one out there, or maybe easy to do. But annoying to have to maintain another process running on machine.
</li><li>CKAN sends out the emails itself. A sysadmin is given a form. Users have an opt in/out option in their account. But receiving emails is a sensitive thing so it would need to be right first time, and there are several risks to this approach.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1327579259000000
                          </td>
                          <td class="ModifiedTime">1327583922000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2966.html">#2966</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2966.html">'Add' button text is wrong when editing organization members</a>
                          </td>
                          <td class="description">
                            <p>
e.g. if I just changed a member's capacity I am not adding anything 'save' is better maybe
</p>

                            
                          </td>
                          <td class="PosixTime">1350296149000000
                          </td>
                          <td class="ModifiedTime">1350296149000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2407.html">#2407</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2407.html">'Access denied' message is unhelpful</a>
                          </td>
                          <td class="description">
                            <p>
This chap tried to use the API to add a dataset to a group and got the uninformative message 'Access denied':
</p>
<p>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002229.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002229.html</a>
</p>
<p>
The problem was he didn't have access to the group. A message like 'You don't have access to the group "LODcloud"' would have been clearer.
</p>

                            
                          </td>
                          <td class="PosixTime">1337612500000000
                          </td>
                          <td class="ModifiedTime">1340633440000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1626.html">#1626</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1626.html">'About CKAN' page update</a>
                          </td>
                          <td class="description">
                            <p>
thedatahub.org/about contains info that is very general to the CKAN and really quite technical. The text should be changed to be both specific to thedatahub.org and provide the context in a non-technical way. It should be easy to customise the About page to be appropriate for say new-york.ckan.net - a bit of info about who runs it, plus the general stuff about CKAN powering it and it was written by OKF to further open data.
</p>

                            
                          </td>
                          <td class="PosixTime">1326205236000000
                          </td>
                          <td class="ModifiedTime">1326215877000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2993.html">#2993</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2993.html">"logged_in" and "visitor" show in user list at /users</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1350466922000000
                          </td>
                          <td class="ModifiedTime">1350484826000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/935.html">#935</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/935.html">"groups" field bug in IATI</a>
                          </td>
                          <td class="description">
                            <p>
An internal server error was reported when trying to create a new package (not when editing):
</p>
<blockquote>
<p>
<a class="missing wiki">WebApp?</a> Error: &lt;class 'sqlalchemy.exceptions.<a class="missing wiki">IntegrityError?</a>'&gt;: (<a class="missing wiki">IntegrityError?</a>) null value in column "name" violates not-null constraint 'INSERT INTO package (id, name, title, version, url, author, author_email, maintainer, maintainer_email, notes, license_id, state, revision_id) VALUES (%(id)s, %(name)s, %(title)s, %(version)s, %(url)s, %(author)s, %(author_email)s, %(maintainer)s, %(maintainer_email)s, %(notes)s, %(license_id)s, %(state)s, %(revision_id)s)' {'maintainer': None, 'name': None, 'author': None, 'author_email': None, 'notes': None, 'title': None, 'maintainer_email': None, 'url': None, 'state': 'active', 'version': None, 'license_id': None, 'revision_id': '0141c09c-4eb3-4dda-a6b1-e07f2c73b4c5', 'id': '7fe16a29-f183-471a-99c5-2c2e81dd86e4'} 
</p>
</blockquote>
<p>
The error could not be reproduced in a non-apache/mod_wsgi environment, even with a dump of the live database. Further investigation by manual editing of the package form left the "groups" field as the likely cause. After updating the packages installed, and temporarily editing the package controller the problem vanished after a restart of the web server. 
</p>
<p>
Possible causes include: 
</p>
<ul><li>Stale pyc file
</li><li>Threading issue
</li><li>Dependency issue
</li></ul><p>
As the problem is gone for now, it cannot be further investigated atm. 
</p>

                            
                          </td>
                          <td class="PosixTime">1296302915000000
                          </td>
                          <td class="ModifiedTime">1306778682000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1486.html">#1486</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1486.html">"allow_partial_update" option does not work with resource lists of packages</a>
                          </td>
                          <td class="description">
                            <ol><li>Call ckan.logic.action.update:package_update()
</li><li>Pass in a context dict with "allow_partial_update":True
</li><li>Pass in a partial data dict containing only the package's ID and those fields that you want to update (e.g. title).
</li></ol><p>
=&gt; All of the package's resource will have their statuses changed to "deleted".
</p>
<p>
The "allow_partial_update" option should apply to the resource lists of packages, but it does not.
</p>

                            
                          </td>
                          <td class="PosixTime">1322061318000000
                          </td>
                          <td class="ModifiedTime">1323172027000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2887.html">#2887</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.1.html">ckan-v1.8.1</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2887.html">"Welcome to CKAN!" on front page is untranslatable</a>
                          </td>
                          <td class="description">
                            <p>
ckan/templates/home/index.html contains:
</p>
<blockquote>
<p>
&lt;h1 class="page_heading"&gt;Welcome to ${g.site_title}!&lt;/h1&gt;
</p>
</blockquote>
<p>
which means that just "Welcome to" ends up in the ckan.po files for
translation. This makes the phrase untranslatable in languages that have a different word ordering than English where the site title needs to be somewhere other than at the end of the sentence.
</p>

                            
                          </td>
                          <td class="PosixTime">1345627079000000
                          </td>
                          <td class="ModifiedTime">1345627233000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1194.html">#1194</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1194.html">"Welcome back" message for newly registered user</a>
                          </td>
                          <td class="description">
                            <ol><li>Register a new user (/user/register)
</li><li>It redirects you to user page and displays "Welcome back" even though you are a new user.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1308563392000000
                          </td>
                          <td class="ModifiedTime">1317053688000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1735.html">#1735</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1735.html">"Unsaved changes" warning briefly when you click "Save"</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket <a class="closed ticket" href="../ticket/1744.html" title="enhancement: UX improvements to dataset edit as of Dec 2011 (closed: fixed)">#1744</a>
</p>
<p>
If you edit a dataset, simply add a tag and click on "Save" then you get the message "You have unsaved changed. Make sure to click 'Save Changes' below before leaving this page." inserted whilst the submission takes place. (This is because the click moves focus away from the tag field). This (reasonably common) edge-case could usefully be squashed.
</p>
<p>
Also note typo: "unsaved changed"
</p>

                            
                          </td>
                          <td class="PosixTime">1328009420000000
                          </td>
                          <td class="ModifiedTime">1328609804000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/369.html">#369</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">shudson@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/369.html">"Package Listing Key" should appear on Tag results</a>
                          </td>
                          <td class="description">
                            <p>
Currently there's a nice legend titled "Package Listing Key" that appears in right side of "Browse Packages" results. The same key should show on other search results like when searching for a tag.
</p>

                            
                          </td>
                          <td class="PosixTime">1279821634000000
                          </td>
                          <td class="ModifiedTime">1339774666000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/897.html">#897</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/897.html">"New package" highlighted in Navigator when searching</a>
                          </td>
                          <td class="description">
                            <p>
On ckan.net 1.3.1b, click on "Search" in the Navigator. Now both "Search" and "New Package" are highlighted.
</p>

                            
                          </td>
                          <td class="PosixTime">1294648815000000
                          </td>
                          <td class="ModifiedTime">1294914333000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/795.html">#795</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/795.html">"Match up" GEMINI2 "metadata point of contact" with registered entities</a>
                          </td>
                          <td class="description">
                            <p>
TM wants to know how this will be "matched up". I don't know whether this always the data provider, or sometimes the publisher.
</p>

                            
                          </td>
                          <td class="PosixTime">1289228025000000
                          </td>
                          <td class="ModifiedTime">1296593361000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1395.html">#1395</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1395.html">"Import Error: cannot import name UnicodeMultiDict" when installing ckan from source</a>
                          </td>
                          <td class="description">
                            <p>
At the <em>paster db init</em> command when installing ckan from source I get the error <em>"Import Error: cannot import name <a class="missing wiki">UnicodeMultiDict?</a>"</em> (happens with both ckan 1.4.2 and today's latest bleeding edge code, on Ubuntu 10.04.3).
</p>
<p>
<a class="missing wiki">UnicodeMultiDict?</a> has been removed in a recent version of python-webob, and the <em>pip install ... lucid_missing.txt</em> causes a too-new version of python-webob to be installed into ckan's virtualenv (the new webob gets installed as a dependency of formalchemy).
</p>
<p>
I manually did <em>pip uninstall webob</em> and then ran <em>paster db init</em> again and it worked.
</p>

                            
                          </td>
                          <td class="PosixTime">1318520183000000
                          </td>
                          <td class="ModifiedTime">1320857823000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1206.html">#1206</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1206.html">"Content-Type json" header scuppers package POST</a>
                          </td>
                          <td class="description">
                            <p>
Compare these two requests to create a package:
</p>
<pre class="wiki">curl http://test.ckan.net/api/rest/package -d '{name:"test"}' -H 'Content-Type: application/json' -H 'X-CKAN-API-KEY: tester'
curl http://test.ckan.net/api/rest/package -d '{name:"test"}' -H 'X-CKAN-API-KEY: tester'
</pre><p>
The second one gets the payload through (ckan log):
</p>
<pre class="wiki">Retrieving request params: UnicodeMultiDict([('{name:"test"}', u'')])
</pre><p>
But the first one causes a <a class="missing wiki">ServerError?</a> because the payload (name:&#34;test&#34;) doesn't make it to request.POST or request.params:
</p>
<pre class="wiki">Retrieving request params: UnicodeMultiDict([])
</pre><p>
The only difference is the "<a class="missing wiki">ContentType?</a>: application/json" header, which seems a reasonable thing to include. Javascript lib backbone.js (for example) inserts this automatically.
</p>
<p>
So why does this header cause the payload to not get through to the request object?
</p>

                            
                          </td>
                          <td class="PosixTime">1309344348000000
                          </td>
                          <td class="ModifiedTime">1309450216000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1334.html">#1334</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1334.html">"AttributeError: 'NoneType' object has no attribute 'name'" exception when logging in</a>
                          </td>
                          <td class="description">
                            <p>
On same cases this exception is thrown when logging in:
</p>
<pre class="wiki">File '/home/adria/dev/envs/iati/src/ckan/ckan/controllers/user.py', line 252 in logged_in
  user_dict = get_action('user_show')(context,data_dict)
File '/home/adria/dev/envs/iati/src/ckan/ckan/logic/action/get.py', line 414 in user_show
  revision_dict = revision_show(context,{'id':revision.id})
File '/home/adria/dev/envs/iati/src/ckan/ckan/logic/action/get.py', line 332 in revision_show
  ref_package_by=ref_package_by)
File '/home/adria/dev/envs/iati/src/ckan/ckan/model/__init__.py', line 317 in revision_as_dict
  for pkg in revision.packages]
AttributeError: 'NoneType' object has no attribute 'name'
</pre>
                            
                          </td>
                          <td class="PosixTime">1315909508000000
                          </td>
                          <td class="ModifiedTime">1319798961000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2971.html">#2971</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2971.html">"Are ytou sure you want to delete this member?" should say which member</a>
                          </td>
                          <td class="description">
                            <p>
when deleting members from groups and orgs
</p>

                            
                          </td>
                          <td class="PosixTime">1350296840000000
                          </td>
                          <td class="ModifiedTime">1350296840000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2989.html">#2989</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2989.html">"Add dataset to organization" should auto-select the organization</a>
                          </td>
                          <td class="description">
                            <p>
'Add dataset to organization' button, when you get through to the third stage of the new dataset form the organization you came from is not selected.
</p>
<p>
I don't see any option to choose the group when adding or updating a dataset, but if I add a dataset via the "Add dataset to group" button on a group's page, then the dataset seems to get added to that group. (And I can also add/remove existing datasets by editing the group.) I wonder if organizations should work the same way, instead of having an Organization drop-down when creating or updating a dataset. The add dataset page needs to somehow indicate that you're adding a dataset to a certain group or organization though, doesn't currently.
</p>

                            
                          </td>
                          <td class="PosixTime">1350299052000000
                          </td>
                          <td class="ModifiedTime">1350299052000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1259.html">#1259</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1259.html">"Add a row" for Extras on Package form</a>
                          </td>
                          <td class="description">
                            <p>
The default package form offers 4 empty extras fields. Like the resource section, it should have an "add more" button to add another row. 
</p>

                            
                          </td>
                          <td class="PosixTime">1312302693000000
                          </td>
                          <td class="ModifiedTime">1312907056000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <span class="current">27</span>
      </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>