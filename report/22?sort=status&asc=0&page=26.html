<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=status&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=status&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=status&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=status&amp;asc=0&amp;page=27.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=status&amp;asc=0&amp;page=25.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=status&amp;asc=0&amp;page=26.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2501 - 2600 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=status&amp;asc=0&amp;page=25.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <span class="current">26</span>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=status&amp;asc=0&amp;page=27.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=26.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=26.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=26.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=26.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=26.html">
              Milestone
            </a>
          </th><th class="desc">
            <a href="22%3Fsort=status&amp;asc=1&amp;page=26.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=26.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=26.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=26.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=26.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=26.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2918.html">#2918</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2918.html">Can't remove users from organizations</a>
                          </td>
                          <td class="description">
                            <p>
When you remove someone, without adding them, the text box at the bottom (which should probably autocomplete) is empty, and this causes problems on the server.
</p>
<p>
Ideally when you add a user (select from the autocomplete) it would add another row to the table, defaulting the user to editor and setting the names to user<span class="underline">{{X}}</span>name and user<span class="underline">{{X}}</span>capacity where X is $('tr').size()
</p>

                            
                          </td>
                          <td class="PosixTime">1347455572000000
                          </td>
                          <td class="ModifiedTime">1347970735000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2930.html">#2930</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.1.html">ckan-v1.8.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2930.html">convert_from_extras() returns qupted strings from API</a>
                          </td>
                          <td class="description">
                            <p>
Use an IGroupForm plugin to add a custom metadata field to groups using convert_to_extras() and convert_from_extras(), when calling group show the value comes back quoted, e.g. '"my_value"'
</p>
<p>
Should add tests to example_igroupform and others that setting and getting the custom fields works through the action API.
</p>

                            
                          </td>
                          <td class="PosixTime">1347639864000000
                          </td>
                          <td class="ModifiedTime">1361988592000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2935.html">#2935</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2935.html">Make recline work with new datastore</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1348042459000000
                          </td>
                          <td class="ModifiedTime">1350578067000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2937.html">#2937</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2937.html">GroupController.history() missing extras_as_string</a>
                          </td>
                          <td class="description">
                            <p>
<a class="missing wiki">GroupController?</a>'s history() method doesn't pass 'extras_as_string': True in the context when it calls group_show. This means that if you have an IGroupForm plugin that is adding a custom metadata field and using convert_to/from_extras() then a field value of 'foo' will be returned as '"foo"'
</p>
<p>
Other <a class="missing wiki">GroupController?</a> and <a class="missing wiki">PackageController?</a> methods do pass 'extras_as_string'
</p>

                            
                          </td>
                          <td class="PosixTime">1348155730000000
                          </td>
                          <td class="ModifiedTime">1348238875000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2940.html">#2940</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2940.html">Edit different resources from edit dataset pag</a>
                          </td>
                          <td class="description">
                            <p>
We need a nice way to be able to get to editing the different resources that are associated to a dataset.
</p>

                            
                          </td>
                          <td class="PosixTime">1348580812000000
                          </td>
                          <td class="ModifiedTime">1350560926000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2941.html">#2941</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2941.html">Add follower support back into CKAN 2.0</a>
                          </td>
                          <td class="description">
                            <p>
Add the views and functionality of following users and groups into 2.0
</p>

                            
                          </td>
                          <td class="PosixTime">1348584670000000
                          </td>
                          <td class="ModifiedTime">1350560915000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2942.html">#2942</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2942.html">API POST barfs on interesting Content-Type headers</a>
                          </td>
                          <td class="description">
                            <p>
When POSTing to the API, if specified, the 'Content-Type' header must be blank or 'application/x-www-form-urlencoded'. Otherwise we get an error like: "Bad request - JSON Error: Could not extract request body data: Bad content type: \'; charset=utf-8\'""
</p>
<p>
The problem is that this is a very reasonable header to send. Indeed requests 0.14 sends this particular header.
</p>
<p>
This affects all versions of CKAN.
</p>
<p>
This is due to webob/requests.py:1248 being pretty basic.
</p>

                            
                          </td>
                          <td class="PosixTime">1348593156000000
                          </td>
                          <td class="ModifiedTime">1348611144000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2946.html">#2946</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2946.html">Pdf preview does not load in IE</a>
                          </td>
                          <td class="description">
                            <p>
The pdf preview does not load in IE 9.
</p>

                            
                          </td>
                          <td class="PosixTime">1349090873000000
                          </td>
                          <td class="ModifiedTime">1349090992000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2950.html">#2950</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2950.html">paster command to minify javascript and css</a>
                          </td>
                          <td class="description">
                            <p>
With the latest template, css and js changes in 2.0, there are a number of things that need preparation prior to a production deployment.  One of these is:
</p>
<ul><li>the fanstatic_resources defined in <tt>ckan/lib/fanstatic_resources.py</tt> (bottom of module) should be prepared, and minified.
</li></ul><p>
This ticket is to:
</p>
<ul><li>provide a paster command which when run will generate the minified javascript as css files.
</li><li>stop the auto-minification of files when CKAN starts up.
</li><li>remove reference to the minified files in the <tt>.gitignore</tt> file.
</li><li>add instruction to the release process to run this command, and check-in the minified files to the repo.
</li></ul><p>
## Background
</p>
<p>
Currently, minification works seamlessly without the need for any preparation when CKAN is started in a development setup.  But on a production site, the webserver will (almost certainly) not have write-access to the directories that will contain the minified files.  And so the minification will fail, and the site will end up serving the un-minified media, or even *old* minified media.
</p>
<p>
One way around this would be to allow webserver write access to the directory its serving out of.  But this is not generally considered good practice.
</p>
<p>
Another method would be to distribute the minified files with CKAN.  This ticket describes how to do this without causing a lot of noise in the commit history of the repo.
</p>
<p>
The auto-minifcation occurs when importing <tt>ckan/lib/fanstatic_resources.py</tt>.
</p>
<p>
## Changing the process slightly
</p>
<p>
The reason for moving away from auto-minifying files at start-up, to minifying files when running a paster command is:
</p>
<ul><li>we should be distributing the minified files when we make a release (as we do with translation files).  This makes it easier to install CKAN from source.
</li></ul><ul><li>if we distribute the minified files, then they need to be checked-in to the repo.
</li></ul><ul><li>if they are auto-minified, whenever small changes are made, then this will create a lot of noise in the repo.  It will be clearer to have the minified-files generated manually as part of the release process. (Or whever we make a deployment internally).
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1349118376000000
                          </td>
                          <td class="ModifiedTime">1349189654000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2953.html">#2953</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2953.html">Server error in template directories</a>
                          </td>
                          <td class="description">
                            <p>
If you go to: /{any template dir} for example /home or /related, a Server errror occurs. 
</p>
<p>
IOError: [Errno 21] Is a directory: u'/../venv/src/ckan/ckan/templates/home'
</p>

                            
                          </td>
                          <td class="PosixTime">1349252920000000
                          </td>
                          <td class="ModifiedTime">1349257893000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2954.html">#2954</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2954.html">Flickering on resource view when changing between views</a>
                          </td>
                          <td class="description">
                            <p>
From the google doc: When I move between grid, graph and map view mode (or click on filters) the whole data explorer flickers (jumps up &amp; down slightly) for a few moments before settling. This is happening on all resources for me and when you initially open launch the page: <a class="ext-link" href="http://demo.ckan.org/dataset/afghanistan-election-data/resource/f6331f99-51f6-44d9-95b9-b20f3b74f360"><span class="icon">​</span>http://demo.ckan.org/dataset/afghanistan-election-data/resource/f6331f99-51f6-44d9-95b9-b20f3b74f360</a>. Only in Chrome, working fine in Firefox.
</p>

                            
                          </td>
                          <td class="PosixTime">1349268916000000
                          </td>
                          <td class="ModifiedTime">1350578030000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2955.html">#2955</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dominik
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2955.html">Recline should be updated</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1349270534000000
                          </td>
                          <td class="ModifiedTime">1350577952000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2980.html">#2980</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2980.html">Add new groups and organizations functionality into legacy templates</a>
                          </td>
                          <td class="description">
                            <p>
From Toby: add the functionality to legacy templates
</p>

                            
                          </td>
                          <td class="PosixTime">1350297883000000
                          </td>
                          <td class="ModifiedTime">1350560252000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3004.html">#3004</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3004.html">ImportError: No module named polib</a>
                          </td>
                          <td class="description">
                            <p>
This is happening whenever people try to run paster commands. polib should only be needed for the check-po-files command don't import otherwise.
</p>

                            
                          </td>
                          <td class="PosixTime">1350907790000000
                          </td>
                          <td class="ModifiedTime">1361988802000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3008.html">#3008</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3008.html">Add tests for dashboard activity stream auth</a>
                          </td>
                          <td class="description">
                            <p>
We need to test that only logged in users can see their own dashboard activity streams, and they can only see their own dashboard activity streams not those of other users.
</p>

                            
                          </td>
                          <td class="PosixTime">1351600860000000
                          </td>
                          <td class="ModifiedTime">1355141103000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3009.html">#3009</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3009.html">On-site notification of new dashboard activity</a>
                          </td>
                          <td class="description">
                            <p>
We want a "bubble" with a number in it to appear in the top-right of the site next to your user name when you're logged in, telling you how many new activity stream items you have in your dashboard activity stream.
</p>
<p>
There's a github issue for this here:
</p>
<p>
<a class="ext-link" href="https://github.com/okfn/ckanext-pdeu/issues/11"><span class="icon">​</span>https://github.com/okfn/ckanext-pdeu/issues/11</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1351615762000000
                          </td>
                          <td class="ModifiedTime">1353949938000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3015.html">#3015</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3015.html">Dropdowns don't work without JavaScript</a>
                          </td>
                          <td class="description">
                            <p>
Essentially the default bootstrap dropdowns don't work properly without <a class="missing wiki">JavaScript?</a> which is a little bit of an issue with JS not working.
</p>

                            
                          </td>
                          <td class="PosixTime">1352805553000000
                          </td>
                          <td class="ModifiedTime">1353410072000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3022.html">#3022</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3022.html">setup_template_variables method of IDatasetForm never called</a>
                          </td>
                          <td class="description">
                            <p>
On the package controller the package_type is not passed to the lookup function, so the setup_template_variables defined on the extensions is never called
</p>

                            
                          </td>
                          <td class="PosixTime">1353602743000000
                          </td>
                          <td class="ModifiedTime">1358254781000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3024.html">#3024</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3024.html">Add activity stream tab to dataset read page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1353949986000000
                          </td>
                          <td class="ModifiedTime">1355141087000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/84.html">#84</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/84.html">Revert support on versioned objects</a>
                          </td>
                          <td class="description">
                            <p>
Basic revert in the classic wiki form is already support by purging a Revision. However may wish to support:
</p>
<ol><li>Cases where multiple objects changed in a revision but only want to revert 1 (low priority)
</li><li>Want to revert but have reversion as a new revision of that object.
</li></ol><p>
Seems low priority at present.
</p>
<p>
Cost: ?
</p>

                            
                          </td>
                          <td class="PosixTime">1248339543000000
                          </td>
                          <td class="ModifiedTime">1340626385000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/143.html">#143</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/143.html">Most active users listed on homepage</a>
                          </td>
                          <td class="description">
                            <p>
Display league of users' recent activity on homepage.
</p>

                            
                          </td>
                          <td class="PosixTime">1255010373000000
                          </td>
                          <td class="ModifiedTime">1312372381000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/235.html">#235</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">tobes
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/235.html">Resource format normalization and detection</a>
                          </td>
                          <td class="description">
                            <p>
Try to gather proper MIME  information for all package resources in CKAN. This is a shared ticket with dcat-tools (<a class="ext-link" href="https://bitbucket.org/pudo/dcat-tools"><span class="icon">​</span>https://bitbucket.org/pudo/dcat-tools</a>), i.e. opendatasearch.org. This can then also be used by ckanrdf, the CKAN RDF conversion service. 
</p>
<p>
Sub-tasks: 
</p>
<ul><li>Create a Google Spreadsheet with two Worksheets: "MIME-Mappings", i.e. "CSV" -&gt; "text/csv" and "Name mappings", i.e. "text/csv" -&gt; "Comma-Separated Spreadsheet". 
</li><li>Collect and map surface forms from all CKANs
</li><li>Access this via Swiss and apply, store as a <a class="missing wiki">PackageResource?</a> extra field pending <a class="closed ticket" href="../ticket/826.html" title="enhancement: Resource 'extra' fields (closed: fixed)">#826</a> (Resource extras). 
</li><li>Add heuristics for format auto-detections: 
<ul><li>Map well-known file extensions 
</li><li>Recognize obvious magic (Zip, Tar)
</li><li>Peek into <a class="missing wiki">Zipfile/Tarfiles?</a>
</li></ul></li><li>Define a convention for generic data types (many CKAN packages have only "Spreadsheet" defined, either detect specific type or set MIME to */tabular-data or similar)
</li><li>See also: <a class="closed ticket" href="../ticket/816.html" title="enhancement: Autocomplete for the resource format field (closed: fixed)">#816</a> (Autocomplete for the resource format field)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1263827604000000
                          </td>
                          <td class="ModifiedTime">1340627624000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/250.html">#250</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/250.html">RDF link in Atom feed</a>
                          </td>
                          <td class="description">
                            <p>
Add link to RDF representation of a package in our Atom feed.
</p>

                            
                          </td>
                          <td class="PosixTime">1266507695000000
                          </td>
                          <td class="ModifiedTime">1340631430000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/253.html">#253</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/253.html">Package relationships</a>
                          </td>
                          <td class="description">
                            <h1 id="Overview">Overview</h1>
<p>
Functionality to formally associate packages. We see a need for specific parent-child, inheriting or dependency relations. Not only should this help navigation between packages in the web interface, but it also provides a mechanism to automatically pull dependencies when downloading a data package, in a similar manner as we see in software package management.
</p>
<h1 id="Examples">Examples</h1>
<ol><li>There are 27 packages in data.gov.uk to do with the Data4NR's Health Poverty Index. There is currently no common link between these, unless you search for 'HPI' (which also brings up House Price Index), or look under tag 'health' (which also has 600 other results). There should be a link on each HPI package page to navigate to the other 'sibling' HPI packages, and to a 'root' package that has info about the set. This could be partially achieved using the existing tag or group concepts, but a more explicit/official/obvious marking of their relationship could be beneficial.
</li></ol><ol start="2"><li>In ckan.net is freedict, a collection of translation dictionaries. You could make each dictionary a child package and use this system. But it would probably be better to make each dictionary a different resource in the same package. (There are other ideas to denote a resource as the data making up a 'portion' of package, or a 'whole' of the package, to help people downloading datasets in the software package style.)
</li></ol><ol start="3"><li>OSM has had some Naptan data imported (bus stops), with special permission - i.e. a more liberal license. It would be useful to show this link on both OSM and Naptan packages in CKAN: OSM 'derives from' Naptan with a comment about the license change. I'm not sure this is useful to an automatic download or use of these datasets, but may aid exploration on the CKAN website and understanding the provenance of the bus stop data on it.
</li></ol><ol start="4"><li>IPCC collection of data linked / mirrored. Not sure if there are useful relationships here?
</li></ol><ol start="5"><li>Dracos gets postbox locations from crowd sourcing and OSM. We could say Dracos 'derives from' OSM.
</li></ol><p>
See more examples discussed here: <a class="ext-link" href="http://trac.ckan.org/ticket/253"><span class="icon">​</span>http://trac.ckan.org/ticket/253</a>
</p>
<h1 id="Implementation">Implementation</h1>
<p>
This is split into four tickets:
</p>
<ul><li>Model: <a class="closed ticket" href="../ticket/254.html" title="enhancement: Package relationships - 1. model (closed: fixed)">ticket:254</a>
</li><li>Read in WUI: <a class="closed ticket" href="../ticket/255.html" title="enhancement: Package relationships - 2. Read in WUI (closed: fixed)">ticket:255</a>
</li><li>Edit in WUI: <a class="assigned ticket" href="../ticket/256.html" title="requirement: Package relationships - 3. Edit in WUI (assigned)">ticket:256</a>
</li><li>API: <a class="closed ticket" href="../ticket/257.html" title="enhancement: Package relationships - 4. Read in API (closed: fixed)">ticket:257</a>
</li></ul><p>
No need for write access to be provided API for the moment.
</p>
<p>
This ticket also encompasses <a class="closed ticket" href="../ticket/169.html" title="enhancement: Package derivations (closed: duplicate)">ticket:169</a> (Package derivations) and <a class="closed ticket" href="../ticket/176.html" title="enhancement: Package dependencies (closed: duplicate)">ticket:176</a> (Package dependencies).
</p>

                            
                          </td>
                          <td class="PosixTime">1266854721000000
                          </td>
                          <td class="ModifiedTime">1339774726000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/256.html">#256</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/256.html">Package relationships - 3. Edit in WUI</a>
                          </td>
                          <td class="description">
                            <p>
WUI:
</p>
<ul><li>Editable as part of package or separately? (e.g. like authz)
</li><li>Do we normalize to only one type name of the pair?
</li><li>Do we allow create of relationship from both ends (e.g. only from dependency to dependent or either way?)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928561000000
                          </td>
                          <td class="ModifiedTime">1339774714000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/277.html">#277</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/277.html">Set some config options / settings in WUI (extension)</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase">Use case</h2>
<p>
As a ckan administrator I want to easily change options about the CKAN install.
</p>
<h2 id="Implementation">Implementation</h2>
<h3 id="SettingstobeinDB">Settings to be in DB</h3>
<p>
Suggested:
</p>
<pre class="wiki">## Title of site (using in several places including templates and &lt;title&gt; tag
ckan.site_title = CKAN

## Logo image to use (replaces site_title string on front page if defined)
ckan.site_logo = http://assets.okfn.org/p/ckan/img/ckan_logo_box.png

## Site tagline / description (used on front page)
ckan.site_description = 

## Used in creating some absolute urls (such as rss feeds, css files) and 
## dump filenames
ckan.site_url =

## Favicon (default is the CKAN software favicon)
ckan.favicon = http://assets.okfn.org/p/ckan/img/ckan.ico


## An 'id' for the site (using, for example, when creating entries in a common search index) 
## If not specified derived from the site_url
# ckan.site_id = ckan.net

## API url to use (e.g. in AJAX callbacks)
## Enable if the API is at a different domain
# ckan.api_url = http://www.ckan.net

## html content to be inserted just before &lt;/body&gt; tag (e.g. google analytics code)
## NB: can use html e.g. &lt;strong&gt;blah&lt;/strong&gt;
## NB: can have multiline strings just indent following lines
# ckan.template_footer_end = 
</pre><p>
NB: these will still need to be stored somewhere for loading on initialization. do this in db init function ...
</p>
<h3 id="SettingsOptionsKeyValuesTable">Settings / Options / <a class="missing wiki">KeyValues?</a> Table</h3>
<p>
Columns:
</p>
<ul><li>[namespace]: ? only if <a class="missing wiki">KeyValues?</a> (for settings this would then always be settings)
</li><li>key
</li><li>label
</li><li>value (json)
</li><li>type (e.g. date and to specify in advance what type should be)
</li><li>description
</li><li>tags: ?? (for grouping ...)
</li></ul><h3 id="LoadingsettingsfromDB">Loading settings from DB</h3>
<p>
Do this in ckan/config/environment.py
</p>
<h3 id="WUI">WUI</h3>
<ul><li>/ckan-admin/settings
</li><li>Show label, plus description plus text field
</li></ul><h2 id="Depends">Depends</h2>
<ul><li>Would be part of ckan-admin section and hence build on <a class="closed ticket" href="../ticket/833.html" title="enhancement: [super] Administrative dashboard extension (closed: fixed)">ticket:833</a> (Administrative dashboard)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1269274861000000
                          </td>
                          <td class="ModifiedTime">1318247121000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/285.html">#285</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/285.html">Paginate list of packages on tag read page</a>
                          </td>
                          <td class="description">
                            <p>
Is this worth doing? On hmg.ckan.net start to have a lot of packages with a given tag ...
</p>

                            
                          </td>
                          <td class="PosixTime">1270664606000000
                          </td>
                          <td class="ModifiedTime">1340631923000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/301.html">#301</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/301.html">Package discussion pages</a>
                          </td>
                          <td class="description">
                            <p>
A package discussion page is like a wikipedia discussion page: an editable free text page for people to have discussion/post comments about a given package.
</p>
<p>
It provides a way for people to make suggestions about a package without needing access to main package.
</p>

                            
                          </td>
                          <td class="PosixTime">1272301033000000
                          </td>
                          <td class="ModifiedTime">1340632055000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/728.html">#728</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/728.html">CSW Harvesting shall be optimised in respect of reharvesting only records that have changed</a>
                          </td>
                          <td class="description">
                            <p>
Hi Will, this is important again because some CSW servers we use have over 300 documents in. Could you take a look at modifying the filter please?
</p>

                            
                          </td>
                          <td class="PosixTime">1287675340000000
                          </td>
                          <td class="ModifiedTime">1310124784000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/763.html">#763</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/763.html">Read-only mode - Setup</a>
                          </td>
                          <td class="description">
                            <p>
Admin configures entering read-only mode in one of two places:
</p>
<ul><li>CKAN config file (e.g. ckan.ini)
</li><li>environment variable from Apache config
</li></ul><p>
Once enabled, no writes can occur to the database (including user ratings and other usage stats).
</p>

                            
                          </td>
                          <td class="PosixTime">1288091506000000
                          </td>
                          <td class="ModifiedTime">1338206204000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/765.html">#765</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/765.html">Read-only mode - API usage</a>
                          </td>
                          <td class="description">
                            <p>
All writes to the API are captured and you are returned an error explaining the reason.
</p>
<p>
Possible errors: 
</p>
<ul><li>503 temporary maintenance
</li><li>403 forbidden (if server if permanently read-only)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1288091897000000
                          </td>
                          <td class="ModifiedTime">1338206123000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/794.html">#794</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/794.html">Investigate reconciling UKLP Publisher and Provider with DGU</a>
                          </td>
                          <td class="description">
                            <p>
This needs more analysis, but the GEMINI2 attribute "metadata point of contact" must be reconciled with the registered publisher (or agent).
</p>
<p>
This might also be used to filter records harvested from a CSW source, but filtering also needs more analysis, as does distinction between agent and provider.
</p>

                            
                          </td>
                          <td class="PosixTime">1289227811000000
                          </td>
                          <td class="ModifiedTime">1311179581000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/909.html">#909</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/909.html">DCat importer for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Write an importer that supports most well known variants of DCat in importing the data as CKAN packages. In particular, the following sources should be supported: 
</p>
<ul><li>CKANrdf generated exports
</li><li>opengov.se RDF (not really DCat) 
</li><li>Sunlight Nationdatacatalog as harvested by dcat-tools. 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295265958000000
                          </td>
                          <td class="ModifiedTime">1346669602000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/948.html">#948</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/948.html">Highlight (to a sysadmin) which packages are deleted</a>
                          </td>
                          <td class="description">
                            <p>
When a customer logs in as a sysadmin then he/she see all packages, including deleted and pending ones. These are hidden to the average user, but the sysadmin has no idea of this until he clicks on the package and sees at the bottom 'state: deleted'. 
</p>
<p>
It should be more obvious than that on the search view - an icon, message or crossed-out name to packages are deleted.
</p>

                            
                          </td>
                          <td class="PosixTime">1296646369000000
                          </td>
                          <td class="ModifiedTime">1338206280000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/979.html">#979</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/979.html">Edit Resource extras in the API</a>
                          </td>
                          <td class="description">
                            <p>
Follows on from <a class="closed ticket" href="../ticket/826.html" title="enhancement: Resource 'extra' fields (closed: fixed)">#826</a>. We can now edit resource extras in the WUI (to some extent - see <a class="closed ticket" href="../ticket/978.html" title="enhancement: Edit Resource including Extras in Web UI (closed: fixed)">#978</a> for remaining issues) and we can view resource extras in the API, but we can't yet edit them in the API. 
</p>

                            
                          </td>
                          <td class="PosixTime">1297429777000000
                          </td>
                          <td class="ModifiedTime">1315222244000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1041.html">#1041</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1041.html">Start Using the CKAN Wiki for Tutorial-style documentation</a>
                          </td>
                          <td class="description">
                            <p>
For example, I will document the following:
</p>
<ul><li>A specific guide on using mercurial when working with our branching and merging policy
<ul><li>DONE - <a class="ext-link" href="http://wiki.ckan.net/Becoming_a_CKAN_Developer"><span class="icon">​</span>http://wiki.ckan.net/Becoming_a_CKAN_Developer</a>
</li></ul></li><li>Policy document on how we use tickets, plan sprints and make releases
<ul><li>DONE - <a class="ext-link" href="http://wiki.ckan.net/Becoming_a_CKAN_Developer"><span class="icon">​</span>http://wiki.ckan.net/Becoming_a_CKAN_Developer</a>
</li></ul></li><li>How to package software as .deb file for project deployment
</li></ul><p>
I'd love if someone else would write:
</p>
<ul><li>An authorisation tutorial covering the core model, the command line tools and examples of every possible way of using the system
</li><li>A HOWTO guide with screenshots for adding a package
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300284715000000
                          </td>
                          <td class="ModifiedTime">1312372367000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1062.html">#1062</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1062.html">Data preview encoding error</a>
                          </td>
                          <td class="description">
                            <p>
The preview of "Species Misc Turtle Download" at <a class="ext-link" href="http://ckan.net/package/taxonconcept"><span class="icon">​</span>http://ckan.net/package/taxonconcept</a> results in the following error:
</p>
<p>
Unable to Preview - Had an error from dataproxy:
Data Transformation Error (Data transformation failed. Reason: 'utf8' codec can't decode byte 0x8b in position 1: unexpected code byte
</p>

                            
                          </td>
                          <td class="PosixTime">1301396143000000
                          </td>
                          <td class="ModifiedTime">1311773731000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1069.html">#1069</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">tobes
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1069.html">Stub datasets (request for datasets)</a>
                          </td>
                          <td class="description">
                            <p>
Idea is to have stubs for datasets that someone wants but don't yet exist (or haven't been discovered) in the way one has stub pages on a wiki.
</p>
<p>
We could do this within the existing model by a slight 'abuse' - create a dataset and mark it with a special tag e.g. todo.does-not-yet-exist or similar ...
</p>
<p>
(Just as we have datasets listed that exist but aren't available ...)
</p>
<p>
Alternative would be to have a request for datasets subsystem.
</p>
<p>
I prefer the stub dataset model because it's simpler, provides a simple workflow (as a dataset is found or comes into existence), and the package page provides a natural space in which to accumulate information about what is wanted and what exists.
</p>
<h2 id="Implementation">Implementation</h2>
<ul><li>Agree a new dedicated tag. e.g. todo.does-not-exist
</li></ul><h2 id="Related">Related</h2>
<ul><li>This ticket has clear links to <a class="ext-link" href="http://getthedata.org/"><span class="icon">​</span>http://getthedata.org/</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1301666919000000
                          </td>
                          <td class="ModifiedTime">1340632215000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1130.html">#1130</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">lucychambers
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1130.html">First time users</a>
                          </td>
                          <td class="description">
                            <p>
Send users to FAQ first time on CKAN
</p>

                            
                          </td>
                          <td class="PosixTime">1304938761000000
                          </td>
                          <td class="ModifiedTime">1340633514000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1135.html">#1135</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1135.html">Changeset model for vdm</a>
                          </td>
                          <td class="description">
                            <p>
Move to Changeset model for vdm.
</p>
<p>
A changeset model is like an Audit-Log model in which we just record Changesets with Change-Objects rather than have Revision-Objects for each Object that is revisioned.
</p>
<p>
This change would also incorporate significant simplication of vdm.
</p>

                            
                          </td>
                          <td class="PosixTime">1305209986000000
                          </td>
                          <td class="ModifiedTime">1340632267000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1136.html">#1136</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1136.html">Move to SessionExtension in vdm</a>
                          </td>
                          <td class="description">
                            <p>
When vdm was created there was no SessionExtension so we use MapperExtension for doing revisioning. Now that <a class="missing wiki">SessionExtension?</a> exists we should use it. We can also follow the existing SQLAlchemy recipe: &lt;<a class="ext-link" href="http://www.sqlalchemy.org/docs/orm/examples.html?highlight=versioning#versioned-objects"><span class="icon">​</span>http://www.sqlalchemy.org/docs/orm/examples.html?highlight=versioning#versioned-objects</a>&gt;
</p>

                            
                          </td>
                          <td class="PosixTime">1305210855000000
                          </td>
                          <td class="ModifiedTime">1340632980000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1137.html">#1137</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1137.html">Remove need for statefulness in vdm</a>
                          </td>
                          <td class="description">
                            <p>
Statefulness, especially statefulness for relation (esp m2m) is cause of most of the complexity in vdm. It is <em>required</em> because, atm, revision objects have FKs to continuity objects.
</p>
<p>
This ticket proposes the following changes:
</p>
<p>
NB: this could be limited just to case of join tables (leaving state stuff on other tables)
</p>
<ul><li>Remove FKs from revision to continuity (or allow for them to be nullable).
<ul><li>We could just limit this to m2m stuff
</li></ul></li><li>Delete of an object leads to:
<ul><li>Deletion of continuity object
</li><li>Adding an entry in revision table with state set to deleted (we retain state on revision table)
</li></ul></li></ul><p>
If this is done we will no longer need to worry about filtering on state on relationships as join table will only contain "active" relationships.
</p>
<p>
If we do this on all tables we remove need for any state awareness in client (e.g. no need to filter tables on active state).
</p>
<p>
The only disadvantage of this change is that undeletion becomes more problematic (we have to recreate some continuity objects).
</p>

                            
                          </td>
                          <td class="PosixTime">1305211628000000
                          </td>
                          <td class="ModifiedTime">1340631974000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1168.html">#1168</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1168.html">Test system for deb packaging</a>
                          </td>
                          <td class="description">
                            <p>
Get buildbot to:
</p>
<ul><li>build the deb packages
</li><li>install them into a fresh virtual machine
</li><li>run smoke tests on the installed ckan
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1306441994000000
                          </td>
                          <td class="ModifiedTime">1330990423000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1171.html">#1171</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">mark.wainwright
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1171.html">Citation instructions on dataset and resource view pages</a>
                          </td>
                          <td class="description">
                            <p>
Some sort of citation helper. Something small on the dataset and resource page that would show how to cite.
</p>
<p>
wwaites: Some related thoughts on this from opb: <a class="ext-link" href="http://homepages.inf.ed.ac.uk/opb/papers/ssdbm2006.pdf"><span class="icon">​</span>http://homepages.inf.ed.ac.uk/opb/papers/ssdbm2006.pdf</a>
</p>
<p>
timclicks: I'm looking at Dataverse for the first time<a class="missing changeset" title="No default repository defined">[0]</a>. It seems very popular in the social sciences. I noticed that there is a recommended citation for each dataset. For example, <a class="missing changeset" title="No default repository defined">[1]</a> is has this one: "Targeted Input Programme (TIP) 2000-01", <a class="ext-link" href="http://hdl.handle.net/1902.1/SSC-MWI-TIP2000-01-M1"><span class="icon">​</span>http://hdl.handle.net/1902.1/SSC-MWI-TIP2000-01-M1</a> V1 [Version]"
</p>
<h2 id="Implementation">Implementation</h2>
<p>
Add a small box at bottom of dataset / resource page (or in sidebar on dataset page) with title "Cite this" with contents like:
</p>
<p>
%title. %author. Retrieved %date. %site_title.
</p>
<p>
For resource: %title = %dataset_title. %resource_name.
</p>
<p>
Could also add export to ref managers (e.g. to bibtex) but that is for later.
</p>

                            
                          </td>
                          <td class="PosixTime">1306920799000000
                          </td>
                          <td class="ModifiedTime">1347358705000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1240.html">#1240</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1240.html">[super] API v4</a>
                          </td>
                          <td class="description">
                            <p>
(Just creating this ticket as somewhere to keep notes)
</p>
<ul><li>Decide on REST api versus action API
<ul><li>Do we want to support both?
</li></ul></li><li>Tidying
<ul><li>Unify on /api/v{version num}/... structure (do we want a default option that points to current default? e.g. /api/default/ ...)
</li><li>extras merged into normal field list in package
</li><li>Get rid of /rest/ so just have api/v1/package
</li><li>Get rid of separation of search api from 'rest' api
<ul><li>Propose that GET on REST index is search e.g. /package/?q=...
<ul><li>This is also resolves issue whereby GET at root returns whole package set (a *bad* idea) as this would now become the matchall search query (with a default limit on items returned)
</li></ul></li></ul></li></ul></li><li>Resource read/write in API (separate from package)
<ul><li>Does this need authorization work?
</li></ul></li><li>user/account API - read/write
</li><li>Remove autocomplete -- can just use search
<ul><li>Do not worry about backwards compat as should only be used in our js (if others using it too bad!)
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1311525660000000
                          </td>
                          <td class="ModifiedTime">1325473312000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1244.html">#1244</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1244.html">Notes field carriage-returns converted to CRLF</a>
                          </td>
                          <td class="description">
                            <p>
When you edit a package in the web form, if the notes field had <tt>\n</tt> as the End Of Line symbol, it gets lost when you preview or save the package, and the notes field is displayed all on one line.
</p>
<p>
This can be seen when editing annakarenina (as created by 'paster create-test-data'). The diff shows for example:
</p>
<pre class="wiki">- Some test notes
+ Some test notes
?                +
</pre><p>
but it would more clearly be shown as:
</p>
<pre class="wiki">- Some test notes\n
+ Some test notes
?                ++
</pre><p>
This is a significant problem with DGU, since a lot comes in via the API.
</p>
<p>
It's not clear what we should do about it. We could standardise on \n or \r\n when the form submission comes in. Do different browsers on different platforms do different things with EOLs?
</p>
<h2 id="Analysis">Analysis</h2>
<p>
Displaying the package: the Markdown processor respects both EOLs when displaying the field, putting each line in a &lt;p&gt; tag.
</p>
<p>
Creating the package edit form: placed into &lt;textfield&gt;. 
</p>
<p>
Browser displaying package edit form: &lt;textfield&gt; displays \n and \r\n as EOL. But \n\n gets compressed to one EOL. But on submission, both are returned as \r\n.
</p>
<p>
Receiving the edited package: Somewhere along the line the EOL gets converted to \n\n.
</p>

                            
                          </td>
                          <td class="PosixTime">1311689456000000
                          </td>
                          <td class="ModifiedTime">1340191253000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1255.html">#1255</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1255.html">Drupal consistancy checks.</a>
                          </td>
                          <td class="description">
                            <p>
Make a robust way to make sure the drupal database is consistent with the ckan data.
</p>

                            
                          </td>
                          <td class="PosixTime">1312219968000000
                          </td>
                          <td class="ModifiedTime">1313400054000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1285.html">#1285</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1285.html">Errors cause emails</a>
                          </td>
                          <td class="description">
                            <p>
Currently a sysadmin gets an email when an exception is not caught. But there are occasions when we DO want to catch an exception so we can fail nicely for the user, but the sysadmin STILL gets an email to know to fix something.
e.g. if there is an exception when search indexes a package. You want to catch the exception and still run any other notify calls.
</p>

                            
                          </td>
                          <td class="PosixTime">1314116944000000
                          </td>
                          <td class="ModifiedTime">1338206151000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1287.html">#1287</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1287.html">NAVL validation errors - Junk fields should be listed explicitly</a>
                          </td>
                          <td class="description">
                            <p>
When you create a package, but specify a key that is not allowed (e.g. 'relationships') then you get error message:
</p>
<pre class="wiki">{"__junk": ["The input field __junk was not expected."]}
</pre><p>
It should mention the actual key which is not expected. e.g.
</p>
<pre class="wiki">{"relationships": ["The input field 'relationships' was not expected."]}
</pre><p>
Kindly said that James' version of NAVL was better in this respect, so this might be best solved by moving to that.
</p>

                            
                          </td>
                          <td class="PosixTime">1314203102000000
                          </td>
                          <td class="ModifiedTime">1330990459000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1314.html">#1314</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1314.html">ckanclient search - generator improvements</a>
                          </td>
                          <td class="description">
                            <p>
Apparently the search generator always makes two requests, even if you don't want to see the search results, which might be slow. Can this be optimised?
</p>
<p>
Maybe we should also provide a second search function that doesn't use the generator - the original simple search function (that leaves the user to deal with limit &amp; offset).
</p>

                            
                          </td>
                          <td class="PosixTime">1315395410000000
                          </td>
                          <td class="ModifiedTime">1340191233000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1317.html">#1317</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1317.html">password reset - improve user search</a>
                          </td>
                          <td class="description">
                            <p>
In password reset, it gets confused if you have two similar users. This is because with the string the user provides, it searches several fields, not just name but also fullname and email address, allowing you to search for these. But only name is unique.
</p>
<p>
Specific problem:
Ira searches for "Irina" then it finds both:
<tt>&lt;User name=irina fullname=Irina email=irina.bolychevsky@okfn.org ]</tt>
and
<tt>&lt;User name=shevski fullname=Ira email=&gt;</tt>
(I think)
</p>
<p>
Maybe need to choose which field it searches?
</p>

                            
                          </td>
                          <td class="PosixTime">1315415539000000
                          </td>
                          <td class="ModifiedTime">1340191221000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1322.html">#1322</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1322.html">Action API improvements</a>
                          </td>
                          <td class="description">
                            <p>
Focusing on improving Action API as the v3 API:
</p>
<ul><li>have an optional parameter of the data_dict called "options".  Options would contain items that would get passed into the context. e.g. <tt>{"options" : {"ref_package_by": "id"}}. </tt>
</li><li>instead of using API version to change the way packages are referenced, use the ref_package_by.
</li><li>All package_show, group_show etc. to accept an object 'name' as an alternative to object 'id'.
</li><li>Action API is v3 of api, replacement for v1 &amp; v2. Default for most urls is still v1, but if url is /api/action then default to v3.
</li></ul><p>
Next steps:
</p>
<ul><li>Add search API (package, resource, 
</li><li>Add Util API
</li><li>Clarify JSONP still applies
</li><li>Add doc strings, clarifying parameters
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1315474749000000
                          </td>
                          <td class="ModifiedTime">1340191088000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1328.html">#1328</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">minspamboks@…
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1328.html">Unicode &amp; paster commands</a>
                          </td>
                          <td class="description">
                            <p>
A possible bug in CKAN when I tried deleting users using "paster --plugin=ckan user delete" command.
</p>
<p>
To reproduce the bug do the following:
</p>
<ol><li>Create a user with an ID (which in my case was a user's full name)
</li></ol><p>
that contains non-unicode caracters like Norwegian "æ", "ø", or "å".
</p>
<ol start="2"><li>Make sure that you can see something like the example below:
</li></ol><p>
(pyenv) rm@mycomputer:$ paster --plugin=ckan user
Users:
name=Rustæm
</p>
<ol start="3"><li>Then try deleting the user with following command:
</li></ol><p>
(pyenv) rm@mycomputer:$ paster --plugin=ckan user delete "Rustæm"
</p>
<p>
You should now get a python encoding error. I know that this is quite
rare case, but in our case it caused some trouble. Could you guys have
a look at this bug?
</p>
<p>
CKAN ver. 1.3.3.
</p>

                            
                          </td>
                          <td class="PosixTime">1315823110000000
                          </td>
                          <td class="ModifiedTime">1340191065000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1358.html">#1358</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1358.html">Generate configuration documentation automatically from the deployment_ini_tmpl file</a>
                          </td>
                          <td class="description">
                            <p>
At the moment documentation of config options is duplicated between source (deployment_ini_tmpl in ckan/config which is used to generate user ini file) and the docs.
</p>
<p>
Suggest we write a script that automatedly generates reference documentation for the config from the source.
</p>
<p>
May be obsoleted by <a class="assigned ticket" href="../ticket/277.html" title="enhancement: Set some config options / settings in WUI (extension) (assigned)">#277</a> (some config in db)
</p>

                            
                          </td>
                          <td class="PosixTime">1317076350000000
                          </td>
                          <td class="ModifiedTime">1318257823000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1366.html">#1366</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1366.html">Search inside extra fields</a>
                          </td>
                          <td class="description">
                            <p>
SOLR search doesn't support searching for part of an extra field, but it does for other fields.
</p>
<p>
i.e. title="One Two Three" matches q=one AND q=title:one
and geographic_coverage="England Scotland" matches q=England BUT NOT q=geographic_coverage:England
</p>
<p>
This problem emerged when we went to SOLR in <a class="closed ticket" href="../ticket/1275.html" title="enhancement: Move solr search extension to ckan core (closed: fixed)">#1275</a> (CKAN 1.5a). Tests were skipped.
</p>
<p>
This is could be a problem for DGU and maybe elsewhere.
</p>

                            
                          </td>
                          <td class="PosixTime">1317290992000000
                          </td>
                          <td class="ModifiedTime">1338206707000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1393.html">#1393</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1393.html">Don't skip search tests</a>
                          </td>
                          <td class="description">
                            <p>
Now we don't use postgres search, all the tests involving search now don't need to be skipped when running on sqlite. Should help coders spot earlier if these tests break. 
</p>

                            
                          </td>
                          <td class="PosixTime">1318505453000000
                          </td>
                          <td class="ModifiedTime">1320153590000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1447.html">disk space leakage</a>
                          </td>
                          <td class="description">
                            <p>
Periodically we see some CKAN servers fall over because they run out of disk space. We need to find out if there is a common cause and fix it.
</p>
<p>
One problem in the past has been file handles running out when creating lots of tiny files in the data directory.
</p>
<p>
Another problem has been several enourmous backups being created every day - pdeu on eu25.
</p>

                            
                          </td>
                          <td class="PosixTime">1320666843000000
                          </td>
                          <td class="ModifiedTime">1340727330000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1458.html">#1458</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1458.html">Support previewing kml files in data viewer</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1151.html" title="enhancement: Preview for geographic data should be a map (closed: wontfix)">#1151</a> (viewing geo data)
</p>
<p>
E.g. preview of <a class="ext-link" href="http://thedatahub.org/dataset/louisvillecrime"><span class="icon">​</span>http://thedatahub.org/dataset/louisvillecrime</a> should bring up a map
</p>

                            
                          </td>
                          <td class="PosixTime">1320936488000000
                          </td>
                          <td class="ModifiedTime">1340632932000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1460.html">#1460</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1460.html">Improve extensions documentation</a>
                          </td>
                          <td class="description">
                            <p>
Current extensions documentation needs some work: <a class="ext-link" href="http://docs.ckan.org/en/latest/plugins.html"><span class="icon">​</span>http://docs.ckan.org/en/latest/plugins.html</a>
</p>
<ul><li>Queue extension section may now be out of date (?)
</li><li>Think about how it integrates with <a class="ext-link" href="https://github.com/okfn/ckanext-example"><span class="icon">​</span>https://github.com/okfn/ckanext-example</a> (especially tutorial and example extension)
</li><li>Document all plugin points (auto-extract from CKAN source??)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321114523000000
                          </td>
                          <td class="ModifiedTime">1340191001000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1489.html">#1489</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1489.html">Updating example theme/extension</a>
                          </td>
                          <td class="description">
                            <p>
ckanext-example needs updating for CKAN 1.5:
</p>
<ul><li>theme changes
</li><li>new forms
</li></ul><p>
About: 'ckanext-exampletheme' was created in Spring 2011 as an example CKAN extension that showed how to customise the look &amp; operation of CKAN. This moved to github and renamed 'ckanext-example'. 
</p>

                            
                          </td>
                          <td class="PosixTime">1322137920000000
                          </td>
                          <td class="ModifiedTime">1324292384000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1507.html">#1507</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1507.html">Minor fixes to dataset add on Group edit form - 0.5d</a>
                          </td>
                          <td class="description">
                            <p>
Group edit dataset add form needs some work
</p>
<ul><li>Dataset name is not cleared when you add
</li><li>No way to remove item from list of datasets to be added if I make a mistake
</li><li>(2nd Apr 2012) It now seems that option to add multiple datasets at once has disappeared (perhaps during the CSS/HTML refactor ...)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323088429000000
                          </td>
                          <td class="ModifiedTime">1338205220000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1509.html">#1509</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1509.html">Mis-dated old revisions of datasets</a>
                          </td>
                          <td class="description">
                            <p>
e.g. <a class="ext-link" href="http://thedatahub.org/dataset/osm%402011-07-12T12%3A16%3A47.590358"><span class="icon">​</span>http://thedatahub.org/dataset/osm%402011-07-12T12%3A16%3A47.590358</a> gives:
</p>
<pre class="wiki">This is the current revision of this dataset, as edited at 2011-07-12 12:16.
</pre><p>
but it should say the date 2011-07-12 (which is the data being displayed).
</p>
<p>
The problem is looking at <a class="missing wiki">PackageRevision?</a>, when it might be a tag or extra.
</p>

                            
                          </td>
                          <td class="PosixTime">1323090398000000
                          </td>
                          <td class="ModifiedTime">1340190814000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1550.html">#1550</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1550.html">Allow simple auth via the API</a>
                          </td>
                          <td class="description">
                            <p>
It should be possible to pass userid/username and api key and obtain a response from CKAN for external services that use CKAN auth. Those services shouldn't be talking to the DB directly.
</p>

                            
                          </td>
                          <td class="PosixTime">1324049369000000
                          </td>
                          <td class="ModifiedTime">1346670055000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1571.html">#1571</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1571.html">[super] Issues Extension</a>
                          </td>
                          <td class="description">
                            <p>
"Proper" issues extension.
</p>
<ul><li>Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/issues"><span class="icon">​</span>http://ckan.okfnpad.org/issues</a>
</li><li>Code: <a class="ext-link" href="https://github.com/okfn/ckanext-issues"><span class="icon">​</span>https://github.com/okfn/ckanext-issues</a>
</li></ul><p>
Overview
</p>
<ul><li>This would be an extension and improvement of existing todo extension - <a class="closed ticket" href="../ticket/842.html" title="enhancement: Todo list CKAN extension (closed: fixed)">#842</a> (<a class="ext-link" href="https://github.com/okfn/ckanext-issues"><span class="icon">​</span>https://github.com/okfn/ckanext-issues</a>)
<ul><li>Current extension does work but lacks polish
</li><li>Should we polish or do significant improvements?
</li></ul></li><li>Functionality - see etherpad
</li></ul><h2 id="Steps">Steps</h2>
<ul><li><del>(Rename todo(s) -&gt; issue(s) in existing extension)</del>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324294225000000
                          </td>
                          <td class="ModifiedTime">1330863183000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1652.html">#1652</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1652.html">How we intergrate with Drupal Multiligual?</a>
                          </td>
                          <td class="description">
                            <ul><li>Analysis of how/where we can integrate with Drupal Multilingual
</li></ul><ul><li>Is it likely to access CKAN via /en/data/... or /data/en/... (not sure, probably former) and we need to make sure that it ends up at /en/...
</li></ul><ul><li>Check with Ian for other issues.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1326709894000000
                          </td>
                          <td class="ModifiedTime">1340187535000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1661.html">#1661</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1661.html">Wrong Routes version installed by CKAN package</a>
                          </td>
                          <td class="description">
                            <p>
Jaakko Louhio reported that the wrong Routes version got installed during CKAN's package install.
</p>
<p>
He is using Ubuntu 10.04 and he believes it install Routes 1.12.3 instead of what we use which is 1.11.
</p>

                            
                          </td>
                          <td class="PosixTime">1326718061000000
                          </td>
                          <td class="ModifiedTime">1339773949000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1684.html">#1684</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1684.html">Remove all config from ckanext-archiver</a>
                          </td>
                          <td class="description">
                            <p>
ckanext-archiver currently has a settings file (and a default) and it should be passed in all relevant information from the context.
</p>
<p>
Remove all settings (ARCHIVE_DIR and MAX_CONTENT_LENGTH and others) and pass them in from CKAN.
</p>

                            
                          </td>
                          <td class="PosixTime">1326983821000000
                          </td>
                          <td class="ModifiedTime">1346670037000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1689.html">#1689</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1689.html">List deleted datasets in API</a>
                          </td>
                          <td class="description">
                            <p>
The admin extension allows deleted datasets to be viewed, but there is no equivalent in the API. The package_list API call filters to just 'state=active' datasets. 
</p>
<p>
'state' could be a parameter on the package_list call
</p>
<ul><li>Easy to call and implement
</li><li>But getting permissions right for the different state values may not be easy - maybe a separate logic function is better?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1327062214000000
                          </td>
                          <td class="ModifiedTime">1340190040000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1749.html">#1749</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1749.html">Allow creating activity details through API</a>
                          </td>
                          <td class="description">
                            <p>
Currently the activity_create() logic action function only lets you create top-level activity stream items, and not their related activity details. It should handle activity details via nested dicts.
</p>

                            
                          </td>
                          <td class="PosixTime">1328465406000000
                          </td>
                          <td class="ModifiedTime">1338213933000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1778.html">#1778</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1778.html">Replace classmethod's with module-level functions</a>
                          </td>
                          <td class="description">
                            <p>
In many places we have @classmethods where simple module-level functions would do (and would be more idiomatic in Python), e.g. the <tt>get()</tt> classmethods in the model/ classes.
</p>
<p>
Doing it with module functions lets us type module.function() instead of module.Class.method().
</p>
<p>
In many cases we're importing classes directly with <tt>from module import Class</tt> and then doing <tt>Class.method()</tt>, but <tt>from module import foo</tt> is bad style: <a class="ext-link" href="http://docs.python.org/dev/howto/doanddont.html"><span class="icon">​</span>http://docs.python.org/dev/howto/doanddont.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1328543614000000
                          </td>
                          <td class="ModifiedTime">1340623743000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1831.html">#1831</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1831.html">Login with email address</a>
                          </td>
                          <td class="description">
                            <p>
Users should be able to log in using either their username, or their email address, both of which are unique.
</p>
<p>
Will require a change to <a class="missing wiki">UsernamePasswordAuthenticator?</a> in ckan.lib.authenticator.py and possible a useful User.by_email in the user model if it doesn't already exist.
</p>

                            
                          </td>
                          <td class="PosixTime">1330073906000000
                          </td>
                          <td class="ModifiedTime">1346670504000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1832.html">#1832</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1832.html">dataset purge API</a>
                          </td>
                          <td class="description">
                            <p>
Purging datasets (deleting them fully, not just changing the state to 'deleted') is important for users testing dataset creation over the API on a test CKAN instance. 
</p>
<p>
Without this, they need to resort to more difficult methods such as:
</p>
<ul><li>cleaning and reloading the database
</li><li>setting the test datasets to state 'deleted' and also appending a suffix '_00' and incrementing the number until there is no clash of names.
</li></ul><p>
Requested for NHSIC.
</p>
<h2 id="Implementation">Implementation</h2>
<ul><li>This could slot into the Action API. 
</li><li>Of course we would need to ensure the user's had been given the specific right to purge.
</li><li>I suggest we log the full details of the dataset being purged.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1330077745000000
                          </td>
                          <td class="ModifiedTime">1339773706000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2197.html">#2197</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">zydio
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2197.html">Storage Metadata API: add/update not working with local file storage (Pairtree)</a>
                          </td>
                          <td class="description">
                            <p>
If OFS is configured with Pairtree to use a local file storage, all POST requests to add/update metadata ( /api/storage/metadata/{label} ) will fail.
</p>
<p>
This is due to the use of <a class="ext-link" href="https://github.com/okfn/ofs/blob/master/ofs/remote/botostore.py"><span class="icon">​</span>BotoOFS</a> specific <em>private</em> methods in <a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan/controllers/storage.py"><span class="icon">​</span>StorageAPIController.set_metadata()</a>, eg: self.ofs.<strong>_require_bucket</strong>(bucket), self.ofs.<strong>_get_key</strong>(b, label), self.ofs.<strong>_update_key_metadata</strong>(k, metadata) ... those methods can't be found in <a class="ext-link" href="https://github.com/okfn/ofs/blob/master/ofs/local/pairtreestore.py"><span class="icon">​</span>POTFS</a> and this causes errors.
The API should use only <a class="ext-link" href="https://github.com/okfn/ofs/blob/master/ofs/base.py"><span class="icon">​</span>OFSInterface</a> methods, or should conditionally make calls based off the actual type of <em>self.ofs</em>.
</p>
<p>
<em>PS: I did set "ckan" as "Component" in the ticket because storage has been integrated back into the core in CKAN 1.6</em>
</p>

                            
                          </td>
                          <td class="PosixTime">1330421377000000
                          </td>
                          <td class="ModifiedTime">1346662128000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2203.html">#2203</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2203.html">Data Viewer support for PDF</a>
                          </td>
                          <td class="description">
                            <ul><li>Boot viewer for format/mimetype: application/pdf, application/x-pdf, application/acrobat, applications/vnd.pdf, text/pdf, text/x-pdf
</li><li>propose we use pdf.js - <a class="ext-link" href="https://github.com/mozilla/pdf.js"><span class="icon">​</span>https://github.com/mozilla/pdf.js</a>
</li><li>We could also try iframing for browsers with native support but this seems more complex
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1330860293000000
                          </td>
                          <td class="ModifiedTime">1348568961000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2234.html">#2234</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2234.html">Write a CKAN extension for pulling items from RSS/Atom feeds into CKAN templates</a>
                          </td>
                          <td class="description">
                            <p>
You configure the extension with some RSS and/or Atom feeds, it automatically reads items from these feeds and makes them available in the template context, you write a custom template to e.g. display 'news' items from a Wordpress blog on your front page.
</p>
<p>
This extension might be simpler and less fragile than ckanext-wordpresser, and also more generally useful.
</p>
<p>
Details
</p>
<ul><li>Mark Pilgrim's Universal Feed Parser might be useful for reading the feeds
</li></ul><ul><li>Feed items should probably be cached somewhere
</li></ul><p>
Suggested 
</p>
<ul><li>The news item 'widget' should be wrapped in a known class so that it can be styled easily regardless of the format of any HTML entry.
</li></ul><ul><li>For non-HTML formatted items (Atom should tell you the content type of the entry) maybe we should have a template for rendering each item along with any enclosures that it might reference
</li></ul><ul><li>Caching is pretty crucial and should probably obey the ttl of the feed.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1331902755000000
                          </td>
                          <td class="ModifiedTime">1346669567000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2284.html">#2284</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2284.html">Local queries/views/viz in Related stuff.</a>
                          </td>
                          <td class="description">
                            <p>
From <a class="closed ticket" href="../ticket/2204.html" title="enhancement: [super] Related (Stuff) Extension (closed: fixed)">#2204</a>
</p>
<p>
not sure how much we have thought through using this for storing queries / views / visualizations coming from our data viewer. In particular, wonder if this necessitates some kind of support for arbitrary json data ...
</p>
<p>
### Comments
</p>
<p>
In the simplest form, right now all I need to store is store the url to the resource plus hashbang config for recline. That would be super easy ...
</p>

                            
                          </td>
                          <td class="PosixTime">1334218700000000
                          </td>
                          <td class="ModifiedTime">1346669513000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2294.html">#2294</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2294.html">Unauthorized action on Data API gets 302 rather than 401 or similar</a>
                          </td>
                          <td class="description">
                            <p>
Well known issue that 401 *in API* end up with 302 redirect to login page (which makes no sense and is very confusing for clients).
</p>
<p>
Fix this by ensuring that error messsages on API get passed through correctly.
</p>
<p>
Minor because affect is annoying but not terminal
</p>

                            
                          </td>
                          <td class="PosixTime">1334432104000000
                          </td>
                          <td class="ModifiedTime">1340624003000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2329.html">#2329</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2329.html">Add back in RSS/Atom links on relevant pages</a>
                          </td>
                          <td class="description">
                            <p>
E.g. on dataset page, on revision page, on user page and on search results.
</p>

                            
                          </td>
                          <td class="PosixTime">1335442540000000
                          </td>
                          <td class="ModifiedTime">1346664271000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2334.html">#2334</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2334.html">Improved data import</a>
                          </td>
                          <td class="description">
                            <p>
Placeholder for thinking about this ...
</p>
<ul><li>Allow users to configure info for CSV import (e.g. separators, quotes etc)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1335651662000000
                          </td>
                          <td class="ModifiedTime">1340624538000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2335.html">#2335</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2335.html">Unicode characters don't work in CKAN ini files</a>
                          </td>
                          <td class="description">
                            <p>
You get a <a class="missing wiki">UnicodeDecodeError?</a>, looks like it tries to decode the ini file as ascii. This is a problem because someone might try to set their site description to something with an umlaut in it, for example.
</p>

                            
                          </td>
                          <td class="PosixTime">1335789726000000
                          </td>
                          <td class="ModifiedTime">1340624635000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2337.html">#2337</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2337.html">Sort out ini file confusion in docs</a>
                          </td>
                          <td class="description">
                            <p>
For example if you follow the source install instructions then you have development.ini, then when you go onto Post-Installation Setup it talks about std.ini. People don't realise that these files are the same.
</p>
<p>
Either fix the docs or fix CKAN to use same ini file names in package and source installs/
</p>

                            
                          </td>
                          <td class="PosixTime">1335797876000000
                          </td>
                          <td class="ModifiedTime">1340624600000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2348.html">#2348</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2348.html">Java client library for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Start a Java library for interacting with the CKAN Action API.
</p>
<p>
Currently requires support for Groups, Tags, Resources,  and Search.  
</p>
<p>
An example app would be very useful.
</p>

                            
                          </td>
                          <td class="PosixTime">1335879980000000
                          </td>
                          <td class="ModifiedTime">1346670024000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2370.html">#2370</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2370.html">Add examples of all config settings in default config file</a>
                          </td>
                          <td class="description">
                            <p>
The default config file should contains examples (maybe commented out) for all config variables. Makes it easier to edit the config. For example openid_enabled is not in there.
</p>

                            
                          </td>
                          <td class="PosixTime">1336042237000000
                          </td>
                          <td class="ModifiedTime">1340624662000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2378.html">#2378</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2378.html">Extract metadata directly from resources that contain it.</a>
                          </td>
                          <td class="description">
                            <p>
Some files that might be uploaded as resources on a dataset, such as some image formats, already contain metadata.  For example some jpeg files might contain Exif ( <a class="ext-link" href="http://en.wikipedia.org/wiki/Exchangeable_image_file_format"><span class="icon">​</span>http://en.wikipedia.org/wiki/Exchangeable_image_file_format</a> ) data.
</p>
<p>
[ ] Obtain list of embedded metadata 'standards' 
</p>
<p>
[ ] Where the metadata is available it  should be added as extra fields on the resource that is uploaded.  
</p>
<blockquote>
<p>
[ ] HTML?
</p>
</blockquote>
<blockquote>
<p>
[ ] Image formats (exif/gif etc)
</p>
</blockquote>
<blockquote>
<p>
[ ] PDF
</p>
</blockquote>
<p>
[ ] Eventually consider ...
</p>
<blockquote>
<p>
[ ] MS Office documents
</p>
</blockquote>
<p>
 
</p>

                            
                          </td>
                          <td class="PosixTime">1336651088000000
                          </td>
                          <td class="ModifiedTime">1346669985000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2404.html">#2404</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2404.html">Auto-screenshot for related items</a>
                          </td>
                          <td class="description">
                            <p>
As a User I want an image generated for my related item automatically so that I do not have to take picture myself and upload it somewhere 
</p>
<p>
Implementation: (?) Use phantomjs or something like <a class="ext-link" href="http://snapito.com/"><span class="icon">​</span>http://snapito.com/</a>
Investigate for 1.8, will be needed for TDH Oct.
</p>

                            
                          </td>
                          <td class="PosixTime">1337583347000000
                          </td>
                          <td class="ModifiedTime">1346669526000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2405.html">#2405</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2405.html">Improvements to data viewer embed</a>
                          </td>
                          <td class="description">
                            <ul><li>Decent powered by icon for the Embed for the <a class="missing wiki">DataHub?</a>? (make this text customizable and allow html ...)
<ul><li>Current icon and text looks really bad
</li></ul></li><li>Embed link uses uuid rather than dataset name (this goes to perma-url question ...)
</li><li>Data viewer embed url includes all the resource info (not needed -- just url and backend info ...)
</li><li>Embed extension urls do not respect original domain but instead use site_url (I'm guessing). E.g. datahub.io domain ends up with links to embed on thedatahub.org
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1337583565000000
                          </td>
                          <td class="ModifiedTime">1340635981000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2412.html">#2412</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2412.html">More than one resource invalidatiing breaks dataset edit form</a>
                          </td>
                          <td class="description">
                            <p>
When attempting to add more than one resource at once, if more than one resource invalidates, this results in a js error, leaving the form in an inconsistent state.
</p>
<p>
Repro:
</p>
<ol><li>Go to /dataset/new
</li><li>Add a new resource.  Fill in one of the fields with an invalid value. eg - last_modified, or size...
</li><li>Add another resource, doing the same thing: make one of the fields invalid.
</li><li>Try to save the dataset.
</li><li>The entered resource information will be lost, and a js error "Uncaught Error: Can't add the same model to a set twice,: backbone.js:586" will be thrown.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1337717148000000
                          </td>
                          <td class="ModifiedTime">1338203234000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2446.html">#2446</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2446.html">Create demo dataset history/comparison page</a>
                          </td>
                          <td class="description">
                            <p>
This is a low priority for the demo site.
</p>
<p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62414120/comments"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62414120/comments</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/dataset/history/adur_district_spending"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/history/adur_district_spending</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338210738000000
                          </td>
                          <td class="ModifiedTime">1352658819000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2451.html">#2451</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2451.html">Create demo user list page</a>
                          </td>
                          <td class="description">
                            <p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62268474/comments"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62268474/comments</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/user"><span class="icon">​</span>http://s031.okserver.org:2375/user</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338211213000000
                          </td>
                          <td class="ModifiedTime">1352658902000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2457.html">#2457</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2457.html">Create demo tags list page</a>
                          </td>
                          <td class="description">
                            <p>
This includes the tag page as well for now.
</p>
<p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62998445/comments"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62998445/comments</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/en/tag"><span class="icon">​</span>http://s031.okserver.org:2375/en/tag</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338211735000000
                          </td>
                          <td class="ModifiedTime">1352658878000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2461.html">#2461</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2461.html">Create demo revisions page</a>
                          </td>
                          <td class="description">
                            <p>
I believe this is to be merged in with site activity.
</p>
<p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/en/revision"><span class="icon">​</span>http://s031.okserver.org:2375/en/revision</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338212055000000
                          </td>
                          <td class="ModifiedTime">1344543838000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2473.html">#2473</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2473.html">Make datstorer store field ordering in _meta field</a>
                          </td>
                          <td class="description">
                            <p>
Recline views should have a default table order, being the same as the csv that was imported.
</p>

                            
                          </td>
                          <td class="PosixTime">1338293492000000
                          </td>
                          <td class="ModifiedTime">1340636871000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2513.html">#2513</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2513.html">Dataproxy should not default to utf8</a>
                          </td>
                          <td class="description">
                            <p>
Unless explicitly told by the source web server the dataproxy should not assume that the content it has can be encoded as UTF-8.  Even though the chars from 128 - 255 overlap an attempt to decode some byte array as utf8 will fail whenever a latin1 char whose bitpattern has the MSB set.
</p>
<p>
This will mean that the UTF8Recoder can be more rigid in its acceptance of data, Postel aside.
</p>

                            
                          </td>
                          <td class="PosixTime">1339575820000000
                          </td>
                          <td class="ModifiedTime">1346669646000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2520.html">#2520</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2520.html">Document undocumented config options</a>
                          </td>
                          <td class="description">
                            <p>
There are 21 undocumented config options in CKAN, some of which are not mentioned in the config file template either:
</p>
<p>
ckan.admin.name
ckan.admin.email
ckan.default.group_type
ckan.page_cache_enabled
ckan.cache_enabled
ckan.cache_expires
ckan.extra_resource_fields
ckan.extra_resource_group_fields
ckan.storage.key_prefix
ckan.storage.max_content_length
ckan.feeds.authority_name *
ckan.feeds.date *
ckan.feeds.author_name *
ckan.feeds.author_link *
ckan.mail_from
ckan.gravatar_default *
ckan.plugins
ckan.api_url
ckan.auth.profile
ckan.datastore.enabled
ckan.tracking_enabled
</p>
<p>
There are also some options that are in the default deployment.ini even though they're deprecated:
</p>
<p>
ckan.async_notifier
carrot_messaging_library
ckan.build_search_index_synchronously
</p>
<p>
See email to ckan-dev from David Read: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-June/002447.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-June/002447.html</a>
</p>
<p>
It'd be best if the docs could be automatically pulled from the source into sphinx using autodoc, see <a class="assigned ticket" href="../ticket/1358.html" title="enhancement: Generate configuration documentation automatically from the ... (assigned)">#1358</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1339588368000000
                          </td>
                          <td class="ModifiedTime">1340624908000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2535.html">#2535</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2535.html">SSL certificate for DataHub + https by default</a>
                          </td>
                          <td class="description">
                            <p>
<a class="missing wiki">DataHub?</a> is increasingly used and we should ensure it uses ssl as part of general security.
</p>
<p>
See also <a class="closed ticket" href="../ticket/1446.html" title="enhancement: Data Explorer v2 (closed: fixed)">#1446</a> (Need to support https login for multiple instances as part of the CKAN package install)
</p>

                            
                          </td>
                          <td class="PosixTime">1339758027000000
                          </td>
                          <td class="ModifiedTime">1346662082000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2546.html">#2546</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2546.html">ODS Managing homepage content</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
Require the ability for users to control some level of content that is visible on the home page of their ODS installation.  This may be through RSS/Atom feeds (see <a class="assigned ticket" href="../ticket/2234.html" title="enhancement: Write a CKAN extension for pulling items from RSS/Atom feeds into CKAN ... (assigned)">#2234</a>) or another mechanism but should result in admins being able to change blocks of text on their homepage.
</p>
<p>
This should not be configuration, but accessible through WUI.
</p>
<h2 id="Interface">Interface</h2>
<p>
None
</p>
<h2 id="UserStories">User Stories</h2>
<ul><li>As a system administrator I want to have control over content displayed on the front page beyond featured/popular items.  
</li></ul><p>
 
</p>
<ul><li>As a system administrator I don't want to manage content through having to write an extension.
</li></ul><p>
 
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[ ] Analysis
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340016842000000
                          </td>
                          <td class="ModifiedTime">1346663437000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2547.html">#2547</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/opendatasuite&#32;2.html">opendatasuite 2</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2547.html">ODS Initial data sets</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
The ODS demo site will need data adding, initially as fixtures but it would also be useful if we started evaluating datasets that we can ship with ODS installations (at least in the UK) from places such as DGU and ONS.
</p>
<p>
May wish to create a ticket for making sure the datasets within the system are reset every X hours. Perhaps.
</p>
<h2 id="Interface">Interface</h2>
<p>
None
</p>
<h2 id="UserStories">User Stories</h2>
<ul><li>As a new system administrator for an ODS instance, I don't want to have a site devoid of any data. Geographically relevant datasets would be welcomed.
</li></ul><ul><li>As a bizdev person I would like to be able to demonstrate how ODS works with real datasets.
</li></ul><h2 id="Tasks">Tasks</h2>
<p>
[ ] Identify relevant sources for datasets
</p>
<p>
[ ] Pick datasets
</p>
<p>
[ ] Set them up for import
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340016906000000
                          </td>
                          <td class="ModifiedTime">1340705614000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2548.html">#2548</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datahub-july.html">datahub-july</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2548.html">Object ownership for groups/package</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
We need to be able to easily determine who the owner of a dataset or group is.  Datasets and Groups should have an Owner, who may change over time but is a specific user within the CKAN instance.  It should be easy for CKAN components to determine the user and for the initial version we should ignore the can of worms labelled 'ownership transfer'.
</p>
<p>
At this point migration is likely to be the biggest issue, and would suggest that it is acceptable that the last user to edit a dataset be set as the current owner.
</p>
<p>
More tickets should arise as a result of this work where we may be able to optimise some queries to use the new feature.
</p>
<h2 id="Interface">Interface</h2>
<p>
None
</p>
<h2 id="UserStories">User Stories</h2>
<p>
None
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[ ] <a class="missing wiki">Analysis/Clarification?</a>
</p>
<p>
[ ] Tests
</p>
<p>
[ ] Migration
</p>
<p>
[ ] <a class="missing wiki">Code/Schema?</a> changes
</p>
<p>
[ ] Documentation
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340017331000000
                          </td>
                          <td class="ModifiedTime">1340706539000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2550.html">#2550</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datahub-july.html">datahub-july</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2550.html">User types</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
In the data hub plugin we require the ability to differentiate users between those that have paid for a service, and those that haven't. The distinction isn't boolean as there may be levels of service for paid users, so it may be that we need a 'type' of user where there are various grades of 'paid' which are likely to be strings (specific to the data hub).
</p>
<h2 id="Requiredinterface">Required interface</h2>
<p>
Once changes have been made to the user schema, for a given user we want to be able to:
</p>
<ul><li>determine if they have a paid or a free account, and
</li><li>get a string name of the type of paid account.
</li></ul><p>
Care should be taken to ensure that the 'paid' status of the user cannot be set through the API and only by the datahub plugin.
</p>
<h2 id="UserStories">User Stories</h2>
<p>
User stories related to the management, setting and changing of a user's payment level, as well as historical information on payments should be done as part of the work that includes actually allowing purchases.  For now it is adequate that we can manually control these things through paster commands.
</p>
<p>
Payments types should be linear as I don't believe for this type of service a pick-and-mix modular model would work well. Organizations will inherit the payment level of their owner, so currently there is no requirement for it to affect organizations at all.
</p>
<ul><li>As a sysadmin I would like to be able to use a paster command to
manually set a user's payment level, or remove it entirely.
</li></ul><ul><li>As a sysadmin I would like to be able to run a paster command to
view a list of users who have a payment plan, grouped by the plan
that they have.
</li></ul><ul><li>As a sysadmin I would like to be able to use the API to change the
payment status of a specific user through user_create and user_update.
This shouldn't be available to anybody else.
</li></ul><ul><li>As a user, and only if I have one, I'd like to see my current payment
level on my user profile page.
</li></ul><p>
   
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[x] Tests
</p>
<p>
[x] Plugin based migration
</p>
<p>
[x] Code
</p>
<blockquote>
<p>
[x] Model
</p>
</blockquote>
<blockquote>
<p>
[x] API
</p>
</blockquote>
<p>
[x] Documentation
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340017590000000
                          </td>
                          <td class="ModifiedTime">1346669497000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2552.html">#2552</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2552.html">Controlling access to features</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
To provide a freemium service it is necessary to be able to provide differing <span class="underline">levels</span> of functionality based on the <strong>type</strong> of user (see <a class="assigned ticket" href="../ticket/2550.html" title="enhancement: User types (assigned)">#2550</a>). These levels can be specific to the data hub but may require overriding functionality from core to provide these checks.
</p>
<p>
Initial implementation should focus on limiting access to datastore disk space.
</p>
<h2 id="Interface">Interface</h2>
<p>
These changes are currently only for the data hub and should be kept as much as possible within the data hub extension.
</p>
<h2 id="UserStories">User Stories</h2>
<ul><li>As a system component I want to find out if the current user has access to a feature (i.e. storage) and if so to what extent (xMb, xGb or unlimited).  
</li></ul><ul><li>As a system administrator I don't expect to need to manage the levels of users <strong>or</strong> the features that this applies to.
</li></ul><p>
 
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[ ] Clarification of requirements/analysis
</p>
<p>
[ ] Tests
</p>
<p>
[ ] Code
</p>
<blockquote>
<p>
[ ] Model
</p>
</blockquote>
<blockquote>
<p>
[ ] API
</p>
</blockquote>
<p>
  
</p>
<blockquote>
<p>
[ ] UI
</p>
</blockquote>
<p>
[ ] Documentation
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340018770000000
                          </td>
                          <td class="ModifiedTime">1346669544000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=status&amp;asc=0&amp;page=25.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <span class="current">26</span>
      </span>
      <span>
        <a href="22%3Fsort=status&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=status&amp;asc=0&amp;page=27.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=status&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=status&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=status&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>