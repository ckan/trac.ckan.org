<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=PosixTime&amp;asc=0&amp;page=24.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=PosixTime&amp;asc=0&amp;page=22.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=PosixTime&amp;asc=0&amp;page=23.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2201 - 2300 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=22.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <span class="current">23</span>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=29.html" title="Page 29">29</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=31.html" title="Page 31">31</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=32.html" title="Page 32">32</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=33.html" title="Page 33">33</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=24.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="23%3Fsort=ticket&amp;asc=1&amp;page=23.html">
              Ticket
            </a>
          </th><th class="desc">
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=23.html">
              Posixtime
            </a>
          </th><th>
            <a href="23%3Fsort=author&amp;asc=1&amp;page=23.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=23.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1020.html">#1020</a>
                          </td>
                          <td class="PosixTime">1300196215000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This is now on DGU live.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300105927000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Not sure when i described that other process but I'm definitely of the opinion that we should:

* Deprecate and remove stable branch
* Deprecate and remove metastable branch (going forward we can use release branches for what we did with metastable in the past)

May want to update BranchingPolicy to reflect this (also should probably have some statement about closing release branches and tagging)

Reassigning to David Raznick as he is our release guru now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/927.html">#927</a>
                          </td>
                          <td class="PosixTime">1300105638000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Closing this ticket as #841 is minor. More work on docs can go in new tickets.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="PosixTime">1300103984000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This includes:

 * Take out all references to harvestsource, harvestingjob and harvesteddocument in the  rest API
 * Move the harvesting bits of ckan/lib/cli.py into ckanext-harvest.
 * Move ckan/controller/harvesting.py and cknan/model/harvesting.py to ckanext-harvest  as well
 * Update ckanext-csw to be able to find the code it needs in the new place.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1300100411000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Converted completely to backbone and now have fully-operational add dataset functionality. I'm closing this ticket now - further improvements can be in there own tickets.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1005.html">#1005</a>
                          </td>
                          <td class="PosixTime">1300100085000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Moved to dgu trac ticket 869
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300098217000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Reassigning to rgrp for response
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/810.html">#810</a>
                          </td>
                          <td class="PosixTime">1300093797000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Moving back to backlog for v1.4 as should be dependent on forms overhaul and seems to be problematic (and not that urgent).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/867.html">#867</a>
                          </td>
                          <td class="PosixTime">1299866685000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">This was a breaking change for loaders code. Obviously we don't have tests for that so would not have been noticed ... Fixed in cset:af81e54bd590/ckanclient
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1031.html">#1031</a>
                          </td>
                          <td class="PosixTime">1299863222000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Done, see cset:78d96b520679
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/366.html">#366</a>
                          </td>
                          <td class="PosixTime">1299845781000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">You're right, that's done!
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/366.html">#366</a>
                          </td>
                          <td class="PosixTime">1299845116000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I'm very pleased that this now works when you try to edit a package that is not allowed. Are there other circumstances we should cover or can we close this?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/913.html">#913</a>
                          </td>
                          <td class="PosixTime">1299841413000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">If at all possible this should uris from the OKF licenses registry at http://licenses.opendefinition.org/
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/927.html">#927</a>
                          </td>
                          <td class="PosixTime">1299841206000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Major update including notes of what has been done (where not a separate ticket) and addition of a few items.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/929.html">#929</a>
                          </td>
                          <td class="PosixTime">1299840884000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I'm closing this ticket as a) most systems should install the licenses package (and hence have the licenses locally) and b) licenses service has now moved to s3 so should be very robust (see ticket:973 and http://knowledgeforge.net/okfn/tasks/ticket/605)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/904.html">#904</a>
                          </td>
                          <td class="PosixTime">1299840539000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">We're already now into improving the docs and ticket:927 is now reasonably detailed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1015.html">#1015</a>
                          </td>
                          <td class="PosixTime">1299788821000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Today kindly applied the sql fixes and I can confirm this is now fixed. Well done kindly for all the great work here.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/738.html">#738</a>
                          </td>
                          <td class="PosixTime">1299761436000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This is now complete and on UAT.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1028.html">#1028</a>
                          </td>
                          <td class="PosixTime">1299760360000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset 4d860a53fbad on 1.3.2 and merged to default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/662.html">#662</a>
                          </td>
                          <td class="PosixTime">1299755259000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">We want this fixed for CLG customer (DGU), so have put in a quick fix into branch 3.1.2 cset:0010a709edf0 (and merged to default) as a stopgap whilst new forms are on their way.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299751045000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Thanks for pointing this out. Although changing the definition of 'editor' to not allow edit (as you admit) is a bit hacky, and I think prone to confusion. James and I weren't aware there was a precedent for doing it this way, but if we had, we may well have followed it.

I mentioned the branch for this cset, in preference to the csets.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299750097000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">(Link to changeset). Could you briefly clarify why this was needed in config -- we already have a process for putting things into a more restricted mode (see ticket:833) and have been working on creating a WUI to be able to do this automatically (see that ticket).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1027.html">#1027</a>
                          </td>
                          <td class="PosixTime">1299682082000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:532c3ad2743b
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1024.html">#1024</a>
                          </td>
                          <td class="PosixTime">1299668648000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">re-created this (#1027)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1017.html">#1017</a>
                          </td>
                          <td class="PosixTime">1299668555000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:86d49a775fd3
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1027.html">#1027</a>
                          </td>
                          <td class="PosixTime">1299666326000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">
1. home controller -&gt; __before__ (check "site-read" on model.System)
2. user -&gt; each individually (repoze-who pseudo action must not be blocked)
  * user-read (index/read/update pages for users)
  * user-create (register)
3. revision -&gt; __before__ (check "site-read" on model.System)
4. tag -&gt; site-read (__before__)

functional/test_authz.py
  * denies site-read ...
  * checks for visitor / logged in user ..
  * checks you can still visit login
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1026.html">#1026</a>
                          </td>
                          <td class="PosixTime">1299605128000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:2dde3bd563fd for branch 1.3.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299598708000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in enh-1025-config-default-authz and goes into release 1.3.2.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1021.html">#1021</a>
                          </td>
                          <td class="PosixTime">1299518828000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:9f1b38add19f
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1023.html">#1023</a>
                          </td>
                          <td class="PosixTime">1299514847000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Tried implementing this with AMQPs msg.requeue() and channel.basic_recover() but RabbitMQ yield a NOT_IMPLEMENTED error. 

Bit clueless on how to proceed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1022.html">#1022</a>
                          </td>
                          <td class="PosixTime">1299512991000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">We're now using fileConfig to configure the logger API from the worker config file and this enables us to use SMTPHandler to send out error messages on queue processing failures. 

Marking as fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/956.html">#956</a>
                          </td>
                          <td class="PosixTime">1299489084000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset:1305b9192d49
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1014.html">#1014</a>
                          </td>
                          <td class="PosixTime">1299245293000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">Run out of time for decoupling, but tests and README.txt written (including pointers about how to customise for anyone who needs to decouple in the future)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1299245206000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">Merged to default https://bitbucket.org/okfn/ckan/changeset/e8217c317a8e
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1013.html">#1013</a>
                          </td>
                          <td class="PosixTime">1299245157000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">This is now resolved, but depends on core CKAN behaviour (specifically pluggable middleware and unicode-aware error pages) to function:

  https://bitbucket.org/okfn/ckan/changeset/c846794c1799
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/971.html">#971</a>
                          </td>
                          <td class="PosixTime">1299245064000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">folded into #1013
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1019.html">#1019</a>
                          </td>
                          <td class="PosixTime">1299166930000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in https://bitbucket.org/okfn/ckanext-webhooks/changeset/034647931921
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/496.html">#496</a>
                          </td>
                          <td class="PosixTime">1299164106000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Will has implemented this now and OS have confirmed their export to GeoNetwork works.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/427.html">#427</a>
                          </td>
                          <td class="PosixTime">1299164063000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This is done in the latest release to test.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1018.html">#1018</a>
                          </td>
                          <td class="PosixTime">1299073340000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:e4167f8b3f80 on default
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/663.html">#663</a>
                          </td>
                          <td class="PosixTime">1298913603000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset:76a77439ecd0
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/994.html">#994</a>
                          </td>
                          <td class="PosixTime">1298912830000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">see cset:93188d42fc12
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1000.html">#1000</a>
                          </td>
                          <td class="PosixTime">1298912726000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">fixed cset:630513f550d5
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1015.html">#1015</a>
                          </td>
                          <td class="PosixTime">1298902753000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">The migration fixes should sort this out, but I will keep the ticket open to check.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/937.html">#937</a>
                          </td>
                          <td class="PosixTime">1298892547000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">The current implementation I referenced above will be a good starting point.

Work that remains:

 * Add download click tracking to individual download links (currently we just record page views for packages, not downloads)
 * Somehow cache the download stats against each package (the Google API is very slow); package reddis or sqlite or similar as a local storage for the extension
 * Expose download information in the relevant places in the UI (all users? package owners? where?)

This is about 2 days' work.  Unlikely to get it done in this sprint.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1298889293000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Have now started refactor to use backbone and have basic inline editing working and started on Add dataset view.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/833.html">#833</a>
                          </td>
                          <td class="PosixTime">1298889104000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">In progress now (sysadmin view and update nearly done).
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/962.html">#962</a>
                          </td>
                          <td class="PosixTime">1298889078000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Nearly done.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1298887980000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Buildbot scripts now fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/941.html">#941</a>
                          </td>
                          <td class="PosixTime">1298886391000000
                          </td>
                          <td class="author">wwitzel3
                          </td>
                          <td class="newvalue">Continued work on the community plugin. I am still learning the layout of templates and how they work within ckan and getting figuring out Genshi templates so this is where most of the delay has been. I've been able to determine a pretty good plugin layout for extensions that create models.

I am currently focusing on getting the rest of the UI in place and trying to determine the best way to get colander to do the desired validation beyond ensuring the form has all the elements. After todays work, I will push what I've done and I would like to walk through the design with someone at some point.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/363.html">#363</a>
                          </td>
                          <td class="PosixTime">1298840718000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">revision objects are made everytime a new revision is made even if their are no changes.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298825600000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">Proposed implementation at https://bitbucket.org/okfn/ckan/changeset/187e65afb35f
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298824649000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">The "external source" is an Oauth service.  We need to lookup user groups from that service.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1008.html">#1008</a>
                          </td>
                          <td class="PosixTime">1298821826000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I've removed the eval in cset:1b8fedeb7ab0 - the more general question about caching should go in a separate ticket.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298821699000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I agree that IAuthorizer is useful but not sure how it addresses the requirement of the ticket. AuthorizationGroups are already editable via the web interface at /authorizationgroup
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298820235000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">On reflection, may as well make a Plugin interface called IAuthorizer, which allows customisation of get_authorization_groups, get_roles, and is_authorized....
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1010.html">#1010</a>
                          </td>
                          <td class="PosixTime">1298740889000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Meant this cset:d2651db566ef
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1010.html">#1010</a>
                          </td>
                          <td class="PosixTime">1298733856000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Complete see branch feature-1010-list-users and closing changeset cset:feature-1010-list-users.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1009.html">#1009</a>
                          </td>
                          <td class="PosixTime">1298638447000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Some more ideas: 
 
 * /user should list users, sorted by number of packages contributed/editied
 * /user/{name}/packages shows a list of packages to which users have contributed

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1298631145000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This command is slightly different to your branch policy as of two weeks ago:
{{{
stable: stable code
metastable: (will soon be deprecated) for code preparing to be stable
default: development HEAD
}}}
which I prefer. 

My ideal would be to get rid of the confusing name 'metastable' and unneeded 'stable' and start a new branch called 'released', which will act the same as 'master' in this diagram but with a more intuitive name:
http://nvie.com/posts/a-successful-git-branching-model

Then for each ckan instance we can either use the most recent release (from 'released') or choose a specific one (e.g. 'ckan-1.3' or even 'default' or 'enh-865' for getting latest features). This gives a good degree of flexibility, is more understandable to newbies and probably a more widely understood branching model.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/877.html">#877</a>
                          </td>
                          <td class="PosixTime">1298624165000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Various tidying in https://bitbucket.org/okfn/ckanext-upload/changeset/0fad7aa7aa97 (success messages, permissions on uploaded file - public-read) and completed permissions in https://bitbucket.org/okfn/ckanext-upload/changeset/a83ce00a1266.

Still need to integrate into general workflow (e.g. create a Resource on successful upload) but that is a separate item so this ticket is now done.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/944.html">#944</a>
                          </td>
                          <td class="PosixTime">1298571917000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Won't work on this for now - IATI is now running against plain CKAN but this is not deployed. We will continue work on this once IATI requests more functionality and shelf it for now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1298571248000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">digitialiser.dk has been assigned to Stefan Marsirske to get him into this Framework, everything else is delayed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/926.html">#926</a>
                          </td>
                          <td class="PosixTime">1298541597000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Goals: 

We want the interface for updating an object to be loosely coupled to
 the method for updating it.

We might update a Package from:

 - HTML forms
 - a REST API (using JSON)
 - a CLI (potentially using command line arguments, YaML, XML or ini files)

Right now, data is validated using a form framework, even if we're not
using forms.  Data is written to the object as part of the forms
framework (using the "sync()" method), making the process hard to
customise and hard to discover.

Instead, there should be a standard chain for:

 - deserialising untyped data (such as that received from an HTTP POST
   or parsed from a YaML file) into valid data
 - returning structured errors suitable for displaying to the user
 - saving the validated, deserialised data

Ideally, it would look something like:

  schema = MySchemaDefinition()
  raw_data = open("raw.csv", "r").read()
  structured_data = to_python(raw_data, schema)
  try:
     validated = validate(python_data)
     myobject.update_from_dict(validated)
     return "Updated OK"
  except ValidationError, e:
     return "Error: %s" % e.to_dict()

The inverse would be something like:
 
  structured_data = myobject.render_to_dict()
  raw_data.write(to_csv(structured_data, schema)
  print "Wrote CSV %s" % to_logformat(serialized_data, schema)

The question of how to generate and display forms should be completely
decoupled from this.  It should be easy to write forms by hand, which
means it should be simple to flatten the serialized data to key, value
pairs, and match up any validation errors to each key.

Optionally, a form widget generation framework is a nice-to-have, but
not essential, as it is expected that, given enough time, the majority
of forms will require manual coding to accomodate edge conditions.

A form widget generation framework should be reasonably complete if
it's worth trying at all, which means it should support things like:

 - nested fields (at least repeating, multi-value fieldsets)
 - widgets for dates and file uploads
 - internationalisation

...but note I'd settle for *no* widget generation

Components of a serialisation / validation framework:

 - a simple, obvious way to define a schema
 - a lightweight validation implementation
   - simple interface for validators
   - easy to match validation errors to data structure items

Overall, I'd like to see:

 - loose coupling, no framework dependencies
 - maximal test coverage
 - extensive documentation with readily available examples

## Findings

I looked at flatland, formencode, FormAlchemy, formish, WTForms, Django, web2py, deform/colander, formconvert and web.py

 - **web2py** just helps build HTML from python, so isn't what I'm after at all 
 - **web.py** has rudimentary validation which is only aimed at HTML forms and is hence tightly coupled with them. 
 - **Django**'s forms are again tightly coupled to HTML forms (and their generation)
 - **FormAlchemy** similarly couples validation to forms, and is focussed on inferring a schema from a data model SQLAlchemy.  
 - **WTForms** again focuses on Form generation and don't make itx easy to deserialise arbitrary data

This leaves us with Flatland, Formencode, Formish, Colander/Peppercorn/Deform, and FormConvert.

Having reviewed all of these, I rejected Formencode on the basis of its patchy documentation and relatively low unit test coverage.  I also found it mixed concerns a bit much for my taste.

Formish felt similarly sparsely documented.

Of the remainder, I'd be happy using any of them, but opted for Colander in the end as it has the most exhaustive documentation and unit tests and has been used in production for a long time.  FormConvert has a nice design but is a bit of a moving target at the moment -- worth revisiting in the future.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1298490126000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Work so far in http://bitbucket.org/rgrp/ckanjs
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/926.html">#926</a>
                          </td>
                          <td class="PosixTime">1298489517000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">@Seb: I believe this is now decided following discussion last week. Please could you detail results and close :)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/821.html">#821</a>
                          </td>
                          <td class="PosixTime">1298486642000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Investigating several of these packages, it works for me (and David Raznick).

For example ni_013_migrants_english_language_skills_and_knowledge, one resource is  seen created in the diffs, is displayed in CKAN, in the API and in the dumps. Yet looking at the dump from 17/11/10 when this ticket was created, the resource didn't have a URI, which by the current model is a requirement, so it suggests the data was fine underneath, but it had problems displaying this field, and is now fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1298482394000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Need to do this for older branches which isn't subject to #963.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/659.html">#659</a>
                          </td>
                          <td class="PosixTime">1298424109000000
                          </td>
                          <td class="author">nils.toedtmann
                          </td>
                          <td class="newvalue">Good idea. Listed this in my nagios ticket http://knowledgeforge.net/okfn/tasks/ticket/600
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/659.html">#659</a>
                          </td>
                          <td class="PosixTime">1298379892000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Smoketest scripts exist for exactly this in ckanext. It would be great to have this running on nagios.

It is as simple as running:

 python blackbox/smoke.py -H ckan.net blackbox/ckan.net.profile.json

See here for code:

https://bitbucket.org/okfn/ckanext/src/default/blackbox
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/931.html">#931</a>
                          </td>
                          <td class="PosixTime">1298379187000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This was completed in ckanclient in cset:1bfefd7596d3
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/805.html">#805</a>
                          </td>
                          <td class="PosixTime">1298379084000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Migration tests added to buildbot using kindly's new nose option #965.
Also removed legacy system of migration testing in: ckan/migration/tests
and updated docs. cset:643673c7db3e
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/993.html">#993</a>
                          </td>
                          <td class="PosixTime">1298373114000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed on 1.3 cset:7708c8b521ed and merged to default. Deployed to ckan.net.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298372171000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Yes I agree - either of those sounds good. I think I've always used 'db init' in preference anyway.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298371191000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">I am happy to get rid of paster db create altogether as a compromise?  Or add a depreciation warning to it?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298369862000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">'paster db create' (or init) should do exactly what we ask. Surely we should simply tell people to use 'paster db upgrade' instead?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/505.html">#505</a>
                          </td>
                          <td class="PosixTime">1298368280000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Now complete
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/893.html">#893</a>
                          </td>
                          <td class="PosixTime">1298293527000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We don't understand the use case for this requirement. Closing for now until a use case can be demonstrated.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/963.html">#963</a>
                          </td>
                          <td class="PosixTime">1298284252000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">You can now get CKAN from the repository http://apt-alpha.ckan.org/debian
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/482.html">#482</a>
                          </td>
                          <td class="PosixTime">1298284158000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This is now 6 months old and there still doesn't seem to be a requirement for this. Marking wontfix and we can come back to it if it comes up again.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/435.html">#435</a>
                          </td>
                          <td class="PosixTime">1298284084000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Haven't seen this myself and it is 6 months old now.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/936.html">#936</a>
                          </td>
                          <td class="PosixTime">1298283172000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Hi Wayne,

I'm assigning this to you but it isn't a priority yet. We'll put it in a sprint when it is time to do it.

Cheers,

James
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/430.html">#430</a>
                          </td>
                          <td class="PosixTime">1298283075000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We are doing other refactoring that is more important than this such as:

* Plugin APIs to enable extensions
* Form refactroing

This ticket is 6 months old so closing.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/992.html">#992</a>
                          </td>
                          <td class="PosixTime">1298060474000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Fixed in cset:08548ef8f0e9
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/991.html">#991</a>
                          </td>
                          <td class="PosixTime">1298037717000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:56cccbbb9d1a in time for ckan 1.3 release. This did not affect previous releases.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/963.html">#963</a>
                          </td>
                          <td class="PosixTime">1297850773000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We will also remove all the different pip files as part of this fixing #982 at the same time.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297850732000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">This is now rolled into #963. Marking as duplicate.

People can get the pip from a branch over HTTP like this:

https://bitbucket.org/okfn/ckan/src/&lt;branch-name&gt;/path/to/file/you/want
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/986.html">#986</a>
                          </td>
                          <td class="PosixTime">1297812401000000
                          </td>
                          <td class="author">wwitzel3
                          </td>
                          <td class="newvalue">https://bitbucket.org/okfn/ckanext-qa/src/be57e20c60ef/
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/715.html">#715</a>
                          </td>
                          <td class="PosixTime">1297796784000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:69c4210f635a
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/808.html">#808</a>
                          </td>
                          <td class="PosixTime">1297783658000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">implemented in cset:8200247e74e9
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/983.html">#983</a>
                          </td>
                          <td class="PosixTime">1297773407000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Error was tracked down to cset:214a8f9fc1c2 (26-9-2010): 
upgrade_db called validate_authorization_setup() which calls setup_default_user_roles(System())

Fixed in cset:9f51a1c8ac83 for 1.3 branch and merged to default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297706620000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I do not think we need to 'extend the model' if you intend to make the migrations separate. If the schema is decoupled, then there are no problems.  So each plugin can have its own model and use sqlalchemy independently i.e have their own metadata, classes and mappers.  They do not have to even use sqlalchemy.

What I mean is that there is no need to do anything apart from.

 * Agree on a naming convention of the plugin tables (including their own migrate table each)
 * Agree to the rule that no plugin can add a column to an existing table.
 * Agree that no table can have a (database level) foreign key constraint between the core tables and itself in either direction.  They *can* have implied sqlalchemy level joins.
 * Maybe have a hook that on db upgrade all plugins are upgraded.

Each plugin will have to redefine the tables, classes and mappers they need to join onto the core tables themselves. reusing/extending the core model will not be worth the trouble.

This seems to cover your use cases and this way everything is nicely decoupled. Best of all there is very little work to do...
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297700818000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Kindly, I agree - it would be much preferable to have independent storage for plugins and this would be easy to do if we were using another type of storage already. As it stands, however, our storage mechanism is SQL. I think we should use it for what it is as much as possible and do the weird, vertical stuff (k,v tables, swapping to redis) only if we really need it. For everything else: lets use SQL as it was intended. 

Examples: 

 * We want to develop an apps catalogue as a CKAN plugin. While we could certainly put this in Redis, there is no reason why we can't have the following table: application (id, name, title, description, author, project_url, site_url, code_url, image).
 * A watchlist plugin could essentially work on UUIDs alone. What you'd end up with is something like this: watch (id, user, scope_id). 

Re migrations you're right, but my first intention would be to handle that seperatly for each plugin (i.e. they need to have their own migration repositories that they keep track of, e.g. via an apps_migrate_version table)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297700363000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">It would be nice to know some use cases.   I think that plugins should control their own storage, or share a storage that is designed to be flexible (mongo, redis ...).   

We do not seem to be able to keep our current migrate repository in sync let alone add plugins to the mix.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/937.html">#937</a>
                          </td>
                          <td class="PosixTime">1297689859000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">(and it would also need some proper caching as the GA API is very slow)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/937.html">#937</a>
                          </td>
                          <td class="PosixTime">1297689781000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">I did a very quick hacky thing at the end of last week on top of the "insert google analytics code" extension we discussed, to work out "most popular packages" based off data harvested from the Google Analytics API.  Needs making generic, tests etc but could be a starting point:
https://bitbucket.org/sebbacon/ckanext-googleanalytics/src
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/941.html">#941</a>
                          </td>
                          <td class="PosixTime">1297689750000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">The system will need some way of plugging in the model. See ticket #989 for progress on this.

Other ideas:

* The apps will need an image upload
* We might like a voting system for apps and ideas, potentially that could be re-used later. 

Let's discuss the above ideas after the basic functionality is in place.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/801.html">#801</a>
                          </td>
                          <td class="PosixTime">1297686706000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We do have a requirement for this now. The job model has changed so that it is hidden from the user. We therefore want to know the timestamp the job started and the timestamp it finished. We'll therefore need migrations adding too.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/794.html">#794</a>
                          </td>
                          <td class="PosixTime">1297686491000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Actually, for the timebeing we will match but not do anything with that matched information, until there is a clear use case. Publisher is simply the publisher for which the source was registered. Closing this ticket.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/427.html">#427</a>
                          </td>
                          <td class="PosixTime">1297686183000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Documentation of the licenses service was handled in #973. Changing this ticket to be about matching the license service in UKLII.
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=22.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <span class="current">23</span>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=29.html" title="Page 29">29</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=31.html" title="Page 31">31</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=32.html" title="Page 32">32</a>
      </span>
      <span>
        <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=33.html" title="Page 33">33</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=PosixTime&amp;asc=0&amp;page=24.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=PosixTime&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>