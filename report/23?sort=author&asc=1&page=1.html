<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=author&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=author&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=author&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=author&amp;asc=1&amp;page=1.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1 - 100 of 3729)</span>
      </h2>
      <div class="paging">
      <span>
        <span class="current">1</span>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="23%3Fsort=ticket&amp;asc=1&amp;page=1.html">
              Ticket
            </a>
          </th><th>
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=1.html">
              Posixtime
            </a>
          </th><th class="asc">
            <a href="23%3Fsort=author&amp;asc=0&amp;page=1.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=1.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/23.html">#23</a>
                          </td>
                          <td class="PosixTime">1182834140000000
                          </td>
                          <td class="author">ChepDiso
                          </td>
                          <td class="newvalue">&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst1.html '&gt;airline discount tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst2.html '&gt;cheap airfare&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst3.html '&gt;cheap air fares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst4.html '&gt;cheap air flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst5.html '&gt;cheap airline flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst6.html '&gt;cheap airline tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst7.html '&gt;cheap airplane tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst8.html '&gt;cheap air tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst9.html '&gt;cheap air travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst10.html '&gt;cheap checks&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst11.html '&gt;cheap concert tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst12.html '&gt;cheap cruises&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst13.html '&gt;cheap discount airfare&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst14.html '&gt;cheap disney tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst15.html '&gt;cheap flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst16.html '&gt;cheap flights dubai&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst17.html '&gt;cheap flights manila&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst18.html '&gt;cheap flights paris&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst19.html '&gt;cheap flights prague&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst20.html '&gt;cheap flights rome&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst21.html '&gt;cheap flights sydney&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst22.html '&gt;cheap flights to australia&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst23.html '&gt;cheap flights to europe&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst24.html '&gt;cheap flights uk&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst25.html '&gt;cheap flight tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst26.html '&gt;cheap hotels&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst27.html '&gt;cheap international airfare&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst28.html '&gt;cheap international air fares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst29.html '&gt;cheap international flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst30.html '&gt;cheap motels&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst31.html '&gt;cheap northwest flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst32.html '&gt;cheap plane tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst33.html '&gt;cheap sunglasses&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst34.html '&gt;cheap tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst35.html '&gt;cheap tickets london&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst36.html '&gt;cheap tires&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst37.html '&gt;cheap train tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst38.html '&gt;cheap travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst39.html '&gt;cheap travel packages&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst40.html '&gt;cheap vacations&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst41.html '&gt;cheap wedding favors&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst42.html '&gt;cheap wedding invitations&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst43.html '&gt;dirt cheap airfare&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst44.html '&gt;dirt cheap tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst45.html '&gt;discount airfare&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst46.html '&gt;discount air fares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst47.html '&gt;discount airlines&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst48.html '&gt;discount air travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst49.html '&gt;discount auto parts&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst50.html '&gt;discount cosmetics&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst51.html '&gt;discount cruises&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst52.html '&gt;discount fabric&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst53.html '&gt;discount flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst54.html '&gt;discount hotels&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst55.html '&gt;discount international flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst56.html '&gt;discount jewelry&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst57.html '&gt;discount kitchen cabinets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst58.html '&gt;discount lodging&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst59.html '&gt;discount perfume&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst60.html '&gt;discount plane tickets&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst61.html '&gt;discount shoes&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst62.html '&gt;discount sunglasses&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst63.html '&gt;discount tire&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst64.html '&gt;discount travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst65.html '&gt;discount travel packages&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst66.html '&gt;military discount flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/nst/wp-content/themes/nst/nst67.html '&gt;military discount travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl1.html '&gt;airfares rome&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl2.html '&gt;airline reservations&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl3.html '&gt;airline travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl4.html '&gt;air travel finder&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl5.html '&gt;bargain flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl6.html '&gt;best air fares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl7.html '&gt;business class flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl8.html '&gt;cheap air travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl9.html '&gt;discount air travel&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl10.html '&gt;discounted fares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl11.html '&gt;discounted flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl12.html '&gt;flight las vegas&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl13.html '&gt;flights johannesburg&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl14.html '&gt;flights moscow&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl15.html '&gt;flights panama&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl16.html '&gt;flights riga&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl17.html '&gt;flights tokyo&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl18.html '&gt;flights vilnius&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl19.html '&gt;flight tracker&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl20.html '&gt;hotel reservations&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl21.html '&gt;last minute airfare&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl22.html '&gt;last minute flights&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl23.html '&gt;low air fares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl24.html '&gt;lowest airfares&lt;/a&gt; 
&lt;a href='http://blogs.lib.uconn.edu/rcl/wp-content/themes/rcl/rcl25.html '&gt;southwest airlines fares&lt;/a&gt; 
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/336.html">#336</a>
                          </td>
                          <td class="PosixTime">1279368544000000
                          </td>
                          <td class="author">Donny
                          </td>
                          <td class="newvalue">http://ckan.net/api/search/resource?url=http://scraperwiki.com&amp;all_fields=1&amp;callback=ckantest

yields 

Bad search option: Field "callback" not recognised in Resource search.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/128.html">#128</a>
                          </td>
                          <td class="PosixTime">1275694573000000
                          </td>
                          <td class="author">Floallgloli
                          </td>
                          <td class="newvalue">Futures Trading Key your Futures education provider
Learn how to trade futures with live trading education
Futures education and trading free trial live on line room

&lt;a href=http://www.futurestradingkey.com&gt;&lt;B&gt;Futures&lt;/B&gt;&lt;/a&gt;
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1291742752000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">I see two possible options:

Option A: store only mirrors of source files, have file format based plugins for querying files

Option B: store mirrors of source files, have plugin based loading scripts into "common structured format", have single query module.

I would go with option B as it is:

- easier to implement - file format based transformations are simpler than file format based queries
- more transparent data management process
- only one simple query module
(see attached  ckan-srcmirror.png)

The Option B will fit better to the broader data architecture context:

http://democracyfarm.org/f/ckan/data_arch.png

Concerning API I would suggest to try to be compatible with google spreadsheet API:

http://code.google.com/apis/spreadsheets/data/3.0/reference.html
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1291851275000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">@thejimmyg: It is neat simple solution.

You have suggested a proxy API:

''There will be a new API at ``/api/spreadsheet?callback=jsonpcallback&amp;url=``
''

There are two options:

1. Have public ckan data proxy as stand-alone service: I get package resource URL from CKAN and pass it to proxy

2. Have ckan data API (as ticket title suggests): If I am talking to CKAN, I am getting data from CKAN, I should not care about proxy or anything behind nor I should care about original data source - I care about resource data in a format that I can process (CSV/JSON).

For CKAN data API I would suggest something like:


{{{
/api/resource_data/RESOURCE_ID?...

}}}

or more human readable:


{{{
/api/resource_data/PACKAGE_NAME/RESOURCE_NUMBER?...

}}}

This will allow others to get only CKAN resources. Moreover, allowing to get only resource data (not any URL data) would allow us to pre-process resources in the future.

First version/implementation: pass each requested resource URL to your proxy service (external, not CKAN related), which determines file by file extension in URL, fail on unknown file or unprocessable file.

/api/resource_data/PACKAGE/RESOURCE?output=jsonp&amp;sheet=1...

would be redirected to (for example):

http://1.latest.jsonpdataproxy.appspot.com/?url=RESOURCE["URL"]&amp;sheet=1...


Second version/implementation: Determine file type in advance and pass to appropriate conversion service when requested

If you upload document on scribd or slideshare it gets processed in the background. This can be done in CKAN after any resource change. We do not need to download the file at the moment, however what can be done is:

1. try a converter by URL file extension
2. try a converter by MIME type (content-type header)
3. brute-force try all converters

No need to store copies of files, just store determined file type somewhere in the resource record (as mime type).

Also, it would be nice if any data conversion service would provide output in both - JSON/CSV. Therefore we would be able to have "Download CSV" link directly in CKAN web page for browsing users:

/api/resource_data/PACKAGE/RESOURCE?output=csv...
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1291858346000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">I have created "proof of concept" implementation that will use external data proxy service when accessing:


{{{
/api/data/PACKAGE_ID

}}}

like:


{{{
http://127.0.0.1:5000/api/data/069c80f8-8476-452e-bfd4-0a9077666c14

}}}

It just works and requires refactoring to match ckan standards. I would need help from soneone who knows ckan internals better.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1291859298000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">One more note: it would be good if packages had names/identifiers as well, as referencing internal IDs from outside world is not very good practice - they are quite volatile, mostly in regard to expected objects.

PACKAGE/RESOURCE_REFERENCE

Possible resource references:
- 'default' - reserved keyword for 'the only one resource' if there is only one, or first resource if there are more or the one with flag 'default'
- 'latest' - to be able to access 'latest' resource within package (or 'actual' or 'last'?)
- alphanumeric identifier (not starting with number)
- number - index of resource as human/visitor sees it on page (not the same as "position" attribute - as that one might contain gaps or be different (and it is in some cases)), index of resource should be something like:

{{{
SELECT package_id, id, url, ROW_NUMBER() OVER (PARTITION BY package_id ORDER BY position) AS index FROM package_resource

}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1292001709000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">'draft": https://github.com/Stiivi/ckanext-dataapi

requires that the client handles HTTP 302 Redirect correctly.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1292596589000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">Here is the fork for (json) data proxy:

https://bitbucket.org/Stiivi/dataproxy

I've refactored it and moved transformations into separate modules. For each resource type there should be a module in transform/&lt;type&gt;_transform.py

Each module should implement ``transform(flow, url, query)`` and should return a dictionary
as a result.

Existing modules:

* transform/csv_transform - CSV files
* transform/xls_transform - Excel XLS files

if there is no resource_type module, HTTP 200 Error Resource type not supported is returned.

You can override URL file extension or specify type if extension is missing through type= URL option. For example if you have any URL that contains CSV data however the url is just foo.com/data then you can pass: url=http://foo.com/data&amp;type=csv

Note: Source refactored/updated in example/dataproxy, being tested by running locally localhost:8000.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1292781368000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">pushed parameter passing; change handling of unknown reply type on proxy side: do not raise exception, but reply with 200 Error - unkown reply type, use json/jsonp
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/888.html">#888</a>
                          </td>
                          <td class="PosixTime">1294830297000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">Chages to Data Proxy:
* tests added with configurable list of known URLs

* use brewery for transformations (included reference to brewery framework in a new vendor directory)
* side effect: code to make google find external packages in vendor directory (from now on, all external packages should go there and be referenced from .hgsub if they are mercurial repositories)

* changed response contents: moved from 'headers' to root, renamed 'response' to 'data', added field list as 'fields'
* changed way of registering transformers (now class object is used instead of name)
* added 'encoding' and 'dialect' parameters for CSV
* added optional data audit (parameter 'audit')

Changes: https://bitbucket.org/Stiivi/dataproxy/changeset/fccbdd275be5

Data information: http://databrewery.org/doc/data_quality.html#brewery.dq.FieldStatistics

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/407.html">#407</a>
                          </td>
                          <td class="PosixTime">1281506792000000
                          </td>
                          <td class="author">aidan@scraperwiki
                          </td>
                          <td class="newvalue">Need to agree who is doing this. ATM Julian is on holiday and Richard is focussed on visualisation. Will pick up after holidays - hope this is ok.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/23.html">#23</a>
                          </td>
                          <td class="PosixTime">1177416347000000
                          </td>
                          <td class="author">airlinetickets
                          </td>
                          <td class="newvalue">&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets.html '&gt;cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-london.html '&gt;cheap airline tickets london&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-italy.html '&gt;airline tickets italy&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets.html '&gt;cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets.html '&gt;dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-airline-tickets.html '&gt;low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-dirt-cheap-airline-tickets.html '&gt;robots dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-low-cost-airline-tickets.html '&gt;robots low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discounted-airline-tickets.html '&gt;discounted airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-cheep-airline-tickets.html '&gt;robots cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-discounted-airline-tickets.html '&gt;robots discounted airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets.html '&gt;discount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-cheap-airline-tickets.html '&gt;robots cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-cheap-airline-tickets-flights.html '&gt;robots cheap airline tickets flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-low-cost-airline-tickets.html '&gt;first class low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-air-flights-low-cost-airline-tickets.html '&gt;cheap air flights low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-sexy-nude-bangkok-manila-www-com.html '&gt;airline tickets sexy nude bangkok manila www com&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-dirt-cheap-airline-tickets.html '&gt;first class dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/aeroflot-airline-tickets.html '&gt;aeroflot airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-online-cheap.html '&gt;airline tickets online cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-discounted-airline-tickets.html '&gt;first class discounted airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-flight-tickets-cheap-airline-tickets.html '&gt;airline flight tickets cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-cheep-airline-tickets.html '&gt;first class cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-sexy-islands-hawaii-miami-florida-travel.html '&gt;airline tickets sexy islands hawaii miami florida travel&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/las-vegas-hotels-airline-tickets.html '&gt;las vegas hotels airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheapest-airline-tickets.html '&gt;cheapest airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-cheap-airline-tickets.html '&gt;first class cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-travl-new-zealand.html '&gt;dirt cheap airline tickets travl new zealand&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-cheap-airline-tickets-flights.html '&gt;first class cheap airline tickets flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets-cheap-discounte-airline-ticket.html '&gt;discount airline tickets cheap discounte airline ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheep-cheep-tickets.html '&gt;airline tickets cheep cheep tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-cheep-tickets.html '&gt;cheep airline tickets cheep tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/book-airline-tickets.html '&gt;book airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-cruises-carribean-airline-tickets-flights.html '&gt;cheap cruises carribean airline tickets flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheapest-plane-tickets-flights-airline-flight-ticket.html '&gt;cheapest plane tickets flights airline flight ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-flights-paris-france-madrid-spain.html '&gt;airline tickets flights paris france madrid spain&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-paris-london-rome-amsterdam.html '&gt;airline tickets paris london rome amsterdam&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-ticket-cheep-airline-tickets.html '&gt;cheep airline ticket cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-discounted-flights.html '&gt;airline tickets discounted flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airlines-cheep-airline-tickets.html '&gt;cheep airlines cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-airline-tickets-cheap-international-flights.html '&gt;first class airline tickets cheap international flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheap-last-minute.html '&gt;airline tickets cheap last minute&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-brazil-rio-de-janeiro.html '&gt;dirt cheap airline tickets brazil rio de janeiro&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheep-cheep-airline-tickets.html '&gt;airline tickets cheep cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-really-cheap-airline-ticket.html '&gt;airline tickets really cheap airline ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-discounted-airline-tickets-discounted-airline-tickets.html '&gt;cheap discounted airline tickets discounted airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discounted-flights-airline-tickets-cheap-flights-airline.html '&gt;discounted flights airline tickets cheap flights airline&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-com-cheep-airline-tickets.html '&gt;cheep airline tickets com cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheap.html '&gt;airline tickets cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/last-minute-airline-tickets.html '&gt;last minute airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/southwest-airline-tickets.html '&gt;southwest airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-student-airline-fares.html '&gt;airline tickets student airline fares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-brazil-panama-chile.html '&gt;cheap airline tickets brazil panama chile&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-for-dirt-cheap-dirt-cheap-airline-tickets.html '&gt;airline tickets for dirt cheap dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-discounted-flights-airline-tickets.html '&gt;cheap discounted flights airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-discounted-airline-tickets-europe.html '&gt;cheap discounted airline tickets europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-australia-cheep-airline-tickets.html '&gt;cheep airline tickets australia cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-online-airline-flight-ticket.html '&gt;dirt cheap airline tickets online airline flight ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-search-cheap-airfares.html '&gt;airline tickets search cheap airfares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-economy-airticket.html '&gt;airline tickets economy airticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-argentina-brazil-airline-tickets.html '&gt;cheap argentina brazil airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheapest-airline-tickets-online-cheap-air-flight-ticket.html '&gt;cheapest airline tickets online cheap air flight ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/southwest-reservation-desk-airline-tickets-airlines-com.html '&gt;southwest reservation desk airline tickets airlines com&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/fly-cheap-airline-tickets-cheap-flights-airfares.html '&gt;fly cheap airline tickets cheap flights airfares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets-argentina-brazil.html '&gt;discount airline tickets argentina brazil&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discounted-airline-tickets-discounted-airline-tickets.html '&gt;discounted airline tickets discounted airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-london-cheep-airline-tickets.html '&gt;cheep airline tickets london cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheap-international-flights.html '&gt;airline tickets cheap international flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-northwest-airline.html '&gt;airline tickets northwest airline&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/last-minute-airline-tickets-online-cheap-air-flights.html '&gt;last minute airline tickets online cheap air flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/business-economy-airline-tickets-flights.html '&gt;business economy airline tickets flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-airline-tickets-low-cost-airline-tickets.html '&gt;low cost airline tickets low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airlinetickets.html '&gt;airlinetickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-delta-airline.html '&gt;airline tickets delta airline&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-cheap-dirt-ticket-dirt-cheap-airline-tickets.html '&gt;airline cheap dirt ticket dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-dirt-cheap-dirt-cheap-airline-tickets.html '&gt;airline tickets dirt cheap dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airlines-tickets.html '&gt;cheap airlines tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/manila-cebu-airline-tickets-hotels.html '&gt;manila cebu airline tickets hotels&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/domestic-airline-tickets-domestic-travel.html '&gt;domestic airline tickets domestic travel&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets-airline-discount-central.html '&gt;discount airline tickets airline discount central&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-discount-airline-ticket.html '&gt;airline tickets discount airline ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-cheap-airfares-low-cost-airline-tickets.html '&gt;low cost cheap airfares low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-ticket-dirt-cheap-airline-tickets.html '&gt;dirt cheap airline ticket dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-usa-cheap-flights-from-usa.html '&gt;dirt cheap airline tickets usa cheap flights from usa&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-dirt-cheap-airline-tickets.html '&gt;dirt cheap airline tickets dirt cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-discounts-flights-cheap-flights-airfares.html '&gt;airline tickets discounts flights cheap flights airfares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-online-cheap-flights-airfares.html '&gt;dirt cheap airline tickets online cheap flights airfares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-international-airline-tickets.html '&gt;cheap international airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheap-airline-fares.html '&gt;airline tickets cheap airline fares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-military-airline-tickets-airline-discount-central.html '&gt;discount military airline tickets airline discount central&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-low-cost-airline-tickets-low-cost-airline-tickets.html '&gt;cheap low cost airline tickets low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-tickets-south-america-low-cost-airline-tickets.html '&gt;low cost tickets south america low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-airline-ticket-low-cost-airline-tickets.html '&gt;low cost airline ticket low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-cheap-first-class-airfares.html '&gt;airline tickets cheap first class airfares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/coach-class-airfares-low-cost-airline-tickets.html '&gt;coach class airfares low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-economy-ticket-low-cost-airline-tickets.html '&gt;low cost economy ticket low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-car-rentals-low-cost-airline-tickets.html '&gt;low cost car rentals low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/australia-sydney-hotels-flights-airline-tickets.html '&gt;australia sydney hotels flights airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/australia-airline-tickets-travel.html '&gt;australia airline tickets travel&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/continental-airline-tickets.html '&gt;continental airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-online.html '&gt;cheap airline tickets online&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-hotels-flights-travel-low-cost-airline-tickets.html '&gt;low cost hotels flights travel low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/southwest-reservation-desk-airline-tickets-airline-flights.html '&gt;southwest reservation desk airline tickets airline flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-philippine.html '&gt;cheap airline tickets philippine&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/japan-airlines-tickets-cargo-reservation-flights-tokyo.html '&gt;japan airlines tickets cargo reservation flights tokyo&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/phillippine-airline-tickets-flights-travel.html '&gt;phillippine airline tickets flights travel&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/business-first-class-airline-tickets-philippine.html '&gt;business first class airline tickets philippine&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-cheap-flights-to-london.html '&gt;cheap airline tickets cheap flights to london&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-airfares-low-cost-airline-tickets.html '&gt;low cost airfares low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-flights-flights.html '&gt;airline tickets flights flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/international-airline-tickets.html '&gt;international airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/inexpensive-airline-tickets.html '&gt;inexpensive airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/singapore-flights-airline-tickets-travel-dirt-cheap.html '&gt;singapore flights airline tickets travel dirt cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-airfares-london-england-low-cost-airline-tickets.html '&gt;low cost airfares london england low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/really-cheap-airline-tickets.html '&gt;really cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-airline-tickets-flights-low-cost-airline-tickets.html '&gt;low cost airline tickets flights low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/latin-america-travel-airline-tickets.html '&gt;latin america travel airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-singapore-japan-airlines.html '&gt;airline tickets singapore japan airlines&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/student-airline-tickets.html '&gt;student airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-online.html '&gt;airline tickets online&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-discounted-airlines-cheap-air-flight-ticket.html '&gt;airline tickets discounted airlines cheap air flight ticket&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/delta-airline-tickets.html '&gt;delta airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/free-airline-tickets.html '&gt;free airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/very-cheap-airline-tickets.html '&gt;very cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-travel-tokyo-japan-nude-first-class-tickets.html '&gt;airline tickets travel tokyo japan nude first class tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/bargain-airline-tickets.html '&gt;bargain airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/favicon-low-cost-airline-tickets.html '&gt;favicon low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-fares-lax-low-cost-airline-tickets.html '&gt;low cost fares lax low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/robots-airline-tickets-cheap-international-flights.html '&gt;robots airline tickets cheap international flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/student-discount-airline-tickets-airline-discount-central.html '&gt;student discount airline tickets airline discount central&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/one-way-airline-tickets.html '&gt;one way airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-go-american-airlines.html '&gt;airline tickets go american airlines&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/purchase-airline-tickets-online.html '&gt;purchase airline tickets online&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-discount.html '&gt;airline tickets discount&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-hawaii.html '&gt;airline tickets to hawaii&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-fare-airline-tickets.html '&gt;low fare airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/military-discount-airline-tickets.html '&gt;military discount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-low-price.html '&gt;airline tickets low price&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/student-discount-airline-tickets.html '&gt;student discount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discounted-airline-tickets-china-beijing.html '&gt;discounted airline tickets china beijing&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/favicon-cheep-airline-tickets.html '&gt;favicon cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-military-airline-tickets.html '&gt;discount military airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/online-airline-tickets.html '&gt;online airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-southwest-airline-tickets.html '&gt;cheap southwest airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/buy-airline-tickets-online.html '&gt;buy airline tickets online&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-last-minute-airline-tickets.html '&gt;cheap last minute airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-price-airline-tickets.html '&gt;low price airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheapest-airline-tickets-cheap-flights-to-paris.html '&gt;cheapest airline tickets cheap flights to paris&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-tokyo-japan.html '&gt;cheap airline tickets tokyo japan&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-india.html '&gt;cheap airline tickets to india&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/orbitz-airline-tickets.html '&gt;orbitz airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/osaka-tokyo-nrt-osa-japan-fligts-airline-tickets.html '&gt;osaka tokyo nrt osa japan fligts airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-canadian-airline-tickets.html '&gt;cheap canadian airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-usa-international-cheap-flights-from-usa.html '&gt;airline tickets usa international cheap flights from usa&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-florida.html '&gt;airline tickets to florida&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/book-airline-tickets-flights-japan.html '&gt;book airline tickets flights japan&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/hawaii-airline-tickets.html '&gt;hawaii airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-for-students.html '&gt;cheap airline tickets for students&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-las-vegas.html '&gt;cheap airline tickets to las vegas&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/last-minute-cheap-airline-tickets.html '&gt;last minute cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/alaska-airline-tickets.html '&gt;alaska airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/buy-airline-tickets.html '&gt;buy airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/bid-for-airline-tickets.html '&gt;bid for airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-international-airline-tickets.html '&gt;discount international airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-europe.html '&gt;cheap airline tickets to europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-canada.html '&gt;cheap airline tickets canada&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-air-flights-low-cost-airline-tickets-st.html '&gt;cheap air flights low cost airline tickets st&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-orlando.html '&gt;airline tickets to orlando&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-student-airline-tickets.html '&gt;cheap student airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-mexico.html '&gt;cheap airline tickets to mexico&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-low-cost-airfare.html '&gt;cheap airline tickets low cost airfare&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/best-time-to-buy-airline-tickets.html '&gt;best time to buy airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/first-class-airline-tickets.html '&gt;first class airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/united-airline-tickets.html '&gt;united airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/spirit-airline-tickets.html '&gt;spirit airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/jet-blue-airline-tickets.html '&gt;jet blue airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-low-fare-paris-france.html '&gt;airline tickets low fare paris france&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/bid-on-airline-tickets.html '&gt;bid on airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-florida.html '&gt;cheap airline tickets to florida&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-italy.html '&gt;cheap airline tickets to italy&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-airline-tickets.html '&gt;low airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets-to-europe.html '&gt;discount airline tickets to europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/las-vegas-airline-tickets.html '&gt;las vegas airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-london.html '&gt;cheap airline tickets to london&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-hawaii.html '&gt;cheap airline tickets to hawaii&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/travel-airline-tickets.html '&gt;travel airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/american-airline-tickets.html '&gt;american airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-las-vegas.html '&gt;airline tickets to las vegas&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-airline-tickets-cheap-international-flights.html '&gt;airline tickets airline tickets cheap international flights&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/singapore-airline-tickets-flights-travel.html '&gt;singapore airline tickets flights travel&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-one-way-airline-tickets.html '&gt;cheap one way airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-europe.html '&gt;cheap airline tickets europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-rio-de-janeiro-brazil.html '&gt;cheap airline tickets rio de janeiro brazil&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/low-cost-flights-american-airlines-low-cost-airline-tickets.html '&gt;low cost flights american airlines low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dirt-cheap-airline-tickets-online.html '&gt;dirt cheap airline tickets online&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/paris-france-travel-airline-tickets-cheapest.html '&gt;paris france travel airline tickets cheapest&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/best-airline-tickets.html '&gt;best airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/purchase-airline-tickets-cheap.html '&gt;purchase airline tickets cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/bereavement-airline-tickets.html '&gt;bereavement airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/lowest-airline-tickets.html '&gt;lowest airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/purchase-airline-tickets.html '&gt;purchase airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-brazil-bargain.html '&gt;airline tickets brazil bargain&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discounts-for-students-on-airline-tickets.html '&gt;discounts for students on airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/lowest-price-airline-tickets.html '&gt;lowest price airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/buying-cheap-airline-tickets.html '&gt;buying cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheapest-airline-tickets-available.html '&gt;cheapest airline tickets available&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/priceline-airline-tickets.html '&gt;priceline airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/college-student-discount-airline-tickets.html '&gt;college student discount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/deep-discount-airline-tickets.html '&gt;deep discount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-europe-paris-france.html '&gt;airline tickets europe paris france&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-discounted-flights-st.html '&gt;airline tickets discounted flights st&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-business-class-airline-tickets.html '&gt;discount business class airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/delta-airlines-tickets.html '&gt;delta airlines tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/new-zealand-airline-tickets-low-cost.html '&gt;new zealand airline tickets low cost&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/affordable-airline-tickets.html '&gt;affordable airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/dicount-airline-tickets.html '&gt;dicount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/buy-cheap-airline-tickets.html '&gt;buy cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/favicon-cheap-airline-tickets.html '&gt;favicon cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/japanes-airline-tickets.html '&gt;japanes airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/northwest-airline-tickets.html '&gt;northwest airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/consolidator-airline-tickets.html '&gt;consolidator airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/round-the-world-airline-tickets.html '&gt;round the world airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/wholesale-airline-tickets.html '&gt;wholesale airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-united-brasilia-airlines.html '&gt;airline tickets united brasilia airlines&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-london.html '&gt;airline tickets london&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets-to-hawaii.html '&gt;discount airline tickets to hawaii&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/new-zealand-last-minute-airline-tickets.html '&gt;new zealand last minute airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discounted-airline-tickets-flights-japan.html '&gt;discounted airline tickets flights japan&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/find-cheap-airline-tickets.html '&gt;find cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheat-airline-tickets.html '&gt;cheat airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/ardeche-france-travel-discount-student-airline-tickets.html '&gt;ardeche france travel discount student airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-flights-airline-tickets.html '&gt;cheap flights airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-domestic-airline-tickets.html '&gt;cheap domestic airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-delta-airlines-rio.html '&gt;airline tickets delta airlines rio&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-low-fares-paris-france.html '&gt;airline tickets low fares paris france&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-italy.html '&gt;airline tickets to italy&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-london.html '&gt;airline tickets to london&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/greece-cheepest-airline-tickets.html '&gt;greece cheepest airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/profile-cheep-airline-tickets.html '&gt;profile cheep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/argentina-brazil-airline-tickets-discounted.html '&gt;argentina brazil airline tickets discounted&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/tokyo-airline-tickets-cheap-fares.html '&gt;tokyo airline tickets cheap fares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/vivtour-airline-tickets.html '&gt;vivtour airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/best-price-airline-tickets.html '&gt;best price airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/last-minute-airline-tickets-cheap.html '&gt;last minute airline tickets cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-the-philippines.html '&gt;cheap airline tickets to the philippines&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/travel-tip-international-airline-tickets-travel-tips.html '&gt;travel tip international airline tickets travel tips&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/budget-airline-tickets.html '&gt;budget airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/new-zealand-airline-tickets-cheap-fares.html '&gt;new zealand airline tickets cheap fares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-bangkok-paris-france.html '&gt;airline tickets bangkok paris france&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/air-france-discount-airline-tickets.html '&gt;air france discount airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-military-discount.html '&gt;airline tickets military discount&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-northwest-airline-st.html '&gt;airline tickets northwest airline st&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/rail-travel-france-airline-tickets-cheap-discount.html '&gt;rail travel france airline tickets cheap discount&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/ukraine-cheap-airline-tickets-asia.html '&gt;ukraine cheap airline tickets asia&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-to-orlando.html '&gt;cheap airline tickets to orlando&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/singapore-airline-tickets-to-asia.html '&gt;singapore airline tickets to asia&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/tokyo-airline-tickets-low-fare.html '&gt;tokyo airline tickets low fare&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/where-can-i-find-cheap-airline-tickets.html '&gt;where can i find cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-air-flights-low-cost-airline-tickets-bermuda.html '&gt;cheap air flights low cost airline tickets bermuda&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-air-flights-low-cost-airline-tickets-oita.html '&gt;cheap air flights low cost airline tickets oita&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/tokyo-airline-tickets-for-cheap.html '&gt;tokyo airline tickets for cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/air-travel-france-price-airline-tickets.html '&gt;air travel france price airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-flights-japan.html '&gt;cheap airline tickets flights japan&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-in-canada.html '&gt;cheap airline tickets in canada&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-airline-tickets-kiev.html '&gt;cheap airline tickets kiev&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/brazil-airline-tickets-usa.html '&gt;brazil airline tickets usa&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/australia-sydeny-cheap-airline-tickets-flights-airfares.html '&gt;australia sydeny cheap airline tickets flights airfares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/expedia-airline-tickets.html '&gt;expedia airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-united-airlines-brazil.html '&gt;airline tickets united airlines brazil&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-greece.html '&gt;airline tickets to greece&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-chicago.html '&gt;airline tickets to chicago&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-south-africa-paris-france.html '&gt;airline tickets south africa paris france&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/air-france-america-travel-discount-and-airline-tickets.html '&gt;air france america travel discount and airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/discount-airline-tickets-canada.html '&gt;discount airline tickets canada&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/new-zealand-really-cheap-airline-tickets.html '&gt;new zealand really cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/new-zealand-bussiness-class-airline-tickets.html '&gt;new zealand bussiness class airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/new-zealand-first-class-airline-tickets.html '&gt;new zealand first class airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-poland-tickets-europe.html '&gt;airline poland tickets europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-brazil-europe.html '&gt;airline tickets brazil europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-brazil-online.html '&gt;airline tickets brazil online&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-flights-brazil.html '&gt;airline tickets flights brazil&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-flights-poland.html '&gt;airline tickets flights poland&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-for-cheap.html '&gt;airline tickets for cheap&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-northwest-rio-airlines.html '&gt;airline tickets northwest rio airlines&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-thailand-brazil.html '&gt;airline tickets thailand brazil&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/airline-tickets-to-south-america-paris-france.html '&gt;airline tickets to south america paris france&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/frontier-airline-tickets.html '&gt;frontier airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/tokyo-buy-cheap-airline-tickets.html '&gt;tokyo buy cheap airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/tokyo-airline-tickets-low-fares.html '&gt;tokyo airline tickets low fares&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/chep-airline-tickets.html '&gt;chep airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/best-prices-on-airline-tickets.html '&gt;best prices on airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-for-greece-students.html '&gt;cheep airline tickets for greece students&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-flights-japan.html '&gt;cheep airline tickets flights japan&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheep-airline-tickets-com-cheep-airline-tickets-st.html '&gt;cheep airline tickets com cheep airline tickets st&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/spain-low-cost-airline-tickets.html '&gt;spain low cost airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/air-france-airline-cheap-airline-tickets-europe.html '&gt;air france airline cheap airline tickets europe&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/cheap-first-class-airline-tickets.html '&gt;cheap first class airline tickets&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/train-travel-in-france-airline-tickets-low-cost.html '&gt;train travel in france airline tickets low cost&lt;/a&gt; 
 
&lt;a href='http://greysanatomyonline.com/poll/compare-airline-tickets.html '&gt;compare airline tickets&lt;/a&gt;
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/736.html">#736</a>
                          </td>
                          <td class="PosixTime">1304963598000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">See
https://bitbucket.org/okfn/ckanext-harvest/changeset/a7b6d8c0dde7
https://bitbucket.org/okfn/ckanext-harvest/changeset/40de12fada74
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/906.html">#906</a>
                          </td>
                          <td class="PosixTime">1328782087000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Yes, I don't think there will be any problem, and we won't need to create a new version of the schema as the change is backwards compatible.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1306407617000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Moving this to the PDEU (publicdata.eu) project
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1306408134000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Duplicate of #1155 and #1156
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="PosixTime">1300103984000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This includes:

 * Take out all references to harvestsource, harvestingjob and harvesteddocument in the  rest API
 * Move the harvesting bits of ckan/lib/cli.py into ckanext-harvest.
 * Move ckan/controller/harvesting.py and cknan/model/harvesting.py to ckanext-harvest  as well
 * Update ckanext-csw to be able to find the code it needs in the new place.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="PosixTime">1303117978000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">All the points described in this ticket have been completed. Harvesting work is being done mainly under #1037
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1152.html">#1152</a>
                          </td>
                          <td class="PosixTime">1307352165000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Bumping to ckan-v1.5-sprint-3 and updating the CC email addresses so people actually get any updates.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1161.html">#1161</a>
                          </td>
                          <td class="PosixTime">1306408026000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Duplicate of #1157
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1164.html">#1164</a>
                          </td>
                          <td class="PosixTime">1308647224000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Done. See it in action here: http://publicdata.eu/map
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1166.html">#1166</a>
                          </td>
                          <td class="PosixTime">1317381932000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed on d5bee3de9957
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1229.html">#1229</a>
                          </td>
                          <td class="PosixTime">1312191530000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Done, except for Revision related stuff, which probably overlaps with work being done by David Raznick.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1338.html">#1338</a>
                          </td>
                          <td class="PosixTime">1316951545000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Reopening, because another change is needed to support custom schemas
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1338.html">#1338</a>
                          </td>
                          <td class="PosixTime">1317117738000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in eca1edce3a0f
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1345.html">#1345</a>
                          </td>
                          <td class="PosixTime">1343215489000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">See https://github.com/okfn/ckan/pull/73
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1354.html">#1354</a>
                          </td>
                          <td class="PosixTime">1316970374000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">There is no way to maintain backwards compatibility, so let's forget about it for now
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1375.html">#1375</a>
                          </td>
                          <td class="PosixTime">1318260008000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in 888ed50c098d, using Session.flush() rather than the proposed one.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1381.html">#1381</a>
                          </td>
                          <td class="PosixTime">1319021092000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Now implemented on 6227142b0460
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1430.html">#1430</a>
                          </td>
                          <td class="PosixTime">1320339962000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">I've been digging more on this one.
To reproduce it, you just have to edit the same dataset in both sites (production and testing). Just after editing the dataset, the search index will get mixed site_ids.

I checked the jetty logs (see attached files) and just after editing a dataset there are two POST requests to update the index. The request logs don't show the requests params so it's hard to tell what the second call does (it probably is the commit):
https://bitbucket.org/okfn/ckan/src/97e1e90d66d7/ckan/lib/search/index.py#cl-144

In any case, it's clear that the problem may be related with the datasets in the two cores sharing the same id. We are currently using the dataset id as uniqueKey in SOLR, i.e in our schema.xml, we are defining:

{{{
&lt;uniqueKey&gt;id&lt;/uniqueKey&gt;
}}}

According to the SOLR docs:
"If a document is added that contains the same value for this field as an existing document, the old document will be deleted."

http://wiki.apache.org/solr/SchemaXml#The_Unique_Key_Field

I would expect the uniqueKey not to be mixed between cores, but it looks like it happens otherwise. Maybe we should generate a solr_id specific to each document for each site, as described here:
http://wiki.apache.org/solr/UniqueKey#UUID_techniques

(Note that apart from the testing/production site use case, at some point sites involved in harvesting could also end up with datasets with the same id.)

Again, I'm not a SOLR expert, so the problem could be a completely different one!

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1430.html">#1430</a>
                          </td>
                          <td class="PosixTime">1320431138000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Right, more news on this front.

I've tested a patch which uses a hash of the dataset id and site_id to produce a unique id, and then configured the iati solr cores to use index_id as uniqueKey:
https://bitbucket.org/okfn/ckan/changeset/855f5a452f60

Unfortunately, that did not solve the issue. Again, updating the same dataset in both apps messes things up. In this case, documents don't get replaced, but duplicated, so the new uniqueKey is working.

I am more inclined to think that this is caused by a misconfiguration in the SOLR instance in s046. This is the file where the two cores are configured:

{{{
&lt;solr persistent="true" sharedLib="lib"&gt;
 &lt;cores adminPath="/admin/cores"&gt;
  &lt;core name="testing.iatiregistry.org" instanceDir="testing.iatiregistry.org"&gt;
    &lt;property name="dataDir" value="/usr/share/solr/testing.iatiregistry.org/data" /&gt;
  &lt;/core&gt;
  &lt;core name="iatiregistry.org" instanceDir="iatiregistry.org"&gt;
    &lt;property name="dataDir" value="/usr/share/solr/iatiregistry.org/data" /&gt;
  &lt;/core&gt;
 &lt;/cores&gt;
&lt;/solr&gt;
}}}

Following this paths: /usr/share/solr/iatiregistry.org symlinks to /etc/solr/iatiregistry.org, /etc/solr/iatiregistry.org/data is empty (as well as the testing equivalent).
On the other hand, looking at the admin interface and at some errors that I got it seems that the data folder that both cores are using is /var/lib/solr/data/index 

Maybe that's the problem?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1430.html">#1430</a>
                          </td>
                          <td class="PosixTime">1320660144000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">No, I didn't know it. Is this supposed to be the correct setting or should each core have its own data dir?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1430.html">#1430</a>
                          </td>
                          <td class="PosixTime">1320670062000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">As rgrp mentioned, we commented out the &lt;dataDir&gt; directive in the solrconfig.xml files and rebooted. That made the cores use the data dir they were supposed to (the one in solr.xml) and from the tests I made looks like it finally fixed the issue.



                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1462.html">#1462</a>
                          </td>
                          <td class="PosixTime">1326284357000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Closing as this has been fixed and deployed.

@thejimmyg Not sure if there are still issues regarding packaging. Feel free to create a specific ticket for this if we need to work on it.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1469.html">#1469</a>
                          </td>
                          <td class="PosixTime">1329760150000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This is mostly done (current form is http://i.imgur.com/zmfc5.png). Still some tests missing and a little bit of cleanup and documentation required.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1490.html">#1490</a>
                          </td>
                          <td class="PosixTime">1322489155000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in c23821b
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1498.html">#1498</a>
                          </td>
                          <td class="PosixTime">1323165876000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This is now done. See [1] for the deployment documentation and conventions.
CKAN checks the remote schema version on startup to see if it's compatible. See commits starting from 50285ef6.

The migration work needed after releasing 1.5.1 is described in #1516.



[1] https://github.com/okfn/ckan/blob/feature-1498-multiple-schemas/doc/solr-setup.rst
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1516.html">#1516</a>
                          </td>
                          <td class="PosixTime">1323360020000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Closing as the main Solr servers are ready to support different Solr schemas. I.e they have two different cores:

* http://&lt;server&gt;/solr/ckan-schema-1.2
* http://&lt;server&gt;/solr/ckan-schema-1.3

to which CKAN instances can point to.

The CKAN instances that have not been updated (the ones under s004) are pointing to a Solr core with an old version of the schema, so they can wait until upgraded to 1.5.1 to update the solr_url property and rebuild the index.

Data.gov.uk can be dealt with during the next deployment.

It's not clear which Solr server are using the rest of the instances, but they can be updated as necessary when they upgrade their CKAN instance.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1540.html">#1540</a>
                          </td>
                          <td class="PosixTime">1326060385000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in b80da7a4fe
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1590.html">#1590</a>
                          </td>
                          <td class="PosixTime">1326711608000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Added in 658f76e4a0 and deployed to the production site.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1592.html">#1592</a>
                          </td>
                          <td class="PosixTime">1326304321000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed on 1e649a62fcf
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1616.html">#1616</a>
                          </td>
                          <td class="PosixTime">1326710037000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Sounds like a good option.
I will move it to ckan-v1.6 anyway because it may need some work than the expected.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1616.html">#1616</a>
                          </td>
                          <td class="PosixTime">1332327635000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in 10cfd168413

Also new flags and fixes for other commands were added:

 * Add -o option to only reindex datasets not already indexed
 * Add -i option to ignore exceptions when rebuilding
 * Add -r option to just refresh the index (not clearing it first)
 * Fix show command to show the index stored for a dataset
 * Add support for clearing the index of just one dataset
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1640.html">#1640</a>
                          </td>
                          <td class="PosixTime">1326710888000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Depends on #1655
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1640.html">#1640</a>
                          </td>
                          <td class="PosixTime">1327340939000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Done, see http://publicdata.eu/package?extras_eu_country=RS
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1641.html">#1641</a>
                          </td>
                          <td class="PosixTime">1326376777000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed on 77fa6483c32
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1677.html">#1677</a>
                          </td>
                          <td class="PosixTime">1326807655000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">See #1678
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1701.html">#1701</a>
                          </td>
                          <td class="PosixTime">1327423221000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Done.
See 668292 - 78cc11

Time spent: 1.5 days
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1701.html">#1701</a>
                          </td>
                          <td class="PosixTime">1330085360000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Sorry, this ticket referred to the EC Portal project, the changesets are from ckanext-ecportal.
This hasn't gone into core yet, which is ticket #906
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1731.html">#1731</a>
                          </td>
                          <td class="PosixTime">1330942924000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">The underlying auth layer is done, still there isn't UI integration (list of publishers in index page, publisher field in form...).
Needs to be moved to the next sprint.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1734.html">#1734</a>
                          </td>
                          <td class="PosixTime">1332167315000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">All sub tickets have been implemented, so closing it now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1801.html">#1801</a>
                          </td>
                          <td class="PosixTime">1343144718000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Closing as both old and new theme now show password reset links
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1816.html">#1816</a>
                          </td>
                          <td class="PosixTime">1331302835000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">+1 to a new, more flexible extension.
But in the meantime I've just spent a couple of hours making it work with latest CKAN, which was easier than expected, so we can deploy it with the new version of PDEU.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2232.html">#2232</a>
                          </td>
                          <td class="PosixTime">1332331660000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in 6b4c6c9

This was due to some characters not being supported by XML. We now strip them before indexing.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2252.html">#2252</a>
                          </td>
                          <td class="PosixTime">1333108787000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">There is a new ticket for the same schema as forms issue: #2268

The exception was fixed on [https://github.com/okfn/ckanext-inspire/commit/0dff1f6 0dff1f6]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2252.html">#2252</a>
                          </td>
                          <td class="PosixTime">1333374836000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This needs more work on ckanext-dgu and testing.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2252.html">#2252</a>
                          </td>
                          <td class="PosixTime">1334567495000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed on 0dff1f6c2e
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2271.html">#2271</a>
                          </td>
                          <td class="PosixTime">1334567582000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This was caused by an human error.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2358.html">#2358</a>
                          </td>
                          <td class="PosixTime">1336641577000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Took longer than expected due to last minute changes and problems with the packaged version.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2361.html">#2361</a>
                          </td>
                          <td class="PosixTime">1337016768000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">I actually spent some more time of this because I upgraded PDEU to CKAN 1.7, which was needed to fix the search index and a good testing for the release as well.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2399.html">#2399</a>
                          </td>
                          <td class="PosixTime">1340706702000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed in 493589aaf
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2407.html">#2407</a>
                          </td>
                          <td class="PosixTime">1340633440000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This will require some thought. Bumping to 1.9.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2434.html">#2434</a>
                          </td>
                          <td class="PosixTime">1350296272000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Seems to be working again, closing.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2467.html">#2467</a>
                          </td>
                          <td class="PosixTime">1340981885000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed (mainly by Aron)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2495.html">#2495</a>
                          </td>
                          <td class="PosixTime">1340624905000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">See #2467
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2534.html">#2534</a>
                          </td>
                          <td class="PosixTime">1340631124000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">See #2399
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2639.html">#2639</a>
                          </td>
                          <td class="PosixTime">1343297711000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Merged into master before 1.8.
There are a couple of issues with that need to be fixed on recline code base:

* Filter does not fire the state change event (Embed URL does not get updated)
https://github.com/okfn/recline/issues/195

* File format not saved in Dataproxy state (Embed fails with dataproxy files with no extension) 
https://github.com/okfn/recline/issues/196

When we fix these on recline we can update the build on ckan core.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2639.html">#2639</a>
                          </td>
                          <td class="PosixTime">1345221501000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Added some new comments to #195:

https://github.com/okfn/recline/issues/195
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2641.html">#2641</a>
                          </td>
                          <td class="PosixTime">1343738074000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">It looks awesome, really nice!

Note that the "Enter location" box logic (geocoding) is not yet implemented, so first stage of the widget should not show it.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2811.html">#2811</a>
                          </td>
                          <td class="PosixTime">1349869110000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Fixed on master, 1.8 and 1.7.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2853.html">#2853</a>
                          </td>
                          <td class="PosixTime">1345049201000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">The message it is pretty self-explanatory, but I'm happy to lower it to warning.

We can't know the scheduled time because it depends on how is set up on the server (generally a cron job every x minutes).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1142.html">#1142</a>
                          </td>
                          <td class="PosixTime">1308326118000000
                          </td>
                          <td class="author">annapowellsmith
                          </td>
                          <td class="newvalue">List of new docs tasks agreed by APS and RGRP:

 * Tutorial on the wiki (long-term): Integration with Wordpress and Drupal and Javascript
 * Overview of domain model both for average users and for devs
 * 2-page glossy brochure
 * Vision for CKAN http://notebook.okfn.org/2011/04/27/data-hubs-data-management-systems-and-ckan/
 * Comparison : use http://wiki.ckan.net/Related_Software as starting point - build on wiki - Socrata and OGDI
 * Renaming: separation between ckan.org and ckan.net
 * More documentation in the code ...
 * Config options generated from code or move this to WUI ...

See also proposed overhaul at  http://wiki.ckan.net/Documentation_Plans
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1245.html">#1245</a>
                          </td>
                          <td class="PosixTime">1311864530000000
                          </td>
                          <td class="author">annapowellsmith
                          </td>
                          <td class="newvalue">Would be nice to list some extensions somewhere on this site (features page perhaps). 

Along the lines of: http://docs.ckan.org/extensions.html#finding-extensions

It wasn't until I wrote this list that I realised just how many extensions there were, and what it said about the CKAN community that there were so many... 

So I think it would be a good sales point.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/204.html">#204</a>
                          </td>
                          <td class="PosixTime">1285081954000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">[http://www.grattage.pro Casinos pro]
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/204.html">#204</a>
                          </td>
                          <td class="PosixTime">1285082169000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">[http://www.casinotop10.fr Top10 des casinos sur internet]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/321.html">#321</a>
                          </td>
                          <td class="PosixTime">1291831399000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">This has now been superseded with this proposal: #787
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/349.html">#349</a>
                          </td>
                          <td class="PosixTime">1277820679000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Mostly done, but issue regarding departments still outstanding: can the association between packages, groups, and departments be placed elsewhere?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/371.html">#371</a>
                          </td>
                          <td class="PosixTime">1294676093000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Mainly handled in http://knowledgeforge.net/okfn/tasks/ticket/564 now. Close here?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/407.html">#407</a>
                          </td>
                          <td class="PosixTime">1291149724000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Related bug on ScraperWiki tracker: https://bitbucket.org/ScraperWiki/scraperwiki/issue/42/finish-ckan-integration
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/441.html">#441</a>
                          </td>
                          <td class="PosixTime">1282724585000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Comment from pudo: CKAN should have a read-only maintenance mode with a nice little banner on all pages, appropriate REST messages etc. Bonus points if this is triggered via an environment variable and thus can be triggered by the surrounding apache.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/546.html">#546</a>
                          </td>
                          <td class="PosixTime">1286896167000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">[http://www.pokers.li Jeux de poker en ligne]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/546.html">#546</a>
                          </td>
                          <td class="PosixTime">1286896450000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">[http://www.bonus-pokers.eu Poker en ligne]
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/546.html">#546</a>
                          </td>
                          <td class="PosixTime">1286896814000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">[http://www.salle-de-poker-legal.com Jouer au poker en ligne]
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1293472613000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Data proxy documentation: http://democracyfarm.org/dataproxy/api.html (included in sources)

Updated ('s' as in structured) data proxy app: http://sdataproxy.appspot.com
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/823.html">#823</a>
                          </td>
                          <td class="PosixTime">1290506116000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Fixed in cset:3845a501ed5f
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/868.html">#868</a>
                          </td>
                          <td class="PosixTime">1293401808000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Attached are the timings I have for the tests after I upgraded to 0.57 and after a few simple test tweaks.  They do not include setup and teardown time at the class level as they are not assignable to individual tests.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/870.html">#870</a>
                          </td>
                          <td class="PosixTime">1294914243000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Merged into default in cset:54ae110094be
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/876.html">#876</a>
                          </td>
                          <td class="PosixTime">1293188088000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Thanks for your feedback, very useful.  

I don't really agree with the people in the linked discussion who say it's pointless testing against a different database from production.

The goal here is to make it easy enough for people to run as many tests as possible that they actually do so.  Even 15 minutes is too long in that case.  With sqlite we can get it in at under 5 minutes.  I would also like to identify the longest running tests (which I would characterise as "functional" or "integration" tests and make them run as a separate suite, and then encourage a culture of writing true unit tests before functional tests, so that running unit tests can happen in 1 minute and be part of the regular development cycle.

That's no replacement for also running *all* tests periodically, and also running tests under postgres, which we can continue to do on the continuous integration server.  

Longer term I agree that it would be better to run local tests against postgres too, but that will I think involve refactoring many of the tests.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/876.html">#876</a>
                          </td>
                          <td class="PosixTime">1293218714000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">I agree with all your points about testing apart form using sqlite, especially splitting out the functional tests and continuous integration.

&gt; Longer term I agree that it would be better to run local tests against postgres too, but that will I think involve refactoring many of the tests. 

Well there are two options

 1. refactor the tests
 2. refactor the code to use sqlite and postress

It is a value judgment as to which is more complicated. I personally think 2 is more complicated but may be wrong on that. The real danger with 2 is that you are needlessly adding complication to production code, with 1 you are only changing the tests.

Upgrading to sqlalchemy 0.5+ should happen first regardless.  You will need upto date documentation. 

There is another option too.  Put the postgres data directory on tempfs/ramfs and turn off durability [http://www.postgresql.org/docs/9.0/static/non-durability.html here].  We would need a way to db init before the tests where run (or) at boot). This may be the best of both worlds.

Anyway Happy xmas!!



 
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/926.html">#926</a>
                          </td>
                          <td class="PosixTime">1298541597000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Goals: 

We want the interface for updating an object to be loosely coupled to
 the method for updating it.

We might update a Package from:

 - HTML forms
 - a REST API (using JSON)
 - a CLI (potentially using command line arguments, YaML, XML or ini files)

Right now, data is validated using a form framework, even if we're not
using forms.  Data is written to the object as part of the forms
framework (using the "sync()" method), making the process hard to
customise and hard to discover.

Instead, there should be a standard chain for:

 - deserialising untyped data (such as that received from an HTTP POST
   or parsed from a YaML file) into valid data
 - returning structured errors suitable for displaying to the user
 - saving the validated, deserialised data

Ideally, it would look something like:

  schema = MySchemaDefinition()
  raw_data = open("raw.csv", "r").read()
  structured_data = to_python(raw_data, schema)
  try:
     validated = validate(python_data)
     myobject.update_from_dict(validated)
     return "Updated OK"
  except ValidationError, e:
     return "Error: %s" % e.to_dict()

The inverse would be something like:
 
  structured_data = myobject.render_to_dict()
  raw_data.write(to_csv(structured_data, schema)
  print "Wrote CSV %s" % to_logformat(serialized_data, schema)

The question of how to generate and display forms should be completely
decoupled from this.  It should be easy to write forms by hand, which
means it should be simple to flatten the serialized data to key, value
pairs, and match up any validation errors to each key.

Optionally, a form widget generation framework is a nice-to-have, but
not essential, as it is expected that, given enough time, the majority
of forms will require manual coding to accomodate edge conditions.

A form widget generation framework should be reasonably complete if
it's worth trying at all, which means it should support things like:

 - nested fields (at least repeating, multi-value fieldsets)
 - widgets for dates and file uploads
 - internationalisation

...but note I'd settle for *no* widget generation

Components of a serialisation / validation framework:

 - a simple, obvious way to define a schema
 - a lightweight validation implementation
   - simple interface for validators
   - easy to match validation errors to data structure items

Overall, I'd like to see:

 - loose coupling, no framework dependencies
 - maximal test coverage
 - extensive documentation with readily available examples

## Findings

I looked at flatland, formencode, FormAlchemy, formish, WTForms, Django, web2py, deform/colander, formconvert and web.py

 - **web2py** just helps build HTML from python, so isn't what I'm after at all 
 - **web.py** has rudimentary validation which is only aimed at HTML forms and is hence tightly coupled with them. 
 - **Django**'s forms are again tightly coupled to HTML forms (and their generation)
 - **FormAlchemy** similarly couples validation to forms, and is focussed on inferring a schema from a data model SQLAlchemy.  
 - **WTForms** again focuses on Form generation and don't make itx easy to deserialise arbitrary data

This leaves us with Flatland, Formencode, Formish, Colander/Peppercorn/Deform, and FormConvert.

Having reviewed all of these, I rejected Formencode on the basis of its patchy documentation and relatively low unit test coverage.  I also found it mixed concerns a bit much for my taste.

Formish felt similarly sparsely documented.

Of the remainder, I'd be happy using any of them, but opted for Colander in the end as it has the most exhaustive documentation and unit tests and has been used in production for a long time.  FormConvert has a nice design but is a bit of a moving target at the moment -- worth revisiting in the future.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297518386000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Well we could transfer all the dependencies and version numbers to a config file for the fabfile, but we don't achieve much.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297850732000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">This is now rolled into #963. Marking as duplicate.

People can get the pip from a branch over HTTP like this:

https://bitbucket.org/okfn/ckan/src/&lt;branch-name&gt;/path/to/file/you/want
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298371191000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">I am happy to get rid of paster db create altogether as a compromise?  Or add a depreciation warning to it?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310053225000000
                          </td>
                          <td class="author">aron
                          </td>
                          <td class="newvalue">Replying to [comment:2 dread]:
&gt; Aron, 
&gt; I've fixed the second item (on my branch), so you can DELETE a package without Content-Length. But I'm not sure what you mean here: "Should be 405 Method Not Allowed?" DELETE should be allowed. Or is that a response you're getting?
&gt; David

If I send a HEAD request to the server eg.

{{{
curl -i -XHEAD http://test.ckan.net:80/api/2/rest/package/ec9cb930-d15f-441f-a1e1-36f4d5df19bf
}}}

I get the following in the  Access-Control-Allow-Methods header

{{{
Access-Control-Allow-Methods: POST, PUT, GET, OPTIONS
}}}

I've just realised that the "Access-Control" headers are for cross origin browser requests so I think you can ignore my comments about the correct response being 405 Method Not Allowed but perhaps DELETE should be added to the Access-Control-Allow-Methods list?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310054305000000
                          </td>
                          <td class="author">aron
                          </td>
                          <td class="newvalue">Replying to [comment:3 dread]:
&gt; "Tag returned as a JSON object when updating but as a string when requesting."
&gt; I'm not sure what you mean.
&gt; 
&gt; http://test.ckan.net/api/2/rest/package/reference-example
&gt; gives tags: {{{"tags": ["country-uk", "example-package"],}}}

I'm getting back objects for each tag in the response body from a PUT request. For example "country-uk" would be something like.

{{{
{ 
        "id" : "600dc72e-6127-4704-b801-bee00474ec0c",
        "name" : "country-uk",
        "revision_timestamp" : "2011-07-06T09:09:21.578034",
        "state" : "active"
}
}}}

Hopefully this gist &lt;https://gist.github.com/97447d0b28bf52f3e06b&gt; will illustrate the issue.

&gt; Is it this - returning package names, rather than ids? Here is certainly a bug I'll fix.
&gt; http://test.ckan.net/api/2/rest/tag/country-uk

That was the fifth point on the list.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310054863000000
                          </td>
                          <td class="author">aron
                          </td>
                          <td class="newvalue">Replying to [comment:5 dread]:
&gt; Deleting an extra using 'null' works for me:
Hmm, it works for me too when there are other keys remaining in the "extras" object. However I can't seem to delete the last one. Take the following example.

{{{
curl -i -XPUT -d'{"extras": {"Tester": null}}' -H"X-CKAN-Type: application/json" http://test.ckan.net:80/api/2/rest/package/ec9cb930-d15f-441f-a1e1-36f4d5df19bf
}}}

Gives:

{{{
{ "author" : "",
  "author_email" : "",
  "extras" : [ { "id" : "88cc50ca-9e29-4499-a542-09d364f5f64f",
        "key" : "Tester",
        "package_id" : "ec9cb930-d15f-441f-a1e1-36f4d5df19bf",
        "revision_id" : "e5c3ca9c-1dae-4a86-837f-b8c19ac31964",
        "revision_timestamp" : "2011-07-07T16:01:05.696025",
        "state" : "active",
        "value" : "\"Test Value\""
      } ],
  "groups" : [  ],
  "id" : "ec9cb930-d15f-441f-a1e1-36f4d5df19bf",
  "license_id" : "",
  "maintainer" : "aron",
  "maintainer_email" : "",
  "name" : "my-test-package",
  "notes" : "Heading\r\n===\r\nThis _is_ some text",
  "relationships_as_object" : [  ],
  "relationships_as_subject" : [  ],
  "resources" : [  ],
  "revision_id" : "688d33fb-5629-4ab3-9f59-a649fc7caa00",
  "revision_timestamp" : "2011-07-06T10:37:50.182894",
  "state" : "active",
  "tags" : [ { "id" : "600dc72e-6127-4704-b801-bee00474ec0c",
        "name" : "test-tag",
        "revision_timestamp" : "2011-07-06T09:09:21.578034",
        "state" : "active"
      } ],
  "title" : "My Test Package",
  "url" : "",
  "version" : ""
}
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310055169000000
                          </td>
                          <td class="author">aron
                          </td>
                          <td class="newvalue">Another edge case that popped up while verifying the above issues. A PUT request without a body throws a 500 Internal Sever Error

{{{
curl -i -XPUT  -H"X-CKAN-API-KEY: tester" -H"Content-Type: application/json" http://test.ckan.net:80/api/2/rest/package/ec9cb930-d15f-441f-a1e1-36f4d5df19bf
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310057942000000
                          </td>
                          <td class="author">aron
                          </td>
                          <td class="newvalue">One more for today. Please do let me know if I should be filing these as separate tickets?

For some reason performing a search query for packages with an underscore "_ " as a query string key fails to return any results.

{{{
curl "http://test.ckan.net/api/2/search/package?q=osm"
}}}

Gives me 4 results.

{{{
curl "http://test.ckan.net/api/2/search/package?q=osm&amp;_=1310056826904"
}}}

Gives me none.

The underscore is generally used by JavaScript libraries as a way of bypassing the browser cache when making JSONP calls. It's easily worked around but is odd none the less.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310396399000000
                          </td>
                          <td class="author">aron
                          </td>
                          <td class="newvalue">The groups property in the package resource is always empty (or is for all packages I have viewed).

The following group lists one package.

{{{
http://test.ckan.net/api/2/rest/group/0ac963e7-ba29-49bc-83c8-98f8c1991649
}}}

But when viewing the package the groups array is empty.

{{{
http://test.ckan.net/api/2/rest/package/758c26d4-5949-4347-8b4d-023374146d94
}}}

                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
      <span>
        <span class="current">1</span>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=3.html" title="Page 3">3</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=author&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=author&amp;asc=1&amp;page=2.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=author&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=author&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=author&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>