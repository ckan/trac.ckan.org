<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=description&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=description&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=description&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=description&amp;asc=1&amp;page=15.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1401 - 1500 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <span class="current">15</span>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=15.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=15.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=15.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=15.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=15.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=15.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=15.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=15.html">
              Summary
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=description&amp;asc=0&amp;page=15.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=15.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=15.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/827.html">#827</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/827.html">metadata_created_and_modified error</a>
                          </td>
                          <td class="description">
                            <p>
Intermittent failure on ckan default branch. Looks like brittle test.
</p>
<pre class="wiki">======================================================================
FAIL: ckan.tests.models.test_package.TestPackageRevisions.test_02_metadata_created_and_modified
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/buildslave/okfn/full/build/buildandsmoke/pyenv/lib/python2.6/site-packages/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/buildslave/okfn/full/build/buildandsmoke/pyenv/src/ckan/ckan/tests/models/test_package.py", line 250, in test_02_metadata_created_and_modified
    assert out == exp, (out, exp)
AssertionError: (datetime.datetime(2010, 11, 25, 4, 37, 52, 949380), datetime.datetime(2010, 11, 25, 4, 37, 52, 94938))
</pre><p>
<a class="ext-link" href="http://buildbot.okfn.org/builders/builder-ckan/builds/589/steps/shell/logs/stdio"><span class="icon">​</span>http://buildbot.okfn.org/builders/builder-ckan/builds/589/steps/shell/logs/stdio</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1290678624000000
                          </td>
                          <td class="ModifiedTime">1290766239000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/206.html">#206</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">nickstenning
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/206.html">UI review</a>
                          </td>
                          <td class="description">
                            <p>
Investigate and list (on the wiki at <a class="wiki" href="../wiki/UiReviewNotes.html">wiki:UiReviewNotes</a>) CKAN's UI issues, in particular:
 
</p>
<ul><li>Form usability
<ul><li>best example: <a class="ext-link" href="http://ckan.net/package/new"><span class="icon">​</span>http://ckan.net/package/new</a>
</li><li>"Extras" fields
</li><li>Adding to groups (from group page or from package page?)
</li></ul></li></ul><ul><li>Overview pages: reduction in visual noise and unnecessary elements.
<ul><li>best example: package overview page
</li><li>consider openness/downloadability icons
</li><li>display common metadata fields in a more structured fashion?
</li></ul></li></ul><p>
Est cost: 2 hrs.
</p>

                            
                          </td>
                          <td class="PosixTime">1260199941000000
                          </td>
                          <td class="ModifiedTime">1260881123000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/500.html">#500</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/500.html">Exception from diff</a>
                          </td>
                          <td class="description">
                            <p>
Investigate exception occured occasionally in last couple of days on ckan.net:
</p>
<pre class="wiki">WebApp Error: &lt;type 'exceptions.AttributeError'&gt;: 'NoneType' object has no attribute 'key' 					

URL: http://ckan.net/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:73 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']    
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckan.controllers.revision:119 in diff
&lt;&lt;          c.revision_to = model.Session.query(model.Revision).get(
                   request.params.getone('diff'))
               diff = pkg.diff(c.revision_to, c.revision_from)
               c.diff = diff.items()
               c.diff.sort()
&gt;&gt;  diff = pkg.diff(c.revision_to, c.revision_from)
Module ckan.model.package:340 in diff
&lt;&lt;                              display_id = to_obj_rev.tag.name
                               elif obj_class.__name__ == 'PackageExtra':
                                   display_id = to_obj_rev.key
                               else:
                                   display_id = related_obj_id[:4]
&gt;&gt;  display_id = to_obj_rev.key
AttributeError: 'NoneType' object has no attribute 'key'
CGI Variables
DOCUMENT_ROOT	'/htdocs'
GATEWAY_INTERFACE	'CGI/1.1'
HTTP_ACCEPT	'*/*'
HTTP_ACCEPT_ENCODING	'gzip'
HTTP_ACCEPT_LANGUAGE	'zh-cn,zh-tw'
HTTP_CONNECTION	'close'
HTTP_HOST	'ckan.net'
HTTP_USER_AGENT	'Baiduspider+(+http://www.baidu.com/search/spider.htm)'
PATH	'/usr/local/bin:/usr/bin:/bin'
PATH_INFO	'/revision/diff/dbtune-audioscrobbler'
PATH_TRANSLATED	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py/revision/diff/dbtune-audioscrobbler'
QUERY_STRING	'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
REMOTE_ADDR	'123.125.66.32'
REMOTE_PORT	'63767'
REQUEST_METHOD	'GET'
REQUEST_URI	'/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
SCRIPT_FILENAME	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py'
SCRIPT_URI	'http://ckan.net/revision/diff/dbtune-audioscrobbler'
SCRIPT_URL	'/revision/diff/dbtune-audioscrobbler'
SERVER_ADDR	'10.226.226.118'
SERVER_ADMIN	'[no address given]'
SERVER_NAME	'ckan.net'
SERVER_PORT	'80'
SERVER_PROTOCOL	'HTTP/1.1'
SERVER_SIGNATURE	'&lt;address&gt;Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2 Server at ckan.net Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE	'Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2'
WSGI Variables
application	&lt;beaker.middleware.CacheMiddleware object at 0x9f603ec&gt;
beaker.cache	&lt;beaker.cache.CacheManager object at 0x9f6042c&gt;
beaker.get_session	&lt;bound method SessionMiddleware._get_session of &lt;beaker.middleware.SessionMiddleware object at 0x9f602ac&gt;&gt;
beaker.session	{'_accessed_time': 1282385101.4243281, '_creation_time': 1282385101.4243281}
mod_wsgi.application_group	'ckan.net|'
mod_wsgi.callable_object	'application'
mod_wsgi.listener_host	''
mod_wsgi.listener_port	'80'
mod_wsgi.process_group	''
mod_wsgi.reload_mechanism	'0'
mod_wsgi.script_reloading	'1'
mod_wsgi.version	(2, 5)
paste.cookies	(&lt;SimpleCookie: &gt;, '')
paste.parsed_querystring	([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')], 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
paste.registry	&lt;paste.registry.Registry object at 0x104552ec&gt;
paste.throw_errors	True
pylons.action_method	&lt;bound method RevisionController.diff of &lt;ckan.controllers.revision.RevisionController object at 0xfb17aec&gt;&gt;
pylons.controller	&lt;ckan.controllers.revision.RevisionController object at 0xfb17aec&gt;
pylons.environ_config	{'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons	&lt;pylons.util.PylonsContext object at 0x10286d4c&gt;
pylons.routes_dict	{'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'}
repoze.who.logger	&lt;logging.Logger instance at 0xa16e0cc&gt;
repoze.who.plugins	{'openid': &lt;OpenIdIdentificationPlugin 167584972&gt;, 'auth_tkt': &lt;AuthTktCookiePlugin 169253516&gt;}
routes.route	&lt;routes.route.Route object at 0x9f3690c&gt;
routes.url	&lt;routes.util.URLGenerator object at 0xfd8d7cc&gt;
webob._parsed_query_vars	(GET([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')]), 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
webob.adhoc_attrs	{'language': 'en-us'}
wsgi process	'Multi process AND threads (?)'
wsgi.file_wrapper	&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x103a5bf0&gt;
wsgiorg.routing_args	(&lt;routes.util.URLGenerator object at 0xfd8d7cc&gt;, {'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'})



</pre>
                            
                          </td>
                          <td class="PosixTime">1282553033000000
                          </td>
                          <td class="ModifiedTime">1287747652000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/463.html">#463</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/463.html">package diff exception</a>
                          </td>
                          <td class="description">
                            <p>
Investigate exception:
</p>
<pre class="wiki">
URL: http://ckan.net/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:73 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']    
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckan.controllers.revision:119 in diff
&lt;&lt;          c.revision_to = model.Session.query(model.Revision).get(
                   request.params.getone('diff'))
               diff = pkg.diff(c.revision_to, c.revision_from)
               c.diff = diff.items()
               c.diff.sort()
&gt;&gt;  diff = pkg.diff(c.revision_to, c.revision_from)
Module ckan.model.package:340 in diff
&lt;&lt;                              display_id = to_obj_rev.tag.name
                               elif obj_class.__name__ == 'PackageExtra':
                                   display_id = to_obj_rev.key
                               else:
                                   display_id = related_obj_id[:4]
&gt;&gt;  display_id = to_obj_rev.key
AttributeError: 'NoneType' object has no attribute 'key'
CGI Variables
AUTH_TYPE	'cookie'
DOCUMENT_ROOT	'/htdocs'
GATEWAY_INTERFACE	'CGI/1.1'
HTTP_ACCEPT	'application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5'
HTTP_ACCEPT_CHARSET	'ISO-8859-1,utf-8;q=0.7,*;q=0.3'
HTTP_ACCEPT_ENCODING	'gzip'
HTTP_ACCEPT_LANGUAGE	'en-US,en;q=0.8'
HTTP_CACHE_CONTROL	'max-age=0'
HTTP_COOKIE	'__utmz=27730403.1281000628.1.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=ckan; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; __utma=27730403.1381387877.1281962773.1282248244.1282250173.11; __utmc=27730403; __utmb=27730403.6.10.1282250173'
HTTP_HOST	'ckan.net'
HTTP_REFERER	'http://ckan.net/package/history/dbtune-audioscrobbler'
HTTP_USER_AGENT	'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-US) AppleWebKit/534.6 (KHTML, like Gecko) Chrome/6.0.490.1 Safari/534.6'
PATH	'/usr/local/bin:/usr/bin:/bin'
PATH_INFO	'/revision/diff/dbtune-audioscrobbler'
PATH_TRANSLATED	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py/revision/diff/dbtune-audioscrobbler'
QUERY_STRING	'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
REMOTE_ADDR	'92.226.62.168'
REMOTE_PORT	'55102'
REMOTE_USER	'http://pudo.org/'
REMOTE_USER_TOKENS	['']
REQUEST_METHOD	'GET'
REQUEST_URI	'/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
SCRIPT_FILENAME	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py'
SCRIPT_URI	'http://ckan.net/revision/diff/dbtune-audioscrobbler'
SCRIPT_URL	'/revision/diff/dbtune-audioscrobbler'
SERVER_ADDR	'10.226.226.118'
SERVER_ADMIN	'[no address given]'
SERVER_NAME	'ckan.net'
SERVER_PORT	'80'
SERVER_PROTOCOL	'HTTP/1.1'
SERVER_SIGNATURE	'&lt;address&gt;Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2 Server at ckan.net Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE	'Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2'
WSGI Variables
application	&lt;beaker.middleware.CacheMiddleware object at 0xbb528cc&gt;
beaker.cache	&lt;beaker.cache.CacheManager object at 0xbb528ec&gt;
beaker.get_session	&lt;bound method SessionMiddleware._get_session of &lt;beaker.middleware.SessionMiddleware object at 0xbb5286c&gt;&gt;
beaker.session	{'_accessed_time': 1282252047.603267, '_creation_time': 1282252047.603267}
mod_wsgi.application_group	'ckan.net|'
mod_wsgi.callable_object	'application'
mod_wsgi.listener_host	''
mod_wsgi.listener_port	'80'
mod_wsgi.process_group	''
mod_wsgi.reload_mechanism	'0'
mod_wsgi.script_reloading	'1'
mod_wsgi.version	(2, 5)
paste.cookies	(&lt;SimpleCookie: __utma='27730403.1381387877.1281962773.1282248244.1282250173.11' __utmb='27730403.6.10.1282250173' __utmc='27730403' __utmz='27730403.1281000628.1.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=ckan' auth_tkt='e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!'&gt;, '__utmz=27730403.1281000628.1.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=ckan; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; __utma=27730403.1381387877.1281962773.1282248244.1282250173.11; __utmc=27730403; __utmb=27730403.6.10.1282250173')
paste.parsed_querystring	([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')], 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
paste.registry	&lt;paste.registry.Registry object at 0xf702aec&gt;
paste.throw_errors	True
pylons.action_method	&lt;bound method RevisionController.diff of &lt;ckan.controllers.revision.RevisionController object at 0xf6eaf0c&gt;&gt;
pylons.controller	&lt;ckan.controllers.revision.RevisionController object at 0xf6eaf0c&gt;
pylons.environ_config	{'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons	&lt;pylons.util.PylonsContext object at 0xf6eaa8c&gt;
pylons.routes_dict	{'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'}
repoze.who.identity	&lt;repoze.who identity (hidden, dict-like) at 280815340&gt;
repoze.who.logger	&lt;logging.Logger instance at 0xbcdfccc&gt;
repoze.who.plugins	{'openid': &lt;OpenIdIdentificationPlugin 196612236&gt;, 'auth_tkt': &lt;AuthTktCookiePlugin 198048140&gt;}
routes.route	&lt;routes.route.Route object at 0xbbc44cc&gt;
routes.url	&lt;routes.util.URLGenerator object at 0xf5e55ec&gt;
webob._parsed_query_vars	(GET([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')]), 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
webob.adhoc_attrs	{'language': 'en-us'}
wsgi process	'Multi process AND threads (?)'
wsgi.file_wrapper	&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0xfe0b0b0&gt;
wsgiorg.routing_args	(&lt;routes.util.URLGenerator object at 0xf5e55ec&gt;, {'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'})
</pre>
                            
                          </td>
                          <td class="PosixTime">1282306037000000
                          </td>
                          <td class="ModifiedTime">1294916148000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1565.html">#1565</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">Rufus Pollock
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1565.html">Admin dashboard finished?</a>
                          </td>
                          <td class="description">
                            <p>
Is testing complete and ready for release?
</p>

                            
                          </td>
                          <td class="PosixTime">1324293092000000
                          </td>
                          <td class="ModifiedTime">1324293092000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/925.html">#925</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/925.html">Change the search box icon to remove the down arrow</a>
                          </td>
                          <td class="description">
                            <p>
Is there a good reason why the search box has a 'down arrow' icon when there is no drop-down menu? Or can this be usefully removed?
</p>

                            
                          </td>
                          <td class="PosixTime">1295867593000000
                          </td>
                          <td class="ModifiedTime">1323168588000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2837.html">#2837</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;3.html">demo phase 3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2837.html">checkbox styling</a>
                          </td>
                          <td class="description">
                            <p>
Is this done I know checkboxes are a pain but it looks a bit out of place compared to the other items.
</p>

                            
                          </td>
                          <td class="PosixTime">1344605993000000
                          </td>
                          <td class="ModifiedTime">1344851271000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1570.html">#1570</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1570.html">Integrated file Storage</a>
                          </td>
                          <td class="description">
                            <p>
Is this ready for release? What needs to be done?
</p>

                            
                          </td>
                          <td class="PosixTime">1324294142000000
                          </td>
                          <td class="ModifiedTime">1324314741000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/285.html">#285</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/285.html">Paginate list of packages on tag read page</a>
                          </td>
                          <td class="description">
                            <p>
Is this worth doing? On hmg.ckan.net start to have a lot of packages with a given tag ...
</p>

                            
                          </td>
                          <td class="PosixTime">1270664606000000
                          </td>
                          <td class="ModifiedTime">1340631923000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/770.html">#770</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/770.html">Improve the paster harvester help command</a>
                          </td>
                          <td class="description">
                            <p>
Issue 1. Help command without arguments fails:
</p>
<p>
$paster help --plugin ckan --config development.ini
</p>
<p>
gives:
</p>
<p>
EITHER
</p>
<p>
Command help not recognized
</p>
<p>
OR
</p>
<p>
paster help: error: no such option: --plugin
</p>
<p>
Issue 2: Harvester command with arguments fails.
</p>
<p>
$ paster harvester
Traceback (most recent call last):
...
</p>
<blockquote>
<p>
cmd = self.args<a class="missing changeset" title="No default repository defined">[0]</a>
</p>
</blockquote>
<p>
<a class="missing wiki">IndexError?</a>: list index out of range
</p>

                            
                          </td>
                          <td class="PosixTime">1288190220000000
                          </td>
                          <td class="ModifiedTime">1296593925000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1133.html">#1133</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1133.html">command line rights manipulation doesn't work</a>
                          </td>
                          <td class="description">
                            <p>
It appears that the command
</p>
<p>
$ paster rights add russianfan admin warandpeace
</p>
<p>
has no effect, even though
</p>
<p>
$ paster rights remove russianfan admin warandpeace
</p>
<p>
works fine. This may be specific to something I've done, could someone confirm?
</p>
<p>
If it's the case more generally, then I'm assuming this behaviour is untested? Tests should probably be added.
</p>

                            
                          </td>
                          <td class="PosixTime">1305054948000000
                          </td>
                          <td class="ModifiedTime">1324057072000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1160.html">#1160</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/pdeu-1.html">pdeu-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1160.html">Havest CSW servers on PDEU</a>
                          </td>
                          <td class="description">
                            <p>
It could be interesting for the publicdata.eu project to add some CSW datasources. Thanks to the INSPIRE directive, there are quite a few national catalogs of geodata that could be worth harvesting.
Work on this should include:
</p>
<ul><li>Compose Endpoint List (1d)
</li><li>Harvest on staging system and evaluate which sources have useful material (2d)
</li></ul><p>
First point is being performed in this GDoc:
<a class="ext-link" href="https://spreadsheets.google.com/spreadsheet/ccc?key=0Atp3cZFjuIOAdDBVQWRINnlfN1d0b2lleHVEdjBSb2c&amp;authkey=CNu4hsEB&amp;hl=en_US#gid=0"><span class="icon">​</span>https://spreadsheets.google.com/spreadsheet/ccc?key=0Atp3cZFjuIOAdDBVQWRINnlfN1d0b2lleHVEdjBSb2c&amp;authkey=CNu4hsEB&amp;hl=en_US#gid=0</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1306407271000000
                          </td>
                          <td class="ModifiedTime">1309804038000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2756.html">#2756</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2756.html">Fix handling of extras in group read</a>
                          </td>
                          <td class="description">
                            <p>
It doesn't pass extras_as_string
</p>

                            
                          </td>
                          <td class="PosixTime">1343231514000000
                          </td>
                          <td class="ModifiedTime">1343232429000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/65.html">#65</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.9.html">v0.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/65.html">Add version attribute to package</a>
                          </td>
                          <td class="description">
                            <p>
It is essential packages have a version attribute to assist in tracking releases etc (and to allow compatibility with other packaging systems e.g. distutils which is being used by datapkg).
</p>
<p>
cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1245262864000000
                          </td>
                          <td class="ModifiedTime">1246434569000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2210.html">#2210</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2210.html">Add method to group for adding members</a>
                          </td>
                          <td class="description">
                            <p>
It is necessary to add a helper method to Group for adding members to that group so that 
</p>
<ul><li>nobody needs to work with the Member model
</li><li>It handles existing membership and existing membership with a different capacity
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1331028470000000
                          </td>
                          <td class="ModifiedTime">1331549369000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1381.html">#1381</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-24.html">ckan-sprint-2011-10-24</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1381.html">Managing groups via package entity API</a>
                          </td>
                          <td class="description">
                            <p>
It is not currently possible to assign or remove groups by adding or removing their group name from the "groups" list on the REST API. This should be allowed, as it is easier than first adding a package and then editing each group it must belong to. 
</p>

                            
                          </td>
                          <td class="PosixTime">1318266706000000
                          </td>
                          <td class="ModifiedTime">1324037815000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1742.html">#1742</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1742.html">Naming of a new package/group can clash with a route</a>
                          </td>
                          <td class="description">
                            <p>
It is possible to create a group or a dataset called new, or edit, which will then be inaccessible as it is blocked by the existing routes with those names.
</p>
<p>
We should maintain a list of invalid names in the verification that happens behind the scenes in the UI.
</p>

                            
                          </td>
                          <td class="PosixTime">1328116317000000
                          </td>
                          <td class="ModifiedTime">1331555193000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1121.html">#1121</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1121.html">JSON extras appear in package edit form mangled</a>
                          </td>
                          <td class="description">
                            <p>
It is possible to use the CKAN API to insert JSON format data into package extra values, but this data is displayed in the package edit form.
</p>
<p>
Example: Package <a class="ext-link" href="http://ckan.net/package/hbz_unioncatalog"><span class="icon">​</span>http://ckan.net/package/hbz_unioncatalog</a> in the API the extra value as a list:
</p>
<pre class="wiki">"extras": {"publishingInstitution": ["http://lobid.org/organisation/DE-605", "http://lobid.org/organisation/DE-290"...
</pre><p>
yet when you edit the package it loses all the quotes and brackets: <a class="ext-link" href="http://ckan.net/package/edit/hbz_unioncatalog"><span class="icon">​</span>http://ckan.net/package/edit/hbz_unioncatalog</a>
{{{<a class="ext-link" href="http://lobid.org/organisation/DE-605http://lobid.org/organisation/DE-290"><span class="icon">​</span>http://lobid.org/organisation/DE-605http://lobid.org/organisation/DE-290</a>...
}}}
so when you save the package, the list is mangled into a bad string.
</p>

                            
                          </td>
                          <td class="PosixTime">1304367504000000
                          </td>
                          <td class="ModifiedTime">1307358426000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1122.html">#1122</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1122.html">JSON Extra data not searchable</a>
                          </td>
                          <td class="description">
                            <p>
It is possible to use the CKAN API to insert JSON format data into package extra values, but this data is not found on searching.
</p>
<p>
Full text from Pascal:
</p>
<pre class="wiki">we encountered a Problem concerning accessing Arrays/Lists.

curl -XGET 'http://ckan.net/api/rest/package/hbz_unioncatalog'

will get you amongst others:

 "extras": {"publishingInstitution":
"[u'http://lobid.org/organisation/DE-605',
u'http://lobid.org/organisation/DE-290',
u'http://lobid.org/organisation/DE-38M',
u'http://lobid.org/organisation/DE-98',
u'http://lobid.org/organisation/DE-38',
u'http://lobid.org/organisation/DE-Kn41',
u'http://lobid.org/organisation/DE-82',
u'http://lobid.org/organisation/DE-107',
u'http://lobid.org/organisation/DE-929',
u'http://lobid.org/organisation/DE-Zw1',
u'http://lobid.org/organisation/DE-832']"}

but if I try to query this:

wget
'http://ckan.net/api/search/package?q=lobid&amp;publishingInstitution="http://lobid.org/organisation/DE-605"'

I get only two packages, among the package "hbz_unioncatalog" is
missing. (These two packages have only one value for
"publishingInstitution").

The "extra/publishingInstitution"-Array was uploaded through a "curl
-XPUT ...
 "extras": {
   "publishingInstitution":[
     "http://lobid.org/organisation/DE-605",
     "http://lobid.org/organisation/DE-290",
     "http://lobid.org/organisation/DE-38M",
     "http://lobid.org/organisation/DE-98",
     "http://lobid.org/organisation/DE-38",
     "http://lobid.org/organisation/DE-Kn41",
     "http://lobid.org/organisation/DE-82",
     "http://lobid.org/organisation/DE-107",
     "http://lobid.org/organisation/DE-929",
     "http://lobid.org/organisation/DE-Zw1",
     "http://lobid.org/organisation/DE-832"
   ]
   },
...
</pre>
                            
                          </td>
                          <td class="PosixTime">1304367510000000
                          </td>
                          <td class="ModifiedTime">1306747714000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/994.html">#994</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/994.html">document a new migration methodology</a>
                          </td>
                          <td class="description">
                            <p>
It is too easy to make a mistake with the migrations at the moment.  A more systematic way of doing them is needed and this needs to be documented.
</p>

                            
                          </td>
                          <td class="PosixTime">1298281192000000
                          </td>
                          <td class="ModifiedTime">1298912842000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1738.html">#1738</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1738.html">Add extension point to search index, so can modify dataset dict before index.</a>
                          </td>
                          <td class="description">
                            <p>
It is useful for extensions to add or change items that go into the search index. Add an extension point for this.
</p>

                            
                          </td>
                          <td class="PosixTime">1328031572000000
                          </td>
                          <td class="ModifiedTime">1330086105000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1320.html">#1320</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-10.html">ckan-sprint-2011-10-10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1320.html">Extend basic markdown to support normal http / https links</a>
                          </td>
                          <td class="description">
                            <p>
It is very annoying that you have to wrap links in &lt;...&gt; and most people don't bother. Extend h.markdown in code and markdown in js to fix this.
</p>
<p>
(We should also support 'package' links etc in javascript?)
</p>
<p>
*ADDITIONAL*
</p>
<ul><li>Note that CKAN flavoured markdown will not currently recognise dataset:my_data links (still uses package).
</li><li>Move the markdown api to /util/markdown
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1315422000000000
                          </td>
                          <td class="ModifiedTime">1318164603000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2892.html">#2892</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.1.html">ckan-v1.8.1</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2892.html">IDatasetForm's form_to_db_schema() breaks API?</a>
                          </td>
                          <td class="description">
                            <p>
It looks like when an IDatasetForm plugin with a form_to_db_schema() method is active, then the posted data dict is validated against the schema even if the user is posting to an API endpoint like /api/action/package_update etc. This breaks the API, for example 'name' and 'title' are optional keys for package_update (you can supply only the 'id'), but the schema validation will fail if either are not present in the posted dict.
</p>
<p>
It may be we need different schema for package create and package update, currently IDatasetForm has just the one form_to_db_schema() method.
</p>

                            
                          </td>
                          <td class="PosixTime">1346154125000000
                          </td>
                          <td class="ModifiedTime">1346154163000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/942.html">#942</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/942.html">Fix SERP pager argument passing</a>
                          </td>
                          <td class="description">
                            <p>
It only passes "q", but the whole query must be serialized. 
</p>

                            
                          </td>
                          <td class="PosixTime">1296469490000000
                          </td>
                          <td class="ModifiedTime">1297074807000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/668.html">#668</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">Colin Calnan
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/668.html">Caching issues on API v1</a>
                          </td>
                          <td class="description">
                            <p>
It seems like the API v1 on CKAN metastable (cset:ec21f8e1c87e) has some caching issues.
</p>
<p>
Steps to test:
</p>
<ol><li>Modify a dataset on datadotgc.ca, redirects to CKAN 
</li></ol><ol start="2"><li>On save, redirects to <a class="ext-link" href="http://www.datadotgc.ca/update/geogratisnat_hydrography_v100"><span class="icon">​</span>http://www.datadotgc.ca/update/geogratisnat_hydrography_v100</a> which in turn redirects to <a class="ext-link" href="http://www.datadotgc.ca/dataset/geogratisnat_hydrography_v100"><span class="icon">​</span>http://www.datadotgc.ca/dataset/geogratisnat_hydrography_v100</a>
</li></ol><ol start="3"><li>You can see that the Dataset has not updated correctly. Run a check on the API v1 - <a class="ext-link" href="http://ca.ckan.net/api/1/rest/package/geogratisnat_hydrography_v100"><span class="icon">​</span>http://ca.ckan.net/api/1/rest/package/geogratisnat_hydrography_v100</a> the updates are not present
</li></ol><ol start="4"><li>Check the v2 of the API - <a class="ext-link" href="http://ca.ckan.net/api/rest/package/geogratisnat_hydrography_v100"><span class="icon">​</span>http://ca.ckan.net/api/rest/package/geogratisnat_hydrography_v100</a>, the updates are present.
</li></ol><ol start="5"><li>Setting the headers to 'Cache-control: no-cache' or 'Pragma: no-cache' does not work either.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1285953542000000
                          </td>
                          <td class="ModifiedTime">1311176649000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1261.html">#1261</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1261.html">Investigate dots in extras search</a>
                          </td>
                          <td class="description">
                            <p>
It seems that searching for extras_foo:value works with solr, but extras_foo.bar:value doesn't. No theory on why. 
</p>

                            
                          </td>
                          <td class="PosixTime">1312366768000000
                          </td>
                          <td class="ModifiedTime">1312366768000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1550.html">#1550</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1550.html">Allow simple auth via the API</a>
                          </td>
                          <td class="description">
                            <p>
It should be possible to pass userid/username and api key and obtain a response from CKAN for external services that use CKAN auth. Those services shouldn't be talking to the DB directly.
</p>

                            
                          </td>
                          <td class="PosixTime">1324049369000000
                          </td>
                          <td class="ModifiedTime">1346670055000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2542.html">#2542</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2542.html">Create jenkins job to run ckanbuild, and run tests</a>
                          </td>
                          <td class="description">
                            <p>
It should run the script to create the debian package, boot a VM, install the debian package on the VM, boot a CKAN instance, then run the tests.
</p>

                            
                          </td>
                          <td class="PosixTime">1339775888000000
                          </td>
                          <td class="ModifiedTime">1340639863000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2521.html">#2521</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2521.html">synchronous_search plugin missing from deployment.ini_tmpl</a>
                          </td>
                          <td class="description">
                            <p>
It still contains the old build_search_index_synchronously which no longer works
</p>

                            
                          </td>
                          <td class="PosixTime">1339595361000000
                          </td>
                          <td class="ModifiedTime">1339595469000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1072.html">#1072</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1072.html">Add filters to authztool</a>
                          </td>
                          <td class="description">
                            <p>
It takes several minutes to print the 'rights' on DGU, which is annoying when you only want to grep for a few lines. Much quicker than grepping is to filter in the query.
</p>

                            
                          </td>
                          <td class="PosixTime">1302106311000000
                          </td>
                          <td class="ModifiedTime">1302106474000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1549.html">#1549</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1549.html">[super] Short link tool</a>
                          </td>
                          <td class="description">
                            <p>
It would be great to have a CKAN extension that allowed users (or CKAN itself) to generate short links to other URIs (both internal and external). Once created, shortlinks made by CKAN should be changeable. This would allow uploaded content to be moved without the user's link changing at all. The tool itself might also be of use as a general link-shortener to users other than the CKAN system itself.
</p>
<p>
Another useful feature would be for this to also collect some simple analytics such as the referrer and client IP for future reference. I'm not yet sure what we would do with the analytics other than some sort of popularity metric.
</p>
<p>
Questions:
</p>
<ul><li>Core, or Extension, or Self-hosted?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324036998000000
                          </td>
                          <td class="ModifiedTime">1325474219000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2390.html">#2390</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2390.html">create_test_data for multiple users, rights</a>
                          </td>
                          <td class="description">
                            <p>
It would be useful (well for DGU, but no doubt for core too) to have be able to create multiple users with full properties using one commit. Also to be able to create rights (<a class="missing wiki">UserObjectRoles?</a>).
</p>

                            
                          </td>
                          <td class="PosixTime">1337098459000000
                          </td>
                          <td class="ModifiedTime">1337100788000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1499.html">#1499</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1499.html">list/read/delete packages on the command-line</a>
                          </td>
                          <td class="description">
                            <p>
It would be useful to be able to manipulate packages using the paster command-line interface. In particular listing, reading and deleting packages. Seeing which packages were deleted too.
</p>

                            
                          </td>
                          <td class="PosixTime">1322591656000000
                          </td>
                          <td class="ModifiedTime">1322591888000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/662.html">#662</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/662.html">Can't put entity that is returned by posting to package register</a>
                          </td>
                          <td class="description">
                            <p>
It's because Package carries several out-of-band values, which are snagged on the way back out. Entity get response also can't be posted.
</p>
<p>
However, post response can be re-posted (because it isn't the same as the register-post/entity-get responses.
</p>
<p>
An issue for CKAN too.
</p>
<p>
Sub-ticket of <a class="closed ticket" href="../ticket/961.html" title="enhancement: [super] Refactoring of forms, validation and model synchronization (closed: fixed)">#961</a> (form, validation, model sync meta-ticket) and depends on that work.
</p>

                            
                          </td>
                          <td class="PosixTime">1285410546000000
                          </td>
                          <td class="ModifiedTime">1301076463000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1026.html">#1026</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1026.html">cli for creating users</a>
                          </td>
                          <td class="description">
                            <p>
It's handy to be able to create users using the cli (e.g. dgu migration)
</p>

                            
                          </td>
                          <td class="PosixTime">1299604652000000
                          </td>
                          <td class="ModifiedTime">1299605128000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1548.html">#1548</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1548.html">Simplfy inheritance in functional tests</a>
                          </td>
                          <td class="description">
                            <p>
It's hard to understand what's going on with the functional tests because there is so much going on in inherited classes. Would be better to be explicit in constructors, even if it involves cut &amp; paste.
</p>

                            
                          </td>
                          <td class="PosixTime">1323859687000000
                          </td>
                          <td class="ModifiedTime">1323888271000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2514.html">#2514</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2514.html">Follow/unfollow button looks weird</a>
                          </td>
                          <td class="description">
                            <p>
It's in the tab bar (maybe not the right place for a button? but I wanted it to be next to the follower tab and count) and doesn't like very much like a button
</p>

                            
                          </td>
                          <td class="PosixTime">1339578189000000
                          </td>
                          <td class="ModifiedTime">1340959787000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1042.html">#1042</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1042.html">'Ckanext' split-up</a>
                          </td>
                          <td class="description">
                            <p>
It's not good to have ckanext doing lots of different things with different dependencies. Split it off into:
</p>
<ul><li>ckanext-importlib
</li></ul><p>
etc.
</p>
<p>
And then deprecate the ckanext repo itself.
</p>

                            
                          </td>
                          <td class="PosixTime">1300293907000000
                          </td>
                          <td class="ModifiedTime">1300969865000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/990.html">#990</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rene.kapusta
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/990.html">umlauts in title / text</a>
                          </td>
                          <td class="description">
                            <p>
It's not possible to use umlauts (like "CKAN Österreich") in the title / text.
</p>

                            
                          </td>
                          <td class="PosixTime">1297801036000000
                          </td>
                          <td class="ModifiedTime">1311180850000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1740.html">#1740</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1740.html">Get rid of `from module import ...`</a>
                          </td>
                          <td class="description">
                            <p>
It's really bad to do <tt>from module import *</tt> and CKAN has a lot of them. I suggest a three-pronged approach:
</p>
<ol><li>Don't add any more of them.
</li></ol><ol start="2"><li>When you're programming if you see an easy opportunity to remove one then do so.
</li></ol><ol start="3"><li>At some point we should task someone to go through the code and remove them all (which is what this ticket is for), but this will be a big job and may break things.
</li></ol><p>
We should also get rid of most or all of the <tt>from module import foo</tt> and <tt>from module import foo, bar</tt> statements.
</p>
<p>
I think the right thing to do is just <tt>import module</tt> and then use <tt>module.foo</tt> in your code. But if you find yourself doing <tt>module.foo.bar</tt> then you may have a code smell.
</p>
<p>
See: <a class="ext-link" href="http://docs.python.org/dev/howto/doanddont.html"><span class="icon">​</span>http://docs.python.org/dev/howto/doanddont.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1328094369000000
                          </td>
                          <td class="ModifiedTime">1328094884000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1614.html">#1614</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1614.html">remove po files from git diff</a>
                          </td>
                          <td class="description">
                            <p>
Its a pain to see the difference between branches as there are normally a lot of po file transaction. Make the default be see that they have changed without actually show the diffs themselves.
</p>

                            
                          </td>
                          <td class="PosixTime">1325686639000000
                          </td>
                          <td class="ModifiedTime">1325689136000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1661.html">#1661</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1661.html">Wrong Routes version installed by CKAN package</a>
                          </td>
                          <td class="description">
                            <p>
Jaakko Louhio reported that the wrong Routes version got installed during CKAN's package install.
</p>
<p>
He is using Ubuntu 10.04 and he believes it install Routes 1.12.3 instead of what we use which is 1.11.
</p>

                            
                          </td>
                          <td class="PosixTime">1326718061000000
                          </td>
                          <td class="ModifiedTime">1339773949000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2527.html">#2527</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2527.html">Implement a method of loading templates into the demo site</a>
                          </td>
                          <td class="description">
                            <p>
<a class="missing wiki">JavaScript?</a> needs to be able to insert html templates into the document.
</p>
<p>
There are three common solutions to templating at the moment.
</p>
<ol><li>Insert the html into &lt;script&gt; tags at the bottom of the page and pull them in using the DOM and innerHTML. This is a very simple solution but not very portable.
</li><li>Request the HTML snippets as plain text/html using XHR. This adds an extra HTTP request per template but is very clean. It would also be possible to inline the HTML into the JS at the minification stage for production.
</li><li>Include the HTML in <a class="missing wiki">JavaScript?</a> strings (horrible to maintain and bloats the js)
</li></ol><p>
It makes sense to keep these with the other templates so that we can take advantage of localisation where possible. This indicates 1 or 2.
</p>

                            
                          </td>
                          <td class="PosixTime">1339682884000000
                          </td>
                          <td class="ModifiedTime">1340116130000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/450.html">#450</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/450.html">Assist with proxying of static media for forms</a>
                          </td>
                          <td class="description">
                            <p>
John did this a while ago.
</p>

                            
                          </td>
                          <td class="PosixTime">1282299573000000
                          </td>
                          <td class="ModifiedTime">1287997487000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1344.html">#1344</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-10.html">ckan-sprint-2011-10-10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1344.html">datetime error json conversion on search</a>
                          </td>
                          <td class="description">
                            <p>
Json decoding error on search, due to date in resources.
</p>

                            
                          </td>
                          <td class="PosixTime">1316020195000000
                          </td>
                          <td class="ModifiedTime">1317211299000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3016.html">#3016</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3016.html">CKAN 2.0 template tweaks</a>
                          </td>
                          <td class="description">
                            <p>
Just a ticket to keep track of a few suggested template changes.
</p>

                            
                          </td>
                          <td class="PosixTime">1352813417000000
                          </td>
                          <td class="ModifiedTime">1352813417000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1329.html">#1329</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1329.html">i18n poor in some templates - missing i18n tags</a>
                          </td>
                          <td class="description">
                            <p>
Just a tip for developers regarding translations:
</p>
<ul><li>When writing templates, mark &lt;p&gt;, &lt;div&gt;, etc elements with the
</li></ul><p>
i18:msg attribute, otherwise the messages don't get extracted
properly.
</p>
<p>
Good: <a class="ext-link" href="https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/templates/home/about.html#cl-40"><span class="icon">​</span>https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/templates/home/about.html#cl-40</a>
</p>
<pre class="wiki">&lt;p i18n:msg=""&gt;More about CKAN, and the background to its creation can
   be found in &lt;a
     href="http://m.okfn.org/files/talks/opentech_20080705/"&gt;these
     slides&lt;/a&gt;.&lt;/p&gt;
</pre><p>
gives this:
<a class="ext-link" href="https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/i18n/ca/LC_MESSAGES/ckan.po#cl-1238"><span class="icon">​</span>https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/i18n/ca/LC_MESSAGES/ckan.po#cl-1238</a>
</p>
<p>
Bad: <a class="ext-link" href="https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/templates/package/new_package_form.html#cl-211"><span class="icon">​</span>https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/templates/package/new_package_form.html#cl-211</a>
</p>
<pre class="wiki">&lt;p class="hints"&gt;
&lt;strong&gt;Important:&lt;/strong&gt; By submitting content, you agree to
release your contributions
 under the &lt;a href="http://opendatacommons.org/licenses/odbl/1.0/"&gt;Open
Database License&lt;/a&gt;. Please &lt;strong&gt;refrain&lt;/strong&gt; from editing
this page if you are &lt;strong&gt;not&lt;/strong&gt; happy to do this.
&lt;/p&gt;
</pre><p>
gives this:
<a class="ext-link" href="https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/i18n/ca/LC_MESSAGES/ckan.po#cl-1384"><span class="icon">​</span>https://bitbucket.org/okfn/ckan/src/1996b0439e81/ckan/i18n/ca/LC_MESSAGES/ckan.po#cl-1384</a>
</p>
<p>
The message is split in different parts that not necessarily match the
grammar or syntax of the translated language.
</p>

                            
                          </td>
                          <td class="PosixTime">1315824288000000
                          </td>
                          <td class="ModifiedTime">1317404566000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2202.html">#2202</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">reopened
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2202.html">Display page view count on dataset and resource pages</a>
                          </td>
                          <td class="description">
                            <p>
Just like we display download counts we should display view counts.
</p>

                            
                          </td>
                          <td class="PosixTime">1330765455000000
                          </td>
                          <td class="ModifiedTime">1338204929000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/960.html">#960</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/960.html">Support non-ascii character in internal error messages</a>
                          </td>
                          <td class="description">
                            <p>
Just saw an error like the following which looks like it is to do with having a user object with non-ascii characters in it. Either get rid of 'cast' to str type here or do it in a unicode aware way.
</p>
<p>
Should do this not just here but everywhere we can find in the code base.
</p>
<pre class="wiki">Module ckan.controllers.package:302 in edit
&lt;&lt;          am_authz = self.authorizer.am_authorized(c, model.Action.EDIT, pkg)
               if not am_authz:
                   abort(401, str(gettext('User %r not authorized to edit %s') % (c.user, id)))
       
               auth_for_change_state = self.authorizer.am_authorized(c, model.Action.CHANGE_STATE, pkg)
&gt;&gt;  abort(401, str(gettext('User %r not authorized to edit %s') % (c.user, id)))
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 1: ordinal not in range(128)
</pre><h2 id="Estimate">Estimate</h2>
<p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1297069721000000
                          </td>
                          <td class="ModifiedTime">1297169056000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3003.html">#3003</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3003.html">New pg databases should be created with UTF8 encoding rather than system default</a>
                          </td>
                          <td class="description">
                            <p>
Just to track @tauberer patch on Github.
Probably going to 1.8.1
</p>

                            
                          </td>
                          <td class="PosixTime">1350639199000000
                          </td>
                          <td class="ModifiedTime">1350639199000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3002.html">#3002</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3002.html">API v1/2 'legacy' search parameters must be escaped before they are put into a Solr query string</a>
                          </td>
                          <td class="description">
                            <p>
Just to track @tauberer patch on Github.
Would be nice to write a test for it. Probably going to 1.8.1
</p>

                            
                          </td>
                          <td class="PosixTime">1350639142000000
                          </td>
                          <td class="ModifiedTime">1350639142000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1294.html">#1294</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1294.html">[super] Package creation and editing UX improvements</a>
                          </td>
                          <td class="description">
                            <p>
Largely an integration of work from ckanjs
</p>
<ul><li><a class="closed ticket" href="../ticket/1295.html" title="enhancement: Simplify package create form (closed: fixed)">#1295</a> Simplify package create form
</li><li>Improvements to edit form
<ul><li>Split edit form into sections
</li><li>Remove preview from edit form (introduce inline preview on description/notes field)
</li></ul></li><li><a class="closed ticket" href="../ticket/1296.html" title="enhancement: Improved resource adding/editing on dataset/page page (closed: fixed)">#1296</a> Improved resource adding/editing on dataset/page page
</li><li><a class="closed ticket" href="../ticket/878.html" title="enhancement: Integrate file upload with workflow around package resources (closed: fixed)">#878</a> File upload integrated into resource creation
</li><li><a class="closed ticket" href="../ticket/1297.html" title="enhancement: In-place preview of edited description markdown on edit dataset form (closed: fixed)">#1297</a> In-place editing of notes field for existing packages
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1314405811000000
                          </td>
                          <td class="ModifiedTime">1315948257000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1575.html">#1575</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1575.html">tag punctuation lost in ca.ckan.net import</a>
                          </td>
                          <td class="description">
                            <p>
Last week I imported ca.ckan.net datasets into thedatahub.org, but the tags seem to have lost their dashes, underscores and dots.
</p>

                            
                          </td>
                          <td class="PosixTime">1324316860000000
                          </td>
                          <td class="ModifiedTime">1326808657000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/326.html">#326</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/326.html">Centralise importation of json library</a>
                          </td>
                          <td class="description">
                            <p>
Later versions of python use json which is better than simplejson, but it must be kept as an option for compatibility. So centralise the import of json to ckan.lib.helpers.
</p>

                            
                          </td>
                          <td class="PosixTime">1274784223000000
                          </td>
                          <td class="ModifiedTime">1274789296000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2575.html">#2575</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2575.html">Licenses have i18n issues (was Inconsistent language on license dropdown)</a>
                          </td>
                          <td class="description">
                            <p>
License titles at least for some of them need translating.  This wants to be done in a more efficient and simple manner than currently exists.
</p>
<p>
the original problem was:
</p>
<p>
The license dropdown on the dataset form shows titles in Swedish by default. Changing the language seems to default to English, but after refreshing the page a couple of times it shows a wrong language again.
</p>
<p>
Thanks to pudo for reporting.
</p>

                            
                          </td>
                          <td class="PosixTime">1340125845000000
                          </td>
                          <td class="ModifiedTime">1343216544000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/524.html">#524</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/iati-2.html">iati-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/524.html">Limit registering data to authenticated users either via API or manually.</a>
                          </td>
                          <td class="description">
                            <p>
Limit registering data to authenticated users either via API or manually.
</p>
<ul><li>Edits may only be made by authenticated entities
</li><li>Priority: 5
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1282893904000000
                          </td>
                          <td class="ModifiedTime">1285594971000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/927.html">#927</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/927.html">[super] Improvements to CKAN documentation</a>
                          </td>
                          <td class="description">
                            <p>
List of improvements to CKAN documentation (result of <a class="closed ticket" href="../ticket/904.html" title="task: Review CKAN documentation (closed: fixed)">ticket:904</a>). Should convert most items into sub-tickets as we go along.
</p>
<h2 id="Major">Major</h2>
<ul><li><del>(Make blog.ckan.org into ckan.org and move ckan.org to trac.ckan.org/)</del>
</li><li>Document caching system - <a class="closed ticket" href="../ticket/841.html" title="enhancement: Caching docs (as a whole) (closed: duplicate)">ticket:841</a>
</li><li>Howto guide for writing an extension - <em>started on this at <a class="ext-link" href="http://wiki.ckan.net/Extending_CKAN"><span class="icon">​</span>http://wiki.ckan.net/Extending_CKAN</a></em>
</li></ul><h2 id="Miscellaneous">Miscellaneous</h2>
<ul><li>Contributors / credits page: <a class="closed ticket" href="../ticket/928.html" title="enhancement: Documentation - CKAN credits / contributors page (closed: fixed)">ticket:928</a>
</li><li><del>(Data proxy documentation: move it to packages.python.org/dataproxy)</del>
</li><li><del>(List dataapi extensions on <a href="http://ckan.org/wiki/Extensions">http://ckan.org/wiki/Extensions</a> (Name, summary string + point to pypi page ...))</del>
</li><li>Document license configuration and license system - <a class="closed ticket" href="../ticket/973.html" title="enhancement: Document license configuration and license system. (closed: fixed)">ticket:973</a>
</li><li>Refactor trac frontpage moving general feature overview to ckan.org
</li><li>Create proper roadmap information on <a class="ext-link" href="http://trac.ckan.org/"><span class="icon">​</span>http://trac.ckan.org/</a>
</li><li>Add link to wiki.ckan.net to ckan.org
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295869492000000
                          </td>
                          <td class="ModifiedTime">1300105638000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1113.html">#1113</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1113.html">lists in extras serialized wrongly on get with the api.</a>
                          </td>
                          <td class="description">
                            <p>
Lists are being converted to unicode and then translated into a json when getting from the api.
</p>

                            
                          </td>
                          <td class="PosixTime">1304017353000000
                          </td>
                          <td class="ModifiedTime">1304024611000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1059.html">#1059</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1059.html">Loader coping better with poor search indexing</a>
                          </td>
                          <td class="description">
                            <p>
Loader currently checks for same name, but also should check for name_, name<span class="underline"> etc.
</span></p>

                            
                          </td>
                          <td class="PosixTime">1301310596000000
                          </td>
                          <td class="ModifiedTime">1301312516000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/157.html">#157</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/157.html">Log message not persisted through preview</a>
                          </td>
                          <td class="description">
                            <p>
Log message on package edit page is no longer persisted through a preview (no doubt due to recent form upgrades). Let's fix this.
</p>
<p>
cost: 0.5h
</p>

                            
                          </td>
                          <td class="PosixTime">1255694396000000
                          </td>
                          <td class="ModifiedTime">1256062680000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1146.html">#1146</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1146.html">make logic layer control its own state</a>
                          </td>
                          <td class="description">
                            <p>
Logic layer should not use any vdm defined state and should manage it itself.
</p>

                            
                          </td>
                          <td class="PosixTime">1305829117000000
                          </td>
                          <td class="ModifiedTime">1307957527000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/120.html">#120</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/120.html">Security audit</a>
                          </td>
                          <td class="description">
                            <p>
Look for all places where model is accessed and check authorization is checked.
</p>
<p>
Document holes (and, as necessary, suggestions for fixes) as new tickets. Likely areas that need looking at:
</p>
<ul><li>search i/f
</li><li>package WUI commit
</li></ul><p>
Write holes are obviously much more significant to us than read holes.
</p>

                            
                          </td>
                          <td class="PosixTime">1253529427000000
                          </td>
                          <td class="ModifiedTime">1254406544000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2554.html">#2554</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2554.html">Research Virtuoso cartridges</a>
                          </td>
                          <td class="description">
                            <p>
Look into writing a cartridge for importing CKAN data into a Virtuoso quadstore
</p>
<p>
<a class="ext-link" href="http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VirtSponger#How"><span class="icon">​</span>http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VirtSponger#How</a> Does It Work?
</p>

                            
                          </td>
                          <td class="PosixTime">1340026645000000
                          </td>
                          <td class="ModifiedTime">1346670433000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/663.html">#663</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/663.html">Duplicate sibling relationships displayed</a>
                          </td>
                          <td class="description">
                            <p>
Looking at:
<a class="ext-link" href="http://ckan.net/package/rkb-explorer-acm"><span class="icon">​</span>http://ckan.net/package/rkb-explorer-acm</a>
</p>
<p>
'rkb-explorer-resex' gets display multiple times and shouldn't
</p>

                            
                          </td>
                          <td class="PosixTime">1285576369000000
                          </td>
                          <td class="ModifiedTime">1298913603000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2533.html">#2533</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2533.html">ckanext-harvest is broken with ckan 1.8b</a>
                          </td>
                          <td class="description">
                            <p>
Looks like recent CKAN cleanups broke some imports:
</p>
<p>
<a class="ext-link" href="https://gist.github.com/2935639"><span class="icon">​</span>https://gist.github.com/2935639</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1339754707000000
                          </td>
                          <td class="ModifiedTime">1339755433000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2534.html">#2534</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2534.html">ckanext-spatial is broken with CKAN 1.8b</a>
                          </td>
                          <td class="description">
                            <p>
Looks like recent cleanups in CKAN broke an import in the extension:
</p>
<p>
<a class="ext-link" href="https://gist.github.com/2935688"><span class="icon">​</span>https://gist.github.com/2935688</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1339754762000000
                          </td>
                          <td class="ModifiedTime">1340631124000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2509.html">#2509</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2509.html">UI style broken on organization read page</a>
                          </td>
                          <td class="description">
                            <p>
Looks like some of the style has been updated/changed on the group read page but the changes haven't been applied to the organizations read page.
</p>

                            
                          </td>
                          <td class="PosixTime">1339413084000000
                          </td>
                          <td class="ModifiedTime">1339419867000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1577.html">#1577</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1577.html">Can't upload file with foreign chars in filename</a>
                          </td>
                          <td class="description">
                            <p>
Looks like uploading a file with foreign characters fails due to encoding reasons.
</p>
<pre class="wiki">URL: http://thedatahub.org/api/storage/auth/form/2011-12-19T124447/Ministerstvo-financ%C3%AD-%C4%8Cesk%C3%A9-republiky-_-P%C5%99%C3%ADprava-rozpo%C4%8Dtu.pdf
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:123 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']    
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckanext.storage.controller:2 in auth_form
Module ckan.lib.jsonp:26 in jsonpify
&lt;&lt;      Very much modelled after pylons.decorators.jsonify .
           """
           data = func(*args, **kwargs)
           return to_jsonp(data)
&gt;&gt;  data = func(*args, **kwargs)
Module ckanext.storage.controller:301 in auth_form
&lt;&lt;          method = 'POST'
               authorize(method, bucket, label, c.userobj, self.ofs)
               data = self._get_form_data(label)
               return data
&gt;&gt;  authorize(method, bucket, label, c.userobj, self.ofs)
Module ckanext.storage.controller:79 in authorize
&lt;&lt;      if method != 'GET':
               # do not allow overwriting
               if ofs.exists(bucket, key):
                   abort(409)
               # now check user stuff
&gt;&gt;  if ofs.exists(bucket, key):
Module ofs.remote.botostore:53 in exists
&lt;&lt;          if bucket is None: 
                   return False
               return (label is None) or (label in bucket)
           
           def claim_bucket(self, bucket):
&gt;&gt;  return (label is None) or (label in bucket)
Module boto.s3.bucket:87 in __contains__
&lt;&lt;      def __contains__(self, key_name):
              return not (self.get_key(key_name) is None)
       
           def startElement(self, name, attrs, connection):
&gt;&gt;  return not (self.get_key(key_name) is None)
Module boto.s3.bucket:144 in get_key
&lt;&lt;          response = self.connection.make_request('HEAD', self.name, key_name,
                                                       headers=headers,
                                                       query_args=query_args)
               # Allow any success status (2xx) - for example this lets us
               # support Range gets, which return status 206:
&gt;&gt;  query_args=query_args)
Module boto.s3.connection:388 in make_request
&lt;&lt;          if isinstance(key, Key):
                   key = key.name
               path = self.calling_format.build_path_base(bucket, key)
               boto.log.debug('path=%s' % path)
               auth_path = self.calling_format.build_auth_path(bucket, key)
&gt;&gt;  path = self.calling_format.build_path_base(bucket, key)
Module boto.s3.connection:88 in build_path_base
&lt;&lt;      def build_path_base(self, bucket, key=''):
               return '/%s' % urllib.quote(key)
       
       class SubdomainCallingFormat(_CallingFormat):
&gt;&gt;  return '/%s' % urllib.quote(key)
Module urllib:1222 in quote
&lt;&lt;              safe_map[c] = (c in safe) and c or ('%%%02X' % i)
               _safemaps[cachekey] = safe_map
           res = map(safe_map.__getitem__, s)
           return ''.join(res)
&gt;&gt;  res = map(safe_map.__getitem__, s)
KeyError: u'\xed'
CGI Variables
AUTH_TYPE	'cookie'
CONTENT_TYPE	'; charset=utf-8'
DOCUMENT_ROOT	'/htdocs'
GATEWAY_INTERFACE	'CGI/1.1'
HTTP_ACCEPT	'*/*'
HTTP_ACCEPT_CHARSET	'ISO-8859-1,utf-8;q=0.7,*;q=0.3'
HTTP_ACCEPT_ENCODING	'gzip,deflate,sdch'
HTTP_ACCEPT_LANGUAGE	'en-US,en;q=0.8'
HTTP_CACHE_CONTROL	'max-age=259200'
HTTP_CONNECTION	'keep-alive'
HTTP_COOKIE	'thedatahub_net=27a7f095fcca1ea6b36df996d595e3278b16f4538862bf7f88d49e2000b9246547c8fd0e; auth_tkt="f9c6ab2b0d9fcd71c4c2408bc12fab544eef1c45elenaibp!userid_type:unicode"; auth_tkt="f9c6ab2b0d9fcd71c4c2408bc12fab544eef1c45elenaibp!userid_type:unicode"; ckan_user=elenaibp; ckan_display_name="Elena Mondo"; ckan_apikey=decd48b1-49ee-4250-bff4-98ccca9c02a5; hide_welcome_message=1; __utma=119670349.1809834699.1323782464.1324293066.1324298316.4; __utmb=119670349.3.10.1324298316; __utmc=119670349; __utmz=119670349.1323782464.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)'
HTTP_HOST	'thedatahub.org'
HTTP_REFERER	'http://thedatahub.org/dataset/edit/budget-library-czeck-republic'
HTTP_USER_AGENT	'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.63 Safari/535.7'
HTTP_VIA	'1.1 localhost (squid/3.0.STABLE19)'
HTTP_X_FORWARDED_FOR	'87.114.74.190'
HTTP_X_REQUESTED_WITH	'XMLHttpRequest'
PATH	'/usr/local/bin:/usr/bin:/bin'
PATH_INFO	'/api/storage/auth/form/2011-12-19T124447/Ministerstvo-financ\xc3\xad-\xc4\x8cesk\xc3\xa9-republiky-_-P\xc5\x99\xc3\xadprava-rozpo\xc4\x8dtu.pdf'
PATH_TRANSLATED	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py/api/storage/auth/form/2011-12-19T124447/Ministerstvo-financ\xc3\xad-\xc4\x8cesk\xc3\xa9-republiky-_-P\xc5\x99\xc3\xadprava-rozpo\xc4\x8dtu.pdf'
REMOTE_ADDR	'193.34.146.142'
REMOTE_PORT	'55419'
REMOTE_USER	u'elenaibp'
REMOTE_USER_DATA	'userid_type:unicode'
REMOTE_USER_TOKENS	['']
REQUEST_METHOD	'GET'
REQUEST_URI	'/api/storage/auth/form/2011-12-19T124447/Ministerstvo-financ%C3%AD-%C4%8Cesk%C3%A9-republiky-_-P%C5%99%C3%ADprava-rozpo%C4%8Dtu.pdf'
SCRIPT_FILENAME	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py'
SCRIPT_URI	'http://thedatahub.org/api/storage/auth/form/2011-12-19T124447/Ministerstvo-financ\xc3\xad-\xc4\x8cesk\xc3\xa9-republiky-_-P\xc5\x99\xc3\xadprava-rozpo\xc4\x8dtu.pdf'
SCRIPT_URL	'/api/storage/auth/form/2011-12-19T124447/Ministerstvo-financ\xc3\xad-\xc4\x8cesk\xc3\xa9-republiky-_-P\xc5\x99\xc3\xadprava-rozpo\xc4\x8dtu.pdf'
SERVER_ADDR	'193.34.146.146'
SERVER_ADMIN	'[no address given]'
SERVER_NAME	'thedatahub.org'
SERVER_PORT	'80'
SERVER_PROTOCOL	'HTTP/1.0'
SERVER_SIGNATURE	'&lt;address&gt;Apache/2.2.14 (Ubuntu) Server at thedatahub.org Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE	'Apache/2.2.14 (Ubuntu)'
WSGI Variables
application	&lt;beaker.middleware.CacheMiddleware object at 0x7f22601c7dd0&gt;
beaker.cache	&lt;beaker.cache.CacheManager object at 0x7f22601c7b50&gt;
beaker.get_session	&lt;bound method SessionMiddleware._get_session of &lt;beaker.middleware.SessionMiddleware object at 0x7f22601c7a90&gt;&gt;
beaker.session	{'_accessed_time': 1324298703.071357, '_creation_time': 1324293077.4139669}
mod_wsgi.application_group	'ckan.net|'
mod_wsgi.callable_object	'application'
mod_wsgi.listener_host	''
mod_wsgi.listener_port	'80'
mod_wsgi.process_group	'ckan.net'
mod_wsgi.reload_mechanism	'1'
mod_wsgi.script_reloading	'1'
mod_wsgi.version	(2, 8)
paste.cookies	(&lt;SimpleCookie: __utma='119670349.1809834699.1323782464.1324293066.1324298316.4' __utmb='119670349.3.10.1324298316' __utmc='119670349' __utmz='119670349.1323782464.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none)' auth_tkt='f9c6ab2b0d9fcd71c4c2408bc12fab544eef1c45elenaibp!userid_type:unicode' ckan_apikey='decd48b1-49ee-4250-bff4-98ccca9c02a5' ckan_display_name='Elena Mondo' ckan_user='elenaibp' hide_welcome_message='1' thedatahub_net='27a7f095fcca1ea6b36df996d595e3278b16f4538862bf7f88d49e2000b9246547c8fd0e'&gt;, 'thedatahub_net=27a7f095fcca1ea6b36df996d595e3278b16f4538862bf7f88d49e2000b9246547c8fd0e; auth_tkt="f9c6ab2b0d9fcd71c4c2408bc12fab544eef1c45elenaibp!userid_type:unicode"; auth_tkt="f9c6ab2b0d9fcd71c4c2408bc12fab544eef1c45elenaibp!userid_type:unicode"; ckan_user=elenaibp; ckan_display_name="Elena Mondo"; ckan_apikey=decd48b1-49ee-4250-bff4-98ccca9c02a5; hide_welcome_message=1; _ _utma=119670349.1809834699.1323782464.1324293066.1324298316.4; __utmb=119670349.3.10...)|utmcmd=(none)')
paste.registry	&lt;paste.registry.Registry object at 0x7f226194df50&gt;
paste.throw_errors	True
pylons.action_method	&lt;bound method StorageAPIController.auth_form of &lt;ckanext.storage.controller.StorageAPIController object at 0x7f2261dad990&gt;&gt;
pylons.controller	&lt;ckanext.storage.controller.StorageAPIController object at 0x7f2261dad990&gt;
pylons.environ_config	{'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons	&lt;pylons.util.PylonsContext object at 0x7f2261daddd0&gt;
pylons.routes_dict	{'action': u'auth_form', 'controller': u'ckanext.storage.controller:StorageAPIController', 'label': u'2011-12-19T124447/Ministerstvo-financ\xed-\u010cesk\xe9-republiky-_-P\u0159\xedprava-rozpo\u010dtu.pdf'}
repoze.who.identity	&lt;repoze.who identity (hidden, dict-like) at 139785645747120&gt;
repoze.who.logger	&lt;logging.Logger instance at 0x7f225e23c098&gt;
repoze.who.plugins	{'openid': &lt;OpenIdIdentificationPlugin 139785625065680&gt;, 'friendlyform': &lt;FriendlyFormPlugin 139785618095248&gt;, 'ckan.lib.authenticator:UsernamePasswordAuthenticator': &lt;ckan.lib.authenticator.UsernamePasswordAuthenticator object at 0x7f2260874c10&gt;, 'auth_tkt': &lt;AuthTktCookiePlugin 139785625065808&gt;, 'ckan.lib.authenticator:OpenIDAuthenticator': &lt;ckan.lib.authenticator.OpenIDAuthenticator object at 0x7f2260874c90&gt;}
routes.route	&lt;routes.route.Route object at 0x7f22601a1090&gt;
routes.url	&lt;routes.util.URLGenerator object at 0x7f2261dadf50&gt;
webob._parsed_query_vars	(GET([]), '')
webob.adhoc_attrs	{'language': 'en-us'}
wsgi process	'Multiprocess'
wsgi.file_wrapper	&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f2261da9af8&gt;
wsgiorg.routing_args	(&lt;routes.util.URLGenerator object at 0x7f2261dadf50&gt;, {'action': u'auth_form', 'controller': u'ckanext.storage.controller:StorageAPIController', 'label': u'2011-12-19T124447/Ministerstvo-financ\xed-\u010cesk\xe9-republiky-_-P\u0159\xedprava-rozpo\u010dtu.pdf'})
</pre>
                            
                          </td>
                          <td class="PosixTime">1324317659000000
                          </td>
                          <td class="ModifiedTime">1325473564000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/559.html">#559</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/559.html">Fix package lookup on group edit form</a>
                          </td>
                          <td class="description">
                            <p>
Lookup is needed to add a package but won't show up at some times. 
</p>
<p>
Originally reported by Anja Jentzsch, re questions. 
</p>

                            
                          </td>
                          <td class="PosixTime">1283542776000000
                          </td>
                          <td class="ModifiedTime">1310127694000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1365.html">#1365</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1365.html">Support old search formats</a>
                          </td>
                          <td class="description">
                            <p>
Lots of things rely on the old (i.e. pre-SOLR) search param formats, including ckanclient / DGU. Need a translation layer to convert these params (in api v1&amp;2) to SOLR syntax.
</p>
<p>
This functionality was broken by the changes in <a class="closed ticket" href="../ticket/1277.html" title="enhancement: Use solr query parser for search instead of ckan query parser (closed: fixed)">#1277</a> which went into 1.5a
</p>

                            
                          </td>
                          <td class="PosixTime">1317233338000000
                          </td>
                          <td class="ModifiedTime">1319815052000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2770.html">#2770</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2770.html">Some strings potentially not marked for translation</a>
                          </td>
                          <td class="description">
                            <p>
Luca De Santis reported these strings not marked in 1.7.1:
</p>
<blockquote class="citation">
<ul><li>/user/login.html ("Remember me" &amp; "Sign in")
</li><li>/package/search.html and template/package/group/read.html (Tags, Resource Formats, Groups)
</li><li>/package/resource_read.html (the "No description" message)
</li><li>the "Add related item" dialog (some strings are i18n savvy, others not)
</li><li>the stats page (labels on the graphs)
</li><li>the history page (as far as the log messages are concerned).
</li></ul></blockquote>
<p>
lets check that they are marked in 1.8
</p>

                            
                          </td>
                          <td class="PosixTime">1343386840000000
                          </td>
                          <td class="ModifiedTime">1343389747000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1797.html">#1797</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1797.html">[super] Webstore v2 - Integrated and based on ElasticSearch</a>
                          </td>
                          <td class="description">
                            <p>
Main tasks:
</p>
<ul><li>Integrated seamlessly into CKAN (authorization etc)
</li><li>Based off <a class="missing wiki">ElasticSearch?</a>
</li></ul><p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/webstore"><span class="icon">​</span>http://ckan.okfnpad.org/webstore</a>
</p>
<h1 id="Tasks">Tasks</h1>
<ul><li><del>New API point (config + controller) [0.75d]</del>
<ul><li>/api/data/{resource-id}
</li></ul></li><li><del>Authorization [0.5d]</del>
</li><li><del>Documentation [0.25d]</del>
</li><li><del>Upgrade data viewer to use ES [0.5d]</del>
</li><li><del>Convert webstorer to new setup - <a class="ext-link" href="http://github.com/okfn/ckanext-webstorer"><span class="icon">​</span>http://github.com/okfn/ckanext-webstorer</a> [1d] - <a class="closed ticket" href="../ticket/1753.html" title="enhancement: Last fixes of Webstorer + Deploy on the DataHub (closed: fixed)">#1753</a></del>
<ul><li>See below
</li></ul></li><li>"Create <a class="missing wiki">DataStore?</a> Resource" in Resource creation (??)
<ul><li>Just creates a resource with blank url and datastore enabled (webstore_url non null)
</li></ul></li><li><del>Tick box to enable <a class="missing wiki">DataStore?</a> in Resource edit form (for time being would just set webstore_url to any non-null/non-empty value)</del>
<ul><li>Also need to use this info in <a class="missing wiki">DataStore?</a> extension?
</li></ul></li><li><del>Create nice instructions on Resource page about using the <a class="missing wiki">DataStore?</a></del>
</li><li><del>Rename webstore -&gt; datastore</del>
</li><li><del>Deploy [0.5d]</del>
</li></ul><h1 id="Details">Details</h1>
<h2 id="LayoutonES">Layout on ES</h2>
<pre class="wiki">elasticsearch/{index}/{type-id}

index = ckan-{ckan-id}
type-id = resource-id (1)
</pre><h2 id="Requestpath">Request path</h2>
<p>
Req =&gt; Nginx =&gt; CKAN App (authz) =&gt; req to elasticsearch and returns results
</p>
<p>
See as an example: <a class="ext-link" href="https://github.com/okfn/elastic-proxy"><span class="icon">​</span>https://github.com/okfn/elastic-proxy</a>
</p>
<h2 id="Questions">Questions</h2>
<ol><li>How do we decide what to use in the viewer e.g. Webstore data versus <a class="missing wiki">DataProxy?</a>
<ul><li>Check for existence of webstore_url on Resource (should really be webstore_enabled boolean or similar, however we stick with url for the time being because it exists and we avoid migration). If exists use Webstore o/w don't.
</li></ul></li><li>How do we decide when webstore is activated
<ul><li>Ans: see previous.
</li></ul></li><li>Do we (and how do we) allow for resources which are just for webstores
<ul><li>Ans: we have to set webstore_url = True ... on save. Or add a big button saying: "Create Blank Resource" ...
</li></ul></li><li>How does webstorer work ...
<ul><li>CSV import - NS: make sure we add e.g. rownum or <span class="underline">id</span> = rownum ...
</li><li>Separate mini-service (webstorer.thedatahub.org ...)
</li></ul></li><li>How do we selectively disable recline where not appropriate (e.g. query support makes no sense for <a class="missing wiki">DataProxy?</a>)
<ul><li>Ans: do not bother at present. Focus on Webstore route.
</li></ul></li><li>Where does geodata support come in (in Recline or separately)
<ul><li>This is a separate issue
</li></ul></li></ol><h2 id="UserStory1">User Story 1</h2>
<p>
User -&gt; CKAN instance -&gt; Add Dataset -&gt; Adds a Resource via uploading a CSV file -&gt; Save
</p>
<p>
=&gt; Result = New Dataset + Resource + Data API to resource and nice Preview of the data
</p>
<p>
Solution:
</p>
<ol><li>Allow normal upload process
</li><li>Webstorer queue task which should get triggered by new resource. Check the resource and if it can convert into the associated resource webstore database.
</li><li>Update the resource in some way (set webstore_url)
</li></ol><h1 id="UserStories">User Stories</h1>
<h2 id="UserStory2">User Story 2</h2>
<p>
User -&gt; CKAN instance -&gt; Add Dataset -&gt; Adds a Resource via linking to some remote file (CSV or otherwise) or uploading some data (CSV or otherwise)
</p>
<p>
=&gt; Result = New Dataset + Resource + nice Preview of the data (wherever possible)
</p>
<h2 id="UserStory3">User Story 3</h2>
<p>
User -&gt; CKAN instance -&gt; Add Dataset -&gt; Adds a Resource which will be webstore database in CKAN -&gt; User saves data to this data store.
</p>
<p>
=&gt; Result = New Dataset + Resource (Webstore resource) which can now be written to or read from by the user
</p>
<p>
Solution: just create a resource with blank url (or better, have a new option to create webstore resource ...)
</p>

                            
                          </td>
                          <td class="PosixTime">1329306185000000
                          </td>
                          <td class="ModifiedTime">1331412644000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2278.html">#2278</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-16.html">ckan-sprint-2012-04-16</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2278.html">DataStore enabled is disabled by default but is needed for DataStorer to run</a>
                          </td>
                          <td class="description">
                            <p>
Major UX gotcha reported by several people is that <a class="missing wiki">DataStore?</a> is disabled by default and must be enabled for <a class="missing wiki">DataStorer?</a> to run and import data.
</p>
<p>
Suggest switch to enable datastore by default for file and file.upload types (disable for API). People can always disable if they want.
</p>

                            
                          </td>
                          <td class="PosixTime">1333441048000000
                          </td>
                          <td class="ModifiedTime">1333441177000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1359.html">#1359</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1359.html">Radically simplify standard list of licenses</a>
                          </td>
                          <td class="description">
                            <p>
Major UX grip and incredibly simple to do. May also want to have basic autocomplete support within the list (trivial to do as well I believe).
</p>
<p>
(Talk to RP about this re how we define lists of licenses).
</p>

                            
                          </td>
                          <td class="PosixTime">1317077855000000
                          </td>
                          <td class="ModifiedTime">1329132464000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1255.html">#1255</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1255.html">Drupal consistancy checks.</a>
                          </td>
                          <td class="description">
                            <p>
Make a robust way to make sure the drupal database is consistent with the ckan data.
</p>

                            
                          </td>
                          <td class="PosixTime">1312219968000000
                          </td>
                          <td class="ModifiedTime">1313400054000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/58.html">#58</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.9.html">v0.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/58.html">Make bookmarklet to enable easy package registration on CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Make bookmarklet to enable easy package registration on CKAN
</p>
<h2 id="Details">Details</h2>
<ol><li>This requires redoing web interface to allow 1-step package creation/editing (as opposed to name then everything else approach at the moment)
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1239018517000000
                          </td>
                          <td class="ModifiedTime">1239974365000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/231.html">#231</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/231.html">Make group versioned</a>
                          </td>
                          <td class="description">
                            <p>
Make group object revisioned/versioned.
</p>
<ul><li>Involves upgrade script both for group object and group_revision object
</li><li>No changes required to WUI for present
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1262853923000000
                          </td>
                          <td class="ModifiedTime">1288516929000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/317.html">#317</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/317.html">Make search pluggable</a>
                          </td>
                          <td class="description">
                            <p>
Make lib/search.py pluggable so that we can plug in different search systems (e.g. SOLR).
</p>
<p>
Suggest we define a base Search class from which specific search implementations inherit (e.g. SQLSearch, SOLRSearch etc). The specific one being used would then be set via a config variable.
</p>

                            
                          </td>
                          <td class="PosixTime">1274295418000000
                          </td>
                          <td class="ModifiedTime">1279286041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/185.html">#185</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/185.html">Package form field hiding</a>
                          </td>
                          <td class="description">
                            <p>
Make parts of the package form hidden by default, to make it look simpler. Users are invited to click a button to reveal the less important fields.
</p>
<p>
Fields hidden by default:
version, author, author_email, maintainer, maintainer_email
</p>

                            
                          </td>
                          <td class="PosixTime">1257763437000000
                          </td>
                          <td class="ModifiedTime">1291830039000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1701.html">#1701</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1701.html">Normalize character encoding for ckan search.</a>
                          </td>
                          <td class="description">
                            <p>
Make sure accented characters are normalized when indexed and when searched for.
</p>

                            
                          </td>
                          <td class="PosixTime">1327419050000000
                          </td>
                          <td class="ModifiedTime">1330085360000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1702.html">#1702</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1702.html">Normalize character encoding for ckan search.</a>
                          </td>
                          <td class="description">
                            <p>
Make sure accented characters are normalized when indexed and when searched for.
</p>

                            
                          </td>
                          <td class="PosixTime">1327419369000000
                          </td>
                          <td class="ModifiedTime">1327419922000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2381.html">#2381</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2381.html">Related item count on ALL dataset pages</a>
                          </td>
                          <td class="description">
                            <p>
Make sure the related item count is available on all dataset pages (inc. follow) when it is enabled.
</p>

                            
                          </td>
                          <td class="PosixTime">1337009133000000
                          </td>
                          <td class="ModifiedTime">1337011327000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2592.html">#2592</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2592.html">Update and simplify source install instructions</a>
                          </td>
                          <td class="description">
                            <p>
Make the same instructions work for Ubuntu Lucid and Precise and make them simpler
</p>
<p>
Also see <a class="closed ticket" href="../ticket/1471.html" title="enhancement: Be compatible with new ubuntu release in April (closed: fixed)">#1471</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1340633697000000
                          </td>
                          <td class="ModifiedTime">1341234947000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2281.html">#2281</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-16.html">ckan-sprint-2012-04-16</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2281.html">Pagination styling converted to Bootstrap</a>
                          </td>
                          <td class="description">
                            <p>
Make the search results pagination styled by Bootstrap. 
</p>
<p>
Needs putting into a &lt;ul&gt; structure. Current page and '..' need become links that are styled disabled.
</p>
<p>
Wanted by DGU.
</p>

                            
                          </td>
                          <td class="PosixTime">1333967506000000
                          </td>
                          <td class="ModifiedTime">1333967862000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1519.html">#1519</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1519.html">combine stats and analytics extensions into one in UI as well as deployment</a>
                          </td>
                          <td class="description">
                            <p>
Makes more sense to only have one comprehensive stats/analytics extension, so when people are looking to add a stats extension they won't have to add two which may be confusing (is one an old version of the other? why do I have to add two? what's the difference? etc)
</p>
<p>
User-wise we need a way to display our stats with google analytics in the same place
</p>

                            
                          </td>
                          <td class="PosixTime">1323169033000000
                          </td>
                          <td class="ModifiedTime">1324317373000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2973.html">#2973</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2973.html">Move new_authz.py into logic/auth/__init__.py</a>
                          </td>
                          <td class="description">
                            <p>
Makes sense to keep all auth stuff under logic/auth.
</p>
<p>
Also decide which functions from new_authz.pu should be marked private with _.
</p>
<p>
Also decide which functions from new_authz.py are really helpers for the auth functions in get.py, update.py and delete.py, and should maybe moved to another file, e.g. logic/auth/helpers.py
</p>

                            
                          </td>
                          <td class="PosixTime">1350297545000000
                          </td>
                          <td class="ModifiedTime">1350297545000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1438.html">#1438</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1438.html">Action API - parameter discovery/checking</a>
                          </td>
                          <td class="description">
                            <p>
Many actions in the Action API require parameters. What params are needed should be listed and checked. Because currently, if you get them wrong you simply get a useless 500 error.
</p>
<p>
Currently they are listed in the docs, extracted from the code manually.
</p>
<p>
So you could GET /action/api/package_list to receive not only the help text, but a list of arguments.
</p>
<p>
And if you send an extra or missing argument then an intelligent error message can be returned.
</p>
<h1 id="implementation">implementation</h1>
<p>
How about some sort of decorator on the action function:
</p>
<pre class="wiki">@logic_params(id, offset, limit)
def get_package_list(context, data_dict):
    ...
</pre><p>
This would do the param checking, and is there a way to extract these params from the function? Or do a registration of the logic function?
</p>
<p>
I'd certainly like to keep the list of the list of params for the function with the function, for ease of reading the code.
</p>
<p>
Another good thing would be to pass in the params named as themselves, rather than having them contained in the data_dict.
</p>

                            
                          </td>
                          <td class="PosixTime">1320161890000000
                          </td>
                          <td class="ModifiedTime">1338205050000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1096.html">#1096</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rufuspollock
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1096.html">[super] CKAN Hosted</a>
                          </td>
                          <td class="description">
                            <p>
Many users of CKAN want to have their own instance without much effort. Setting these up in separate places is a maintenance nightmare, we should much rather have some tenant separation in core CKAN. Some ideas:
</p>
<ul><li>introduce model.Site and c.site
<ul><li>site has: custom CSS, extra_template_path, title, languages list, package_form, group_form (all configured via web UI) 
</li></ul></li><li>Subdomain detector to activate sites.
</li><li>use site in Authorizer instead of System, have a <a class="missing wiki">NullSite?</a> for global things
</li><li>allow cross-site search
</li><li>packages are in a list of sites, m:n rather than 1:n
<ul><li>list of sites is string-based, can contain sites not in site table to express harvested external material which is not editable locally. 
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1303235062000000
                          </td>
                          <td class="ModifiedTime">1339774484000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2393.html">#2393</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2393.html">Map licenses with countryCode to license name without countryCode</a>
                          </td>
                          <td class="description">
                            <p>
Map licenses: given <a class="ext-link" href="http://creativecommons.org/licenses/by/2.5/{countrycode}/"><span class="icon">​</span>http://creativecommons.org/licenses/by/2.5/{countrycode}/</a> as a license value through the API, convert it to <a class="ext-link" href="http://www.opendefinition.org/licenses/cc-by"><span class="icon">​</span>http://www.opendefinition.org/licenses/cc-by</a> .  Should also work if given <a class="ext-link" href="http://www.opendefinition.org/licenses/cc-by"><span class="icon">​</span>http://www.opendefinition.org/licenses/cc-by</a>  .  NOTE: the API may send through a list of licenses; in this situation, take the head of the list.
</p>

                            
                          </td>
                          <td class="PosixTime">1337159564000000
                          </td>
                          <td class="ModifiedTime">1337270463000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1196.html">#1196</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-3.html">ckan-v1.5-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1196.html">Markdown logging ignores config settings</a>
                          </td>
                          <td class="description">
                            <p>
Markdown produces Debug logging, even when the pylons logging config is set to level of Info or Warning. This clogs up the logfile.
</p>

                            
                          </td>
                          <td class="PosixTime">1308743476000000
                          </td>
                          <td class="ModifiedTime">1308743857000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1473.html">#1473</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1473.html">max name length validators missing</a>
                          </td>
                          <td class="description">
                            <p>
Max length of package name and version field is 100 characters, but the validators seem to enforce this, although in the web interface the javascript limits typing in these fields, so it just affects the API really.
</p>

                            
                          </td>
                          <td class="PosixTime">1321631452000000
                          </td>
                          <td class="ModifiedTime">1321872717000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1299.html">#1299</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1299.html">Activity streams table migration</a>
                          </td>
                          <td class="description">
                            <p>
Migrate tables for activity streams
</p>

                            
                          </td>
                          <td class="PosixTime">1314696635000000
                          </td>
                          <td class="ModifiedTime">1327322739000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/319.html">#319</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/319.html">Local Authority license misnamed in migration script 18</a>
                          </td>
                          <td class="description">
                            <p>
Migration script 18 converts license "OKD Compliant::Local Authority Copyright with data.gov.uk rights" into "uklocalauthority-withrights" when it should be "localauth-withrights", according to the license service SoS 2. This causes clients difficulties looking it up.
</p>

                            
                          </td>
                          <td class="PosixTime">1274349714000000
                          </td>
                          <td class="ModifiedTime">1274366882000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1690.html">#1690</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1690.html">Rename storage settings with the ckan prefix</a>
                          </td>
                          <td class="description">
                            <p>
Missed the ckan prefix on the storage settings names so this needs to be fixed.
</p>

                            
                          </td>
                          <td class="PosixTime">1327064844000000
                          </td>
                          <td class="ModifiedTime">1327066713000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2508.html">#2508</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2508.html">Make it possible to run CKAN tests for each language</a>
                          </td>
                          <td class="description">
                            <p>
Mistakes in translated strings can cause CKAN to crash or otherwise not work, but it's not practical to manually test every page and function of CKAN in every language that we have new translations for before a CKAN release. It'd be great if the tests could automatically be run for each language.
</p>
<p>
This is probably a big job, we would have to get the tests to respect a language setting in the ini file, check for any individual test cases that specify the language (e.g. in the URL), and also fix test cases that look for specific English words in HTML output, etc.
</p>
<p>
In the meantime, a good stop-gap solution might be a script that tests for common mistakes in the po files.
</p>

                            
                          </td>
                          <td class="PosixTime">1339411335000000
                          </td>
                          <td class="ModifiedTime">1339770771000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1384.html">#1384</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1384.html">CKAN wiki needs updating to refer to thedatahub.org instead of ckan.net and datasets instead of packages</a>
                          </td>
                          <td class="description">
                            <p>
Most articles still refer and link to ckan.net, wiki.ckan.net and to packages
</p>

                            
                          </td>
                          <td class="PosixTime">1318414077000000
                          </td>
                          <td class="ModifiedTime">1318414077000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2502.html">#2502</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2502.html">Create Jinja block for common helpers</a>
                          </td>
                          <td class="description">
                            <p>
Most important is {% snippet %} but {% url_for %} would be great too.
</p>

                            
                          </td>
                          <td class="PosixTime">1339084936000000
                          </td>
                          <td class="ModifiedTime">1339494853000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1184.html">#1184</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">timmcnamara
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1184.html">Support Wuala as CKAN storage option</a>
                          </td>
                          <td class="description">
                            <p>
Most of CKANs storage options are tied to the USA. This brings concerns of data security for some organisations who may wish to adopt the system. <a class="ext-link" href="http://wua.la"><span class="icon">​</span>Wuala</a> is a distributed file system that stores data in a peer-to-peer manner. The company behind it, <a class="missing wiki">LaCie?</a> sells storage for a fee. However, they also enable clients to have 'free' storage space when machines act as a storage node. 
</p>
<p>
In order to be a storage node, a machine needs to be online for more than 14% of the time - roughly 4h per day. Most CKAN servers are likely to have a far greater uptime than this.
</p>
<p>
Supporting Wuala would go some way to enabling CKAN to be used in a secure manner. That is, CKAN could be promoted for organisational use where there is lots of data to be stored and large geographic distances to be managed. There is a <a class="ext-link" href="http://www.wuala.com/Wuala%20API/Sample%20Clients/Python/wualaAPI/"><span class="icon">​</span>Python client available</a> and a fairly <a class="ext-link" href="http://www.youtube.com/watch?v=3xKZ4KGkQY8"><span class="icon">​</span>long Google Tech Talk</a> that overviews the system.
</p>

                            
                          </td>
                          <td class="PosixTime">1308034751000000
                          </td>
                          <td class="ModifiedTime">1339774306000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1501.html">#1501</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1501.html">Pagination links broken</a>
                          </td>
                          <td class="description">
                            <p>
Most of the different pagination links are broken and point to wrong locations. e.g:
</p>
<ul><li>Dataset listings in group page:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/group/bibliographic"><span class="icon">​</span>http://test.ckan.net/group/bibliographic</a>
</p>
<ul><li>Tag letters in tag listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/tag"><span class="icon">​</span>http://test.ckan.net/tag</a>
</p>
<ul><li>User listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/user"><span class="icon">​</span>http://test.ckan.net/user</a>
</p>
<ul><li>Revision listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/revision"><span class="icon">​</span>http://test.ckan.net/revision</a>
</p>
<p>
This is most probably related with:
</p>
<p>
<a class="ext-link" href="https://github.com/okfn/ckan/commit/1772a5c"><span class="icon">​</span>https://github.com/okfn/ckan/commit/1772a5c</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1322646397000000
                          </td>
                          <td class="ModifiedTime">1322684411000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2211.html">#2211</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2211.html">Logic layer access to publisher functionality</a>
                          </td>
                          <td class="description">
                            <p>
Most of the get_group/add_member style calls should be handled, or at least provided via logic layer.
</p>
<p>
Don't need to break existing code, but do need to provide access via logic layer
</p>

                            
                          </td>
                          <td class="PosixTime">1331028751000000
                          </td>
                          <td class="ModifiedTime">1331549406000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <span class="current">15</span>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=description&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=description&amp;asc=1&amp;page=16.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=description&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=description&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=description&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>