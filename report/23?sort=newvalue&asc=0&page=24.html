<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=newvalue&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=newvalue&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=newvalue&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=newvalue&amp;asc=0&amp;page=25.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=newvalue&amp;asc=0&amp;page=23.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=newvalue&amp;asc=0&amp;page=24.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2301 - 2400 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=23.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <span class="current">24</span>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=29.html" title="Page 29">29</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=31.html" title="Page 31">31</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=32.html" title="Page 32">32</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=33.html" title="Page 33">33</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=34.html" title="Page 34">34</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=25.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="23%3Fsort=ticket&amp;asc=1&amp;page=24.html">
              Ticket
            </a>
          </th><th>
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=24.html">
              Posixtime
            </a>
          </th><th>
            <a href="23%3Fsort=author&amp;asc=1&amp;page=24.html">
              Author
            </a>
          </th><th colspan="100" class="desc">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=24.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/200.html">#200</a>
                          </td>
                          <td class="PosixTime">1311176118000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I know this is for datapkg but it is over 6 months old so closing in line with our current ticketing policy.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1124.html">#1124</a>
                          </td>
                          <td class="PosixTime">1304601771000000
                          </td>
                          <td class="author">nils.toedtmann
                          </td>
                          <td class="newvalue">I installed the python-ckanext-solr package rom http://apt-alpha.ckan.org/datanl-dev onto us10/DataGM too, and it seems to work just fine, see http://datagm.test.ckan.net/package?q=manchester
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2406.html">#2406</a>
                          </td>
                          <td class="PosixTime">1337766385000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">I installed CKAN yesterday afternoon from source, using the instructions at

http://docs.ckan.org/en/ckan-1.7/install-from-source.html

Most things worked pretty smoothly and, luckily, when they didn't I
was lucky enough to have David Raznick on hand to help sort them out.
As a result I've made the following notes on where the doc could be
improved.

For some ghastly reason I am running Linux Mint, which is some variant
of Ubuntu. It's not 10.04, so no package, hence the source install.

Sec 2: Not wanting a mysterious file called 'pyenv' in my home
directory, I created a directory ~/ckan and typed 'virtualenv pyenv'
from there. Everything worked fine. But if I had needed the 'tip' it
would have been a little confusing. It would also be worth reminding
the user that the dubious package is one they've supposedly just
installed, so if that went OK, they won't need to worry about this.

The tip also isn't clear about under what circumstances I'd need to do
the 'easy_install pip' - I didn't need to (is that also only when
python-virtualenv is missing?)

Sec 4: This worked, but the example command for installing a
particular version is confusing. It says it is for 1.5.1, but
replacing '1.5.1' with '1.7' fails because there is a rogue 'c' in the
command.

Probably it would be better to use the latest version (1.7) as the
example anyway. Or is there a way of asking for the latest released
version?

I understand this checks out the whole Git repository with all history
- I can't imagine why I'd need to do this to build a particular
version. But David assures me it's very sensible.

Sec 6: This worked, but it wasn't very clear what the purpose of the
'List existing databases' step was.

Sec 8: So now I had to try to get Solr working using the instructions at

http://docs.ckan.org/en/ckan-1.7/solr-setup.html

This didn't work at all, in ways I can't now remember, to do with
Java. In the end David suggested using Tomcat rather than Jetty (don't
ask me what these do, but they have something to do with getting Solr
to work ...) and this turned out to be much more straightforward to
install and get working, with two caveats (below). David suggested
maybe Tomcat should be the default suggested in this doc.

- One problem with Jetty was to do with using the wrong version of
Java, which seemed to be fixed using "sudo update-alternatives
--config java". It didn't fix Jetty - not sure if it would also have
been needed with Tomcat.
- Soft linking the schema file didn't work - it seems Tomcat doesn't
like soft links. We made a copy.

After this everything worked, and I now have my very own CKAN. Hurrah!

Mark
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1400.html">#1400</a>
                          </td>
                          <td class="PosixTime">1328612209000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">I haven't written any docs for this. I'm also not sure what the status is, Ross was doing some work on it recently so he is probably the man to ask.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1217.html">#1217</a>
                          </td>
                          <td class="PosixTime">1320663277000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I haven't seen this for a while - could have been due to database corruption which has been fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/766.html">#766</a>
                          </td>
                          <td class="PosixTime">1294248066000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I haven't heard this mentioned yet, but yes, let's try to implement it if possible. Appears to expose a CSW interface? http://webhelp.esri.com/geoportal_extension/9.3.1/index.htm#ext_csw_clnts.htm
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/767.html">#767</a>
                          </td>
                          <td class="PosixTime">1296593504000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I haven't heard this mentioned yet, but yes, let's try to implement it if possible. Appears to expose a CSW interface?  http://webhelp.esri.com/geoportal_extension/9.3.1/index.htm#ext_csw_clnts.htm
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="PosixTime">1333037710000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have tracked down the changesets to:

 * branched off master at dff9f7a8
 * merged master in for the last time (and became the 'new master'?) at 1a9227d9ff73c
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/876.html">#876</a>
                          </td>
                          <td class="PosixTime">1292939711000000
                          </td>
                          <td class="author">kindly@gmail.com
                          </td>
                          <td class="newvalue">I have read quite a lot of people having problems with savepoints with sqlite and thought they were not supported on sqlalchemy.  They are at least not consistant with postgres ones.  I may well be out of date on this.  
Here is an [http://groups.google.com/group/sqlalchemy/browse_thread/thread/dc9d1b61044bf730/65a62a33ec313842?lnk=gst&amp;q=no+such+savepoint#65a62a33ec313842 example] even though its a bit old. 

I did get some non deterninistic errors, the above seemed to fix them. A failed subtransaction is not handled well by sqlalchemy and I think this causes knockon effects due to the unresolved transaction.  I would stay well clear of them entirely if possible.

What are the errors you are getting??


My 2 cents. ignore me at will...

I would think about using a different backend for testing than production. [http://stackoverflow.com/questions/2716847/sqlalchemy-sqlite-for-testing-and-postgresql-for-development-how-to-port look here].
If you want to support both then you should test on both. 
There are simple ways to scrape a few more minutes off the tests.  If you want real speed, then a multiprocess solution (with a database per core) would be sensible if a bit tricky.

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1177.html">#1177</a>
                          </td>
                          <td class="PosixTime">1307366621000000
                          </td>
                          <td class="author">fccoelho
                          </td>
                          <td class="newvalue">I have not modded the code in any way... 

I'll look for those lines in the template.which template is it? read.html does not have a line such as this.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/876.html">#876</a>
                          </td>
                          <td class="PosixTime">1292891133000000
                          </td>
                          <td class="author">kindly@gmail.com
                          </td>
                          <td class="newvalue">I have looked into this already so I can give you a head start.  I am working on a project that uses many backends so I have some experience. So here is what I have found so far. 

== nested transactions ==

VDM does not support sqlite, as it uses nested transactions.  I do not think vdm needs nested transactions. It can use a flush instead.  Here is the patch that works. All vdm tests pass.

{{{
--- a/vdm/sqlalchemy/base.py	Sat Sep 11 23:06:26 2010 +0000
+++ b/vdm/sqlalchemy/base.py	Mon Dec 20 16:16:34 2010 +0000
@@ -40,9 +40,8 @@
         self.setattr(session, 'HEAD', True)
         self.setattr(session, 'revision', revision)
         if revision.id is None:
-            session.begin_nested()
             session.add(revision)
-            session.commit()
+            session.flush()
}}}

== indexes ==

The index file 021_postgres_upgrade.sql in the migrate repository will not run as it uses syntax particular to postgres. Another will need to be made thats similar. sqlite does not support complex indexes like upper(text), so a work around will need to be found.

== unicode ==

The harvesting returns utf8 encoded strings and pysqlite dbapi only supports python unicode objects (as far as I can tell).  There will need to be a process in converting all strings that get into the database with string.decode("utf8")

== dates ==

Have not looked into this one too much. However, as sqlite stores everything as strings the timestamps appear to be failing on conversion back into python.

I have solved the above two issues before by adding attribute extensions to sqlalchemy mappers to do the conversions without effecting too much code.

== in memory sqlite ==

Some tests need to change in order to make sure the database is created first because the database gets lost each time.  In the tests that I have made pass, they run in about a seventh of the time as they do on postgres. 

== Other things to keep in mind. ==

 * Need a new flag in test.ini to remove full text indexing completely, or always use it with solr.
 * There are enough incompatibilities between the databases that you would also want to test against postgres as well, at least before a release.  
 * I would probably upgrade sqlalchemy first, so you will not have to the changes twice. The new versions are significantly faster too.
 * I have submitted a patch to #868 that makes the tests run about 2.5 times as fast and I think there are more low hanging fruit if the aim is test speed. 

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1171.html">#1171</a>
                          </td>
                          <td class="PosixTime">1347358705000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">I have implemented this on the datahub, but this change likely needs to be made to CKAN core. Probably as part of 2.0.

The format on tdh is currently:

${TITLE}. ${AUTHOR}.
Retrieved ${UTC time}.
${DATASET LINK}

Best discuss and agree on what format should be supported. Mark, I've assigned this to you as it is tagged academia ;)

                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/816.html">#816</a>
                          </td>
                          <td class="PosixTime">1312295371000000
                          </td>
                          <td class="author">johnglover
                          </td>
                          <td class="newvalue">I have implemented the resource autocomplete so am closing this for now.

I agree that more information on the resource would be a good addition. It seems a bit of a different issue to just adding autocomplete though, with potentially far more changes to the codebase, so maybe it would be better discussed in a separate ticket/CREP. However, any new fields would presumably want to either be constrained or have an autocomplete and so can reuse the work done on this feature.

Cheers,
John
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1394.html">#1394</a>
                          </td>
                          <td class="PosixTime">1320663304000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have half a fix for this at the moment.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1339.html">#1339</a>
                          </td>
                          <td class="PosixTime">1316010607000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I have fixed the isodata and made a slightly modified int_converter for this case.  In the correct place and raises invalids on not being an int.  cset:a4af115116bb

The thinking was that the input of these fields would be through the api so the empty string case did not arise.  These should clearly be converted to None (Null).

What issues in general?
Having done this lots of times before you always end up needing to write your own little validators as the standard ones never do what you want.  Thats the point of them. Look in ckan/lib/validators if you need examples.

So what you did was correct...
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="PosixTime">1291858346000000
                          </td>
                          <td class="author">Stiivi
                          </td>
                          <td class="newvalue">I have created "proof of concept" implementation that will use external data proxy service when accessing:


{{{
/api/data/PACKAGE_ID

}}}

like:


{{{
http://127.0.0.1:5000/api/data/069c80f8-8476-452e-bfd4-0a9077666c14

}}}

It just works and requires refactoring to match ckan standards. I would need help from soneone who knows ckan internals better.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1359.html">#1359</a>
                          </td>
                          <td class="PosixTime">1329076613000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I have completely overhauled the licenses repo (https://github.com/okfn/licenses), see https://github.com/okfn/licenses/issues/1 and new looking:

http://licenses.opendefinition.org/

Next step is to ship the core set of licenses we need for CKAN as part of CKAN and remove the external dependency.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327659562000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have checked in a similar fix and with a simple test.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2223.html">#2223</a>
                          </td>
                          <td class="PosixTime">1332246030000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">I have been working overtime to try and get this change straightened out as it's suddenly on the critical path for something. Have a look here: https://github.com/okfn/ckan/tree/feature-2223-bootstrap

It's 80% of the way there; some form CSS needs overriding because Bootstrap tends to make things very large so they spill over. But on the whole the markup is in a steady state, which is what we need.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/735.html">#735</a>
                          </td>
                          <td class="PosixTime">1292957248000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I have been through looking for package names with a trailing underscore checking if they should indeed be separate package from those without.

#872 and #873 cover creation of the duplicates in the first place.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327620136000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I have already fixed the issue with counts (in a branch to be merged) :-)

Also this is opened in an already ended sprint :-)

IMO we don't bother testing simple_search since intended to be hacky and unsupported. Worth documenting the option but highlighting non-supported nature.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="PosixTime">1330082636000000
                          </td>
                          <td class="author">nils.toedtmann
                          </td>
                          <td class="newvalue">I had forgotten to check s019 how well my cleanup script is working (and now s019 is gone), but at least it didn't destroy it :-)

You might want to give it a try on s025/PDEU. (Tell me if you want me to do that).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1077.html">#1077</a>
                          </td>
                          <td class="PosixTime">1319797284000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I guess this is not a priority now.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2695.html">#2695</a>
                          </td>
                          <td class="PosixTime">1343121866000000
                          </td>
                          <td class="author">shevski
                          </td>
                          <td class="newvalue">I got a server error once updating long tags, but can't reproduce.

Look fine apart from slowness already mentioned - anything we can do about that?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2445.html">#2445</a>
                          </td>
                          <td class="PosixTime">1338473161000000
                          </td>
                          <td class="author">aron.carroll
                          </td>
                          <td class="newvalue">I generally take the approach that a form submitted via POST should always redirect to a page. This prevents accidental user resubmissions when hitting refresh as well as the annoying popup saying "are you sure you want to re-submit".

http://en.wikipedia.org/wiki/Post/Redirect/Get

Looking at the rest of CKAN it doesn't do this so I'll leave it up to you.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1597.html">#1597</a>
                          </td>
                          <td class="PosixTime">1326821156000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I found that adding facet:limit=200 does what we need.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1229.html">#1229</a>
                          </td>
                          <td class="PosixTime">1319639472000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I found another direct use of the d.b. in the home controller.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/826.html">#826</a>
                          </td>
                          <td class="PosixTime">1297417900000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I forgot to mention that he main advantage of the fixed fields, is that we can make them properly searchable i.e the values searchable.  This currently does not work for package extra values as they are jsons.

I have added this searchability for the sql backend.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/534.html">#534</a>
                          </td>
                          <td class="PosixTime">1288002762000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I fixed this a while back.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/274.html">#274</a>
                          </td>
                          <td class="PosixTime">1287398398000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I fixed the docs a couple of weeks ago. Need to ensure there is a test though.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323174597000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't understand. We just had a team meeting about this, all discussed it and agreed to close it. Yes, you get taken to the login page, but that is the correct behaviour. 

The problem in the past was that the link was in the yellow box and there was no explanation as to why you had to login. This time you click from the header bar and there is a clear message saying "Unauthorized to create a group" - exactly as a user would expect. Even if the exact text of the ticket description isn't fully implemented in the current release, the UX isn't broken anymore. Yes, it might be even nicer to have a message warning them in advanced but these improvements will be taken forward in the UX work - maybe there is an even better solution than a message?

Since you are unhappy about closing it I'm marking it as "Duplicate" of #1521. As agreed earlier with the entire team, we'll take this forward as part of the groups refactor.

See #1521 for more information.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/446.html">#446</a>
                          </td>
                          <td class="PosixTime">1294414077000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't understand this ticket. Since no-one has contributed to this ticket in 5 months I'm closing it.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/611.html">#611</a>
                          </td>
                          <td class="PosixTime">1294408239000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't understand this task, but suspect it can be treated as a duplicate of #569.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/559.html">#559</a>
                          </td>
                          <td class="PosixTime">1310126313000000
                          </td>
                          <td class="author">shevski
                          </td>
                          <td class="newvalue">I don't understand this one. It is older than 6 months so marking invalid.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1085.html">#1085</a>
                          </td>
                          <td class="PosixTime">1302621951000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I don't think this is very useful output :) Most of this is test/demo/rdf and therefore not relevant.

Also have you checked your ckan.site_url in your development.ini -- which configures where what is used as based for all external urls in the templates?

IMO there is nothing to fix here.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1122.html">#1122</a>
                          </td>
                          <td class="PosixTime">1306662099000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">I don't think there's really a nice way to do this with the current solr indexing library, but I've commented out the list handling code which should really make handling this cleaner.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2678.html">#2678</a>
                          </td>
                          <td class="PosixTime">1342461370000000
                          </td>
                          <td class="author">aron.carroll
                          </td>
                          <td class="newvalue">I don't think there's actually any logic in CKAN to let you delete a related item at the moment. So assigning to Toby to take a look.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297525477000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I don't think i understand why this has been closed (and it would surely be wontfix rather than invalid ...).

Let me explain in more detail: we would move to having one and only one pip-requirements.txt in the repo at any given revision and it would simply have the correct info for whatever branch/revision it was on. At the moment we are having extra pip-requirements-....txt for labelling branch pip-requirements when we could just the branching facility of mercurial.

You'd do

{{{
wget http://bitbucket.org/okfn/ckan/src/metastable/pip-requirements.txt
}}}

rather than

{{{
wget http://bitbucket.org/okfn/ckan/src/default/pip-requirements-metastable.txt
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1343.html">#1343</a>
                          </td>
                          <td class="PosixTime">1316078440000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I don't think email confirmation is necessary - see discussion at #1319
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/888.html">#888</a>
                          </td>
                          <td class="PosixTime">1307352537000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't think any progress has been made on this for a bit so I'm assigning it to me.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/801.html">#801</a>
                          </td>
                          <td class="PosixTime">1296593735000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't see why we'd really need to do this. Under the current system a job would be created just before the harvesting would be run so the creation date of the job is (give or take a few seconds) the date of the harvesting. If we moved to a queue system this would be done better anyway.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/972.html">#972</a>
                          </td>
                          <td class="PosixTime">1300219509000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't really agree with this. In fact I'd rather move further away from auto-magic key value pairs stored in JsonTypes. Can we discuss on Skype please?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/368.html">#368</a>
                          </td>
                          <td class="PosixTime">1291831811000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't have enough information to debug this problem. I'm assuming that since this has been a while that the problem is solved? If not please re-open the ticket and add your contact details.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/770.html">#770</a>
                          </td>
                          <td class="PosixTime">1296593925000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't care about this. It is too trivial. If I get around to fixing it they great but I don't need it logged as a ticket.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1784.html">#1784</a>
                          </td>
                          <td class="PosixTime">1328615106000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I don't agree. I think we have a good compromise at the moment, where you have readable URLs, and people can change names if they want to. Names are changed only occasionally. The CKAN site adjusts all its links automatically of course. External blog posts may have incoming links, and these would break, but it's not difficult to search for a dataset. If we're really worried about this then we should provide a 'permalink' somewhere on the Package / Group / Resource page.

In the meantime, I suggest changing the Activity Stream links to be with names.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297706620000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I do not think we need to 'extend the model' if you intend to make the migrations separate. If the schema is decoupled, then there are no problems.  So each plugin can have its own model and use sqlalchemy independently i.e have their own metadata, classes and mappers.  They do not have to even use sqlalchemy.

What I mean is that there is no need to do anything apart from.

 * Agree on a naming convention of the plugin tables (including their own migrate table each)
 * Agree to the rule that no plugin can add a column to an existing table.
 * Agree that no table can have a (database level) foreign key constraint between the core tables and itself in either direction.  They *can* have implied sqlalchemy level joins.
 * Maybe have a hook that on db upgrade all plugins are upgraded.

Each plugin will have to redefine the tables, classes and mappers they need to join onto the core tables themselves. reusing/extending the core model will not be worth the trouble.

This seems to cover your use cases and this way everything is nicely decoupled. Best of all there is very little work to do...
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/139.html">#139</a>
                          </td>
                          <td class="PosixTime">1255188974000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I didn't manage to create duplicate tags - must be the old code.

I fixed this particular package in ckan.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2734.html">#2734</a>
                          </td>
                          <td class="PosixTime">1343061994000000
                          </td>
                          <td class="author">shevski
                          </td>
                          <td class="newvalue">I did this with a dataset I just created, 5 mins before creating this ticket
Tried it again with a new datasrt, happened again. It's when you're editing a resource
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/536.html">#536</a>
                          </td>
                          <td class="PosixTime">1286376029000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I did this a few weeks ago.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/937.html">#937</a>
                          </td>
                          <td class="PosixTime">1297689781000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">I did a very quick hacky thing at the end of last week on top of the "insert google analytics code" extension we discussed, to work out "most popular packages" based off data harvested from the Google Analytics API.  Needs making generic, tests etc but could be a starting point:
https://bitbucket.org/sebbacon/ckanext-googleanalytics/src
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1532.html">#1532</a>
                          </td>
                          <td class="PosixTime">1323956004000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I couldn't see a way to communicate the situation "OpenID authenticated, but doesn't match any CKAN user" from the repoze middleware to CKAN. So in [release-v1.5.1c 9e86c8b] I have provided extra instructions in the OpenID log-in screen, and in the log-in error message suggest what could have gone wrong.

This issue appeared in 1.5.1b and fixed in 1.5.1c in time for the 1.5.1 release.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1285.html">#1285</a>
                          </td>
                          <td class="PosixTime">1323173125000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I could write some middleware to handle this. Can we come up with a list of exceptions not to catch or should I create a base exception called "NoEmailReportTriggeredException()" which exceptions for this purpose have to be derived from or which code has to raise?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/276.html">#276</a>
                          </td>
                          <td class="PosixTime">1271250866000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I could not recreate this. I think it is only for particular packages?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/263.html">#263</a>
                          </td>
                          <td class="PosixTime">1277717180000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I consistently get sent to google login even though I choose openid meaning I am unable to login!
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2855.html">#2855</a>
                          </td>
                          <td class="PosixTime">1345104178000000
                          </td>
                          <td class="author">shevski
                          </td>
                          <td class="newvalue">I cleared my cache and it's working now
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1393.html">#1393</a>
                          </td>
                          <td class="PosixTime">1318505854000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I changed this:
{{{
diff -r 47657581fc30 ckan/tests/__init__.py
--- a/ckan/tests/__init__.py	Wed Oct 12 17:58:19 2011 +0100
+++ b/ckan/tests/__init__.py	Thu Oct 13 12:29:54 2011 +0100
@@ -373,7 +373,7 @@
     plugins.load('synchronous_search')
 
 def is_search_supported():
-    supported_db = "sqlite" not in config.get('sqlalchemy.url')
+    supported_db = True
     return supported_db
 
 def is_regex_supported():
}}}

But there seems to be a problem finding the package when trying to index it:
{{{
======================================================================
ERROR: test suite for &lt;class 'ckan.tests.functional.test_search.TestSearch'&gt;
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/nose/suite.py", line 208, in run
    self.setUp()
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/nose/suite.py", line 291, in setUp
    self.setupContext(ancestor)
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/nose/suite.py", line 314, in setupContext
    try_run(context, names)
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/nose/util.py", line 478, in try_run
    return func()
  File "/home/dread/hgroot/ckan/ckan/tests/functional/test_search.py", line 21, in setup_class
    CreateTestData.create_search_test_data()
  File "/home/dread/hgroot/ckan/ckan/lib/create_test_data.py", line 66, in create_search_test_data
    cls.create_arbitrary(search_items)
  File "/home/dread/hgroot/ckan/ckan/lib/create_test_data.py", line 197, in create_arbitrary
    model.repo.commit_and_remove()
  File "/home/dread/hgroot/pyenv-ckan/src/vdm/vdm/sqlalchemy/tools.py", line 110, in commit_and_remove
    self.commit()
  File "/home/dread/hgroot/pyenv-ckan/src/vdm/vdm/sqlalchemy/tools.py", line 100, in commit
    self.session.commit()
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/sqlalchemy/orm/scoping.py", line 139, in do
    return getattr(self.registry(), name)(*args, **kwargs)
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/sqlalchemy/orm/session.py", line 614, in commit
    self.transaction.commit()
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/sqlalchemy/orm/session.py", line 385, in commit
    self._prepare_impl()
  File "/home/dread/hgroot/pyenv-ckan/lib/python2.6/site-packages/sqlalchemy/orm/session.py", line 361, in _prepare_impl
    ext.before_commit(self.session)
  File "/home/dread/hgroot/ckan/ckan/model/extension.py", line 103, in before_commit
    methodcaller('before_commit', session)
  File "/home/dread/hgroot/ckan/ckan/model/extension.py", line 38, in notify_observers
    func(observer)
  File "/home/dread/hgroot/ckan/ckan/model/modification.py", line 45, in before_commit
    self.notify(obj, DomainObjectOperation.new)
  File "/home/dread/hgroot/ckan/ckan/model/modification.py", line 70, in notify
    observer.notify(entity, operation)
  File "/home/dread/hgroot/ckan/ckan/lib/search/__init__.py", line 93, in notify
    package_to_api1(entity, {'model': model}),
  File "/home/dread/hgroot/ckan/ckan/lib/dictization/model_dictize.py", line 231, in package_to_api1
    dictized = package_dictize(pkg, context)
  File "/home/dread/hgroot/ckan/ckan/lib/dictization/model_dictize.py", line 118, in package_dictize
    raise NotFound
NotFound

----------------------------------------------------------------------
Ran 1 test in 2.734s

FAILED (errors=1)

}}}

Any ideas John?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1238.html">#1238</a>
                          </td>
                          <td class="PosixTime">1311583876000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I cannot reproduce this, to me it looks like it does get the correct revision.  If you for example look at the package a millisecond before i.e
http://ckan.net/package/osm%402010-11-30%2000%3A21%3A49.627829
the tags are no longer there that were added in that revision.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2641.html">#2641</a>
                          </td>
                          <td class="PosixTime">1352206794000000
                          </td>
                          <td class="author">johnmartin
                          </td>
                          <td class="newvalue">I can't get access to the project... can someone link me?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2446.html">#2446</a>
                          </td>
                          <td class="PosixTime">1352206530000000
                          </td>
                          <td class="author">johnmartin
                          </td>
                          <td class="newvalue">I can't get access to said project. Can someone please give me access so I can triage this?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2451.html">#2451</a>
                          </td>
                          <td class="PosixTime">1352206567000000
                          </td>
                          <td class="author">johnmartin
                          </td>
                          <td class="newvalue">I can't get access to said project. Can someone please give me access so I can triage this?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2457.html">#2457</a>
                          </td>
                          <td class="PosixTime">1352206516000000
                          </td>
                          <td class="author">johnmartin
                          </td>
                          <td class="newvalue">I can't get access to said project. Can someone please give me access so I can triage this?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1701.html">#1701</a>
                          </td>
                          <td class="PosixTime">1330084925000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I can't find these changesets - am not sure which release this is in.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2471.html">#2471</a>
                          </td>
                          <td class="PosixTime">1352206679000000
                          </td>
                          <td class="author">johnmartin
                          </td>
                          <td class="newvalue">I can't context on this. Closing.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/700.html">#700</a>
                          </td>
                          <td class="PosixTime">1288562082000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I can verify that groups are getting lost on package preview on ckan.net (steps: 1. click edit, 2. preview 3. look at edit form and group has disappeared).

Given this is a bug on a production service it is urgent this gets fixed.

@pudo: please can you confirm your expected fix date on this?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2691.html">#2691</a>
                          </td>
                          <td class="PosixTime">1342542047000000
                          </td>
                          <td class="author">shevski
                          </td>
                          <td class="newvalue">I can replicate the 404 error. Follow steps below

1. Click on add a new dataset
2. Name it and put an incorrect character in tag field "e.g. " :"
3. Click on 'Next: Add Data'
4. Error message shows, wipe tag field (i.e. delete " : " until field is blank
5. Click in 'Next: Add Data" again
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1360.html">#1360</a>
                          </td>
                          <td class="PosixTime">1317315031000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I believe zephod has removed these from the UI already. I removed them from the search code, tests, docs and provided suitable guidance in cset:5b20ae1673ea which is headed for CKAN 1.5.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1258.html">#1258</a>
                          </td>
                          <td class="PosixTime">1319812452000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I believe this was broken with the introduction of moderated edits in CKAN 1.4.3 and this fix went into 1.5.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2671.html">#2671</a>
                          </td>
                          <td class="PosixTime">1345209579000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">I believe this is fixed in master/2375
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1453.html">#1453</a>
                          </td>
                          <td class="PosixTime">1322581830000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I believe this is finished now. This was merged into master in cset:c0aaa31c4b7ded54d and headed for release 1.5.2.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1452.html">#1452</a>
                          </td>
                          <td class="PosixTime">1340190587000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">I believe this has been addressed by Toby.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/460.html">#460</a>
                          </td>
                          <td class="PosixTime">1285443859000000
                          </td>
                          <td class="author">richard@cyganiak.de
                          </td>
                          <td class="newvalue">I believe the initial report is incorrect. It states that the status was changed from "active" to "deleted". I believe that it was actually changed from "active" to "None".

This might indicate a bug in the code: The value of the status field is lost.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1467.html">#1467</a>
                          </td>
                          <td class="PosixTime">1326119954000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I believe that the "publisher issue" that James alludes to is that the dump doesn't contain the 'parent publisher' field that is generated in the DGU system on the Drupal side. This information will be stored following the Groups Refactor #1477 and should be added to the dump at this point.

Excluding Datasets that are state=deleted is a good idea. I've split that off into #1623

The other issues mentioned are simply data quality - the same whether viewing the dump or elsewhere.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1214.html">#1214</a>
                          </td>
                          <td class="PosixTime">1310062621000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I believe "A PUT request without a body throws a 500 Internal Sever Error" was fixed yesterday in the code. (Not deployed to test.ckan.net yet though)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1240.html">#1240</a>
                          </td>
                          <td class="PosixTime">1314180488000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I basically agree, but just thought I'd add a couple of comments into the mix.

&gt; GET at root returns whole package set (a *bad* idea)

Sure it has a cost, but I don't see what the problem with this is if the list is cached. Forcing developers to paging through the list of packages is putting unnecessary obligations. I'd say that the top two RESTful operations are listing objects and getting a particular one, and you'd be taking away one of those.

&gt; Unify on /api/v{version num}/... structure

Where is it not currently unified?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1137.html">#1137</a>
                          </td>
                          <td class="PosixTime">1305217449000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I am not sure this needs to be done.  I think we should keep the continuity object always in the table, even if it is deleted.  The querying should be done through the logic layer so the deleted state should not be an issue.

The clients should be entirely state aware.

The only thing that needs to be done is to remove all statefullness of relations.  These are the only things that are complicated.

This would make vdm just a simple copy on write mechanism, with the client controlling the state.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298371191000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">I am happy to get rid of paster db create altogether as a compromise?  Or add a depreciation warning to it?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1109.html">#1109</a>
                          </td>
                          <td class="PosixTime">1305124697000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I am happy this is fixed in cset:445fc04333dd.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/324.html">#324</a>
                          </td>
                          <td class="PosixTime">1274807970000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">I am currently writing a Solr subclass for the search index (#317) and would propose adding standard methods to the ckan.libn.search.Search class: index_package(), index_tag(), index_group(). Those could then be called by a generic queue consumer, irrespective of the used search back-end. I will prototype such a consumer soon, so we should talk to avoid doing some duplicate work here.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2440.html">#2440</a>
                          </td>
                          <td class="PosixTime">1339581622000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">I am changing this to assigned not accepted as this makes trac easier to use
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2454.html">#2454</a>
                          </td>
                          <td class="PosixTime">1338994536000000
                          </td>
                          <td class="author">toby
                          </td>
                          <td class="newvalue">I am against providing much more that you did something bad

things like invalid username leak info - people should not know if usernames exist.

Maybe I'm a bit mean about this.

I'd be happier to add some javascript check on the form post that checks for no password etc - maybe that's not so practical
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1709.html">#1709</a>
                          </td>
                          <td class="PosixTime">1327620218000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I also note there is an error with how importing was working (re top level imports in lib/search.py) that meant simple_search was broken. I've fixed this locally and raised with Ross (whose commit triggered the problem) ...
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/940.html">#940</a>
                          </td>
                          <td class="PosixTime">1296807699000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I agree with pudo (though it would not be the end of the world if these were treated as the same realm!). I've now created a permanent redirect for www.ckan.net to ckan.net. 

{{{
    RewriteEngine on
    RewriteCond %{HTTP_HOST} ^www\.ckan\.net$ [NC]
    RewriteRule ^(.*)$ http://ckan.net$1 [R=301,L]
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300382367000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree with leaving #1001 solving this issue. Centralising this is good. This ticket can instead focus on:
 * returning the correct 403 error (rather than the 302 currently)
 * creating some tests
 * documenting
 * consider renaming the SITE_READ variable and rethinking purpose
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1740.html">#1740</a>
                          </td>
                          <td class="PosixTime">1328094884000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree with getting rid of {{{from module import *}}} and the approach suggested.

However, I really disagree with getting rid of {{{from x import y}}}. In particular we have a strong convention of using this for ckan.model. It is a valuable abbreviation as it is used so much in the logic layer and tests. If someone should accidentally reassign the value of model to something else then I believe it is simple to see what has gone wrong.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/876.html">#876</a>
                          </td>
                          <td class="PosixTime">1293218714000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">I agree with all your points about testing apart form using sqlite, especially splitting out the functional tests and continuous integration.

&gt; Longer term I agree that it would be better to run local tests against postgres too, but that will I think involve refactoring many of the tests. 

Well there are two options

 1. refactor the tests
 2. refactor the code to use sqlite and postress

It is a value judgment as to which is more complicated. I personally think 2 is more complicated but may be wrong on that. The real danger with 2 is that you are needlessly adding complication to production code, with 1 you are only changing the tests.

Upgrading to sqlalchemy 0.5+ should happen first regardless.  You will need upto date documentation. 

There is another option too.  Put the postgres data directory on tempfs/ramfs and turn off durability [http://www.postgresql.org/docs/9.0/static/non-durability.html here].  We would need a way to db init before the tests where run (or) at boot). This may be the best of both worlds.

Anyway Happy xmas!!



 
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/662.html">#662</a>
                          </td>
                          <td class="PosixTime">1286991079000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree we should not have the 'read-only' things like Ratings in the default returned Package Entity. What do you think of having a parameter to be able to get these if you want them though?

Do you mean you *can* re-post the *entity* post response?

Not sure what you mean by "An issue for CKAN too."?

In addition to this ticket, what do you think about changing the behaviour of the Package Entity PUT/POST, so that you replace the entire Package, not just the fields you specify? So you don't keep left-over values, just because you didn't specify them as null?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1104.html">#1104</a>
                          </td>
                          <td class="PosixTime">1303920492000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree this should be fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298821699000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I agree that IAuthorizer is useful but not sure how it addresses the requirement of the ticket. AuthorizationGroups are already editable via the web interface at /authorizationgroup
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1395.html">#1395</a>
                          </td>
                          <td class="PosixTime">1320857823000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I added this to the instructions a few days ago to fix this issue for the 1.5 release:
{{{
       pip install webob==1.0.8
}}}
Cheers Sean.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1477.html">#1477</a>
                          </td>
                          <td class="PosixTime">1324549459000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I added the sub-tickets since this tickets already covers them really. They may provide useful details in the course of doing all this.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/679.html">#679</a>
                          </td>
                          <td class="PosixTime">1294166120000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I added some extra bits in cset:1ca7ba29d409. Resource formats disagree between DGU and the FAQ - have sided with DGU for now as it's simpler. I think this ticket is complete now.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2361.html">#2361</a>
                          </td>
                          <td class="PosixTime">1337016768000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">I actually spent some more time of this because I upgraded PDEU to CKAN 1.7, which was needed to fix the search index and a good testing for the release as well.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2445.html">#2445</a>
                          </td>
                          <td class="PosixTime">1338542340000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">I *think* this is done in feature-2445-add-related-new although I may have missed something, if you could take a look and let me know if it is what you wanted.  

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1737.html">#1737</a>
                          </td>
                          <td class="PosixTime">1337942345000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I *strongly* disagree re access to solr API -- i don't really care if it is direct but I want something that looks like it at least for core query parameters and facets ...

Is there some major issue around security etc (e.g. limiting to only public datasets or similar?)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/750.html">#750</a>
                          </td>
                          <td class="PosixTime">1294408970000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">How would this be done? Is it part of the CSW spec?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/936.html">#936</a>
                          </td>
                          <td class="PosixTime">1303117147000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">How is this coming on John?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/799.html">#799</a>
                          </td>
                          <td class="PosixTime">1294232675000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">How can we tell a WAF document has changed, we simply need to re-harvest it to see surely?

Moving the issue to ticket #728 to be dealt with together.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/214.html">#214</a>
                          </td>
                          <td class="PosixTime">1263057591000000
                          </td>
                          <td class="author">nickstenning
                          </td>
                          <td class="newvalue">Hover names haven't been addressed yet. Otherwise mostly done. Closing.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/949.html">#949</a>
                          </td>
                          <td class="PosixTime">1297074827000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Hocus pocus so set owner after being fixed!
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2668.html">#2668</a>
                          </td>
                          <td class="PosixTime">1343130433000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Hmmm. dread, are you merging these into master yourself?
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=23.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <span class="current">24</span>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=29.html" title="Page 29">29</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=31.html" title="Page 31">31</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=32.html" title="Page 32">32</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=33.html" title="Page 33">33</a>
      </span>
      <span>
        <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=34.html" title="Page 34">34</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=newvalue&amp;asc=0&amp;page=25.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=newvalue&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=newvalue&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=newvalue&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>