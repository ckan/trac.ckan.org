<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=type&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=type&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=type&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=type&amp;asc=0&amp;page=22.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=type&amp;asc=0&amp;page=23.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2201 - 2300 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=22.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <span class="current">23</span>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=23.html">
              Id
            </a>
          </th><th class="desc">
            <a href="22%3Fsort=type&amp;asc=1&amp;page=23.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=23.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=23.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=23.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=23.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=23.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=23.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=23.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=23.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=23.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/915.html">#915</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-3.html">ckan-v1.3-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/915.html">Deploy dcat-tools/rdfsolr to publicdata.eu as a placeholder</a>
                          </td>
                          <td class="description">
                            <p>
We should present something there, why not start with a meta-search. 
</p>

                            
                          </td>
                          <td class="PosixTime">1295267040000000
                          </td>
                          <td class="ModifiedTime">1296467518000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/918.html">#918</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">memespring
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/918.html">Package preview doesn't show tags or groups</a>
                          </td>
                          <td class="description">
                            <ol><li>Edit any package
</li><li>Hit 'preview'
</li></ol><p>
Notice that the preview at the bottom doesn't show what tags or groups the package is in. 
</p>
<p>
This is because the new design of the package view only has this info in the sidebar, which is not displayed in the preview.
</p>
<p>
One might argue that this is ok because the tag is not a central part of the metadata, only used for searching, so it is ok not to preview it. But I wanted to check that this change was a conscious decision.
</p>

                            
                          </td>
                          <td class="PosixTime">1295346496000000
                          </td>
                          <td class="ModifiedTime">1315911507000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/920.html">#920</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">hellmann@…
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/920.html">empty tags are kind of confusing</a>
                          </td>
                          <td class="description">
                            <p>
<a class="ext-link" href="http://ckan.net/tag/linguistsic"><span class="icon">​</span>http://ckan.net/tag/linguistsic</a>
doesn't have a single entry, but is still kept and displayed.
</p>
<p>
It should be purged !!!
</p>

                            
                          </td>
                          <td class="PosixTime">1295355280000000
                          </td>
                          <td class="ModifiedTime">1300319140000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/923.html">#923</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/923.html">Search box doesn't work in leaderboard page</a>
                          </td>
                          <td class="description">
                            <ol><li>Go to: <a class="ext-link" href="http://ckan.net/stats/leaderboard#content"><span class="icon">​</span>http://ckan.net/stats/leaderboard#content</a>
</li><li>In the far top-right of the browser, select the search box in 'water'.
</li><li>Press enter to search. Nothing happens.
</li></ol><p>
Tried in: chrome, firefox
</p>

                            
                          </td>
                          <td class="PosixTime">1295867328000000
                          </td>
                          <td class="ModifiedTime">1340632144000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/925.html">#925</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/925.html">Change the search box icon to remove the down arrow</a>
                          </td>
                          <td class="description">
                            <p>
Is there a good reason why the search box has a 'down arrow' icon when there is no drop-down menu? Or can this be usefully removed?
</p>

                            
                          </td>
                          <td class="PosixTime">1295867593000000
                          </td>
                          <td class="ModifiedTime">1323168588000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/929.html">#929</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rene.kapusta
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/929.html">Handle the case when the licenses service is down better</a>
                          </td>
                          <td class="description">
                            <p>
I'm using v 1.3.1a and get a lot of "<a class="missing wiki">WebApp?</a> Error: &lt;type 'exceptions.Exception'&gt;: Couldn't connect to licenses service: &lt;urlopen error (104, 'Connection reset by peer')&gt;" error messages.
</p>
<pre class="wiki">Module ckan.forms.package:87 in build_package_form
&lt;&lt;      # Options/settings
           builder.set_field_option('name', 'validate', package_name_validator)
           builder.set_field_option('license_id', 'dropdown', {'options':[('', None)] + model.Package.get_license_options()})
           builder.set_field_option('state', 'dropdown', {'options':model.State.all})
           builder.set_field_option('notes', 'textarea', {'size':'60x15'})
&gt;&gt;  builder.set_field_option('license_id', 'dropdown', {'options':[('', None)] + model.Package.get_license_options()})
Module ckan.model.package:283 in get_license_options
&lt;&lt;      @classmethod
           def get_license_options(self):
               register = self.get_license_register()
               return [(l.title, l.id) for l in register.values()]
&gt;&gt;  register = self.get_license_register()
Module ckan.model.package:278 in get_license_register
&lt;&lt;      def get_license_register(self):
               if not hasattr(self, '_license_register'):
                   self._license_register = LicenseRegister()
               return self._license_register
&gt;&gt;  self._license_register = LicenseRegister()
Module ckan.model.license:46 in __init__
&lt;&lt;              from licenses.service import LicensesService2
                   self.service = LicensesService2(group_url)
                   entity_list = self.service.get_licenses()
               else:
                   from licenses import Licenses
&gt;&gt;  entity_list = self.service.get_licenses()
Module licenses.service:44 in get_licenses
&lt;&lt;          except Exception, inst:
                   msg = "Couldn't connect to licenses service: %s" % inst
                   raise Exception, msg
               try:
                   licenses = loads(response_body)
&gt;&gt;  raise Exception, msg
Exception: Couldn't connect to licenses service: &lt;urlopen error (104, 'Connection reset by peer')&gt;
</pre>
                            
                          </td>
                          <td class="PosixTime">1295995409000000
                          </td>
                          <td class="ModifiedTime">1299840884000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/930.html">#930</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/930.html">call_timing files created for every request</a>
                          </td>
                          <td class="description">
                            <p>
On a production server we produce literally millions of little files saying how long every single request took to process.
</p>
<p>
They are here:
</p>
<pre class="wiki">hmg.ckan.net.2/pylonsdata/call_timing
</pre><p>
They were added by ckan/lib/base.py in cset:da438a9085d3.
</p>
<p>
I don't believe anyone uses these stats.
</p>

                            
                          </td>
                          <td class="PosixTime">1296061721000000
                          </td>
                          <td class="ModifiedTime">1297066292000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/935.html">#935</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/935.html">"groups" field bug in IATI</a>
                          </td>
                          <td class="description">
                            <p>
An internal server error was reported when trying to create a new package (not when editing):
</p>
<blockquote>
<p>
<a class="missing wiki">WebApp?</a> Error: &lt;class 'sqlalchemy.exceptions.<a class="missing wiki">IntegrityError?</a>'&gt;: (<a class="missing wiki">IntegrityError?</a>) null value in column "name" violates not-null constraint 'INSERT INTO package (id, name, title, version, url, author, author_email, maintainer, maintainer_email, notes, license_id, state, revision_id) VALUES (%(id)s, %(name)s, %(title)s, %(version)s, %(url)s, %(author)s, %(author_email)s, %(maintainer)s, %(maintainer_email)s, %(notes)s, %(license_id)s, %(state)s, %(revision_id)s)' {'maintainer': None, 'name': None, 'author': None, 'author_email': None, 'notes': None, 'title': None, 'maintainer_email': None, 'url': None, 'state': 'active', 'version': None, 'license_id': None, 'revision_id': '0141c09c-4eb3-4dda-a6b1-e07f2c73b4c5', 'id': '7fe16a29-f183-471a-99c5-2c2e81dd86e4'} 
</p>
</blockquote>
<p>
The error could not be reproduced in a non-apache/mod_wsgi environment, even with a dump of the live database. Further investigation by manual editing of the package form left the "groups" field as the likely cause. After updating the packages installed, and temporarily editing the package controller the problem vanished after a restart of the web server. 
</p>
<p>
Possible causes include: 
</p>
<ul><li>Stale pyc file
</li><li>Threading issue
</li><li>Dependency issue
</li></ul><p>
As the problem is gone for now, it cannot be further investigated atm. 
</p>

                            
                          </td>
                          <td class="PosixTime">1296302915000000
                          </td>
                          <td class="ModifiedTime">1306778682000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/940.html">#940</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/940.html">OpenID login via google for same user generates 2 different openid urls</a>
                          </td>
                          <td class="description">
                            <p>
This has been noted twice in the last couple of weeks.
</p>
<p>
Checking around my guess is this is due to someone logging in to www.ckan.net and ckan.net. Google generates openid based on the RP (requesting party) which is the requesting domain url unless the openid.realm is set. See:
</p>
<ul><li><a class="ext-link" href="http://groups.google.com/group/google-federated-login-api/web/the-most-important-technical-issue-in-using-the-google-accounts-api?pli=1"><span class="icon">​</span>http://groups.google.com/group/google-federated-login-api/web/the-most-important-technical-issue-in-using-the-google-accounts-api?pli=1</a>
</li><li><a class="ext-link" href="http://stackoverflow.com/questions/3549953/how-to-get-unique-identifier-from-openid-google"><span class="icon">​</span>http://stackoverflow.com/questions/3549953/how-to-get-unique-identifier-from-openid-google</a>
</li></ul><p>
To fix this we should set the openid.realm (not sure how atm).
</p>
<p>
If this is not possible an alternative is to make sure we redirect all users to a single site url (perhaps using ckan config option site_url, or doing this in apache).
</p>
<p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1296401521000000
                          </td>
                          <td class="ModifiedTime">1297071748000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/942.html">#942</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/942.html">Fix SERP pager argument passing</a>
                          </td>
                          <td class="description">
                            <p>
It only passes "q", but the whole query must be serialized. 
</p>

                            
                          </td>
                          <td class="PosixTime">1296469490000000
                          </td>
                          <td class="ModifiedTime">1297074807000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/944.html">#944</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/iati-4.html">iati-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/944.html">Upgrade IATI to CKAN 'default'</a>
                          </td>
                          <td class="description">
                            <ul><li>Move code base, fix any breakage. 
</li><li>Deploy to eu8 
</li><li>Test 
</li><li>Deploy to eu14 
</li></ul><h2 id="Why">Why</h2>
<p>
Later CKAN codebase has a bunch of improvements / fixes that it would be good to have.
</p>
<h2 id="Estimate">Estimate</h2>
<ul><li>8h
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296469688000000
                          </td>
                          <td class="ModifiedTime">1306774766000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/946.html">#946</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/946.html">No default system rights</a>
                          </td>
                          <td class="description">
                            <p>
CKAN currently comes out of the box being uneditable. We'd like to encourage people to have open CKANs and therefore by default init the db with this right:
</p>
<pre class="wiki">visitor -&gt; is editor on -&gt; System system
</pre>
                            
                          </td>
                          <td class="PosixTime">1296499922000000
                          </td>
                          <td class="ModifiedTime">1296833383000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/951.html">#951</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">adrian.pohl@…
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/951.html">Can't add a package to group</a>
                          </td>
                          <td class="description">
                            <p>
I can't add a package (e.g. <a class="ext-link" href="http://ckan.net/package/ub-konstanz"><span class="icon">​</span>http://ckan.net/package/ub-konstanz</a>) to a group (e.g. <a class="ext-link" href="http://ckan.net/group/bibliographic"><span class="icon">​</span>http://ckan.net/group/bibliographic</a>). It's neither possible when editing  a package (the only group in drop down menu is "history") nor on the group page.
</p>

                            
                          </td>
                          <td class="PosixTime">1296726886000000
                          </td>
                          <td class="ModifiedTime">1314031006000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/955.html">#955</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/955.html">Tidy up tests</a>
                          </td>
                          <td class="description">
                            <ul><li>Removal of init_db from every setup etc.
</li><li>Get them working
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296819300000000
                          </td>
                          <td class="ModifiedTime">1297342534000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/960.html">#960</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/960.html">Support non-ascii character in internal error messages</a>
                          </td>
                          <td class="description">
                            <p>
Just saw an error like the following which looks like it is to do with having a user object with non-ascii characters in it. Either get rid of 'cast' to str type here or do it in a unicode aware way.
</p>
<p>
Should do this not just here but everywhere we can find in the code base.
</p>
<pre class="wiki">Module ckan.controllers.package:302 in edit
&lt;&lt;          am_authz = self.authorizer.am_authorized(c, model.Action.EDIT, pkg)
               if not am_authz:
                   abort(401, str(gettext('User %r not authorized to edit %s') % (c.user, id)))
       
               auth_for_change_state = self.authorizer.am_authorized(c, model.Action.CHANGE_STATE, pkg)
&gt;&gt;  abort(401, str(gettext('User %r not authorized to edit %s') % (c.user, id)))
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 1: ordinal not in range(128)
</pre><h2 id="Estimate">Estimate</h2>
<p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1297069721000000
                          </td>
                          <td class="ModifiedTime">1297169056000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/974.html">#974</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/974.html">Document site_description</a>
                          </td>
                          <td class="description">
                            <p>
Configuration option 'ckan.site_description' isn't documented
</p>

                            
                          </td>
                          <td class="PosixTime">1297342254000000
                          </td>
                          <td class="ModifiedTime">1297342599000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/975.html">#975</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/975.html">Placeholder attribute not displayed in some browsers leading to poor UX</a>
                          </td>
                          <td class="description">
                            <p>
Currently placeholder text like 'Search ...' is not shown in some browsers (e.g. FF and IE).
</p>
<p>
This leads to poor UX, for example in top bar search where it unclear whether that box is for login or search.
</p>
<p>
We should fix this by finding a way to display placeholder attribute in all browsers.
</p>

                            
                          </td>
                          <td class="PosixTime">1297343755000000
                          </td>
                          <td class="ModifiedTime">1297344448000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/976.html">#976</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/976.html">Documentation references knowledgeforge.net</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1297346649000000
                          </td>
                          <td class="ModifiedTime">1297346954000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/977.html">#977</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/977.html">db_upgrade errors</a>
                          </td>
                          <td class="description">
                            <ul><li>db_upgrade (in ckan/model/<span class="underline">init</span>) makes call to validate_authorization_setup but forgets about rest of initialisation.
</li></ul><ul><li>it uses self.metadata.bind.url when it should be self.metadata.bind it seems (confused by sqlmigrate update?)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1297420558000000
                          </td>
                          <td class="ModifiedTime">1297420742000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/980.html">#980</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/980.html">Fixes to HR Infoshare</a>
                          </td>
                          <td class="description">
                            <p>
We've fixed a few things in CKAN that were discovered and tracked by HRI in their own issue tacker. This includes: 
</p>
<ul><li>add authz checks to package edit links (cset:0752316cd2fe) 
</li><li>replace gettext with _ in controllers, to support unicode error msgs (cset:822340e6077e)
</li><li>handle broken html in notes field without crashing on package read (cset:4b6be037dda0)
</li><li>update i18n (cset:37d57dc3c492, cset:ea03173f5e77, cset:f16f4ee40fe7)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1297430918000000
                          </td>
                          <td class="ModifiedTime">1297503177000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/981.html">#981</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/981.html">fix authorization_group_user.id so it's added in migrate</a>
                          </td>
                          <td class="description">
                            <p>
This was missed out the migrate script. It should be to be added as a conditional script at the end of the repository so that databases can catch up.
</p>

                            
                          </td>
                          <td class="PosixTime">1297434480000000
                          </td>
                          <td class="ModifiedTime">1298278654000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/983.html">#983</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/983.html">'db upgrade' creates system priviledges</a>
                          </td>
                          <td class="description">
                            <p>
(should leave priviledges alone)
</p>

                            
                          </td>
                          <td class="PosixTime">1297518265000000
                          </td>
                          <td class="ModifiedTime">1297773407000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/984.html">#984</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/984.html">Fix migration, where upgrade diverges from actual model.</a>
                          </td>
                          <td class="description">
                            <p>
The migration scripts have not been inline with the upgrade scripts. There are lots of discrepancies.
</p>

                            
                          </td>
                          <td class="PosixTime">1297627447000000
                          </td>
                          <td class="ModifiedTime">1298280689000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/986.html">#986</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwitzel3
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/986.html">Broken link report from the ckanext-qa code</a>
                          </td>
                          <td class="description">
                            <p>
Should have the following features:
</p>
<ul><li>A list of all packages with broken links on the resource
</li><li>Under each packages a description of any resources with broken links to include:
<ul><li>Link
</li><li>Description
</li><li>Format
</li><li>First found to be broken date
</li></ul></li></ul><p>
[If you can't do the last one yet, don't worry]
</p>

                            
                          </td>
                          <td class="PosixTime">1297683994000000
                          </td>
                          <td class="ModifiedTime">1297812401000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/987.html">#987</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/987.html">Common harvesting framework</a>
                          </td>
                          <td class="description">
                            <p>
We are now harvesting metadata from other sources in various places around CKAN. Such harvesting can include: 
</p>
<ul><li>CSW/WFS for INSPIRE/UKLII (yields CKAN packages)
</li><li>Catalogue scraping for LOD2 experiments (yields RDF graphs)
</li><li>Atom/DCat for LOD2 production (yields RDF graphs) 
</li><li>OAI-PMH for <a class="ext-link" href="http://datadryad.org/"><span class="icon">​</span>http://datadryad.org/</a> and other dspace (yields CKAN packages)
</li></ul><p>
We should aim to consolidate the harvesting clients into a common system that is easy to extend when needed and can be re-used in different scenarios. 
</p>
<p>
In general, such a system would have the following stages: 
</p>
<ul><li>Source selection: find what to download/scrape/harvest/parse
</li><li>Index retrieval (i.e. package index) 
</li><li>Item retrieval (i.e. package entity)
</li><li>(Optional: Serialization) 
</li><li>Normalisation 
</li><li><a class="missing wiki">Loading/Merging?</a> into CKAN
</li></ul><p>
Exisiting harvesters are at: 
</p>
<ul><li>CSW: <a class="ext-link" href="https://bitbucket.org/okfn/ckanext-csw/src/"><span class="icon">​</span>https://bitbucket.org/okfn/ckanext-csw/src/</a>
</li><li>Scraper+CKAN: <a class="ext-link" href="https://bitbucket.org/pudo/dcat-tools/src/d5d96b06ec9a/dcat/crawl/"><span class="icon">​</span>https://bitbucket.org/pudo/dcat-tools/src/d5d96b06ec9a/dcat/crawl/</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1297684756000000
                          </td>
                          <td class="ModifiedTime">1311177705000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/990.html">#990</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rene.kapusta
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/990.html">umlauts in title / text</a>
                          </td>
                          <td class="description">
                            <p>
It's not possible to use umlauts (like "CKAN Österreich") in the title / text.
</p>

                            
                          </td>
                          <td class="PosixTime">1297801036000000
                          </td>
                          <td class="ModifiedTime">1311180850000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/991.html">#991</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/991.html">Checkbox defaults to True</a>
                          </td>
                          <td class="description">
                            <p>
Form for new package has <a class="missing wiki">CheckboxExtraField?</a> checked, when the value is False.
(as used in ckanext-dgu package v3 form)
</p>

                            
                          </td>
                          <td class="PosixTime">1298035175000000
                          </td>
                          <td class="ModifiedTime">1298037717000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/992.html">#992</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/992.html">Use X-forwarded-for whenever it is available to set remote IP address</a>
                          </td>
                          <td class="description">
                            <p>
At the moment we only use X-forwarded to determine remote user address when remote-addr header is 127.0.0.1. However if a site is behind a cache remote_addr will always be the IP of the cache.
</p>
<p>
We should fix this by using x-forwarded-for header whenever available and only use remote-addr when it is not available.
</p>
<p>
Cost: 10m
</p>

                            
                          </td>
                          <td class="PosixTime">1298058532000000
                          </td>
                          <td class="ModifiedTime">1298060474000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/993.html">#993</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">jason.kitcat@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/993.html">Link on ckan.net footer needs changing</a>
                          </td>
                          <td class="description">
                            <p>
The link for About &gt; 'Project Home Page' on the CKAN.net footer should be changed to point to:
</p>
<p>
<a href="http://ckan.org/">http://ckan.org/</a>
</p>
<p>
The current link is broken.
</p>
<p>
Thanks,
Jason
</p>

                            
                          </td>
                          <td class="PosixTime">1298154006000000
                          </td>
                          <td class="ModifiedTime">1298373114000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/994.html">#994</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/994.html">document a new migration methodology</a>
                          </td>
                          <td class="description">
                            <p>
It is too easy to make a mistake with the migrations at the moment.  A more systematic way of doing them is needed and this needs to be documented.
</p>

                            
                          </td>
                          <td class="PosixTime">1298281192000000
                          </td>
                          <td class="ModifiedTime">1298912842000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/995.html">#995</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/995.html">consolidate caching</a>
                          </td>
                          <td class="description">
                            <p>
Try and minimise the amount of different caching methodologies, especially for api calls.
</p>

                            
                          </td>
                          <td class="PosixTime">1298283499000000
                          </td>
                          <td class="ModifiedTime">1311179009000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/997.html">#997</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/997.html">change create on cli to upgrade</a>
                          </td>
                          <td class="description">
                            <p>
When doing create on the cli upgrade should be run instead of create to make sure that every database is initiated in the same way.
</p>

                            
                          </td>
                          <td class="PosixTime">1298287981000000
                          </td>
                          <td class="ModifiedTime">1298288665000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/998.html">change create on cli to upgrade</a>
                          </td>
                          <td class="description">
                            <p>
When doing create on the cli upgrade should be run instead of create to make sure that every database is initiated in the same way.
</p>

                            
                          </td>
                          <td class="PosixTime">1298287981000000
                          </td>
                          <td class="ModifiedTime">1300364423000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1004.html">Group creation instructions missing</a>
                          </td>
                          <td class="description">
                            <p>
Need instructions on the group page to tell people they need to login to create a group. Someone must have deleted this.
</p>

                            
                          </td>
                          <td class="PosixTime">1298559144000000
                          </td>
                          <td class="ModifiedTime">1323195485000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1005.html">#1005</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1005.html">Editing in ckan missing publishers</a>
                          </td>
                          <td class="description">
                            <p>
Package edit form at hmg.ckan.net has no publishers any more.
</p>

                            
                          </td>
                          <td class="PosixTime">1298561348000000
                          </td>
                          <td class="ModifiedTime">1300100085000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1007.html">#1007</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1007.html">Backport WDMMG translations for extensions i18n</a>
                          </td>
                          <td class="description">
                            <p>
Needed to allow extensions to be internationalized in the code and in templates. Requires in-template i18n domain switching which is broken between Genshi and Pylons, thus needs this hackish class. 
</p>
<p>
cf. <a class="ext-link" href="https://bitbucket.org/okfn/wdmmg/src/198841e770e5/wdmmg/config/environment.py#cl-16"><span class="icon">​</span>https://bitbucket.org/okfn/wdmmg/src/198841e770e5/wdmmg/config/environment.py#cl-16</a> 
</p>

                            
                          </td>
                          <td class="PosixTime">1298630621000000
                          </td>
                          <td class="ModifiedTime">1340626203000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1008.html">#1008</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1008.html">eval() of user display name in template head</a>
                          </td>
                          <td class="description">
                            <p>
We're currently setting the user preferences links via a javascript snippet that also evals the name. This should be removed as we're not displaying the user name any longer. 
</p>
<p>
We should also have page fragment caching in Genshi, which is not currently implmented. 
</p>
<p>
cf. <a class="ext-link" href="http://api.rubyonrails.org/classes/ActionController/Caching/Fragments.html"><span class="icon">​</span>http://api.rubyonrails.org/classes/ActionController/Caching/Fragments.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1298632686000000
                          </td>
                          <td class="ModifiedTime">1298821826000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1012.html">Add package revision history to api</a>
                          </td>
                          <td class="description">
                            <p>
Revision history information is not accessible, dgu want this. 
</p>

                            
                          </td>
                          <td class="PosixTime">1298887351000000
                          </td>
                          <td class="ModifiedTime">1301943113000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1013.html">#1013</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1013.html">Refactor &amp; write tests for Wordpresser extension</a>
                          </td>
                          <td class="description">
                            <p>
The Wordpresser extension seems to be working well for DataGM, but needs caching and tests.
</p>

                            
                          </td>
                          <td class="PosixTime">1298887392000000
                          </td>
                          <td class="ModifiedTime">1301909717000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1014.html">#1014</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1014.html">Decouple oAuth repoze extension from DataNO, write tests</a>
                          </td>
                          <td class="description">
                            <p>
The current oAuth extension tightly couples repoze.who, ckan, and data.no.  These components should be decoupled; they also need more tests
</p>

                            
                          </td>
                          <td class="PosixTime">1298887493000000
                          </td>
                          <td class="ModifiedTime">1299245293000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1015.html">#1015</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1015.html">Editing group gives exception</a>
                          </td>
                          <td class="description">
                            <p>
Editing a group properties on ckan.net gives an exception when you submit the form. (Is this related to db migration issues?)
</p>
<p>
Example page: <a class="ext-link" href="http://ckan.net/group/edit/civil-society"><span class="icon">​</span>http://ckan.net/group/edit/civil-society</a>
</p>
<p>
Exception:
</p>
<pre class="wiki">WebApp Error: &lt;class 'sqlalchemy.exc.IntegrityError'&gt;: (IntegrityError) duplicate key value violates unique constraint "group_revision_pkey" 'INSERT INTO group_revision (id, name, title, description, created, state, revision_id, continuity_id) VALUES (%(id)s, %(name)s, %(title)s, %(description)s, %(created)s, %(state)s, %(revision_id)s, %(continuity_id)s)' {'description': u"A group for open data related to civil society supported by members of the interest group at: http://okfn.org/groups/civil-society\r\n\r\nCivil society is composed of the totality of voluntary civic and social organizations and institutions that form the basis of a functioning society, as distinct from the force-backed structures of a state (regardless of that state's political system) and commercial institutions of the market. \r\n\r\nhttp://en.wikipedia.org/wiki/Civil_society", 'created': datetime.datetime(2011, 2, 24, 14, 30, 53, 334842), 'title': u'Civil Society', 'state': u'active', 'continuity_id': u'f4f9f09
</pre>
                            
                          </td>
                          <td class="PosixTime">1298898588000000
                          </td>
                          <td class="ModifiedTime">1299788821000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1017.html">#1017</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1017.html">Problem assigning users to authz groups through web interface</a>
                          </td>
                          <td class="description">
                            <p>
Against ckan-1.3.1, when I create an authz group called "administrators" and visit /authorizationgroup/edit/administrators, I am unable to add more than one user to it.
</p>
<p>
Each time I add additional users, the existing user on the list is replaced with the new one.
</p>

                            
                          </td>
                          <td class="PosixTime">1299071127000000
                          </td>
                          <td class="ModifiedTime">1299668555000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1020.html">#1020</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1020.html">harvesting doc revision table</a>
                          </td>
                          <td class="description">
                            <p>
add revisioning to harvested document table
</p>

                            
                          </td>
                          <td class="PosixTime">1299205012000000
                          </td>
                          <td class="ModifiedTime">1300196215000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1023.html">#1023</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1023.html">Re-queueing of worker requests with errors</a>
                          </td>
                          <td class="description">
                            <p>
Schedule worker calls to be ran several times, with certain intervals. 
</p>

                            
                          </td>
                          <td class="PosixTime">1299493179000000
                          </td>
                          <td class="ModifiedTime">1340626231000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1028.html">#1028</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1028.html">Open redirect in locale setting</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1299759883000000
                          </td>
                          <td class="ModifiedTime">1299760360000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1029.html">#1029</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1029.html">synchronous search erroring when harvesting is run.</a>
                          </td>
                          <td class="description">
                            <p>
Errors are caused when harvesting documents. This also makes the count not show up correctly on the ckan search page.
</p>

                            
                          </td>
                          <td class="PosixTime">1299768337000000
                          </td>
                          <td class="ModifiedTime">1301311643000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1030.html">Move harvesting out of the rest API</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1299776418000000
                          </td>
                          <td class="ModifiedTime">1303117978000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1033.html">#1033</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1033.html">Register user with blank password causes 500</a>
                          </td>
                          <td class="description">
                            <p>
Go to <a class="ext-link" href="http://ckan.net/user/register"><span class="icon">​</span>http://ckan.net/user/register</a> and fill in all the fields apart from password. On submit you get 500 error.
</p>

                            
                          </td>
                          <td class="PosixTime">1299796274000000
                          </td>
                          <td class="ModifiedTime">1308310446000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1034.html">#1034</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1034.html">Flash message cached</a>
                          </td>
                          <td class="description">
                            <ol><li>Login
(shows ckan home page with flash message "Welcome back xyz")
</li><li>Click away, to "Add package" say
</li><li>Click back to ckan "Home". 
It shows "Welcome back xyz" again - it shouldn't, I assume?
</li></ol><p>
 
</p>

                            
                          </td>
                          <td class="PosixTime">1299845308000000
                          </td>
                          <td class="ModifiedTime">1320174353000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1036.html">#1036</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1036.html">Add tests for three functions in ckan/model/user.py</a>
                          </td>
                          <td class="description">
                            <p>
create a new test file ckan/model/test_user.py
</p>
<p>
add tests for the following three functions in ckan/model/user.py
</p>
<p>
number_of_edits,
number_administered_packages,
search
</p>
<p>
merged in in changeset 0046f83aedcf
</p>

                            
                          </td>
                          <td class="PosixTime">1300127840000000
                          </td>
                          <td class="ModifiedTime">1301304575000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1037.html">#1037</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1037.html">More Robust Harvesting for DGU</a>
                          </td>
                          <td class="description">
                            <p>
CKAN's harvesting facility is now live on DGU but there are some major improvements that could be made to make it more robust and better fit the generic CKAN harvesting framework proposed in <a class="closed ticket" href="../ticket/987.html" title="defect: Common harvesting framework (closed: duplicate)">#987</a>.
</p>
<p>
Some of the key issues:
</p>
<ul><li>Error reports do not currently contain the ID or title of the document with the error.
</li><li>We only have "added" and "error" logging on jobs when we really need a report of "added", "updated", "not changed" and "errors" with the items in each referencing a real metadata document for which harvesting was attempted
</li><li>We need deletion and editing of sources, without deleting the harvested documents or packages
</li><li>We need a more robust harvesting mechanism than a cron job or we need to deal with the case of multiple cron jobs running at once.
</li><li>We need to know the last time a list of documents was scheduled for harvest and the last time each one was fetched.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300197602000000
                          </td>
                          <td class="ModifiedTime">1304937601000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1040.html">File system mounted</a>
                          </td>
                          <td class="description">
                            <p>
Public file path code adds a trailing , and thus adds / as a static file app in the Pylons middleware cascade.
</p>

                            
                          </td>
                          <td class="PosixTime">1300213855000000
                          </td>
                          <td class="ModifiedTime">1328806824000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1043.html">#1043</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1043.html">stop sqlalchemy message saying at least one scoped seession already present</a>
                          </td>
                          <td class="description">
                            <p>
see summary.
</p>

                            
                          </td>
                          <td class="PosixTime">1300310326000000
                          </td>
                          <td class="ModifiedTime">1300321033000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1044.html">Sysadmins locked-out of API without Right: (visitor, SITE_READ, System)</a>
                          </td>
                          <td class="description">
                            <p>
The problem is that in ckan/controllers/rest.py the <a class="missing wiki">BaseApiController?</a> has this method:
</p>
<pre class="wiki">    def __before__(self, action, **env):
        BaseController.__before__(self, action, **env)
        if not self.authorizer.am_authorized(c, model.Action.SITE_READ, model.System):
            abort(401, _('Not authorized to see this page'))
</pre><p>
which works on the basis of your c.user, rather than your apikey. All API users are treated as visitors (since API users don't get a login cookie) and even a sysadmin's apikey is blocked unless there is a right for a Visitor to SITE_READ.
</p>
<p>
Also needs tests.
</p>
<p>
(Also, why is this restriction only on the API, package search, group index and tags and agroup index? I'm guessing SITE_READ is only for places where other authz don't apply, but maybe it should not be called 'SITE_READ' but 'OTHER_READ' or something?)
</p>

                            
                          </td>
                          <td class="PosixTime">1300358919000000
                          </td>
                          <td class="ModifiedTime">1302096155000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1045.html">Group identified by ID in API</a>
                          </td>
                          <td class="description">
                            <pre class="wiki">http://ckan.net/api/2/rest/group
</pre><p>
returns group IDs but I can only reach a group by name:
</p>
<pre class="wiki">http://ckan.net/api/2/rest/group/economics
</pre><p>
when I also want to get a group by ID:
</p>
<pre class="wiki">http://ckan.net/api/2/rest/group/04fb43d2-8ddf-4485-9bf5-66d47d3672f3
</pre>
                            
                          </td>
                          <td class="PosixTime">1300360642000000
                          </td>
                          <td class="ModifiedTime">1300793261000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1047.html">#1047</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1047.html">Package edit form claims you're not logged in at the end when you are</a>
                          </td>
                          <td class="description">
                            <p>
At the bottom, it says something like
</p>
<p>
Author: Bob Bumgardner
Since you have not signed in this will just be your IP address. Click here to sign in before saving (opens in new window).
</p>

                            
                          </td>
                          <td class="PosixTime">1300384556000000
                          </td>
                          <td class="ModifiedTime">1300387309000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1049.html">#1049</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1049.html">Fix database errors on offener.datenkatalog.at etc.</a>
                          </td>
                          <td class="description">
                            <p>
We're getting these sorts of exceptions from  <a class="ext-link" href="http://offener.datenkatalog.at/"><span class="icon">​</span>http://offener.datenkatalog.at/</a> like we had from ckan.net, which was due to small errors in migration scripts. Is it worth fixing this database, and in fact all the ckans on eu3 at once?
</p>
<pre class="wiki">WebApp Error: &lt;class 'sqlalchemy.exceptions.IntegrityError'&gt;: (IntegrityError) duplicate key value violates unique constraint "group_revision_pkey" 'INSERT INTO group_revision (id, name, title, description, created, state, revision_id, continuity_id) VALUES (%(id)s, %(name)s, %(title)s, %(description)s, %(created)s, %(state)s, %(revision_id)s, ...
</pre><p>
Thoughts James and Rufus?
</p>

                            
                          </td>
                          <td class="PosixTime">1300444912000000
                          </td>
                          <td class="ModifiedTime">1323169424000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1051.html">#1051</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1051.html">Ability to set custom favicon</a>
                          </td>
                          <td class="description">
                            <p>
Allow deployers to set a URL pointing to their own favicon
</p>

                            
                          </td>
                          <td class="PosixTime">1300703160000000
                          </td>
                          <td class="ModifiedTime">1301305079000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1052.html">#1052</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1052.html">Authz holes</a>
                          </td>
                          <td class="description">
                            <p>
No authz on:
</p>
<ul><li>Group creation/edit/listing
</li><li>Package relationship create/edit/delete
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300709144000000
                          </td>
                          <td class="ModifiedTime">1300895410000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1053.html">#1053</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1053.html">Deletion in Model API</a>
                          </td>
                          <td class="description">
                            <p>
Currently in the API if you DELETE a package/group/user (and you have the required permissions) then it purges the object, when it should probably just set the state to deleted.
</p>
<p>
There is no way to delete objects at the moment - changes to 'state' are ignored in the API.
</p>
<p>
Do we need an alternative way to purge objects in the API?
</p>

                            
                          </td>
                          <td class="PosixTime">1300790039000000
                          </td>
                          <td class="ModifiedTime">1310126546000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1054.html">#1054</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1054.html">Ordering of resources</a>
                          </td>
                          <td class="description">
                            <p>
Changing an old resource and creating a new resource on the end results in the old resource moving to the end in the ordering.
</p>
<p>
This breaks tests:
</p>
<ul><li>(ckanext-dgu) ckanext/dgu/tests/ons/test_ons_loader.py:TestOnsLoadBasic.test_fields
</li><li>(ckanext-importlib) ckanext/importlib/tests/test_loader.py:TestLoaderInsertingResources.test_0_reload
</li></ul><p>
You can make a ckan test break with this patch:
</p>
<pre class="wiki">diff -r e6643cf1324c ckan/tests/models/test_resource.py
--- a/ckan/tests/models/test_resource.py        Wed Mar 23 13:25:52 2011 +0000
+++ b/ckan/tests/models/test_resource.py        Wed Mar 23 19:22:35 2011 +0000
@@ -297,6 +297,8 @@
                'url':self.urls[1], 'format':u'OTHER FORMAT',
                'description':self.description, 'hash':self.hash,
                'id':original_res_ids[2]},
+            { #new
+                'url':'new'},
            ]
        pkg.update_resources(res_dicts)
        model.repo.commit_and_remove()
</pre><p>
There seems to be a problem with vdm creating a replacement Resource for the old resource - because it has a duplicate position it is put to the end by the SQLAlchemy ordering_list function.
</p>

                            
                          </td>
                          <td class="PosixTime">1300969236000000
                          </td>
                          <td class="ModifiedTime">1301305615000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1055.html">#1055</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1055.html">@search_related tests not running</a>
                          </td>
                          <td class="description">
                            <p>
Tests marked decorated "@search_related" should only be run against postgresql, but in fact they don't get run at all. 
</p>

                            
                          </td>
                          <td class="PosixTime">1300985228000000
                          </td>
                          <td class="ModifiedTime">1300992395000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1056.html">#1056</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1056.html">User links for OpenID users are broken</a>
                          </td>
                          <td class="description">
                            <p>
Use case:
</p>
<ul><li>Login using OpenID
</li><li>Click on 'My account' - results in 404
</li></ul><p>
Solutions:
</p>
<ul><li>User user.id instead of their name
</li><li>Escape the URL properly. 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1301060249000000
                          </td>
                          <td class="ModifiedTime">1302882616000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1057.html">#1057</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1057.html">JSONP parameter isn't escaped</a>
                          </td>
                          <td class="description">
                            <pre class="wiki">$ curl "http://127.0.0.1:5000/api/rest/package/annakarenina?callback=&lt;script&gt;jsoncallback"
</pre><p>
gives:
</p>
<pre class="wiki">&lt;script&gt;jsoncallback({"id": "c10ebd31-5b45-4f6f-885d-dca9b18caec4", "name": "annakarenina", "title": "A Novel By Tolstoy",
</pre><p>
which could run script code in the client who made the call.
</p>
<p>
One idea for filtering: <a class="ext-link" href="http://tav.espians.com/sanitising-jsonp-callback-identifiers-for-security.html"><span class="icon">​</span>http://tav.espians.com/sanitising-jsonp-callback-identifiers-for-security.html</a>
Maybe just better to have a restricted whitelist of characters to be even more sure.
</p>
<p>
Same as: <a class="ext-link" href="https://trac.dataco.coi.gov.uk/projects/datagov/ticket/906"><span class="icon">​</span>https://trac.dataco.coi.gov.uk/projects/datagov/ticket/906</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1301078389000000
                          </td>
                          <td class="ModifiedTime">1329150236000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1058.html">#1058</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1058.html">Give 400 error (not 500) for invalid locale or package_form</a>
                          </td>
                          <td class="description">
                            <p>
Examples which prompt annoying exception emails:
</p>
<pre class="wiki">http://ckan.net/locale?locale=ja
Module ckan.i18n:21 in set_session_locale
           assert locale in _KNOWN_LOCALES
</pre><p>
A bot has caused these:
</p>
<pre class="wiki">http://ca.ckan.net/package/new?package_form=gov
Module ckan.forms.registry:32 in get_fieldset
               raise ValueError('Could not find package_form name %r in those found: \n%r' % (package_form, [en.name for en in entrypoints]))
ValueError: Could not find package_form name u'gov)' in those found: ['gov', 'standard', 'ca']
</pre>
                            
                          </td>
                          <td class="PosixTime">1301302303000000
                          </td>
                          <td class="ModifiedTime">1301303315000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1059.html">#1059</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1059.html">Loader coping better with poor search indexing</a>
                          </td>
                          <td class="description">
                            <p>
Loader currently checks for same name, but also should check for name_, name<span class="underline"> etc.
</span></p>

                            
                          </td>
                          <td class="PosixTime">1301310596000000
                          </td>
                          <td class="ModifiedTime">1301312516000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1060.html">#1060</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1060.html">Spreadsheet importer tries to import readonly keys</a>
                          </td>
                          <td class="description">
                            <p>
e.g. we just added notes_rendered and that is read in as an extra field.
Tests failing in ckanext-importlib
</p>
<p>
Also related: we are missing lost metadata_created and metadata_modified in the dumps.
</p>

                            
                          </td>
                          <td class="PosixTime">1301312210000000
                          </td>
                          <td class="ModifiedTime">1301312487000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1062.html">#1062</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1062.html">Data preview encoding error</a>
                          </td>
                          <td class="description">
                            <p>
The preview of "Species Misc Turtle Download" at <a class="ext-link" href="http://ckan.net/package/taxonconcept"><span class="icon">​</span>http://ckan.net/package/taxonconcept</a> results in the following error:
</p>
<p>
Unable to Preview - Had an error from dataproxy:
Data Transformation Error (Data transformation failed. Reason: 'utf8' codec can't decode byte 0x8b in position 1: unexpected code byte
</p>

                            
                          </td>
                          <td class="PosixTime">1301396143000000
                          </td>
                          <td class="ModifiedTime">1311773731000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1063.html">#1063</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">sebbacon
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1063.html">Groups listing widget on package screen shouldn't show group name by default</a>
                          </td>
                          <td class="description">
                            <p>
I've been asked if we can do something about the overflow of the Group
name in the right hand column on this page:
</p>
<blockquote>
<p>
<a class="ext-link" href="http://register.data.overheid.nl/package/europese-aanbestedingen"><span class="icon">​</span>http://register.data.overheid.nl/package/europese-aanbestedingen</a>
</p>
</blockquote>
<p>
The reason is that the list display for groups is in the form
"group_tltie (group_name)", and of course group_name can't have spaces
and so can't wrap nicely.
</p>
<p>
I was wondering if there's a good reason why we don't only display
group_title (if it exists) and group_name only when there's not a
title?
</p>

                            
                          </td>
                          <td class="PosixTime">1301408459000000
                          </td>
                          <td class="ModifiedTime">1302514033000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1064.html">#1064</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1064.html">Remove Workers from ckanext-queue</a>
                          </td>
                          <td class="description">
                            <p>
The current implementation of Workers in ckanext-queue is broken. Basically the various consume / callback functions expect three arguments (routing_key, operation, payload) when they are in fact receiving only two of them (message_data, message).
This is fairly easy to fix, but the question is if Workers add an extra complexity to use the messaging library directly.
</p>

                            
                          </td>
                          <td class="PosixTime">1301417891000000
                          </td>
                          <td class="ModifiedTime">1323169787000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1068.html">#1068</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1068.html">metadata_modified problem</a>
                          </td>
                          <td class="description">
                            <p>
This test has been failing since the clocks changed:
</p>
<pre class="wiki">======================================================================
FAIL: ckan.tests.models.test_package.TestPackageRevisions.test_02_metadata_created_and_modified
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/dread/hgroot/pyenv-ckan2/lib/python2.6/site-packages/nose-0.11.3-py2.6.egg/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/dread/hgroot/ckan2/ckan/tests/models/test_package.py", line 283, in test_02_metadata_created_and_modified
    assert out == exp, (out, exp)
AssertionError: (datetime.datetime(2011, 4, 1, 10, 45, 50, 875509), datetime.datetime(2011, 4, 1, 9, 45, 50, 875509))

----------------------------------------------------------------------
</pre>
                            
                          </td>
                          <td class="PosixTime">1301652085000000
                          </td>
                          <td class="ModifiedTime">1302109505000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1071.html">#1071</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1071.html">Package history API moved to /api/rest/package/revisions</a>
                          </td>
                          <td class="description">
                            <p>
api/rest/package_history is not RESTful or follow API naming conventions. Therefore move it to /api/rest/package/revisions
</p>
<p>
Also, API docs incomplete.
</p>

                            
                          </td>
                          <td class="PosixTime">1301937882000000
                          </td>
                          <td class="ModifiedTime">1301943180000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1081.html">#1081</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1081.html">can't remove user from authz group</a>
                          </td>
                          <td class="description">
                            <p>
I've found that if I make an authorization group I sometimes can't remove myself from it. I've no idea why. I can add and remove other users. I'll investigate, just making a note of it here.
</p>

                            
                          </td>
                          <td class="PosixTime">1302541056000000
                          </td>
                          <td class="ModifiedTime">1303489474000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1082.html">#1082</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1082.html">language changes behave strangely</a>
                          </td>
                          <td class="description">
                            <p>
Set language to Greek, flash message says 'Language set to: English', but page is now about half in Greek.
</p>
<p>
Set language back to English causes server error:
</p>
<p>
<a class="missing wiki">AttributeError?</a>: '<a class="missing wiki">NoneType?</a>' object has no attribute 'path'
</p>
<p>
Module ckan.controllers.error:29 in document          view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
if original_request.path.startswith('/api'):
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
However going to a new page reveals that it's back to English
</p>

                            
                          </td>
                          <td class="PosixTime">1302541989000000
                          </td>
                          <td class="ModifiedTime">1315917217000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1083.html">#1083</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1083.html">userobjectroles added twice can't be deleted</a>
                          </td>
                          <td class="description">
                            <p>
the add_user_to_role/remove_user_from_role functions are asymmetrical
in that the add function is happy to add the same role twice but the remove asserts that it's only in the table once and crashes if that's not true.
</p>
<p>
an attempt has been made to guard against this, but fails, I think because the add functions rely on the caller committing the change to the db.
</p>
<p>
same problem affects corresponding authorization_group functions
</p>
<p>
I'll try to sort this out. Making a note here.
</p>

                            
                          </td>
                          <td class="PosixTime">1302550660000000
                          </td>
                          <td class="ModifiedTime">1305537827000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1085.html">#1085</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1085.html">local development copy of ckan depends on existence of ckan.net</a>
                          </td>
                          <td class="description">
                            <p>
ckan.net appears to have either gone down or be running ultra slowly.
</p>
<p>
this means that ckan copies running locally on my machine run very slowly indeed.
</p>
<p>
is this behaviour desirable?
</p>
<p>
This command finds lots of <a class="ext-link" href="http://~~~ckan.net"><span class="icon">​</span>http://~~~ckan.net</a> references in python, html and javascript files:
</p>
<p>
find ~/pyenv/src \( -name "*.py" -or -name "*.html" -or -name "*.js" \) -print0 | xargs -0 -e grep --color -nH -e "<a class="ext-link" href="http://.*ckan.net"><span class="icon">​</span>http://.*ckan.net</a>"
</p>
<p>
output for reference:
</p>
<hr />
<p>
/home/okfn/pyenv/src/ckan/ckan/<span class="underline">init__.py:5:Network (CKAN) site: <a class="ext-link" href="http://www.ckan.net"><span class="icon">​</span>http://www.ckan.net</a>.
/home/okfn/pyenv/src/ckan/ckan/lib/create_test_data.py:346:&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;
/home/okfn/pyenv/src/ckan/ckan/lib/rdf.py:3:DOMAIN = '<a class="ext-link" href="http://ckan.net"><span class="icon">​</span>http://ckan.net</a>'
/home/okfn/pyenv/src/ckan/ckan/lib/rdf.py:4:CKAN_NAMESPACE = '<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>#'
/home/okfn/pyenv/src/ckan/ckan/lib/talis.py:60:                      'ckan':'<a class="ext-link" href="http://ckan.net/ns"><span class="icon">​</span>http://ckan.net/ns</a>#',
/home/okfn/pyenv/src/ckan/ckan/public/scripts/bookmarklet.js:2:    f='<a class="ext-link" href="http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;title='+encodeURIComponent(document.title"><span class="icon">​</span>http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;title='+encodeURIComponent(document.title</a>);
/home/okfn/pyenv/src/ckan/ckan/public/scripts/test_bookmarklet.html:16:    addtockan.src='<a class="ext-link" href="http://ckan.net/scripts/bookmarklet.js"><span class="icon">​</span>http://ckan.net/scripts/bookmarklet.js</a>';
/home/okfn/pyenv/src/ckan/ckan/public/scripts/test_bookmarklet.html:27:    &lt;p&gt;&lt;strong&gt;Proper bookmarklet (compressed -- need to escape &amp;amp;):&lt;/strong&gt; &lt;a href="javascript:(function(){f='<a class="ext-link" href="http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;title='+encodeURIComponent(document.title);if((n=document.getElementsByName('description')[0])&amp;amp;&amp;amp;(d=n.content)){f+='&amp;amp;notes='+encodeURIComponent(d);}a=function(){if(!window.open(f)){location.href=f;}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a"><span class="icon">​</span>http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;title='+encodeURIComponent(document.title);if((n=document.getElementsByName('description')[0])&amp;amp;&amp;amp;(d=n.content)){f+='&amp;amp;notes='+encodeURIComponent(d);}a=function(){if(!window.open(f)){location.href=f;}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a</a>()}})()"&gt;Add to CKAN&lt;/a&gt;
/home/okfn/pyenv/src/ckan/ckan/templates/home/license.html:31:      For convenience, all material - including all package, tag and revision information - is available in bulk, in the form of a full dump of the CKAN database. This (gzipped) dump file is updated daily and can be downloaded from &lt;a href="<a class="ext-link" href="http://www.ckan.net/dump/"><span class="icon">​</span>http://www.ckan.net/dump/</a>"&gt;<a class="ext-link" href="http://www.ckan.net/dump/"><span class="icon">​</span>http://www.ckan.net/dump/</a>&lt;/a&gt;.
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:71:            'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:137:             'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:447:                                  'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:458:                                  'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/functional/api/base.py:178:        assert '"ckan_url": "<a class="ext-link" href="http://test.ckan.net/package/annakarenina"><span class="icon">​</span>http://test.ckan.net/package/annakarenina</a>"' in msg, msg
/home/okfn/pyenv/src/ckanclient/ckanclient/</span>init__.py:116:    api e.g. <a class="ext-link" href="http://ckan.net/api"><span class="icon">​</span>http://ckan.net/api</a> rather than <a class="ext-link" href="http://ckan.net/api/rest"><span class="icon">​</span>http://ckan.net/api/rest</a>)
/home/okfn/pyenv/src/ckanclient/ckanclient/<span class="underline">init__.py:261:    :param base_location: default *<a class="ext-link" href="http://www.ckan.net/api"><span class="icon">​</span>http://www.ckan.net/api</a>*
/home/okfn/pyenv/src/ckanclient/ckanclient/</span>init__.py:267:    base_location = '<a class="ext-link" href="http://www.ckan.net/api"><span class="icon">​</span>http://www.ckan.net/api</a>'
</p>
<hr />

                            
                          </td>
                          <td class="PosixTime">1302620434000000
                          </td>
                          <td class="ModifiedTime">1302625314000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1086.html">#1086</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1086.html">no way to delete authorization groups from web interface</a>
                          </td>
                          <td class="description">
                            <p>
as title. 
</p>

                            
                          </td>
                          <td class="PosixTime">1302625333000000
                          </td>
                          <td class="ModifiedTime">1323346552000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1088.html">#1088</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1088.html">content-type autonegotiation is wonky</a>
                          </td>
                          <td class="description">
                            <p>
in ckan/controllers/package.py around line 130 it does some strange things...
</p>
<p>
perhaps replace with <a class="ext-link" href="https://github.com/wwaites/autoneg"><span class="icon">​</span>https://github.com/wwaites/autoneg</a>
</p>
<p>
and handle redirection of these content types:
</p>
<pre class="wiki">application/rdf+xml
application/turtle
text/plain
text/x-graphviz
</pre>
                            
                          </td>
                          <td class="PosixTime">1302630261000000
                          </td>
                          <td class="ModifiedTime">1303035487000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1090.html">#1090</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1090.html">Visitor can't create packages on new CKAN install</a>
                          </td>
                          <td class="description">
                            <p>
Default visitor roles in default config is reader, not anon_editor. 
</p>
<p>
Problem caused by changes in <a class="closed ticket" href="../ticket/1066.html" title="enhancement: Default reader role too permissive (closed: fixed)">#1066</a> (released in 1.3.3)
</p>
<p>
New installs will be affected, although simple to just increase permissions when the installer realises a visitor can't create packages.
</p>
<p>
The solution to the config getting out of sync with the code like this is to not have the default_roles in the config - refer to the code in the configuration instructions.
</p>

                            
                          </td>
                          <td class="PosixTime">1302635219000000
                          </td>
                          <td class="ModifiedTime">1302635699000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1091.html">#1091</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1091.html">usernames of users logged in using open ids are strange</a>
                          </td>
                          <td class="description">
                            <p>
If I use my gmail openID to log into a CKAN instance, then my username is:
</p>
<p>
<a class="ext-link" href="https://www.google.com/accounts/o8/id?id=AItOawnduohQ5RgXdPJKHiq-SIPbvCBqUaERuEQ"><span class="icon">​</span>https://www.google.com/accounts/o8/id?id=AItOawnduohQ5RgXdPJKHiq-SIPbvCBqUaERuEQ</a>
</p>
<p>
This seems a bit odd.
</p>

                            
                          </td>
                          <td class="PosixTime">1302701460000000
                          </td>
                          <td class="ModifiedTime">1323102767000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1092.html">#1092</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1092.html">refactor logic layer to seperate out api, form logic</a>
                          </td>
                          <td class="description">
                            <p>
The logic layer is a bit too api centric. Make the reusable parts separate in preparation for the wui refactor.
</p>

                            
                          </td>
                          <td class="PosixTime">1302777929000000
                          </td>
                          <td class="ModifiedTime">1305570822000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1093.html">#1093</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1093.html">500 errors on GET to api/rest/licenses</a>
                          </td>
                          <td class="description">
                            <p>
CKAN gets its license list from a license service, which can be a local file, but is often the <a class="ext-link" href="http://licenses.opendefinition.org/2.0/ckan_original"><span class="icon">​</span>http://licenses.opendefinition.org/2.0/ckan_original</a> server. This server is currently flakey, but I think we only request the list on start up. The problem is we query it much more often than required. It is queried for every request to api/rest/licenses, and we are returning lots of 500 errors when the license server is timing out.
</p>

                            
                          </td>
                          <td class="PosixTime">1302862261000000
                          </td>
                          <td class="ModifiedTime">1302865470000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1095.html">#1095</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1095.html">add way to pass in schema to logic layer.</a>
                          </td>
                          <td class="description">
                            <p>
We need a way to pass in schemas to the logic layer to deal with edge cases. 
</p>

                            
                          </td>
                          <td class="PosixTime">1303221854000000
                          </td>
                          <td class="ModifiedTime">1310134959000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1096.html">#1096</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rufuspollock
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1096.html">[super] CKAN Hosted</a>
                          </td>
                          <td class="description">
                            <p>
Many users of CKAN want to have their own instance without much effort. Setting these up in separate places is a maintenance nightmare, we should much rather have some tenant separation in core CKAN. Some ideas:
</p>
<ul><li>introduce model.Site and c.site
<ul><li>site has: custom CSS, extra_template_path, title, languages list, package_form, group_form (all configured via web UI) 
</li></ul></li><li>Subdomain detector to activate sites.
</li><li>use site in Authorizer instead of System, have a <a class="missing wiki">NullSite?</a> for global things
</li><li>allow cross-site search
</li><li>packages are in a list of sites, m:n rather than 1:n
<ul><li>list of sites is string-based, can contain sites not in site table to express harvested external material which is not editable locally. 
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1303235062000000
                          </td>
                          <td class="ModifiedTime">1339774484000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1099.html">#1099</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1099.html">strange interactions between two browsers while playing with authz groups</a>
                          </td>
                          <td class="description">
                            <p>
While playing with the authorization groups, trying to design tests, I found that it was necessary to log in as two different users with two different browsers. Often actions of one user would cause server errors in the other user's browser.
</p>
<p>
I don't have a reproducible test case, but it happens fairly often so it shouldn't be too difficult to get one.
</p>

                            
                          </td>
                          <td class="PosixTime">1303380824000000
                          </td>
                          <td class="ModifiedTime">1324057106000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1100.html">#1100</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1100.html">Get buildbot running on ckan branches</a>
                          </td>
                          <td class="description">
                            <p>
Need some changes to pip-requirements files in release branches.
</p>

                            
                          </td>
                          <td class="PosixTime">1303385267000000
                          </td>
                          <td class="ModifiedTime">1303406103000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1102.html">#1102</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1102.html">searching broken in development setup</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303491912000000
                          </td>
                          <td class="ModifiedTime">1303744552000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1103.html">#1103</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1103.html">searching broken in development setup</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303494538000000
                          </td>
                          <td class="ModifiedTime">1303744575000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1104.html">#1104</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1104.html">create-test-data doesn't index the packages it creates</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303494635000000
                          </td>
                          <td class="ModifiedTime">1303920791000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1105.html">#1105</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">nils.toedtmann
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1105.html">test ticket, please ignore</a>
                          </td>
                          <td class="description">
                            <p>
.
</p>

                            
                          </td>
                          <td class="PosixTime">1303508261000000
                          </td>
                          <td class="ModifiedTime">1303508330000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1106.html">#1106</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1106.html">Bugs related to routes arising from API refactor + removal of default routes</a>
                          </td>
                          <td class="description">
                            <p>
Various bugs I've been encountering:
</p>
<ul><li>Autocomplete of tag names no longer works (no longer works on <a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>). Appears to be due to no longer have a routes for apiv2 (i'm seeing failing calls to:  <a class="ext-link" href="http://ckan.net/apiv2/package/autocomplete?callback=callback&amp;incomplete=a"><span class="icon">​</span>http://ckan.net/apiv2/package/autocomplete?callback=callback&amp;incomplete=a</a>)
</li><li>Incorrect url generated for API in page footer (e.g.  <a class="ext-link" href="http://ckan.net/rest/get_api"><span class="icon">​</span>http://ckan.net/rest/get_api</a>) due to use of old 'rest' rather than new 'api'
</li></ul><p>
Latter issue was masked by existence of 'default' routes:
</p>
<pre class="wiki">   map.connect('/{controller}', action='index')
   map.connect('/:controller/{action}')
   map.connect('/{controller}/{action}/{id}')
</pre><p>
Having these is, I think, bad practice as it is better to be explicit and we should therefore remove asap.
</p>
<p>
In addition I think we should be cautious about 'default' routes in core such as:
</p>
<pre class="wiki">    map.connect('/api/rest/:register', controller='api', action='list',
        conditions=dict(method=['GET'])
        )
</pre><p>
As it makes it harder for extensions to introduce their own APIs (here one could perhaps add something at /api/rest/{my-object} but only by using before_map rather than after_map).
</p>

                            
                          </td>
                          <td class="PosixTime">1303747360000000
                          </td>
                          <td class="ModifiedTime">1303834069000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1109.html">#1109</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1109.html">When extras has a value other than a string an integrity error occurs in the api.</a>
                          </td>
                          <td class="description">
                            <p>
This is a regression that happened after refactoring the api.
</p>
<p>
It was shown by 
</p>
<p>
<a class="ext-link" href="http://pastebin.com/2v7QasZy"><span class="icon">​</span>http://pastebin.com/2v7QasZy</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1303839943000000
                          </td>
                          <td class="ModifiedTime">1305124697000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1113.html">#1113</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1113.html">lists in extras serialized wrongly on get with the api.</a>
                          </td>
                          <td class="description">
                            <p>
Lists are being converted to unicode and then translated into a json when getting from the api.
</p>

                            
                          </td>
                          <td class="PosixTime">1304017353000000
                          </td>
                          <td class="ModifiedTime">1304024611000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1115.html">#1115</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1115.html">can have two authzgroups with the same name</a>
                          </td>
                          <td class="description">
                            <p>
If you've got edit permission on an authzgroup, then you can change its name to be the same as another existing authzgroup.
</p>
<p>
This causes some strange UI effects at worst, and probably causes worse problems somewhere else.
</p>
<p>
Is there any reason why changing the names of existing authzgroups should be allowed? And if so, name collisions should presumably be guarded against in both the name-changing and creation functions
</p>

                            
                          </td>
                          <td class="PosixTime">1304085120000000
                          </td>
                          <td class="ModifiedTime">1324054704000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1116.html">#1116</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1116.html">api search loses boolean q options</a>
                          </td>
                          <td class="description">
                            <p>
filter_by_openness and filter_by_downloadable options don't work when specified as URI parameters. (They do work in qjson parameters)
</p>

                            
                          </td>
                          <td class="PosixTime">1304086823000000
                          </td>
                          <td class="ModifiedTime">1304358664000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1117.html">#1117</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">nils.toedtmann
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1117.html">Depend deb package "ckan" against ubuntu package "python-pastescript"</a>
                          </td>
                          <td class="description">
                            <p>
... otherwise the scripts fails.
</p>

                            
                          </td>
                          <td class="PosixTime">1304089619000000
                          </td>
                          <td class="ModifiedTime">1304277240000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1118.html">#1118</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1118.html">tests are testing something other than the behaviour seen in the browser</a>
                          </td>
                          <td class="description">
                            <p>
I'm finding that if I try to take an action with insufficient credentials from a test then I often (but not always) get a 401 error, whereas in the browser I get redirected to the login page.
</p>
<p>
It's a bit worrying that the program in its test environment doesn't behave like it does in the browser.
</p>

                            
                          </td>
                          <td class="PosixTime">1304093017000000
                          </td>
                          <td class="ModifiedTime">1311174062000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1131.html">#1131</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1131.html">Search param validation exception not caught</a>
                          </td>
                          <td class="description">
                            <p>
Example request:
</p>
<pre class="wiki">http://nl.ckan.net/api/2/search/package?q=delft&amp;order_by=&amp;offset=&amp;limit=&amp;tags=
</pre><p>
Gives 500 error:
</p>
<pre class="wiki">&lt;type 'exceptions.ValueError'&gt;: invalid literal for int() with base 10: ''
</pre>
                            
                          </td>
                          <td class="PosixTime">1304942023000000
                          </td>
                          <td class="ModifiedTime">1305537897000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1132.html">#1132</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1132.html">test_authz doesn't run</a>
                          </td>
                          <td class="description">
                            <p>
Trying to run the tests in test_authz.py with
</p>
<p>
$ nosetests --ckan ckan/tests/functional/test_authz.py
results in no tests being run:
</p>
<hr />
<p>
Ran 0 tests in 0.840s
</p>
<p>
OK (SKIP=3)
</p>

                            
                          </td>
                          <td class="PosixTime">1304966923000000
                          </td>
                          <td class="ModifiedTime">1307352675000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1133.html">#1133</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1133.html">command line rights manipulation doesn't work</a>
                          </td>
                          <td class="description">
                            <p>
It appears that the command
</p>
<p>
$ paster rights add russianfan admin warandpeace
</p>
<p>
has no effect, even though
</p>
<p>
$ paster rights remove russianfan admin warandpeace
</p>
<p>
works fine. This may be specific to something I've done, could someone confirm?
</p>
<p>
If it's the case more generally, then I'm assuming this behaviour is untested? Tests should probably be added.
</p>

                            
                          </td>
                          <td class="PosixTime">1305054948000000
                          </td>
                          <td class="ModifiedTime">1324057072000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=22.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <span class="current">23</span>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>