<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=26.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=24.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=25.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2401 - 2500 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=24.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <span class="current">25</span>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=26.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=25.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=25.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=25.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=25.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=25.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=25.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=25.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=25.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=25.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=25.html">
              Posixtime
            </a>
          </th><th colspan="100" class="desc">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=25.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/128.html">#128</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/128.html">Add ckan_url attribute to REST JSON representation of a Package</a>
                          </td>
                          <td class="description">
                            <p>
Add ckan_url attribute to REST JSON representation of a Package pointing to the (read) url of package on CKAN.
</p>
<p>
Cost: 30m
</p>

                            
                          </td>
                          <td class="PosixTime">1253866713000000
                          </td>
                          <td class="ModifiedTime">1275694573000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/333.html">#333</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/333.html">CKAN front end requirements for package notifications</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase:newpackage">Use case: new package</h2>
<ol><li>An external front-end system provides a web page with a list of packages. Each package has the option to edit it or and there is also a button to create a new package. 
</li></ol><ol start="2"><li>User: clicks 'new package'. 
</li></ol><ol start="3"><li>CKAN presents the package/new form to the user. 
</li></ol><ol start="4"><li>(After a couple of previews) User: clicks 'commit'. 
</li></ol><ol start="5"><li>Notification message goes from CKAN to the front-end detailing the new package.
</li></ol><ol start="6"><li>The user is redirected back to the front-end web page displaying the list of packages, which contains the new one.
</li></ol><p>
The notification message (step 5) has to get through to the front-end that the new package is created before the redirect (step 6). This suggests that the message sending needs to be *synchronous*, i.e. acknowledged by the front-end, before CKAN redirects the user to the front-end package listing page (step 6).
</p>
<p>
In addition, this use case suggests the front-end listens for package notifications, to save another call to CKAN to get the package details, before the displaying the list of packages. If this isn't possible (see next use case) and it must listen for revision notifications instead, then perhaps it is worth including the full package details in the payload for the revision notification message. Would there be a problem with such a large message in the next use case, with 100 packages?
</p>
<h2 id="Usecase:CKANimportspackages">Use case: CKAN imports packages</h2>
<ol><li>CKAN administrator runs a script that adds 100 new packages into CKAN. 
</li></ol><ol start="2"><li>CKAN sends notification message to front-end to report the new packages/revisions.
</li></ol><ol start="3"><li>Knowing there are new revisions, the front-end queries the CKAN revision interface to get the list of new packages.
</li></ol><ol start="4"><li>The front-end queries CKAN for each new package one-by-one.
</li></ol><ol start="5"><li>A new user request to the front-end will include the info about the new packages.
</li></ol><p>
The package addition could be achieved in 1 revision, 100 revisions or some compromise:
</p>
<ul><li>If it is 1 revision then potentially there are problems displaying the long list of packages in the 'recent changes'. 
</li></ul><ul><li>If it is 100 revisions, then the notification webhook would be called 100 times, which creates unnecessary load on the front-end. Suppose each Webhook call-back (step 2) triggers the front-end to make a call to CKAN to get the latest revisions (step3), in this case it would make 100 calls, most of them fruitless, causing unnecessary load on CKAN.
</li></ul><p>
This use case suggests a bulk import of packages should go into one revision, and therefore generate one revision notification message and 100 package notification messages. The front-end client should listen to only revision messages.
</p>

                            
                          </td>
                          <td class="PosixTime">1275324042000000
                          </td>
                          <td class="ModifiedTime">1275407987000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/313.html">#313</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/313.html">Allow packages to be specified by IDs in REST interface</a>
                          </td>
                          <td class="description">
                            <p>
If a package name changes, a simple CKAN client may not be aware of this (not monitoring the push notifications, revisions or feed), so it is preferable to refer to the package by its (invariant) ID.
</p>
<p>
It is still useful to refer to a package by its name though, so both should be valid arguments in the REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1273606248000000
                          </td>
                          <td class="ModifiedTime">1275404524000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/328.html">#328</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/328.html">Mention code libraries in API documentation</a>
                          </td>
                          <td class="description">
                            <p>
Should prominently (at the top?) mention existing code libraries for working with ckan api. Have:
</p>
<ul><li>Python: ckanclient
</li><li>Perl: luke closs wrote something
</li><li>PHP: drupal library?
</li><li>...?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1274988106000000
                          </td>
                          <td class="ModifiedTime">1275318745000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/330.html">#330</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/330.html">getdata/ons timezone not recognised on non-British servers</a>
                          </td>
                          <td class="description">
                            <p>
The python time module is supposed to recognise timezones such as 'UTC', 'GMT' and 'BST' using the %Z parameter. This works fine on British installs, but the buildbot (for example) gives this error:
</p>
<p>
<a class="missing wiki">DateConvertError?</a>: Could not read date as ISO format "%a, %d %b %Y %H:%M:%S %Z". Date provided: "Mon, 04 Jan 2010 09:30:00 BST"
</p>
<p>
It turns out that it only recognises local names of timezones.
</p>
<p>
The ONS import doesn't care much about timezone, so we should just ignore it, avoiding these problems.
</p>

                            
                          </td>
                          <td class="PosixTime">1275300271000000
                          </td>
                          <td class="ModifiedTime">1275303122000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/308.html">#308</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/308.html">Autocomplete package names &amp; tags in package search</a>
                          </td>
                          <td class="description">
                            <p>
Extracted from <a class="closed ticket" href="../ticket/216.html" title="enhancement: UI Review - Search (closed: fixed)">ticket:216</a>.
</p>
<p>
Dubious of its merit.
</p>

                            
                          </td>
                          <td class="PosixTime">1273050549000000
                          </td>
                          <td class="ModifiedTime">1275302577000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/329.html">#329</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/329.html">Bad dates cause exception on Gov form</a>
                          </td>
                          <td class="description">
                            <h2 id="Reproduction">Reproduction</h2>
<p>
Using the government form, create a new package with name 'test' and date released of '23/5/0210'. The result is a 500 error and 'Server Error' message.
</p>
<p>
Affects all versions of CKAN.
</p>
<h2 id="Whyitshappening">Why it's happening</h2>
<p>
The dates module is raising an exception on the invalid date when saving the date, which is not being caught. The exception should have been raised only during the earlier 'validation' step and that would be caught.
</p>

                            
                          </td>
                          <td class="PosixTime">1275060617000000
                          </td>
                          <td class="ModifiedTime">1275079189000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/326.html">#326</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/326.html">Centralise importation of json library</a>
                          </td>
                          <td class="description">
                            <p>
Later versions of python use json which is better than simplejson, but it must be kept as an option for compatibility. So centralise the import of json to ckan.lib.helpers.
</p>

                            
                          </td>
                          <td class="PosixTime">1274784223000000
                          </td>
                          <td class="ModifiedTime">1274789296000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/319.html">#319</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/319.html">Local Authority license misnamed in migration script 18</a>
                          </td>
                          <td class="description">
                            <p>
Migration script 18 converts license "OKD Compliant::Local Authority Copyright with data.gov.uk rights" into "uklocalauthority-withrights" when it should be "localauth-withrights", according to the license service SoS 2. This causes clients difficulties looking it up.
</p>

                            
                          </td>
                          <td class="PosixTime">1274349714000000
                          </td>
                          <td class="ModifiedTime">1274366882000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/311.html">#311</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/311.html">Reordering of package resources can lead to integri</a>
                          </td>
                          <td class="description">
                            <p>
Created a new package resource line and then moved it up above existing one and hit save. Result: 500 error. In logs have:
</p>
<pre class="wiki">[Sat May 08 21:55:41 2010] [error] [client 86.26.8.30] Error - &lt;class 'sqlalchemy.exceptions.IntegrityError'&gt;: (IntegrityError) duplicate key value violates unique constraint "package_resource_revision_pkey", referer: http://ckan.net/package/edit/cofog
[Sat May 08 21:55:41 2010] [error] [client 86.26.8.30]  'INSERT INTO package_resource_revision (id, package_id, url, format, description, hash, position, state, revision_id, continuity_id) VALUES (%(id)s, %(package_id)s, %(url)s, %(format)s, %(description)s, %(hash)s, %(position)s, %(state)s, %(revision_id)s, %(continuity_id)s)' {'hash': '', 'description': 'The Treasury record of COFOG functions. ', 'format': 'XLS', 'url': 'http://www.hm-treasury.gov.uk/d/cofog_definitions_coins250609.xls', 'package_id': '8482334d-fe2e-4285-9114-5243130f80c0', 'state': 'active', 'continuity_id': '8bf302db-8a80-47d3-b5dc-bc07512a3928', 'position': 3, 'revision_id': 'e4e2cb2d-4bd5-414e-b646-e484f174d9ab', 'id': '8bf302db-8a80-47d3-b5dc-bc07512a3928'}, referer: http://ckan.net/package/edit/cofog
</pre>
                            
                          </td>
                          <td class="PosixTime">1273348968000000
                          </td>
                          <td class="ModifiedTime">1274282065000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/254.html">#254</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/254.html">Package relationships - 1. model</a>
                          </td>
                          <td class="description">
                            <p>
New domain object: <a class="missing wiki">PackageRelationship?</a> (revisioned)
</p>
<p>
Attributes:
</p>
<ul><li>subject (Package reference)
</li><li>object (Package reference)
</li><li>type (string)
</li><li>comment
</li></ul><p>
Relationship type values:
depends_on (dependency_of)
derives_from (has_derivation)
child_of (parent_of)
</p>
<p>
Relationship type is stored as a string, as given in the first column. The reverse relationship (bracketed) is given just for display purposes only.
</p>
<p>
Subject / Object - as in a sentence: "Dracos is derived from OSM" is &lt;subject&gt; &lt;predicate&gt; &lt;object&gt;. We'll use 'type' instead of 'predicate' as that is a more familiar word.
</p>

                            
                          </td>
                          <td class="PosixTime">1266928449000000
                          </td>
                          <td class="ModifiedTime">1273596180000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/255.html">#255</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/255.html">Package relationships - 2. Read in WUI</a>
                          </td>
                          <td class="description">
                            <p>
WUI:
</p>
<ul><li>View: show both sides of the relationship (but think carefully -- e.g. a given package may have *many* dependents ...)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928542000000
                          </td>
                          <td class="ModifiedTime">1273596174000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/257.html">#257</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/257.html">Package relationships - 4. Read in API</a>
                          </td>
                          <td class="description">
                            <p>
API:
</p>
<ul><li>Appear in package listing Example: 'relationships': [{'is_dependency_of':'osm', comments:'Since version 0.2'}, {'is_parent_of':'bobs_maps'}]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1266928630000000
                          </td>
                          <td class="ModifiedTime">1273596170000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/258.html">#258</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/258.html">Add uuids into package in REST</a>
                          </td>
                          <td class="description">
                            <p>
Add uuids into package in REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1266954722000000
                          </td>
                          <td class="ModifiedTime">1273596163000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/259.html">#259</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/259.html">isitopen enquiry broken</a>
                          </td>
                          <td class="description">
                            <p>
Pressing the 'make an enquiry' link on the package read page gives 404. (Also links should also be changed from isitopen.ckan.net to isitopendata.org)
</p>
<p>
Example link is: 
</p>
<p>
<a class="ext-link" href="http://isitopen.ckan.net/enquiry/create/?ckan_package=zeno"><span class="icon">​</span>http://isitopen.ckan.net/enquiry/create/?ckan_package=zeno</a>
</p>
<p>
which gets forwarded to:
</p>
<p>
<a class="ext-link" href="http://www.isitopendata.org/enquiry/create/?ckan_package=zeno"><span class="icon">​</span>http://www.isitopendata.org/enquiry/create/?ckan_package=zeno</a> 
</p>
<p>
which gives 404
</p>

                            
                          </td>
                          <td class="PosixTime">1267012666000000
                          </td>
                          <td class="ModifiedTime">1273596153000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/271.html">#271</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/271.html">The system shall support distributing changes.</a>
                          </td>
                          <td class="description">
                            <p>
See <a class="wiki" href="../wiki/DistributingChanges.html">DistributingChanges</a> for analysis and functional requirements.
</p>

                            
                          </td>
                          <td class="PosixTime">1268672137000000
                          </td>
                          <td class="ModifiedTime">1273596144000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/223.html">#223</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/223.html">UI Review - Tag</a>
                          </td>
                          <td class="description">
                            <p>
Tags landing page <a href="http://localhost/tag">tag</a>
</p>
<ul><li>Both search for tags *and* browse the list of tags right here
</li><li>Big cloud of tags (sorted by popularity/usage?) filterable with a search box.
</li><li>Tags search page <a href="http://localhost/tag/search">tag/search</a> and list <a href="http://localhost/tag/list">tag/list</a> are both redundant and should be merged straight into <a href="http://localhost/tag">tag</a>.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1260880276000000
                          </td>
                          <td class="ModifiedTime">1273596111000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/216.html">#216</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/216.html">UI Review - Search</a>
                          </td>
                          <td class="description">
                            <ul><li>allow clicking on 'only openly licensed'/'only downloadable' to select/deselect checkboxes: make them &lt;label&gt;s.
</li><li>cut 'only's -- use word 'filter' instead
</li><li>doesn't appear to match substrings!? A search for 'anna' doesn't return match the 'annakarenina' package.
</li><li>autocomplete package names &amp; tags
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1260879802000000
                          </td>
                          <td class="ModifiedTime">1273596102000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/291.html">#291</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/291.html">Investigate search options encoding</a>
                          </td>
                          <td class="description">
                            <p>
On ckan.net there is this unchecked-in 'temporary hack'. It seems to be to do with foreign characters in search options. See what its doing and if necessary, put check it in.
</p>
<pre class="wiki">diff -r 813ad8b5de0b ckan/lib/search.py
--- a/ckan/lib/search.py	Mon Mar 01 22:23:36 2010 +0100
+++ b/ckan/lib/search.py	Thu Apr 15 19:11:42 2010 +0200
@@ -63,6 +63,9 @@
     def query(self, options):
         '''For the given search options, returns a query object.'''
         self._options = options
+        # temporary hack!
+        if self._options.q:
+            self._options.q = self._options.q.encode('utf8')
         general_terms, field_specific_terms = self._parse_query_string()
 
         if not general_terms and \

</pre>
                            
                          </td>
                          <td class="PosixTime">1271351670000000
                          </td>
                          <td class="ModifiedTime">1273254895000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/132.html">#132</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/132.html">Security hole - read package/group list (REST)</a>
                          </td>
                          <td class="description">
                            <p>
Using REST interface you can list packages and groups without authorization being checked.
</p>
<p>
Can be fixed using more advanced query to check authz.
</p>

                            
                          </td>
                          <td class="PosixTime">1254389493000000
                          </td>
                          <td class="ModifiedTime">1273254514000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/133.html">#133</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/133.html">Security hole - search package/group (WUI &amp; REST)</a>
                          </td>
                          <td class="description">
                            <p>
Using WUI or REST interface you can search packages and groups without authorization being checked. 
</p>
<p>
On the REST interface you can also read all the attributes of the packages using the 'all-fields' option.
</p>
<p>
Can be fixed using more advanced query to check authz.
</p>

                            
                          </td>
                          <td class="PosixTime">1254390168000000
                          </td>
                          <td class="ModifiedTime">1273253977000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/233.html">#233</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/233.html">Allow simple site-specific customization/overriding of templates</a>
                          </td>
                          <td class="description">
                            <p>
Options:
</p>
<ol><li>Allow for specification of genshi template paths to search in config. This way people can introduce their own templates and these templates can selectively override existing templates. (Already implemented this in shakespeare and it works)
</li></ol><ol><li>Include an extra site-specific genshi template which can then be used to customize site (e.g. by having specific calls to py:def that user can define but which are ignored if they don't exist).
</li></ol><p>
Can do this using:
</p>
<p>
&lt;xi:include href=&#34;base.html&#34;&gt;&lt;xi:fallback /&gt;&lt;/xi:include&gt;
</p>

                            
                          </td>
                          <td class="PosixTime">1263000396000000
                          </td>
                          <td class="ModifiedTime">1273080352000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/59.html">#59</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/59.html">Provide a basic guide to CKAN on the site</a>
                          </td>
                          <td class="description">
                            <ol><li>Use contents from ckan package notes section (rgrp)
</li><li>Update that section to be more guide-like (jwyg)
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1239018583000000
                          </td>
                          <td class="ModifiedTime">1273080019000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/177.html">#177</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/177.html">Service documentation</a>
                          </td>
                          <td class="description">
                            <p>
This is docs for users of a CKAN service (e.g. ckan.net), as opposed to someone installing / administering the software. (The latter has docs on knowledgeforge.
</p>
<p>
Editability - wiki?
</p>

                            
                          </td>
                          <td class="PosixTime">1257243285000000
                          </td>
                          <td class="ModifiedTime">1273050236000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/276.html">#276</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/276.html">Resources in Package form seen multiple times upon preview</a>
                          </td>
                          <td class="description">
                            <p>
Create a new package with a name 'blah' and resource format 'blah'. Hit preview. There is an error because of the lack of resource url, but in the resource input boxes, there are now four resources with format 'blah'.
</p>

                            
                          </td>
                          <td class="PosixTime">1269255399000000
                          </td>
                          <td class="ModifiedTime">1272996237000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/305.html">#305</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/305.html">Search result pagination is broken</a>
                          </td>
                          <td class="description">
                            <p>
Expect to page through results.
</p>
<p>
Only page 1 is shown, all other pages fail to display.
</p>
<p>
Reproduce by searching for something common and browsing to the second page.
</p>

                            
                          </td>
                          <td class="PosixTime">1272468229000000
                          </td>
                          <td class="ModifiedTime">1272994804000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/303.html">#303</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/303.html">Package history &amp; diff &amp; feed to show changes to tags, extras and resources</a>
                          </td>
                          <td class="description">
                            <p>
Currently a package's history page (/package/history/xyz) and related feed only shows changes to the core package i.e. ones which create a <a class="missing wiki">PackageResource?</a>. This doesn't include changes to tags, extras and resources. These need to be added.
</p>
<p>
There is the complication that the 'diff' function doesn't currently work beyond <a class="missing wiki">PackageResource?</a>. Unless this is quick and simple to fix, I suggest we let the diff remain slightly broken for now.
</p>
<p>
Rufus suggests alongside the existing methods:
</p>
<pre class="wiki">pkg.all_revisions()
pkg.diff()
</pre><p>
we have ones which also include the related objects (tags, extras, resources):
</p>
<pre class="wiki">pkg.all_revisions_full()
pkg.diff_full()
</pre><p>
You could have a function which returned these related objects. Ideas:
</p>
<pre class="wiki">revobjlist = [ self, resources, extras ]
list of tuples: (revobj, changed_revobjs)
list of tuples: (revobj, {objtype: [changed_revobjs]})
tuple: (rev1, {Package: [ object_id, object_id], PackageTag: [object_id, object_id2] ...}
</pre>
                            
                          </td>
                          <td class="PosixTime">1272370659000000
                          </td>
                          <td class="ModifiedTime">1272989728000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/267.html">#267</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/vdm-0.7.html">vdm-0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/267.html">Diffs for object that is created in that revision</a>
                          </td>
                          <td class="description">
                            <p>
Currently this raises an exception because there is no package/package_revision in existence at from_revision.
</p>

                            
                          </td>
                          <td class="PosixTime">1268041383000000
                          </td>
                          <td class="ModifiedTime">1272960518000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/302.html">#302</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/302.html">Advertise a package's feed visually</a>
                          </td>
                          <td class="description">
                            <p>
Visual display of a package's feed in the Package Read (/package/xyz) and Package History (/package/history/xyz) pages.
</p>
<p>
Motivation: each package's Atom feed is mentioned in the &lt;link rel="alternate" type="application/atom+xml" ...&gt; tag, which Firefox displays with a feed icon, but the other 3/4 of users may not discover it.
</p>
<p>
The Repo History (/revision) page has a visual link the feed.
</p>
<p>
PS It would be nice to display the feed icon in both these places too.
</p>

                            
                          </td>
                          <td class="PosixTime">1272370397000000
                          </td>
                          <td class="ModifiedTime">1272453821000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/279.html">#279</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/279.html">Ensure package's license is an option when it's edited</a>
                          </td>
                          <td class="description">
                            <p>
With forms configurable to show a subset of licenses and ckan instances moving packages from server to server, there is a chance that a user will edit a package and the existing package's license is not displayed in the form. If the user submits this form without touching the license dropdown, then the value is lost. 
</p>
<p>
So for this case we should add the package's license to the list displayed.
</p>

                            
                          </td>
                          <td class="PosixTime">1270205931000000
                          </td>
                          <td class="ModifiedTime">1272451384000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/304.html">#304</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/304.html">Previewing package with resource with missing url is broken</a>
                          </td>
                          <td class="description">
                            <p>
Intended outcome:
</p>
<p>
See resource url validation error when previewing package with a resources that has no url.
</p>
<p>
Recurring Error:
</p>
<pre class="wiki">URL: http://127.0.0.1:5000/package/new
File 'pyenv-ckan/lib/python2.5/site-packages/weberror/evalexception.py', line 431 in respond
  app_iter = self.application(environ, detect_start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/repoze/who/middleware.py', line 107 in __call__
  app_iter = app(environ, wrapper.wrap_start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/beaker/middleware.py', line 73 in __call__
  return self.app(environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/beaker/middleware.py', line 152 in __call__
  return self.wrap_app(environ, session_start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Routes-1.10.3-py2.5.egg/routes/middleware.py', line 130 in __call__
  response = self.app(environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/wsgiapp.py', line 125 in __call__
  response = self.dispatch(controller, environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/wsgiapp.py', line 324 in dispatch
  return controller(environ, start_response)
File 'pyenv-ckan/src/ckan/ckan/lib/base.py', line 50 in __call__
  return WSGIController.__call__(self, environ, start_response)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 221 in __call__
  response = self._dispatch_call()
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 172 in _dispatch_call
  response = self._inspect_call(func)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 107 in _inspect_call
  result = self._perform_call(func, args)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/controllers/core.py', line 60 in _perform_call
  return func(**args)
File 'pyenv-ckan/src/ckan/ckan/controllers/package.py', line 216 in new
  clear_session=True)
File 'pyenv-ckan/src/ckan/ckan/controllers/package.py', line 357 in _render_edit_form
  edit_form_html = fs.render()
File 'pyenv-ckan/src/ckan/ckan/forms/builder.py', line 13 in render
  return render(self.form_template)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 663 in render
  format=format, namespace=kargs, **cache_args)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 546 in render
  **options)
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/plugin.py', line 110 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 179 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 60 in encode
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 425 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 592 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 698 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 532 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 283 in _ensure
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 569 in _include
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/markup.py', line 245 in _match
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 543 in _exec
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 533 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 520 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 286 in _eval_expr
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 180 in evaluate
File 'pyenv-ckan/src/ckan/ckan/templates/package/form_fields.html', line 52 in &lt;Expression u'h.literal(field.render())'&gt;
  ${h.literal(field.render())}
File 'pyenv-ckan/lib/python2.5/site-packages/FormAlchemy-1.3.4-py2.5.egg/formalchemy/fields.py', line 1217 in render
  return self.renderer.render(**opts)
File 'pyenv-ckan/src/ckan/ckan/forms/common.py', line 311 in render
  return render('package/form_resources')
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 663 in render
  format=format, namespace=kargs, **cache_args)
File 'pyenv-ckan/lib/python2.5/site-packages/Pylons-0.9.7-py2.5.egg/pylons/templating.py', line 546 in render
  **options)
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/plugin.py', line 110 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 179 in render
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 60 in encode
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 425 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 592 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 698 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/output.py', line 532 in __call__
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/core.py', line 283 in _ensure
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 569 in _include
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/markup.py', line 245 in _match
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 543 in _exec
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 510 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 520 in _eval
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/base.py', line 286 in _eval_expr
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 180 in evaluate
File 'pyenv-ckan/src/ckan/ckan/templates/package/form_resources.html', line 14 in &lt;Expression u"res['id'] if res else ''"&gt;
  &lt;td&gt;&lt;input name="${c.id}-${i}-id" type="hidden" value="${res['id'] if res else ''}" /&gt;&lt;/td&gt;
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 335 in lookup_item
File 'pyenv-ckan/lib/python2.5/site-packages/Genshi-0.5.1-py2.5-linux-i686.egg/genshi/template/eval.py', line 405 in undefined
UndefinedError: {'url': u'a', 'hash': u'a', 'description': u'a', 'format': u'a'} has no member named "id"
</pre><p>
How to reproduce:
</p>
<ol><li>Go to package edit form, enter a package resource <strong>but without a URL</strong>.
</li><li>Click preview.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1272379550000000
                          </td>
                          <td class="ModifiedTime">1272447296000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/264.html">#264</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/264.html">Investigate why there are revisions with no associated packages</a>
                          </td>
                          <td class="description">
                            <p>
Revision.packages should not include all changes so why are we getting revisions with no associated changes? See e.g. <a class="ext-link" href="http://ckan.net/revision/read/814e39e1-2540-4449-90d1-ac9a92ab40fb"><span class="icon">​</span>http://ckan.net/revision/read/814e39e1-2540-4449-90d1-ac9a92ab40fb</a>?
</p>
<p>
Investigate and fix.
</p>
<p>
NB: if this is bugfix this should go against stable or metastable branch if at all possible and then be merged into default.
</p>
<p>
Cost: 1.5h (?)
</p>

                            
                          </td>
                          <td class="PosixTime">1267605428000000
                          </td>
                          <td class="ModifiedTime">1272390013000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/295.html">#295</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/295.html">Add multiple packages when editing a group</a>
                          </td>
                          <td class="description">
                            <p>
In Group edit page, you can only add one package at a time. It would be better to use some scripting to allow adding more than one at once, to make it easier and quicker when you have a long list to add.
</p>
<p>
Ticket is split off from <a class="closed ticket" href="../ticket/221.html" title="enhancement: UI Review - Package edit (closed: fixed)">ticket:221</a>
</p>
<p>
See also <a class="closed ticket" href="../ticket/155.html" title="enhancement: Adding multiple packages to a group (closed: duplicate)">ticket:155</a> (duplicate).
</p>

                            
                          </td>
                          <td class="PosixTime">1271756713000000
                          </td>
                          <td class="ModifiedTime">1272384758000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/300.html">#300</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/300.html">Resource ordering issue</a>
                          </td>
                          <td class="description">
                            <p>
Failing test: ckan.tests.models.test_resource.<a class="missing wiki">TestResourceLifecycle?</a>.test_03_reorder_resources
</p>
<p>
Not clear how visible this is to the user.
</p>
<p>
Related to <a class="closed ticket" href="../ticket/292.html" title="defect: PackageResources are created new on every package edit (closed: fixed)">ticket:292</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1272285994000000
                          </td>
                          <td class="ModifiedTime">1272384474000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/240.html">#240</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/240.html">Do not allow creation of PackageResource object without a url</a>
                          </td>
                          <td class="description">
                            <p>
Currently it is possible (v0.11) to have a <a class="missing wiki">PackageResource?</a> object without a url. This should be impossible to do (either at creation time or via modification).
</p>

                            
                          </td>
                          <td class="PosixTime">1265399747000000
                          </td>
                          <td class="ModifiedTime">1272383770000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/292.html">#292</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/292.html">PackageResources are created new on every package edit</a>
                          </td>
                          <td class="description">
                            <p>
When you edit a package, all of its resources are deleted and a fresh set created. This causes all history of them to be lost.
</p>

                            
                          </td>
                          <td class="PosixTime">1271755964000000
                          </td>
                          <td class="ModifiedTime">1272286005000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/156.html">#156</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/156.html">Whitelist for html in mark-down field</a>
                          </td>
                          <td class="description">
                            <p>
Not just links that need to be displayed. Other html should be displayed too, such as tables which can't be represented in markdown. Do a search of the existing fields to see what is needed.
</p>

                            
                          </td>
                          <td class="PosixTime">1255623973000000
                          </td>
                          <td class="ModifiedTime">1271962871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/293.html">#293</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/293.html">REST PackageResource update causes exception</a>
                          </td>
                          <td class="description">
                            <p>
This is caused by editing a package with resources over the REST interface.
</p>
<p>
Exception:
</p>
<pre class="wiki">URL: http://de.ckan.net/api/rest/package/destatis
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module repoze.who.middleware:107 in __call__
&lt;&lt;          wrapper = StartResponseWrapper(start_response)
               app_iter = app(environ, wrapper.wrap_start_response)
       
               # The challenge decider almost(?) always needs information from the
&gt;&gt;  app_iter = app(environ, wrapper.wrap_start_response)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:51 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckan.controllers.rest:145 in update
&lt;&lt;                  fs = ckan.forms.group_fs_combined
                   fs = fs.bind(entity, data=request_fa_dict)
                   validation = fs.validate_on_edit(entity.name, entity.id)
                   if not validation:
                       response.status_int = 409
&gt;&gt;  validation = fs.validate_on_edit(entity.name, entity.id)
Module ckan.forms.package:385 in validate_on_edit
&lt;&lt;              temp_name = orig_pkg_name
                   self.data['Package-%s-name' % record_id] = u'something_unique'
               validation = self.validate()
               if temp_name:
                   # restore it
&gt;&gt;  validation = self.validate()
Module formalchemy.forms:175 in validate
&lt;&lt;          if self.readonly:
                   raise Exception('Cannot validate a read-only FieldSet')
               return AbstractFieldSet.validate(self)
       
           def sync(self):
&gt;&gt;  return AbstractFieldSet.validate(self)
Module formalchemy.forms:104 in validate
&lt;&lt;          success = True
               for field in self.render_fields.itervalues():
                   success = field._validate() and success
               # run this _after_ the field validators, since each field validator
               # resets its error list. we want to allow the global validator to add
&gt;&gt;  success = field._validate() and success
Module formalchemy.fields:763 in _validate
&lt;&lt;          try:
                   value = self._deserialize()
               except validators.ValidationError, e:
                   self.errors.append(e)
&gt;&gt;  value = self._deserialize()
Module formalchemy.fields:1354 in _deserialize
&lt;&lt;          if self.is_composite_foreign_key:
                   return self.query(self.relation_type()).get(python_pk(self.renderer.deserialize()))
               return self.renderer.deserialize()
&gt;&gt;  return self.renderer.deserialize()
Module formalchemy.fields:183 in deserialize
&lt;&lt;          if self.field.is_collection:
                   return [self._deserialize(subdata) for subdata in self._serialized_value()]
               return self._deserialize(self._serialized_value())
       
           def _deserialize(self, data):
&gt;&gt;  return self._deserialize(self._serialized_value())
Module formalchemy.fields:167 in _serialized_value
&lt;&lt;          if self.field.is_collection:
                   return self._params.getall(self.name)
               return self._params.getone(self.name)
       
           def deserialize(self):
&gt;&gt;  return self._params.getone(self.name)
Module formalchemy.base:63 in getone
&lt;&lt;          if v is None or isinstance(v, basestring) or isinstance(v, cgi.FieldStorage):
                   return v
               return v[0]
           def getall(self, key):
               v = dict.get(self, key)
&gt;&gt;  return v[0]
TypeError: 'int' object is unsubscriptable
</pre><p>
Thanks to Friedrich for spotting this.
</p>

                            
                          </td>
                          <td class="PosixTime">1271756102000000
                          </td>
                          <td class="ModifiedTime">1271940083000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/284.html">#284</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/284.html">Move tag/read/xxx to simple tag/xxx like package and group</a>
                          </td>
                          <td class="description">
                            <p>
Also put in redirect from old locations (see examples with plurals in routing.py)
</p>
<p>
Estimated cost: 20m
</p>
<p>
Actual cost: 40m
</p>

                            
                          </td>
                          <td class="PosixTime">1270664552000000
                          </td>
                          <td class="ModifiedTime">1271852451000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/155.html">#155</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/155.html">Adding multiple packages to a group</a>
                          </td>
                          <td class="description">
                            <p>
Ability to add multiple packages to a group in one go (e.g. with
'add' link which makes drop down menu appear - so can add one after
another - then submit simultaneously)
</p>
<p>
Use a bit of javascript to add more dropdowns.
</p>
<p>
Suggested by Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1255621779000000
                          </td>
                          <td class="ModifiedTime">1271760041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/221.html">#221</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/221.html">UI Review - Package edit</a>
                          </td>
                          <td class="description">
                            <p>
Package edit page <a href="http://localhost/package/edit/mypackagename">package/edit/mypackagename</a>
</p>
<ul><li>Ability to add the package to groups on this page.
</li><li>Fields could be grouped.
</li><li>Inconsistent capitalisation (Url -&gt; URL).
</li><li>Tag editor YUI script appears to break occasionally.
</li><li>Perhaps move to two column forms to save vertical space?
</li><li>Notes field to monospace?
</li><li>Extras fields need some jQuery love -- shouldn't have a fixed number available.
</li><li>Typography is a bit of a mess.
</li></ul><p>
        
</p>

                            
                          </td>
                          <td class="PosixTime">1260880175000000
                          </td>
                          <td class="ModifiedTime">1271756757000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/290.html">#290</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/290.html">Revision API - docs</a>
                          </td>
                          <td class="description">
                            <p>
doc/api.rst needs to cover the new Revision REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1271268759000000
                          </td>
                          <td class="ModifiedTime">1271636910000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/266.html">#266</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/266.html">Package feed</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to track changes to a particular package.
</p>
<p>
Provide an Atom feed, linked from the package read page.
</p>

                            
                          </td>
                          <td class="PosixTime">1267716417000000
                          </td>
                          <td class="ModifiedTime">1271636901000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/265.html">#265</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/265.html">More detail shown in Atom feed</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase">Use case</h2>
<p>
As a user I want to stay abreast of package changes, such as a new package being created, newer data is available for a package or a new download is available for a package.
</p>
<h2 id="Implementation">Implementation</h2>
<p>
Add into the Atom feed:
</p>
<ol><li>a package is a new one
</li><li>the resources have been changed
</li><li>the last_updated field has been changed
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1267708364000000
                          </td>
                          <td class="ModifiedTime">1271636891000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/251.html">#251</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/251.html">Present in the API a list of revision IDs, and present individual revisions when referenced by ID</a>
                          </td>
                          <td class="description">
                            <p>
Want to have:
</p>
<ul><li>/api/search/revision/
</li></ul><p>
Support querying by "since time" and "since revision". Each individual revision should be available in the REST API (read-only):
</p>
<ul><li>/api/rest/revision/{revision ID}
<ul><li>should include revision attributes plus revision.packages e.g. like { "id": "...", ... "packages": [ list of packages names from e.g. revision.packages ] }
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1266519743000000
                          </td>
                          <td class="ModifiedTime">1271423917000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/164.html">#164</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/164.html">Creating RDF data from CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Related to:
<a class="closed ticket" href="../ticket/90.html" title="enhancement: Link to RDF versions of CKAN data (closed: fixed)">ticket:90</a> Link to RDF version of CKAN data and
<a class="closed ticket" href="../ticket/163.html" title="enhancement: Regularly put CKAN RDF on Talis CC (closed: fixed)">ticket:163</a> (regularly convert CKAN data to RDF).
</p>
<p>
Convert ckan data to RDF with suitable ontology and put on semantic.ckan.net.
</p>

                            
                          </td>
                          <td class="PosixTime">1256052643000000
                          </td>
                          <td class="ModifiedTime">1271251422000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/207.html">#207</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">nickstenning
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/207.html">Reimplement tag selection in jQuery</a>
                          </td>
                          <td class="description">
                            <p>
Remove the current dependency on Yahoo YUI toolkit for doing tag autocompletion on package edit forms.
</p>
<p>
The (KForge-derived) behaviour files for CKAN can easily be switched to the new jQuery-based ones: see <a class="closed ticket" href="../ticket/212.html" title="enhancement: Switch to using m.okfn.org &#34;kforge&#34; media (css and behaviour) (closed: fixed)">ticket:212</a>. Once this is done, it would make sense to implement the tag-selection code with jQuery.
</p>
<p>
Relevant pages include:
</p>
<ul><li><a class="ext-link" href="http://bassistance.de/jquery-plugins/jquery-plugin-autocomplete/"><span class="icon">​</span>http://bassistance.de/jquery-plugins/jquery-plugin-autocomplete/</a>
</li><li>e.g. <a class="ext-link" href="http://ckan.net/package/edit/acawiki"><span class="icon">​</span>http://ckan.net/package/edit/acawiki</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1260200340000000
                          </td>
                          <td class="ModifiedTime">1271250740000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/289.html">#289</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/289.html">Document config options</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1271248690000000
                          </td>
                          <td class="ModifiedTime">1271249368000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/244.html">#244</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/244.html">Several links preceded by link URL</a>
                          </td>
                          <td class="description">
                            <p>
e.g. Text on ckan.net home page:
</p>
<p>
"All material available under an /licenseopen license"
</p>
<p>
Also seen on the package edit page:
"/user/loginClick here to sign in"
</p>
<p>
I believe this is due to the i18n additions from Benoit. Maybe needs new Genshi. Maybe best to work round in the meantime.
</p>

                            
                          </td>
                          <td class="PosixTime">1265750419000000
                          </td>
                          <td class="ModifiedTime">1271248968000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/247.html">#247</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/247.html">Alternative formats links on package page</a>
                          </td>
                          <td class="description">
                            <p>
"Alternative formats". Has logo for RDF (link to RDF) and JSON (link via CKAN REST i/f). 
</p>
<ul><li>How do we know if RDF available? Ans: see details in <a class="closed ticket" href="../ticket/90.html" title="enhancement: Link to RDF versions of CKAN data (closed: fixed)">ticket:90</a>.
</li></ul><p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1265890326000000
                          </td>
                          <td class="ModifiedTime">1271248813000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/288.html">#288</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/288.html">Foreign and escaped characters in extras fields</a>
                          </td>
                          <td class="description">
                            <p>
These don't work.
</p>

                            
                          </td>
                          <td class="PosixTime">1271171899000000
                          </td>
                          <td class="ModifiedTime">1271173777000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/280.html">#280</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/280.html">Disappearing extra fields</a>
                          </td>
                          <td class="description">
                            <p>
When I edit a package on no.ckan.net with lots of extra fields, lots of them completely disappear.
</p>
<p>
Metastable branch.
</p>

                            
                          </td>
                          <td class="PosixTime">1270209684000000
                          </td>
                          <td class="ModifiedTime">1271173769000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/278.html">#278</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/278.html">Spaces in extra field keys</a>
                          </td>
                          <td class="description">
                            <p>
If the key to an extra field has a space in it then various form code doesn't work. Either need to disallow spaces or cope with them.
</p>

                            
                          </td>
                          <td class="PosixTime">1269520845000000
                          </td>
                          <td class="ModifiedTime">1271173752000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/287.html">#287</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/287.html">Customise Canadian package edit form</a>
                          </td>
                          <td class="description">
                            <p>
Spec - see attached, which is a copy of the Pirate Pad from Lauren: 
<a class="ext-link" href="http://piratepad.net/2C2iwiLDhd"><span class="icon">​</span>http://piratepad.net/2C2iwiLDhd</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1270801086000000
                          </td>
                          <td class="ModifiedTime">1270801210000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/248.html">#248</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/248.html">i18n of forms</a>
                          </td>
                          <td class="description">
                            <p>
Need to do i18n of forms (not in templates but in code). Should consult with tonfa about this.
</p>

                            
                          </td>
                          <td class="PosixTime">1265892313000000
                          </td>
                          <td class="ModifiedTime">1270745304000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/281.html">#281</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/281.html">Refactor forms to be plugin-able</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1270542248000000
                          </td>
                          <td class="ModifiedTime">1270723675000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/286.html">#286</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/286.html">Refactor forms templates</a>
                          </td>
                          <td class="description">
                            <p>
Use Nick's examples as a basis to revamp the formalchemy usage, principally in the package edit form.
</p>
<ul><li><a class="ext-link" href="http://static.whiteink.com/css/examples/forms.html"><span class="icon">​</span>http://static.whiteink.com/css/examples/forms.html</a>
</li><li><a class="ext-link" href="http://whiteink.com/temp/ckan-forms/"><span class="icon">​</span>http://whiteink.com/temp/ckan-forms/</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1270723513000000
                          </td>
                          <td class="ModifiedTime">1270723629000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/241.html">#241</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/241.html">License doesn't preview correctly</a>
                          </td>
                          <td class="description">
                            <p>
4 failing tests, including 2 in misc/package_saver and 2 in functional/test_package.
</p>

                            
                          </td>
                          <td class="PosixTime">1265625546000000
                          </td>
                          <td class="ModifiedTime">1270569769000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/182.html">#182</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/182.html">Improve openness icons</a>
                          </td>
                          <td class="description">
                            <p>
Tick and cross aren't clear enough. Propose:
</p>
<ul><li>Icon for downloadability (nothing if absent ...(?))
</li><li>Icon for open license? (Need something if closed ...)
</li></ul><p>
Cost: 2h (?)
</p>

                            
                          </td>
                          <td class="PosixTime">1257534590000000
                          </td>
                          <td class="ModifiedTime">1270567116000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/81.html">#81</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/vdm-0.7.html">vdm-0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/81.html">Support for sqlalchemy 0.5</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1248285433000000
                          </td>
                          <td class="ModifiedTime">1268487327000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/129.html">#129</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/129.html">Secure db access by channelling query generation through authz module</a>
                          </td>
                          <td class="description">
                            <p>
Controllers and templates should not access db objects directly - they should do all access via authz module giving username. They are handed by a query that has already been filtered by the packages they are authorized to read. 
</p>
<p>
(Additional idea to be discussed: When they request a package object, they are handed an copy of the db object - disconnected from the database - so it the db object can't be changed.)
</p>
<p>
A couple of tests can be reenabled when this is done:
ckan.tests.functional.test_authz.<a class="missing wiki">TestUsage?</a>.test_admin_list_deleted ckan.tests.functional.test_authz.<a class="missing wiki">TestUsage?</a>.test_search_deleted
</p>

                            
                          </td>
                          <td class="PosixTime">1253886136000000
                          </td>
                          <td class="ModifiedTime">1267719162000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/199.html">#199</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">casbon
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/199.html">Fix failing tests and provide documentation on how to run tests in datapkg</a>
                          </td>
                          <td class="description">
                            <p>
As of 80:099bdc5b07a6 datapkg has 4 test fails and 1 test error.
</p>
<p>
There is no documentation on how to run them, so I am using 'python setup.py test'.
</p>
<pre class="wiki">datapkg.tests.test_cli.TestCLI.test_ckan ... FAIL
datapkg.tests.test_cli.TestCLI.test_walkthrough ... FAIL
datapkg.tests.test_index.TestDbIndex.test_get ... /Users/james/Documents/virtualenvs/okfn/src/datapkg/datapkg/index.py:97: SADeprecationWarning: Use session.add()
  self.session.update(pkg)
FAIL
datapkg.tests.test_index.TestDbIndex.test_get_when_loaded_as_new_and_init_not_called ... /Users/james/Documents/virtualenvs/okfn/src/datapkg/datapkg/tests/test_index.py:57: SADeprecationWarning: Use session.expunge_all()
  self.index.session.clear()
FAIL
</pre>
                            
                          </td>
                          <td class="PosixTime">1259087361000000
                          </td>
                          <td class="ModifiedTime">1267649255000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/101.html">#101</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/101.html">(Improved) Download support</a>
                          </td>
                          <td class="description">
                            <ol><li>Given a url download from that url to disk
</li><li>Given a package use download url to download to disk
</li></ol><p>
Once on disk should uncompress (if necessary).
</p>
<h2 id="Details">Details</h2>
<ul><li>Should download either to tmp directory (defaulted in config) or a specified path on disk
</li><li>In download would like to support as many types of target urls as possible:
<ol><li>Single files (usually compressed filesets but could be individual files)
</li><li>Index pages listing files to download
</li><li>Revision control repositories
</li><li>...
</li></ol></li></ul><blockquote>
<p>
This will obviously be a significant amount of work. Suggest:
</p>
</blockquote>
<ol><li>Start off just supporting the first option.
</li><li>Have something like a plugin system to handle new target types
</li><li>Reuse existing work (e.g. easy_install and pip handle standard vcs such as svn, hg, git etc)
</li></ol><p>
Cost: 1d
</p>

                            
                          </td>
                          <td class="PosixTime">1249988866000000
                          </td>
                          <td class="ModifiedTime">1267648607000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/50.html">#50</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/50.html">Investigate apt-get in more detail</a>
                          </td>
                          <td class="description">
                            <p>
Research apt-get especially wajig and python wrappers for apt-get. Post results on the wiki.
</p>

                            
                          </td>
                          <td class="PosixTime">1215456052000000
                          </td>
                          <td class="ModifiedTime">1267648356000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/83.html">#83</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/vdm-0.6.html">vdm-0.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/83.html">Allow "ignored" fields on versioned objects</a>
                          </td>
                          <td class="description">
                            <p>
Allow 'ignored' fields on versioned objects (i.e. attributes which are not 'versioned'). This is not hard to do as we already have most of the necessary mechanisms set up in the Revisioner object.
</p>
<p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1248339384000000
                          </td>
                          <td class="ModifiedTime">1267648301000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/261.html">#261</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/261.html">License does not work through REST API</a>
                          </td>
                          <td class="description">
                            <p>
Presence of license_id field in JSON input show below breaks REST API (with weird error about int not being subscriptable as if license_id field is being subscripted).
</p>
<p>
Using normal license field does not cause breakage but has no effect. 
</p>
<p>
(Also think we should remove license_id from the API since there is no guarantee this cross system compatible since locally generated on install).
</p>
<pre class="wiki">    ourjson = '''{
   "maintainer" : "Applications Division",
   "version" : "1999-01-01",
   "license_id" : 9,
   "name" : "geogratiswaterfraction1km_v100",
   "author_email" : "...",
   "author" : "Dissemination Branch",
   "tags" : [
      "GeoGratis",
      "Canada",
      "GCMD",
      "Hydrosphere",
      "Ground Water",
      "Surface Water",
      "Hydropattern",
      "Earth Science",
      "Land Surface",
      "Land Cover",
      "Landscape"
   ],
   "extras" : {
      "License" : "http://geogratis.ca/geogratis/en/licence.jsp",
      "Ministry" : "Natural Resources Canada",
      "Level of Government" : "Federal"
   },
   "maintainer_email" : "richard.fernandes@nrcan.gc.ca",
   "notes" : "This product is a raster coverage",
   "url" : "http://geogratis.cgdi.gc.ca/geogratis/en/collection/metadata.do?id=67",
   "title" : "Geogratis - 1-km Water Fraction From National Topographic Data Base Maps, Canada"
}
'''
    def test_15_random(self):
        offset = '/api/rest/package'
        import urllib
        tmpjson = simplejson.dumps(simplejson.loads(self.ourjson))
        postparams = urllib.urlencode({tmpjson: 1})
        res = self.app.post(offset, params=postparams, status=[200],
                extra_environ=self.extra_environ)
        model.Session.remove()
</pre>
                            
                          </td>
                          <td class="PosixTime">1267134778000000
                          </td>
                          <td class="ModifiedTime">1267207776000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/260.html">#260</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/260.html">Display group package list in standard (richer) way</a>
                          </td>
                          <td class="description">
                            <p>
Currently use old "bullet-point" style. Should change to now standard style used on e.g. package search results page.
</p>
<p>
Cost: 0.5h
</p>

                            
                          </td>
                          <td class="PosixTime">1267100660000000
                          </td>
                          <td class="ModifiedTime">1267122137000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/224.html">#224</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/224.html">UI Review - Groups</a>
                          </td>
                          <td class="description">
                            <p>
Groups landing page <a href="http://localhost/group">group</a>
</p>
<ul><li>Yeesh! What's up with the typography for "Just login..."?
</li><li>Truncated description along with group name.
</li><li>Explanation text about what groups are for (RHS)
</li><li>Another case of &lt;li&gt; bullets adding nothing.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1260880360000000
                          </td>
                          <td class="ModifiedTime">1267100560000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/176.html">#176</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/176.html">Package dependencies</a>
                          </td>
                          <td class="description">
                            <p>
(Related to <a class="closed ticket" href="../ticket/169.html" title="enhancement: Package derivations (closed: duplicate)">ticket:169</a> - Package derivations)
</p>
<p>
A 'dependency' relationship can be applied from one package to another. It implies that a package requires the download or existence of another package which it 'depends on'. (Analogous to software package dependencies.)
</p>
<p>
e.g. london-traffic-visualisation depends on road-map
</p>
<p>
'Dependency' relationship is:
</p>
<ul><li>directional
</li><li>many:many
</li><li>stateful
</li></ul><p>
'dependency' table columns:
</p>
<ul><li>id (primary key)
</li><li>dependent (foreign key)
</li><li>dependency (foreign key)
</li></ul><p>
Further tickets:
</p>
<ul><li>WUI - package view - have list of dependencies (do not need to list packages which depend on this one)
</li><li>WUI - package edit form - new option to say 'depends on' (no need for 'has dependent package')
</li><li>REST api - expose reading and writing 'depends on' property.
</li></ul><h3 id="Issues">Issues</h3>
<ul><li>How do we deal with dependency at a particular version?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1257162812000000
                          </td>
                          <td class="ModifiedTime">1266928721000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/169.html">#169</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/169.html">Package derivations</a>
                          </td>
                          <td class="description">
                            <p>
A 'Derived' relationship can be applied from one package to another.
</p>
<p>
e.g.
sussex-demography is derived from census-2001
</p>
<p>
'Derived' relationship is:
</p>
<ul><li>directional
</li><li>many:many
</li><li>stateful
</li></ul><p>
'derived' table columns:
</p>
<ul><li>id (primary key)
</li><li>source_package (foreign key)
</li><li>result_package (foreign key)
</li><li>description (markdown text)
</li></ul><p>
Further tickets:
</p>
<ul><li>WUI - package view - shows 'derives from package x' and 'derived package y' with UML-like diagram of x -&gt; this package -&gt; y
</li><li>WUI - package edit form - new option to say it 'derives from' or 'has derivation' and you select the appropriate
</li><li>REST if - expose reading and writing this property
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1256304927000000
                          </td>
                          <td class="ModifiedTime">1266928708000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/243.html">#243</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/243.html">Repetition of number of packages in a group</a>
                          </td>
                          <td class="description">
                            <p>
<a class="ext-link" href="http://ckan.net/group/publicdomain"><span class="icon">​</span>http://ckan.net/group/publicdomain</a> has:
</p>
<p>
"There is 16 package in this group.
There are 16 packages in this group."
</p>

                            
                          </td>
                          <td class="PosixTime">1265750250000000
                          </td>
                          <td class="ModifiedTime">1266837796000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/198.html">#198</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/198.html">Change package and tag ids to uuids</a>
                          </td>
                          <td class="description">
                            <p>
See how we did it already for other things.
</p>
<p>
Note: on ckan.net older <a class="missing wiki">PackageRevision?</a>.id might not be identical to Package.id but this may need sorting at this point.
</p>

                            
                          </td>
                          <td class="PosixTime">1258980613000000
                          </td>
                          <td class="ModifiedTime">1266837606000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/184.html">#184</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/184.html">Stats page</a>
                          </td>
                          <td class="description">
                            <p>
Create /stats/ page displaying main statistics, e.g:
</p>
<ul><li>Most highly rated packages
</li><li>Most edited packages
</li><li>Largest groups
</li><li>Top tags (by packages)
</li><li>Package addition rate
</li><li>Users with most packages
</li></ul><p>
Related to <a class="closed ticket" href="../ticket/181.html" title="enhancement: New 'stats' box on right hand sidebar (closed: invalid)">ticket:181</a> - Stats side-bar
</p>
<h2 id="Details">Details</h2>
<ul><li>Should create a stats module and then use some/all of these features on stats page (likely over time that stats features much more extensive than what we display)
</li><li>For graphs (e.g. additions over time) suggest use javascript graphing -- for examples of how this is done see
<ul><li><a class="ext-link" href="http://knowledgeforge.net/econ/hg/file/tip/econ/www/controllers/plot.py"><span class="icon">​</span>http://knowledgeforge.net/econ/hg/file/tip/econ/www/controllers/plot.py</a>
</li><li><a class="ext-link" href="http://knowledgeforge.net/econ/hg/file/tip/econ/www/templates/plot/chart_code.html"><span class="icon">​</span>http://knowledgeforge.net/econ/hg/file/tip/econ/www/templates/plot/chart_code.html</a>
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1257534756000000
                          </td>
                          <td class="ModifiedTime">1266837414000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/215.html">#215</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/215.html">UI Review - Home page</a>
                          </td>
                          <td class="description">
                            <ul><li>'Login via OpenID' -&gt; 'Login with OpenID'?
</li><li>Elements:
<ul><li>Search
</li><li>about CKAN
</li><li>3 column Packages view (see <a class="closed ticket" href="../ticket/219.html" title="enhancement: UI Review - Package (closed: wontfix)">ticket:219</a>)
</li><li>Small tag cloud (RHS)
</li></ul></li></ul><p>
Also, what about <a class="assigned ticket" href="../ticket/143.html" title="enhancement: Most active users listed on homepage (assigned)">ticket:143</a> ?
</p>

                            
                          </td>
                          <td class="PosixTime">1260879732000000
                          </td>
                          <td class="ModifiedTime">1266513523000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/73.html">#73</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/73.html">Put enquiry template in db so it can be edited by admins</a>
                          </td>
                          <td class="description">
                            <p>
Currently stored in the python controller file. This is not the right place and putting it in db will allow editing by admins.
</p>
<p>
May also want to do this for the footer (also in the controller file).
</p>
<p>
Details:
</p>
<ul><li>Will need to create a new domain object/db table. Suggest called miscellaneous and consist of key value pairs utilizing JSON type for values.
</li></ul><p>
Cost: 2h.
</p>

                            
                          </td>
                          <td class="PosixTime">1247705786000000
                          </td>
                          <td class="ModifiedTime">1266510385000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/211.html">#211</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/211.html">User login</a>
                          </td>
                          <td class="description">
                            <p>
Native login scenario: Complete login form, require email address. Any session is resumed.
</p>
<p>
Mandated technical requirement: use Repoze (see plugin:form of repoze.who); borrow from <a class="missing wiki">BlastOff?</a>.
</p>
<p>
See CKAN or Microfacts for usage of repose with openid.
</p>

                            
                          </td>
                          <td class="PosixTime">1260292624000000
                          </td>
                          <td class="ModifiedTime">1266509848000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/238.html">#238</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/238.html">The system shall accept submissions from unauthenticated users of the data openness enquiry form by creating an anonymous pending enquiry action, and by redirecting the user to login form, passing a reference to the pending action</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1264157814000000
                          </td>
                          <td class="ModifiedTime">1266509806000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/210.html">#210</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/210.html">User registration</a>
                          </td>
                          <td class="description">
                            <p>
Native registration scenario: Complete registration form, require unique email address (indicate this not displayed on site), full name (indicate this is displayed on site), password. Dispatch email confirmation message. Respond to email confirmation message causes user to be logged in. Users are assigned a uuid.
</p>

                            
                          </td>
                          <td class="PosixTime">1260292578000000
                          </td>
                          <td class="ModifiedTime">1266509788000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/89.html">#89</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/89.html">Tag cloud for package tags</a>
                          </td>
                          <td class="description">
                            <p>
Should not be hard to do (lots of existing libraries) but not sure that this is very important.
</p>

                            
                          </td>
                          <td class="PosixTime">1248693939000000
                          </td>
                          <td class="ModifiedTime">1265892698000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/187.html">#187</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/187.html">Full-text search</a>
                          </td>
                          <td class="description">
                            <p>
Standard search should search notes field in addition to name, title and tags (discussed in <a class="closed ticket" href="../ticket/108.html" title="enhancement: Package search in the REST API (closed: fixed)">ticket:108</a> but not done). For this to work we need proper text search since o/w we get poor ordering and lots of bad results.
</p>
<p>
If we do this we need:
</p>
<ol><li>To weight across fields in a sensible way
</li><li>We can also use proper text search on title or ...
</li></ol><p>
Easiest way to do this is to use existing facilities in dbs e.g. postgres has full text support since 8.3: <a class="ext-link" href="http://www.postgresql.org/docs/8.3/static/textsearch.html"><span class="icon">​</span>http://www.postgresql.org/docs/8.3/static/textsearch.html</a>
</p>
<p>
Using this with sqlalchemy: <a class="ext-link" href="http://lowmanio.co.uk/blog/entries/postgresql-full-text-search-and-sqlalchemy/"><span class="icon">​</span>http://lowmanio.co.uk/blog/entries/postgresql-full-text-search-and-sqlalchemy/</a>
</p>
<p>
Issues with fulltext search:
</p>
<ul><li>tags not indexed, so would need to 'or' search of tags. This would cause problems with the order_by of the query, since the tags wouldn't have a ranking.
</li><li>if tags are indexed then perhaps we don't want them converted into lexemes? Exact match could well be better.
</li><li>can we split the name on dash or underscore before being indexed?
</li><li>natural language search doesn't do partial words, so search for 'gov' doesn't bring up 'government'.
</li><li>do we keep the existing search system usable with a config file switch for if we install on a db aside from postgres?
</li><li>we want to weight name and title higher than other fields - achievable with custom trigger.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1257869950000000
                          </td>
                          <td class="ModifiedTime">1265892403000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/202.html">#202</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">tonfa
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/202.html">Internationalization (i18n) try-out</a>
                          </td>
                          <td class="description">
                            <p>
Try i18n for one language (German) for ckan (de.ckan.net).
</p>
<p>
Basic approach to i18n is well-covered in Pylons book: <a class="ext-link" href="http://pylonsbook.com/en/1.1/internationalization-and-localization.html"><span class="icon">​</span>http://pylonsbook.com/en/1.1/internationalization-and-localization.html</a>
</p>
<p>
However, we need to integrate with our Genshi templates. Details on how to do this in comment:
<a class="ext-link" href="http://wiki.pylonshq.com/display/pylonsdocs/Internationalization+and+Localization"><span class="icon">​</span>http://wiki.pylonshq.com/display/pylonsdocs/Internationalization+and+Localization</a>
</p>
<h2 id="Steps">Steps</h2>
<ol><li>i18n templates
<ul><li>Extract content using Babel
</li><li>Get genshi translation working
</li><li>Do the translation!
</li></ul></li><li>i18n all strings in controllers (if any)
</li><li>i18n forms
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1260179192000000
                          </td>
                          <td class="ModifiedTime">1265892368000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/21.html">#21</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">somebody
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/21.html">Undelete a package</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1152550936000000
                          </td>
                          <td class="ModifiedTime">1265891796000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/46.html">#46</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.9.html">v0.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/46.html">Return error documents that look and feel like normal CKAN pages</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1201111018000000
                          </td>
                          <td class="ModifiedTime">1265891789000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/229.html">#229</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/229.html">Resource hashes</a>
                          </td>
                          <td class="description">
                            <p>
New field for resources - hash of the resource file.
</p>
<ul><li>CKAN itself will not calculate the hash value - user just pastes it in.
</li><li>Display text field in resource table.
</li><li>Requires migration script.
</li></ul><p>
Questions for the field's value:
</p>
<ol><li>Which hash to use? Restrict to python hashlib and other major hash libraries.
</li></ol><ol start="2"><li>Should we use merkle trees?
</li></ol><p>
Thanks to Julien D'Assanges for the suggestion.
</p>

                            
                          </td>
                          <td class="PosixTime">1262686287000000
                          </td>
                          <td class="ModifiedTime">1265891612000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/88.html">#88</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/88.html">Download (link) metadata</a>
                          </td>
                          <td class="description">
                            <p>
Support for download metadata (file size, file formats, version information).
</p>
<p>
See also: <a class="closed ticket" href="../ticket/87.html" title="enhancement: Multiple download links (closed: duplicate)">ticket:87</a> (multiple download links)
</p>

                            
                          </td>
                          <td class="PosixTime">1248693385000000
                          </td>
                          <td class="ModifiedTime">1265891491000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/163.html">#163</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/163.html">Regularly put CKAN RDF on Talis CC</a>
                          </td>
                          <td class="description">
                            <p>
Related to:
<a class="closed ticket" href="../ticket/90.html" title="enhancement: Link to RDF versions of CKAN data (closed: fixed)">ticket:90</a> Link to RDF version of CKAN data on Talis Connected Commons
<a class="closed ticket" href="../ticket/164.html" title="enhancement: Creating RDF data from CKAN (closed: fixed)">ticket:164</a> Creating RDF data from CKAN
</p>
<p>
Regularly re-upload the CKAN RDF data to Talis CC.
</p>
<p>
In the long run may wish to only re-convert packages changed since the last upload. However given relatively smaller size of full dataset this optimization is probably not yet required.
</p>
<p>
Cost: ? (1d+ depending on e.g. how easy integration with Talis CC is)
</p>

                            
                          </td>
                          <td class="PosixTime">1256052587000000
                          </td>
                          <td class="ModifiedTime">1265891374000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/166.html">#166</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/166.html">Add extras editing to ckanclient</a>
                          </td>
                          <td class="description">
                            <p>
Ensure logging is working on server.
</p>

                            
                          </td>
                          <td class="PosixTime">1256203581000000
                          </td>
                          <td class="ModifiedTime">1265891199000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/167.html">#167</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/167.html">REST interface you can't update multiple tags</a>
                          </td>
                          <td class="description">
                            <p>
Only first tag is updated.
</p>

                            
                          </td>
                          <td class="PosixTime">1256209993000000
                          </td>
                          <td class="ModifiedTime">1265891178000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/170.html">#170</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/170.html">Paginate search results</a>
                          </td>
                          <td class="description">
                            <p>
e.g.
</p>
<p>
<a class="ext-link" href="http://www.ckan.net/package/search?q=science&amp;search=Search+Packages+%C2%BB"><span class="icon">​</span>http://www.ckan.net/package/search?q=science&amp;search=Search+Packages+%C2%BB</a>
</p>
<p>
Results are capped at 20, but can't see past first page.
</p>

                            
                          </td>
                          <td class="PosixTime">1256313584000000
                          </td>
                          <td class="ModifiedTime">1265891157000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/174.html">#174</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/174.html">Packages search broken for 'only openly licensed'</a>
                          </td>
                          <td class="description">
                            <p>
the "only openly licensed packages" tick box seems
to return blank page every time - as do queries for only openly
licensed and only downloadable packages. The "only downloadable
packages" tick box by itself seems to work fine. E.g. try searching
for 'science'.
</p>
<p>
Raised by Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1256650867000000
                          </td>
                          <td class="ModifiedTime">1265891093000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/203.html">#203</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/203.html">show package counts for groups in WUI</a>
                          </td>
                          <td class="description">
                            <p>
In two places in the WUI
</p>
<ul><li>list of groups
</li><li>group page in title e.g. ukgov (5)
</li></ul><p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1260187690000000
                          </td>
                          <td class="ModifiedTime">1265891080000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/208.html">#208</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/208.html">Obfuscate author email and maintainer email field</a>
                          </td>
                          <td class="description">
                            <p>
Obfuscate author email and maintainer email field.
</p>
<p>
Use: webhelpers.html.tools.mail_to e.g. webhelpers.html.tools.mail_to('mike@…', encode='javascript')
</p>
<p>
Do we want to? Surely only public addresses should be on CKAN in which case why obfuscate?
</p>

                            
                          </td>
                          <td class="PosixTime">1260203938000000
                          </td>
                          <td class="ModifiedTime">1265891070000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/213.html">#213</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/213.html">Automate CKAN deployment</a>
                          </td>
                          <td class="description">
                            <p>
fabric script to automate ckan deployment
</p>

                            
                          </td>
                          <td class="PosixTime">1260811707000000
                          </td>
                          <td class="ModifiedTime">1265891061000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/80.html">#80</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/80.html">Refactor or remove modes code</a>
                          </td>
                          <td class="description">
                            <p>
Get rid of modes in the RESTful API. Do json stuff directly in controllers.
</p>
<ul><li>package will have to_dict and from_dict methods (called by rest controller) which provide and consume JSON friendly dictionaries representing the object. from_dict - class_method. stuff in forms for tags as_string, maybe factor out. reuse validation stuff.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1247844263000000
                          </td>
                          <td class="ModifiedTime">1265890912000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/79.html">#79</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/79.html">Improvements to package search</a>
                          </td>
                          <td class="description">
                            <p>
Several things:
</p>
<ul><li>Default package search (used e.g. on front page) should deal well with multiple items: "abc xyz" means search for both abc and xyz (as separate searches)
</li><li>Should automatically display a list of matching tags in a line at top with number of associated packages
</li><li>have an option to only search for fully open material (or openly licensed material ...)
</li></ul><p>
Since we should be moving to a more sophisticated search solution anyway (to allow prioritisation etc) maybe we should cautious as to what we do now.
</p>

                            
                          </td>
                          <td class="PosixTime">1247829864000000
                          </td>
                          <td class="ModifiedTime">1265890806000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/61.html">#61</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/61.html">When dumping data to json do not dump private information like API keys</a>
                          </td>
                          <td class="description">
                            <p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1239123529000000
                          </td>
                          <td class="ModifiedTime">1265890790000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/90.html">#90</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/90.html">Link to RDF versions of CKAN data</a>
                          </td>
                          <td class="description">
                            <p>
We should link to representations on semantic.ckan.net
</p>
<ul><li>Each package page could link to its RDF representation
<ul><li>"Alternative formats" near star rating. Has logo for RDF (link to RDF) and JSON (link via CKAN REST i/f).
</li><li>Some instances of ckan won't need this, so have option in ini file for this. rdf_store_url=xyz
</li><li>Include machine-readable link to the RDF: 
<pre class="wiki">&lt;meta http-equiv=... /&gt;
</pre></li><li>303 redirect to RDF when content negotiation requires RDF. Test:
<pre class="wiki">curl -I -H "Accept: application/rdf+xml" http://localhost:5000/package/warandpeace
</pre></li></ul></li></ul><p>
Cost: 3h
</p>
<h2 id="Future">Future</h2>
<ul><li>Search page to link to SPARQL interface: <a class="ext-link" href="http://semantic.ckan.net/sparql"><span class="icon">​</span>http://semantic.ckan.net/sparql</a>
</li><li>License/dump page could link to full RDF dump.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1248943742000000
                          </td>
                          <td class="ModifiedTime">1265890334000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/140.html">#140</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/140.html">News section on front page</a>
                          </td>
                          <td class="description">
                            <p>
Have a news section (suggest as a sidebar item).
</p>
<p>
News section will link to latest 3/4 blog posts on CKAN from blog.okfn.org.
</p>
<p>
Details:
</p>
<ul><li>Suggest pulling via rss or similar.
</li><li>Will want to cache this ...
</li></ul><p>
Cost: 4h?
</p>

                            
                          </td>
                          <td class="PosixTime">1254902541000000
                          </td>
                          <td class="ModifiedTime">1265625159000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/196.html">#196</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/196.html">RDF URI to resolve on CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Provide RDF version of a package at the RDF URI:
<a class="ext-link" href="http://ckan.net/package/rdf/32000-naples-florida-businesses-kml"><span class="icon">​</span>http://ckan.net/package/rdf/32000-naples-florida-businesses-kml</a>
</p>
<p>
See email on OKFN help:
</p>
<p>
For the information to be Linked Data, the following URI (from the
api.talis.com SPARQL call) should be resolvable to RDF, or an RDFa
enhanced HTML page.
</p>

                            
                          </td>
                          <td class="PosixTime">1258727988000000
                          </td>
                          <td class="ModifiedTime">1265389771000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/160.html">#160</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/160.html">Implement internal links in CKAN notes markup</a>
                          </td>
                          <td class="description">
                            <p>
Suggest form is: key:value (with optional space after ':'.
</p>
<p>
Keys would be for an object, i.e. 'package', 'tag', 'group'.
</p>
<p>
Becomes a link.
</p>
<p>
This would be implemented by implementing a 'Parser' or 'Processor' object which is run before markdown is done. Regex replace.
</p>
<p>
Cost: 4h
</p>

                            
                          </td>
                          <td class="PosixTime">1256030751000000
                          </td>
                          <td class="ModifiedTime">1265312986000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=24.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <span class="current">25</span>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=ModifiedTime&amp;asc=0&amp;page=26.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=ModifiedTime&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>