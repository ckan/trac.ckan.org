<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=ticket&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=ticket&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=ticket&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=ticket&amp;asc=0&amp;page=22.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=ticket&amp;asc=0&amp;page=20.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=ticket&amp;asc=0&amp;page=21.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2001 - 2100 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=ticket&amp;asc=0&amp;page=20.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <span class="current">21</span>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=29.html" title="Page 29">29</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=31.html" title="Page 31">31</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=ticket&amp;asc=0&amp;page=22.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th class="desc">
            <a href="23%3Fsort=ticket&amp;asc=1&amp;page=21.html">
              Ticket
            </a>
          </th><th>
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=21.html">
              Posixtime
            </a>
          </th><th>
            <a href="23%3Fsort=author&amp;asc=1&amp;page=21.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=21.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1009.html">#1009</a>
                          </td>
                          <td class="PosixTime">1298638447000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Some more ideas: 
 
 * /user should list users, sorted by number of packages contributed/editied
 * /user/{name}/packages shows a list of packages to which users have contributed

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1008.html">#1008</a>
                          </td>
                          <td class="PosixTime">1298821826000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I've removed the eval in cset:1b8fedeb7ab0 - the more general question about caching should go in a separate ticket.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1298631145000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This command is slightly different to your branch policy as of two weeks ago:
{{{
stable: stable code
metastable: (will soon be deprecated) for code preparing to be stable
default: development HEAD
}}}
which I prefer. 

My ideal would be to get rid of the confusing name 'metastable' and unneeded 'stable' and start a new branch called 'released', which will act the same as 'master' in this diagram but with a more intuitive name:
http://nvie.com/posts/a-successful-git-branching-model

Then for each ckan instance we can either use the most recent release (from 'released') or choose a specific one (e.g. 'ckan-1.3' or even 'default' or 'enh-865' for getting latest features). This gives a good degree of flexibility, is more understandable to newbies and probably a more widely understood branching model.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300098217000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Reassigning to rgrp for response
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300105927000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Not sure when i described that other process but I'm definitely of the opinion that we should:

* Deprecate and remove stable branch
* Deprecate and remove metastable branch (going forward we can use release branches for what we did with metastable in the past)

May want to update BranchingPolicy to reflect this (also should probably have some statement about closing release branches and tagging)

Reassigning to David Raznick as he is our release guru now.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300372286000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I'm updating the branching policy now. David has closed stable and closed metastable. Marking as fixed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1005.html">#1005</a>
                          </td>
                          <td class="PosixTime">1300100085000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Moved to dgu trac ticket 869
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1311173560000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">At the moment it says "Create a new group" and clicking it takes you to the login page. We want it to do the same thing but if you aren't logged in the label should say "Log in to create a group".
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323171375000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">The yellow box on the right is now back and you don't get taken to the login page. We'll write more detailed instructions once the group refactor is done.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323172489000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">There is a description of groups, but that is not the subject of this ticket. In fact if you're not logged in you do get taken to the login page (which is quite correct). I agree with your earlier comment that the text of the link needs changing. 

Sorry to be reopening this, but I think the previous comment misses the point. Doing this ticket would be a valuable quick fix. Putting on backlog.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323174597000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't understand. We just had a team meeting about this, all discussed it and agreed to close it. Yes, you get taken to the login page, but that is the correct behaviour. 

The problem in the past was that the link was in the yellow box and there was no explanation as to why you had to login. This time you click from the header bar and there is a clear message saying "Unauthorized to create a group" - exactly as a user would expect. Even if the exact text of the ticket description isn't fully implemented in the current release, the UX isn't broken anymore. Yes, it might be even nicer to have a message warning them in advanced but these improvements will be taken forward in the UX work - maybe there is an even better solution than a message?

Since you are unhappy about closing it I'm marking it as "Duplicate" of #1521. As agreed earlier with the entire team, we'll take this forward as part of the groups refactor.

See #1521 for more information.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323177994000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">My suggested fix:
{{{

diff --git a/ckan/templates/group/index.html b/ckan/templates/group/index.html
index 8502df9..064e066 100644
--- a/ckan/templates/group/index.html
+++ b/ckan/templates/group/index.html
@@ -9,7 +9,15 @@
   &lt;py:match path="primarysidebar"&gt;
     &lt;li class="widget-container boxed widget_text"&gt;
       &lt;h3&gt;What Are Groups?&lt;/h3&gt;
-      &lt;span i18n:msg=""&gt;Whilst tags are great at collecting datasets together, 
+      &lt;p&gt;&lt;span i18n:msg=""&gt;Whilst tags are great at collecting datasets togethe
+      &lt;p&gt;
+      &lt;span i18n:msg="" class="ckan-logged-in" style="display: none;"&gt;
+         &lt;a href="${h.url_for(controller='group',action='new', id=None)}"&gt;Creat
+      &lt;/span&gt;
+      &lt;span i18n:msg="" class="ckan-logged-out"&gt;
+         To create a new group, please first &lt;a href="${h.url_for(controller='u
+      &lt;/span&gt;
+      &lt;/p&gt;
     &lt;/li&gt;
   &lt;/py:match&gt;
 
diff --git a/ckan/templates/group/layout.html b/ckan/templates/group/layout.html
index 64153aa..a3f732b 100644
--- a/ckan/templates/group/layout.html
+++ b/ckan/templates/group/layout.html
@@ -25,9 +25,12 @@
       &lt;li py:attrs="{'class':'current-tab'} if c.action=='index' else {}"&gt;
         ${h.subnav_link(c, h.icon('group') + _('List Groups'), controller='grou
       &lt;/li&gt;
-      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}"&gt;
+      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="
         ${h.subnav_link(c, h.icon('group_add') + _('Add a Group'), controller='
       &lt;/li&gt;
+      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="
+        ${h.subnav_link(c, h.icon('group_add') + _('Log-in to add a Group'), co
+      &lt;/li&gt;
     &lt;/ul&gt;
   &lt;/py:match&gt;
}}}
BUT this fix doesn't completely work. When you log-in and create a group, at this point the nav bar changes from the (correct) "Add a group" to (incorrect) "Log-in to add a group".
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323187352000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Here is the unclipped version:
{{{
      &lt;p&gt;
      &lt;span i18n:msg="" class="ckan-logged-in" style="display: none;"&gt;
	  &lt;a href="${h.url_for(controller='group',action='new', id=None)}"&gt;Create a new group&lt;/a&gt;
      &lt;/span&gt;
      &lt;span i18n:msg="" class="ckan-logged-out"&gt;
	  To create a new group, please first &lt;a href="${h.url_for(controller='user',action='login', id=None)}"&gt;log-in&lt;/a&gt;.
      &lt;/span&gt;
      &lt;/p&gt;
}}}
{{{
      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="ckan-logged-in" style="display: none;"&gt;
        ${h.subnav_link(c, h.icon('group_add') + _('Add a Group'), controller='group', action='new')}
      &lt;/li&gt;
      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="ckan-logged-out"&gt;
        ${h.subnav_link(c, h.icon('group_add') + _('Log-in to add a Group'), controller='group', action='new')}
      &lt;/li&gt;
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323194016000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">Dread, that fix wouldn't work because the class attribute was being defined in Genshi and again in HTML, with slighly undefined behaviour (in this case Genshi overwrites HTML). 
I have performed a very very simple fix which modifies the navbar text when you're not logged in. 
https://github.com/okfn/ckan/commit/a89a48731ba548170045a60ac2930e0019c299c7

I don't think the link should be restored in the sidebar, it was explicitly removed as part of a site-wide sweep to make the sidebar a passive, helpful element rather than an active element with action links.

Site looks great to me, I'm closing this ticket.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323195485000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Great stuff zeph! Diff looks really good and cheers for the explanation. 

On master, cset:a89a48731ba548170045a60ac2930e0019c299c7 and I've cherry picked this for release 1.5.1. too.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1298490126000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Work so far in http://bitbucket.org/rgrp/ckanjs
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1298889293000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Have now started refactor to use backbone and have basic inline editing working and started on Add dataset view.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1300100411000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Converted completely to backbone and now have fully-operational add dataset functionality. I'm closing this ticket now - further improvements can be in there own tickets.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1311173185000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I've done this in my branch and it will get merged in.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1311675754000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Can you also delete the "paster changes" in ckan/lib/cli with this removal?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1311676199000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Reopening this, since it has not been pushed or merged in afaict.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1322515684000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've redone these changes in cset:91258a6296db71d78a on master, aiming for 1.5.2.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300367555000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Yes, I think the two should be consolidated, but as was noted elsewhere (I think) we don't want the API to ever be authenticated via a cookie, otherwise we open ourselves to CSRF attacks. Instead we could support the API key as a query parameter as an alternative to via the HTTP header if it is hard to set an HTTP header in JS libraries?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300625888000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">My vote on this would be to enable "httpbasic" auth via repoze.who and to add an API key challenger to ckan/lib/authenticator.py that accepts API keys, from within repoze.who. This way we won't have to work around the framework at all and can retain compatibility to the existing mechanisms.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300703779000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">First work in cset:6b8cbe465b61
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300704249000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Wrote a WDMMG version of this yesterday: https://bitbucket.org/okfn/wdmmg/changeset/398ce0eb3901#chg-wdmmg/lib/authenticator.py
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1301229082000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Completed and merged into default in cset:cb200f339dbb. At the moment have done the very simple option but pudo's approach seems better and we could refactor towards that going forward.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1301307814000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">You mentioned writing tests? Also the CSRF question from James hasn't been addressed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1301310351000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">This ticket did not include CSRF matters - please raise in a separate ticket if you wish. I looked in some detail at the testing options and nothing seemed simple to do that didn't duplicate code we already have (since no way to access the base controller halfway through a request). This can be tested as necessary as part of the development of the new js work.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1000.html">#1000</a>
                          </td>
                          <td class="PosixTime">1298912726000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">fixed cset:630513f550d5
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/999.html">#999</a>
                          </td>
                          <td class="PosixTime">1300707328000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Done. See https://bitbucket.org/okfn/ckan-ckan.net and updated ckan.net.ini.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298369862000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">'paster db create' (or init) should do exactly what we ask. Surely we should simply tell people to use 'paster db upgrade' instead?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298371191000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">I am happy to get rid of paster db create altogether as a compromise?  Or add a depreciation warning to it?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/998.html">#998</a>
                          </td>
                          <td class="PosixTime">1298372171000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Yes I agree - either of those sounds good. I think I've always used 'db init' in preference anyway.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/996.html">#996</a>
                          </td>
                          <td class="PosixTime">1300364398000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This is now fixed, the outcome will be used to inform #995 for the caching.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/995.html">#995</a>
                          </td>
                          <td class="PosixTime">1300364316000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Also, update the docs:

Documentation article on caching / improving performance. (To complement configuration docs.)

    * Different sorts of cache - beaker style, etags, package_dict in search results(?)
    * How each one affects performance
    * How to turn them on/off and configure them
    * Is it possible to bypass each of them in the browser or with wget/curl? 

Therefore closing #841.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/995.html">#995</a>
                          </td>
                          <td class="PosixTime">1311175353000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">The caching still isn't brilliant but there is less urgent need to refactor it. In the future our caching methodology should be to cache at the logic layer so we don't need to refactor the existing caching at this stage.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/995.html">#995</a>
                          </td>
                          <td class="PosixTime">1311179009000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">See also previous tickets:

 * #537 Caching and Performance improvement
 * #543 Investigate partial page caching and edge-side includes
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/994.html">#994</a>
                          </td>
                          <td class="PosixTime">1298912830000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">see cset:93188d42fc12
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/993.html">#993</a>
                          </td>
                          <td class="PosixTime">1298373114000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed on 1.3 cset:7708c8b521ed and merged to default. Deployed to ckan.net.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/992.html">#992</a>
                          </td>
                          <td class="PosixTime">1298060474000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Fixed in cset:08548ef8f0e9
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/991.html">#991</a>
                          </td>
                          <td class="PosixTime">1298037717000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:56cccbbb9d1a in time for ckan 1.3 release. This did not affect previous releases.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/990.html">#990</a>
                          </td>
                          <td class="PosixTime">1311180850000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This now works.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297700363000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">It would be nice to know some use cases.   I think that plugins should control their own storage, or share a storage that is designed to be flexible (mongo, redis ...).   

We do not seem to be able to keep our current migrate repository in sync let alone add plugins to the mix.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297700818000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Kindly, I agree - it would be much preferable to have independent storage for plugins and this would be easy to do if we were using another type of storage already. As it stands, however, our storage mechanism is SQL. I think we should use it for what it is as much as possible and do the weird, vertical stuff (k,v tables, swapping to redis) only if we really need it. For everything else: lets use SQL as it was intended. 

Examples: 

 * We want to develop an apps catalogue as a CKAN plugin. While we could certainly put this in Redis, there is no reason why we can't have the following table: application (id, name, title, description, author, project_url, site_url, code_url, image).
 * A watchlist plugin could essentially work on UUIDs alone. What you'd end up with is something like this: watch (id, user, scope_id). 

Re migrations you're right, but my first intention would be to handle that seperatly for each plugin (i.e. they need to have their own migration repositories that they keep track of, e.g. via an apps_migrate_version table)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/989.html">#989</a>
                          </td>
                          <td class="PosixTime">1297706620000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">I do not think we need to 'extend the model' if you intend to make the migrations separate. If the schema is decoupled, then there are no problems.  So each plugin can have its own model and use sqlalchemy independently i.e have their own metadata, classes and mappers.  They do not have to even use sqlalchemy.

What I mean is that there is no need to do anything apart from.

 * Agree on a naming convention of the plugin tables (including their own migrate table each)
 * Agree to the rule that no plugin can add a column to an existing table.
 * Agree that no table can have a (database level) foreign key constraint between the core tables and itself in either direction.  They *can* have implied sqlalchemy level joins.
 * Maybe have a hook that on db upgrade all plugins are upgraded.

Each plugin will have to redefine the tables, classes and mappers they need to join onto the core tables themselves. reusing/extending the core model will not be worth the trouble.

This seems to cover your use cases and this way everything is nicely decoupled. Best of all there is very little work to do...
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/987.html">#987</a>
                          </td>
                          <td class="PosixTime">1311177705000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This has largely been implemented now for publicdata.eu. There is a CREP #1134 outstanding to take the harvesting to the next level so marking this one as duplicate for now.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/986.html">#986</a>
                          </td>
                          <td class="PosixTime">1297812401000000
                          </td>
                          <td class="author">wwitzel3
                          </td>
                          <td class="newvalue">https://bitbucket.org/okfn/ckanext-qa/src/be57e20c60ef/
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1298571248000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">digitialiser.dk has been assigned to Stefan Marsirske to get him into this Framework, everything else is delayed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1303118298000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We'd like CKAN to CKAN harvesting this week if possible.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1306407617000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Moving this to the PDEU (publicdata.eu) project
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/985.html">#985</a>
                          </td>
                          <td class="PosixTime">1306408134000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">Duplicate of #1155 and #1156
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/984.html">#984</a>
                          </td>
                          <td class="PosixTime">1297628554000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">These are the errors listed in severity order.

 * group revision tables joins wrong in many ways. 
 * changemask table not added. 
 * licence_id wrong type. 
 * package_revision.download_url and changset.status not dropped.
 * package.name and tag.name unique constraint not added.
 * update cascaded defined wrongly.

Attached are the fixes that will need to be run in ckan_migration_fixes.sql
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/984.html">#984</a>
                          </td>
                          <td class="PosixTime">1297682116000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">fixed see https://bitbucket.org/okfn/ckan/changeset/d56ea86d4303
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/983.html">#983</a>
                          </td>
                          <td class="PosixTime">1297773407000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Error was tracked down to cset:214a8f9fc1c2 (26-9-2010): 
upgrade_db called validate_authorization_setup() which calls setup_default_user_roles(System())

Fixed in cset:9f51a1c8ac83 for 1.3 branch and merged to default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297518386000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">Well we could transfer all the dependencies and version numbers to a config file for the fabfile, but we don't achieve much.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297525477000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I don't think i understand why this has been closed (and it would surely be wontfix rather than invalid ...).

Let me explain in more detail: we would move to having one and only one pip-requirements.txt in the repo at any given revision and it would simply have the correct info for whatever branch/revision it was on. At the moment we are having extra pip-requirements-....txt for labelling branch pip-requirements when we could just the branching facility of mercurial.

You'd do

{{{
wget http://bitbucket.org/okfn/ckan/src/metastable/pip-requirements.txt
}}}

rather than

{{{
wget http://bitbucket.org/okfn/ckan/src/default/pip-requirements-metastable.txt
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1297850732000000
                          </td>
                          <td class="author">anonymous
                          </td>
                          <td class="newvalue">This is now rolled into #963. Marking as duplicate.

People can get the pip from a branch over HTTP like this:

https://bitbucket.org/okfn/ckan/src/&lt;branch-name&gt;/path/to/file/you/want
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1298482394000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Need to do this for older branches which isn't subject to #963.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/982.html">#982</a>
                          </td>
                          <td class="PosixTime">1298887980000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Buildbot scripts now fixed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/981.html">#981</a>
                          </td>
                          <td class="PosixTime">1297682773000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">fixed see cset:3d1f720a2e5b
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/980.html">#980</a>
                          </td>
                          <td class="PosixTime">1297501755000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">No owner :) -- also what about the issue that when trying to edit a package for which you did not have permission you got a 500 ...
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/980.html">#980</a>
                          </td>
                          <td class="PosixTime">1297503120000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Re package editing issue, that was a "double error" fixed by the first two changesets mentioned.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/979.html">#979</a>
                          </td>
                          <td class="PosixTime">1314404905000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Change from Edit Resource extras in the API to Edit Resource extras in the WUI as believe we already have API editing and reference to #978 implies this is about the WUI.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/979.html">#979</a>
                          </td>
                          <td class="PosixTime">1315221162000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Changed the title back - it was accurate. The comment was because with formalchemy, WUI and API ran off the same 'form' code.

This functionality may already be there with the new stuff, but certainly needs tests.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/979.html">#979</a>
                          </td>
                          <td class="PosixTime">1315222244000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Is this already done? Is it under test?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/978.html">#978</a>
                          </td>
                          <td class="PosixTime">1314404858000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Suggest we either a) get rid of columnar layout or b) (preferable) get a dedicated page for resource. That way summary on package page just shows main attributes.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/978.html">#978</a>
                          </td>
                          <td class="PosixTime">1325259266000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Think this should be part of a larger refactor of resource editing now that #1445 (resource page in WUI) is done
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/978.html">#978</a>
                          </td>
                          <td class="PosixTime">1328530459000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">We already have basic editing in the Resource section of dataset edit. However, need to extend this to additional fields such as webstore_url and "extras".
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/978.html">#978</a>
                          </td>
                          <td class="PosixTime">1330547181000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">This was not trivial to implement. The backend supports arbitrary key/value pairings on resources, and the frontend can now handle this. Add, edit and delete resource extras according to the form state. 

I had to make a modification to the backend: When saving a resource, you have to submit the complete set of extras. Unsubmitted extras are assumed to be deleted. (This matches the behaviour of the package form).

https://github.com/okfn/ckan/commit/a41cd0c9b04c757f5fa37acaba6be71e345a9c1f#L0R39
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/977.html">#977</a>
                          </td>
                          <td class="PosixTime">1297420742000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:8809fbefaf8c for 1.3 and merged to default.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/976.html">#976</a>
                          </td>
                          <td class="PosixTime">1297346954000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:1566d08d529f for release 1.3
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/975.html">#975</a>
                          </td>
                          <td class="PosixTime">1297344448000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Fixed in cset:a4caf6b8ce3d.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/974.html">#974</a>
                          </td>
                          <td class="PosixTime">1297342599000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:9dc20731d0fd and cset:5149f503e741 for 1.3 release.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/973.html">#973</a>
                          </td>
                          <td class="PosixTime">1297678851000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Done. See http://licenses.opendefinition.org/ the new licenses release (0.6) http://pypi.python.org/pypi/licenses/0.6 and cset:b8e54186faee

Actual cost: 4-6h (as i refactored the licenses package heavily)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/972.html">#972</a>
                          </td>
                          <td class="PosixTime">1300219509000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't really agree with this. In fact I'd rather move further away from auto-magic key value pairs stored in JsonTypes. Can we discuss on Skype please?
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/972.html">#972</a>
                          </td>
                          <td class="PosixTime">1310134129000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Having thought about this more David Raznick and I have decided to stick with separate extras for the timebeing. Mainly because of internationalisation issues.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/971.html">#971</a>
                          </td>
                          <td class="PosixTime">1299245064000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">folded into #1013
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/965.html">#965</a>
                          </td>
                          <td class="PosixTime">1297682632000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">added with cset:553421d05ce8
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/964.html">#964</a>
                          </td>
                          <td class="PosixTime">1297211237000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Done in cset:fd0e2edf03b1
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/963.html">#963</a>
                          </td>
                          <td class="PosixTime">1297850773000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We will also remove all the different pip files as part of this fixing #982 at the same time.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/963.html">#963</a>
                          </td>
                          <td class="PosixTime">1298284252000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">You can now get CKAN from the repository http://apt-alpha.ckan.org/debian
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/962.html">#962</a>
                          </td>
                          <td class="PosixTime">1297678925000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">In progress but not yet completed so moving to next sprint. Estimate remaining time at: 2h.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/962.html">#962</a>
                          </td>
                          <td class="PosixTime">1298889078000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Nearly done.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/962.html">#962</a>
                          </td>
                          <td class="PosixTime">1301364987000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Closing as have now reworked to:

 * Support plain text previews for many formats (including xml based formats)
 * Try to handle everything else as html with an iframe ...
 * Do not show preview button where not useful
 * Normalize formats for better recognition (e.g. text/csv, application/xls)

See: https://bitbucket.org/okfn/ckanext-datapreview/changeset/c1d672a6c368 and previous.

Also re-updated the dataproxy so it works again (had got out of sync when mistakenly reverted the dataproxy a couple of weeks ago).

Could still do api/sparql (using sparql js wrapper) and handle json (as plain text ...?) but these can be new tickets.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/961.html">#961</a>
                          </td>
                          <td class="PosixTime">1297073658000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">So you also need:
 4. Converting form data to dict
 5. Converting dict to model

i.e. the dict is not the same as the serialized form data or model data.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/961.html">#961</a>
                          </td>
                          <td class="PosixTime">1308230058000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">@kindly: can we close this ticket now. All the meat is done and the remaining related tickets are either low priority or possibly wontfix.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/961.html">#961</a>
                          </td>
                          <td class="PosixTime">1310126100000000
                          </td>
                          <td class="author">shevski
                          </td>
                          <td class="newvalue">The main parts of this ticket are now done. The remaining parts can be dealt with separately as their own tickets.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/960.html">#960</a>
                          </td>
                          <td class="PosixTime">1297080672000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Test this with a dedicated test using a unicode user name.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/960.html">#960</a>
                          </td>
                          <td class="PosixTime">1297169056000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:8cb94dcdecb2
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/958.html">#958</a>
                          </td>
                          <td class="PosixTime">1297430414000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Sorry I didn't see this and created #78. Closing this one as #978 is fuller.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/958.html">#958</a>
                          </td>
                          <td class="PosixTime">1297430602000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Apologies, #978 is subtly different - reopening.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/958.html">#958</a>
                          </td>
                          <td class="PosixTime">1320664462000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">This was done as part of dataset resource editing in #1294 (duplicate)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/957.html">#957</a>
                          </td>
                          <td class="PosixTime">1300216958000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Let's come back to this later. There are larger UKLP refactors going on. Sorry to mess you around.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/957.html">#957</a>
                          </td>
                          <td class="PosixTime">1314218701000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I'm closing this as wontfix as we now have arbitrary metadata for resources so probably won't need a specific field. That said we probably will want a schema but that is not yet finalized and would be a separate and wider ticket. For current proposal of the attributes generally wanted for resources see http://wiki.ckan.net/Domain_Model/Resource (recently updated).
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/956.html">#956</a>
                          </td>
                          <td class="PosixTime">1299489084000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset:1305b9192d49
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/955.html">#955</a>
                          </td>
                          <td class="PosixTime">1296833234000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:9a45a07ad95e
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/955.html">#955</a>
                          </td>
                          <td class="PosixTime">1297342534000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed on cset:b65b9830571c and merged into default in time for 1.3 release.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/954.html">#954</a>
                          </td>
                          <td class="PosixTime">1300217106000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I'll look at this for a v3 API with kindly as part of the dictization. It also addresses some potential XSS issues in the API we've discovered.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/954.html">#954</a>
                          </td>
                          <td class="PosixTime">1300447466000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">What would also be really nice is a `help` key in the response which was always returned unless a query parameter of `?help=False` was sent.

The help text could explain what the response meant but more importantly would show examples of other calls you can make with the IDs returned such that the whole API is discoverable without anyone ever needing to read any docs! It also means the API documentation is more likely to be up to date since it will be obvious to developers when it isn't.

With help=False, the JSON can have all whitespace stripped too for production use.

I also think there should be no distinction between GET and POST so that people can easily link to API calls if they want to.
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=ticket&amp;asc=0&amp;page=20.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <span class="current">21</span>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=28.html" title="Page 28">28</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=29.html" title="Page 29">29</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=30.html" title="Page 30">30</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=0&amp;page=31.html" title="Page 31">31</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=ticket&amp;asc=0&amp;page=22.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>