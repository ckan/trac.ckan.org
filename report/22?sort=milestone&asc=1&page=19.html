<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=milestone&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=milestone&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=milestone&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=milestone&amp;asc=1&amp;page=20.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=milestone&amp;asc=1&amp;page=18.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=milestone&amp;asc=1&amp;page=19.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1801 - 1900 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=milestone&amp;asc=1&amp;page=18.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <span class="current">19</span>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=milestone&amp;asc=1&amp;page=20.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=19.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=19.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=19.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=19.html">
              Reporter
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=milestone&amp;asc=0&amp;page=19.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=19.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=19.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=19.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=19.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=19.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=19.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1104.html">#1104</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1104.html">create-test-data doesn't index the packages it creates</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303494635000000
                          </td>
                          <td class="ModifiedTime">1303920791000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1112.html">#1112</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1112.html">Allow searching for all packages</a>
                          </td>
                          <td class="description">
                            <pre class="wiki">GET api/search/package?q=
</pre><p>
returns all packages. This is so you can filter them e.g. by openness, which is not currently possible.
</p>

                            
                          </td>
                          <td class="PosixTime">1304007852000000
                          </td>
                          <td class="ModifiedTime">1304358643000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1114.html">#1114</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1114.html">CLI for viewing search index of a package</a>
                          </td>
                          <td class="description">
                            <p>
To see what lexemes are generated for debug purposes.
</p>

                            
                          </td>
                          <td class="PosixTime">1304078353000000
                          </td>
                          <td class="ModifiedTime">1304085484000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1116.html">#1116</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1116.html">api search loses boolean q options</a>
                          </td>
                          <td class="description">
                            <p>
filter_by_openness and filter_by_downloadable options don't work when specified as URI parameters. (They do work in qjson parameters)
</p>

                            
                          </td>
                          <td class="PosixTime">1304086823000000
                          </td>
                          <td class="ModifiedTime">1304358664000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1119.html">#1119</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1119.html">Fully functional storage extension with file upload</a>
                          </td>
                          <td class="description">
                            <p>
Previous work in <a class="closed ticket" href="../ticket/877.html" title="enhancement: File upload in WUI (extension) (closed: fixed)">#877</a> and <a class="closed ticket" href="../ticket/879.html" title="enhancement: Storage auth API (closed: fixed)">#879</a> + <a class="closed ticket" href="../ticket/853.html" title="enhancement: Client upload to storage without having primary storage keys (closed: fixed)">#853</a> (storage API). In this ticket:
</p>
<ul><li>Improve authorization
</li><li>Establish convention for laying out files on disk
</li><li>Add documentation
</li><li>Fix bugs with <a class="closed ticket" href="../ticket/879.html" title="enhancement: Storage auth API (closed: fixed)">#879</a> (does not currently work -- boto may have changed)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1304094382000000
                          </td>
                          <td class="ModifiedTime">1305037201000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1126.html">#1126</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1126.html">Exceptions arising from error page</a>
                          </td>
                          <td class="description">
                            <p>
I'm not completely clear what the use case is for loading the error page in this way, but somehow original_request is None and that creates an unnecessary exception with the logic refactor.
</p>
<pre class="wiki">http://ckan.net/error/document?__cache=39020485
...
Module ckan.controllers.error:29 in document
&lt;&lt;          original_response = request.environ.get('pylons.original_response')
               # Bypass error template for API operations.
               if original_request.path.startswith('/api'):
                   return original_response.body
               # Otherwise, decorate original response with error template.
&gt;&gt;  if original_request.path.startswith('/api'):
AttributeError: 'NoneType' object has no attribute 'path'
</pre>
                            
                          </td>
                          <td class="PosixTime">1304586683000000
                          </td>
                          <td class="ModifiedTime">1304587078000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1131.html">#1131</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1131.html">Search param validation exception not caught</a>
                          </td>
                          <td class="description">
                            <p>
Example request:
</p>
<pre class="wiki">http://nl.ckan.net/api/2/search/package?q=delft&amp;order_by=&amp;offset=&amp;limit=&amp;tags=
</pre><p>
Gives 500 error:
</p>
<pre class="wiki">&lt;type 'exceptions.ValueError'&gt;: invalid literal for int() with base 10: ''
</pre>
                            
                          </td>
                          <td class="PosixTime">1304942023000000
                          </td>
                          <td class="ModifiedTime">1305537897000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/103.html">#103</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/103.html">View a package at a given revision</a>
                          </td>
                          <td class="description">
                            <p>
As a user I want to view a package at a given revision:
</p>
<ul><li>When I visit /package/read/xyz?rev=yyy I should be shown package at revision yyy
</li><li>package history page should provide links to these pages
</li></ul><p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1251289897000000
                          </td>
                          <td class="ModifiedTime">1311180850000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/358.html">#358</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/358.html">Resources in REST API</a>
                          </td>
                          <td class="description">
                            <p>
(spun out of <a class="closed ticket" href="../ticket/336.html" title="defect: Resource Search API (closed: fixed)">ticket:336</a>)
</p>
<p>
Resource added to model API at:
</p>
<p>
api/rest/resource
</p>
<h3 id="Examplemodelrequest">Example model request</h3>
<p>
GET to: /api/2/rest/resource/a3dd8f64-9078-4f04-845c-e3f047125028
</p>
<p>
returns:
</p>
<pre class="wiki"> [{"id": "a3dd8f64-9078-4f04-845c-e3f047125028",
   "package_id": "b8a325c8-af2a-43f3-8245-9db7d73dfbfe",
   "URL": "http://scraperwiki.com/lincolnshire-councillors", 
   "format": "CSV", 
   "Description": "Scrape of www.lincs.gov/councillors.pdf by ScraperWiki.",
   "hash": "", 
   "position": 2
 }]
</pre><h2 id="Authorization">Authorization</h2>
<ol><li>Have it generic (ie. not per resource) and use an action/role on system
</li><li>Require all resources to attach to packages an inherit their permissions (i.e. read/write etc if and only read/write on associated packages)
</li><li>Introduce Resource in authorization system (requires migration)
</li></ol><p>
Mixed model
</p>
<pre class="wiki">Create / Edit:

if resource associated to package:
    check_permissions(package, update)
else:
    check_system_permissions(c.user, model.Action.Resouce Create/Update, model.System)
</pre>
                            
                          </td>
                          <td class="PosixTime">1277483282000000
                          </td>
                          <td class="ModifiedTime">1310128782000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/559.html">#559</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/559.html">Fix package lookup on group edit form</a>
                          </td>
                          <td class="description">
                            <p>
Lookup is needed to add a package but won't show up at some times. 
</p>
<p>
Originally reported by Anja Jentzsch, re questions. 
</p>

                            
                          </td>
                          <td class="PosixTime">1283542776000000
                          </td>
                          <td class="ModifiedTime">1310127694000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/764.html">#764</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/764.html">Read-only CKAN Web UI</a>
                          </td>
                          <td class="description">
                            <p>
Whilse using CKAN web interface, you are not tempted to edit stuff:
</p>
<ul><li>You know at all times this CKAN is read-only
</li><li>All editing facilities are still seen but greyed-out with an indication why it is.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1288091619000000
                          </td>
                          <td class="ModifiedTime">1310133334000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/810.html">#810</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/810.html">Move "add packages" field up in group form</a>
                          </td>
                          <td class="description">
                            <p>
Subticket of forms super ticket <a class="closed ticket" href="../ticket/961.html" title="enhancement: [super] Refactoring of forms, validation and model synchronization (closed: fixed)">#961</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1289992287000000
                          </td>
                          <td class="ModifiedTime">1310128477000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/852.html">#852</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/852.html">[super] Dataset upload and archiving</a>
                          </td>
                          <td class="description">
                            <p>
3 (4) use cases: (With and without access to auth keys.)
</p>
<ol><li>upload form on ckan (by default local system has auth key for storage)
</li><li>datapkg upload (client) (by default without key) (plumbing done)
</li><li>background job archiving downloads (by queue client) 
</li></ol><p>
Most important are:
</p>
<ol><li>Upload form on ckan.net (with access to keys)
</li><li>API for getting credentials for upload from ckan.net api (without access to keys).
</li></ol><p>
Aside: Once 2 was done we could deprecate storage.ckan.net
</p>
<h3 id="Sub-tickets">Sub-tickets</h3>
<p>
<strong> Required infrastructure </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/826.html" title="enhancement: Resource 'extra' fields (closed: fixed)">#826</a> - Resource 'extra' fields
</li><li><a class="closed ticket" href="../ticket/358.html" title="enhancement: Resources in REST API (closed: duplicate)">#358</a> - Resources in REST API
</li><li><a class="assigned ticket" href="../ticket/235.html" title="enhancement: Resource format normalization and detection (assigned)">#235</a> - Resource format normalization and detection
</li></ul><p>
<strong> User upload via Web UI </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/877.html" title="enhancement: File upload in WUI (extension) (closed: fixed)">#877</a> - File upload in WUI
</li><li><a class="closed ticket" href="../ticket/878.html" title="enhancement: Integrate file upload with workflow around package resources (closed: fixed)">#878</a> - Integrate file upload with workflow around package resources
</li></ul><p>
<strong> User upload via CLI/datapkg </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/853.html" title="enhancement: Client upload to storage without having primary storage keys (closed: fixed)">#853</a> - plumbing for credential-less rest upload
</li><li><a class="closed ticket" href="../ticket/879.html" title="enhancement: Storage auth API (closed: fixed)">#879</a> - Storage auth API
</li></ul><p>
Also related:
</p>
<ul><li><a class="closed ticket" href="../ticket/405.html" title="task: Retrieval options for package resources (closed: fixed)">#405</a> - Retrieval options for package resources
</li></ul><h3 id="MoreInfo">More Info</h3>
<ul><li>Upload/storage discussion: <a class="ext-link" href="http://ckan.okfnpad.org/storage"><span class="icon">​</span>http://ckan.okfnpad.org/storage</a>
<ul><li>For api to generate upload key (for e.g. datapkg usage) suggest locating at ckan.net/api/utils/
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1291722993000000
                          </td>
                          <td class="ModifiedTime">1315821628000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/910.html">#910</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/910.html">Refactor CKANrdf to support extras</a>
                          </td>
                          <td class="description">
                            <p>
Extra fields should be represented in some manner. 
</p>

                            
                          </td>
                          <td class="PosixTime">1295266026000000
                          </td>
                          <td class="ModifiedTime">1310128544000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/912.html">#912</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/912.html">Rethink result row representation in dcat-tools/rdfsolr</a>
                          </td>
                          <td class="description">
                            <ul><li>Should license go in the bottom line? 
</li><li>Formats should be styled as in CKAN
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295266299000000
                          </td>
                          <td class="ModifiedTime">1306774876000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/913.html">#913</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/913.html">Handle licenses in dcat-tools</a>
                          </td>
                          <td class="description">
                            <ul><li>Create a list of all valid predicates where licenses are stored.
</li><li>Create a license normalization registry in GSpread
</li><li>Fill spreadsheet from OKD/OSI lists. 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295266407000000
                          </td>
                          <td class="ModifiedTime">1306774962000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/941.html">#941</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/941.html">Submit apps or ideas for apps related to datasets (extension)</a>
                          </td>
                          <td class="description">
                            <p>
The basic purpose of this extension is provide a way to record  'apps' (applications) that relate to datasets in CKAN. Both existing apps and ideas for apps should be permitted.
</p>

                            
                          </td>
                          <td class="PosixTime">1296403099000000
                          </td>
                          <td class="ModifiedTime">1310134339000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/954.html">#954</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/954.html">[super] API version 3</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1107.html" title="refactor: Move package autocomplete from package controller and move to API (closed: fixed)">#1107</a> Move package autocomplete from package controller and move to API
</li><li><a class="closed ticket" href="../ticket/1087.html" title="enhancement: version and contact info api call (closed: fixed)">#1087</a> version and contact info api call
</li></ul><p>
Move to a format that has a separate responseHeader and response.
</p>
<h3 id="Astandardpackageresponse">A standard package response</h3>
<pre class="wiki">{
  responseHeader: {
    status: 0,
  }    
  response: {package-dict}
}
</pre><p>
On error:
</p>
<pre class="wiki">{
  responseHeader: {
    status: {err-code},
    error: 'message'
  }    
  response: none
}
</pre><h3 id="Asearchquery">A search query</h3>
<p>
Based directly on solr.
</p>
<pre class="wiki">{
  responseHeader: {
    status: 0,
  }    
  response: {
    numFound: 5,
    start: 0
    docs: [
    ]
  }
}
</pre><h2 id="Issues">Issues</h2>
<p>
This is a breaking change for clients
</p>
<h2 id="References">References</h2>
<ul><li><a class="ext-link" href="http://wiki.apache.org/solr/SolJSON"><span class="icon">​</span>http://wiki.apache.org/solr/SolJSON</a>
</li><li><a class="ext-link" href="http://www.flickr.com/services/api/response.json.html"><span class="icon">​</span>http://www.flickr.com/services/api/response.json.html</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296811899000000
                          </td>
                          <td class="ModifiedTime">1320142744000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/958.html">#958</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/958.html">ui for new kind field</a>
                          </td>
                          <td class="description">
                            <p>
Ui for related new field in resource (<a class="closed ticket" href="../ticket/957.html" title="enhancement: new &#34;kind &#34; field added to resources (closed: wontfix)">#957</a>)
</p>

                            
                          </td>
                          <td class="PosixTime">1296822896000000
                          </td>
                          <td class="ModifiedTime">1320664462000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/961.html">#961</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/961.html">[super] Refactoring of forms, validation and model synchronization</a>
                          </td>
                          <td class="description">
                            <p>
This is a meta-ticket to hold all of the work on refactoring forms, validation and model-synchronization in CKAN.
</p>
<p>
ckan-dev thread: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2011-January/000180.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2011-January/000180.html</a>
</p>
<h2 id="TheIssue">The Issue</h2>
<p>
From <a class="closed ticket" href="../ticket/926.html" title="enhancement: Pick a simpler form framework (closed: fixed)">#926</a>:
</p>
<p>
The current formalchemy setup conflates view, controller and model code in a way that makes it hard to debug and customise.
</p>
<p>
From <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2011-January/000181.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2011-January/000181.html</a>:
</p>
<p>
... FormAlchemy, in retrospect, was probably a mistake as it merges too much model/validation/form generation into one thing.
</p>
<p>
At least 3 functions involved [in this area]:
</p>
<ol><li>Generating (or just filling) a form template with 'form data' (and errors)
</li><li>Converting model data to form data (also happens for APIs in fact) -- let's call this 'dict-ization'
</li><li>Converting form data to model data (and validating) (inverse of previous step)
</li></ol><h2 id="RelatedTickets">Related Tickets</h2>
<ul><li><a class="closed ticket" href="../ticket/926.html" title="enhancement: Pick a simpler form framework (closed: fixed)">#926</a> - Pick a simpler form framework
</li><li><a class="closed ticket" href="../ticket/1046.html" title="enhancement: Dictization and the new logic layer (closed: fixed)">#1046</a> 'dictization' and the logic layer - serialization / deserialization of package (and other domain objects) to standard intermediate format such as json-convertable python dict
<ul><li><a class="closed ticket" href="../ticket/1079.html" title="enhancement: Refactor API to use new logic layer and dictization (closed: fixed)">#1079</a> Refactor API to use new logic layer and dictization
</li><li><a class="closed ticket" href="../ticket/1078.html" title="enhancement: Refactors WUI controllers and forms to use logic layer (closed: fixed)">#1078</a> Refactor WUI controllers and forms to use logic layer
</li><li>cf existing dumper and importer code
</li><li>This will fix <a class="closed ticket" href="../ticket/662.html" title="defect: Can't put entity that is returned by posting to package register (closed: fixed)">#662</a>
</li></ul></li><li>[not ticketed yet] - validation layer (should work on serialized objects?)
</li><li><a class="closed ticket" href="../ticket/662.html" title="defect: Can't put entity that is returned by posting to package register (closed: fixed)">#662</a> - Can't put entity that is returned by posting to package register (Defect)
</li><li><a class="closed ticket" href="../ticket/972.html" title="enhancement: Merge 'extras' into main package dict rather than having separate key (closed: wontfix)">#972</a> - Merge 'extras' into main package dict rather than having separate key
</li><li><a class="closed ticket" href="../ticket/1035.html" title="enhancement: Form impressions given an ID (closed: wontfix)">#1035</a> - Form impressions are given IDs
</li><li><a class="closed ticket" href="../ticket/810.html" title="enhancement: Move &#34;add packages&#34; field up in group form (closed: wontfix)">#810</a> - Move "add packages" field up in group form (easier to do this once forms are done)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1297069849000000
                          </td>
                          <td class="ModifiedTime">1310126100000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/972.html">#972</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/972.html">Merge 'extras' into main package dict rather than having separate key</a>
                          </td>
                          <td class="description">
                            <p>
Rather than have a separate 'extras' key all the extras fields should be consolidated into the main package dict when presenting the package internally or e.g. via the API.
</p>
<p>
Why? Extras are really just an artefact of our internal storage model. Clients of the system (both internal and external) should just see a set of key/values with no distinction between extras and non-extras.
</p>
<h2 id="Issues">Issues</h2>
<ul><li>Possible breaking change to the API (could enforce backwards compatibility by keepings extras for the time being)
</li></ul><p>
Possible subticket of forms refactoring: <a class="closed ticket" href="../ticket/961.html" title="enhancement: [super] Refactoring of forms, validation and model synchronization (closed: fixed)">#961</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1297332282000000
                          </td>
                          <td class="ModifiedTime">1310134129000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1053.html">#1053</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1053.html">Deletion in Model API</a>
                          </td>
                          <td class="description">
                            <p>
Currently in the API if you DELETE a package/group/user (and you have the required permissions) then it purges the object, when it should probably just set the state to deleted.
</p>
<p>
There is no way to delete objects at the moment - changes to 'state' are ignored in the API.
</p>
<p>
Do we need an alternative way to purge objects in the API?
</p>

                            
                          </td>
                          <td class="PosixTime">1300790039000000
                          </td>
                          <td class="ModifiedTime">1310126546000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1070.html">#1070</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1070.html">Plan a new domain model and layer architecture for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
See <a class="ext-link" href="http://wiki.ckan.net/Domain_Model"><span class="icon">​</span>http://wiki.ckan.net/Domain_Model</a> especially section on v2.
</p>
<ul><li>New domain model is planned but not yet finally agreed.
</li><li>Layer architecture is complete and implemented
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1301910940000000
                          </td>
                          <td class="ModifiedTime">1310117129000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1074.html">#1074</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1074.html">Refactor authz web user interface to have common code and templating</a>
                          </td>
                          <td class="description">
                            <p>
Currently repeat the same template and code across Package Authz, Group Authz, and Authz Group authz.
</p>
<p>
Having now implemented a new, cleaner setup in ckanext-admin we should port this back into core.
</p>
<ul><li>Common template code (checkbox template)
</li><li>Logic code (or just common code) for wiring into authz system
</li><li>Look for all places thoroughout the system where usernames, authzgroups or groups need to be typed into boxes, and make sure that they auto-complete appropriately.
</li></ul><p>
Will also deliver a significant improvement in the form of ajax user lookup.
</p>

                            
                          </td>
                          <td class="PosixTime">1302271586000000
                          </td>
                          <td class="ModifiedTime">1314303581000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1078.html">#1078</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1078.html">Refactors WUI controllers and forms to use logic layer</a>
                          </td>
                          <td class="description">
                            <ul><li>Deserialize forms to new dict format.
</li><li>Replace controllers/forms to use dictization.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1302509347000000
                          </td>
                          <td class="ModifiedTime">1305828973000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1094.html">#1094</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1094.html">[super] Refactor the Auth System</a>
                          </td>
                          <td class="description">
                            <p>
Here are some proposed changes related to CKAN's authorization system - they aren't very big, but should provide for some forthcoming use cases including <a class="closed ticket" href="../ticket/787.html" title="task: Auth API (closed: fixed)">#787</a>.
</p>
<p>
Two man reasons for the changes are:
</p>
<ul><li>We have a completely refactored architecture now which introduces a logic layer. These Auth changes are designed to better support the way we work with that layer.
</li></ul><ul><li>Different CKAN extension apps may need radically different authentication/authorisation so we need to allow whatever we have to be override-able.
</li></ul><p>
The first two changes revolve around the is_authorized method, which
is called by the logic layer to ask whether a particular user (e.g.
Bob) is allowed to do a certain action (e.g. edit) on a certain object (e.g. Package).
</p>
<ol><li>The first thing the is_authorized method is a hook to a plugin
</li></ol><p>
which *overrides* the current call with its own implementation (note: in previous discussions we have considered allowing a chain of plugins, no longer!)
</p>
<p>
Reason: authorization can be completely delegated to another system
(or partially)
</p>
<ol start="2"><li>is_authorized method currently takes (username, action, object)
</li></ol><p>
but for action=create_package, the object supplied is System, and for action=edit the object supplied is the package. Instead action should always be the string name of a function in the logic layer and object should always be the object passed to that function. This means our auth system is based around the actual actions we are performing (rather than a model them) and with the actual data that forms the action (rather than a related object). You never need a System object in this model.
</p>
<ol start="3"><li>Rename these two classes to better reflect what they are
<ul><li><a class="missing wiki">AuthorizationGroup?</a> -&gt; <a class="missing wiki">UserGroup?</a>
</li><li>Group -&gt; <a class="missing wiki">PackageGroup?</a>
</li></ul></li></ol><ol start="4"><li>Rename the Editor role to <a class="missing wiki">PriveledgeUser?</a> since Editors sometimes can't edit.
</li></ol><p>
Although this sounds a bit radical we already have auth extensions.
</p>
<h2 id="Read-onlyCKANWebUI">Read-only CKAN Web UI</h2>
<p>
(Additional requirement from <a class="closed ticket" href="../ticket/764.html" title="enhancement: Read-only CKAN Web UI (closed: duplicate)">#764</a>)
</p>
<p>
Whilse using CKAN web interface, you are not tempted to edit stuff:
</p>
<ul><li>You know at all times this CKAN is read-only
</li><li>All editing facilities are still seen but greyed-out with an indication why it is.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1303117973000000
                          </td>
                          <td class="ModifiedTime">1311173649000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1129.html">#1129</a>
                          </td>
                          <td class="type">CREP
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1129.html">CREP0002: Moderated  Edits</a>
                          </td>
                          <td class="description">
                            <p>
<strong>Proposer:</strong> David Raznick<br />
</p>
<h2 id="Abstract.">Abstract.</h2>
<p>
We are trying to achieve these goals.
</p>
<ul><li>To get people involved with making edits to CKAN metadata. 
</li><li>To have an ownership model as to who can moderate and validate these changes
</li><li>To not put too huge a burden on these owners.
</li></ul><p>
In order to achieve this, a feature which lets anyone edit a package but only let the moderator/owner accept it.  The moderator should be able to look at a list of changes and accept the ones that
</p>
<p>
This cep is not about 'if' we need such a feature, it is about 'how' we go about implementing it. Another cep may needed for the 'if' case.
</p>
<h2 id="TheProblem">The Problem</h2>
<p>
We need the following to be possible.
</p>
<ul><li>Storing revision of objects that are not the current active one.
</li><li>A way of the user viewing past revisions.
</li><li>Accessing not only the history of a particular object but also of related objects at that time. i.e If a resource related to a package changes we need a way to see this when looking at the package.
</li><li>A robust way of doing this in the face of database schema changes.
</li><li>Make sure database queries are quick.
</li></ul><h2 id="Solutions.">Solutions.</h2>
<ol><li> Store the whole dictization of the package and all its related objects every time you change anything in its dictized representation and only save to the database proper if accepted.
</li></ol><blockquote>
<p>
Pros
</p>
</blockquote>
<ul><li>Easy to implement, we already have a preview which makes the dictized form of a package without actually saving it.  This will just need to be persisted in some way.
</li><li>Fast retrieval.
</li><li>Potential to store a branching revision tree of changes.
</li></ul><blockquote>
<p>
Cons
</p>
</blockquote>
<ul><li>No easy way to remake the dictized packages historically or if there is an there a change in the way we represent packages, i.e schema changes.
</li><li>Will only work for the particular objects we decide to store these changes for.
</li><li>Stores a lot of repeated information
</li></ul><ol start="2"><li> Write specialized queries for every read of the database looking only at the revision tables.
</li></ol><p>
This method requires there to be a change in the way we use VDM, so that we manage statefulness ourselves. We will need to add other states such as 'waiting for approval'.
</p>
<blockquote>
<p>
Pros
</p>
</blockquote>
<ul><li>No specialized storage required
</li><li>Only need to change queries when schema changes
</li><li>Can be made to work easily for other objects
</li></ul><blockquote>
<p>
Cons
</p>
</blockquote>
<ul><li>Slower query time on read, as even looking at the last active package will need to do a fairly complicated query.
</li></ul><h2 id="Implementationdetails.">Implementation details.</h2>
<p>
1.
</p>
<blockquote>
<p>
A new table with columns  id, user, package_id, timestamp, revision_id, parent_id, dictized_package.
revision_id should be null unless it is actually persisted to the database.  parent_id is the id that this package_dict was changed from.
</p>
</blockquote>
<blockquote>
<p>
We could store only the diffs of the dictized_package as long as we assure that everything inside the json is stably sorted, this will make getting the historical data out slower.
</p>
</blockquote>
<blockquote>
<p>
Getting out the history of the dictized packages is an intensive task, as it will require replaying the whole history of all the changes and creating the dict for each change.  This re-caching will need to be redone for every change we make to dictized representation of a package.
</p>
</blockquote>
<p>
2.
</p>
<blockquote>
<p>
Every normal packages read needs to look at the revision table to see the last accepted change in the dictized representation of the package. 
We also need to way to get what the dictized representation of the package was like at any point of its revision history.  This querying is non-trivial in sql.
</p>
</blockquote>
<h3 id="Participants">Participants</h3>
<p>
David Raznick to do it.
</p>
<h2 id="Progress.">Progress.</h2>
<p>
Decided to go with option 2. However we will change the revisioning system to be like the schema attached.
This gets rid of difficult querying problems caused by querying the revision tables by adding an end date, meaning you can do range queries.
</p>
<p>
The better and more normalized version of a revisioning system is outlined <a class="ext-link" href="https://docs.google.com/drawings/d/1Y7nMgVsrs081Pame2RdbZHlCAlV33ddTZ8VAsab1j-0/edit?hl=en_GB&amp;authkey=CJfd8vsB"><span class="icon">​</span>https://docs.google.com/drawings/d/1Y7nMgVsrs081Pame2RdbZHlCAlV33ddTZ8VAsab1j-0/edit?hl=en_GB&amp;authkey=CJfd8vsB</a>. 
We will be a step closer to that, with this change, but we will keep the current vdm more or less, intact.
</p>

                            
                          </td>
                          <td class="PosixTime">1304851498000000
                          </td>
                          <td class="ModifiedTime">1325268100000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1140.html">#1140</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1140.html">Adding the package to the group is not search indexed</a>
                          </td>
                          <td class="description">
                            <p>
To reproduce:
</p>
<ol><li><tt>paster db init</tt>
</li><li><tt>paster create-test-data</tt>
</li><li>In Web UI: create new group 'tilo', which includes package 'annakarenina'
</li><li><tt>curl http://localhost:5000/api/search/package?groups=tilo</tt>  results in 0 results (WRONG)
</li><li><tt>paster search-index rebuild</tt>
</li><li><tt>curl http://localhost:5000/api/search/package?groups=tilo</tt>  results in 1 result
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1305718290000000
                          </td>
                          <td class="ModifiedTime">1312537257000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1142.html">#1142</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">annapowellsmith
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1142.html">[super] Major Overhaul and Extension of CKAN Documentation</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets:
</p>
<ul><li><a class="assigned ticket" href="../ticket/1041.html" title="enhancement: Start Using the CKAN Wiki for Tutorial-style documentation (assigned)">#1041</a> Start Using the CKAN Wiki for Tutorial-style documentation
</li><li><a class="closed ticket" href="../ticket/1192.html" title="task: Convert CKAN Sphinx docs into admin/reference manual (closed: fixed)">#1192</a> Convert CKAN Sphinx docs into admin/reference manual
</li></ul><p>
Previous super ticket (from 3m ago): <a class="ext-link" href="http://trac.ckan.org/ticket/927"><span class="icon">​</span>http://trac.ckan.org/ticket/927</a>
</p>
<ul><li>CKAN 1-page overview (for enterprise and for data hackers)
</li><li>Administrator's Guide (including install)
</li><li>Extensions Guide
</li><li>Separate CKAN.net info from Software Documentation (?)
</li></ul><p>
Also now a wiki page with more detail: <a class="ext-link" href="http://wiki.ckan.net/Documentation_Plans"><span class="icon">​</span>http://wiki.ckan.net/Documentation_Plans</a>
</p>
<h2 id="MinorItems">Minor Items</h2>

                            
                          </td>
                          <td class="PosixTime">1305727452000000
                          </td>
                          <td class="ModifiedTime">1313775665000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1190.html">#1190</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1190.html">[super] CREP 0004 Data API and Data Processing System</a>
                          </td>
                          <td class="description">
                            <p>
For some time (e.g. 1y+!) we have known that we want to integrate some kind of datastore / data processing system with CKAN. We've had a CREP in progress on this for some months (may copy that here at some point):
</p>
<p>
<a class="ext-link" href="http://wiki.ckan.org/CEP0004"><span class="icon">​</span>http://wiki.ckan.org/CEP0004</a>
</p>
<p>
We can distinguish 3 modules that are needed:
</p>
<ol><li>"Webstore": A datastore with dataapi - <a class="closed ticket" href="../ticket/1208.html" title="enhancement: Webstore: a datastore with web API (closed: fixed)">#1208</a>
</li></ol><p>
Suggestion is this would be sqlite based with a simple sql based API. <a class="ext-link" href="http://ckan.net/api/data/{user|org}/{datastore_name}?q={some-read-sql-query"><span class="icon">​</span>http://ckan.net/api/data/{user|org}/{datastore_name}?q={some-read-sql-query</a>}
</p>
<ol start="2"><li>Automated conversion of suitable resources into datastore upon resource creation so that e.g. they are accessible via the API. <a class="closed ticket" href="../ticket/1398.html" title="enhancement: Automated conversion of resource data into webstore (closed: fixed)">#1398</a>
</li></ol><ol start="3"><li>A data processing system which utilizes this datastore. One could
</li></ol><p>
get a long way with simple javascript running in the browser for development with this javascript then run offline using something like nodejs. Alternatively one could allow one to specify a url to e.g. a python file which would then be run in a sandbox (with access to some specified set of python modules) - <a class="new ticket" href="../ticket/1432.html" title="enhancement: [super] Data processing system for CKAN and Webstore (new)">#1432</a>
</p>
<h2 id="Moreinfo">More info</h2>
<ul><li>Overview diagram: <a class="ext-link" href="https://docs.google.com/drawings/d/1XK7dcpFXNlMzVFgLPYPZUXOsFRPzgCEvS-w7FcvydEQ/edit?hl=en_GB"><span class="icon">​</span>https://docs.google.com/drawings/d/1XK7dcpFXNlMzVFgLPYPZUXOsFRPzgCEvS-w7FcvydEQ/edit?hl=en_GB</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1308227611000000
                          </td>
                          <td class="ModifiedTime">1323270522000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1211.html">#1211</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1211.html">[super] Drupal integration</a>
                          </td>
                          <td class="description">
                            <p>
Sub-tasks / tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1335.html" title="enhancement: Action API - basic (closed: fixed)">#1335</a> Action API - access to any logic layer function
</li><li>Standardize logic functions on ordering: (context, data_dict) and put parameters into data_dict.
</li><li>Add package_create_validate &amp; package_update_validate logic functions
</li><li>Allow extensions to provide logic layer functions (IActions)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1309958442000000
                          </td>
                          <td class="ModifiedTime">1315948703000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1245.html">#1245</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1245.html">Reorganise ckan.org pages</a>
                          </td>
                          <td class="description">
                            <p>
Here is Rufus' plan for ckan.org reorganisation from <a class="ext-link" href="http://ckan.okfnpad.org/documentation"><span class="icon">​</span>http://ckan.okfnpad.org/documentation</a> (22/7/11) (ticket made by dread):
</p>
<pre class="wiki">/solutions
  /overview &lt;--- current 'about' page (the software)
  /customers &lt;-- say "in addition to our clients..."
  /features &lt;-- needs most work (pictures etc)
/pricing/  &lt;-- simplest thing possible ... talk with Ira (cover pricing and support)
/developers &lt;--- links to http://docs.ckan.org/, getting the software, the wiki, the mailing list /contact
/blog
</pre><p>
Tasks: 
</p>
<ul><li>add tagline in header - "the data portal software"
</li><li>make and add glossy PDF
</li><li>change "data hub" to "data portal" passim (if only using one  term)
</li><li>add info@… 
</li><li>image banner on home page - redo screenshots without menus
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1311861708000000
                          </td>
                          <td class="ModifiedTime">1317422640000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1249.html">#1249</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1249.html">Exclude script tag from extraction for i18n</a>
                          </td>
                          <td class="description">
                            <p>
Currently have this script section put in for i18n. It shouldn't be. 
</p>
<pre class="wiki">&lt;script type="text/javascript"&gt;
//&lt;![CDATA[
(function($){
    $.fn.ajaxCreateSlug = function(name, url) {
        var title = this;
        var updater = {
            init: function(title, name) {
                // Add a new element where the validity of the package name can be displayed
                this.name_field = name;
                this.title_field = title;
                this.name_field.parent().append('&lt;div id="package_name_valid_msg"&gt;&lt;/div&gt;');
                this.title_field.blur(this.title_change_handler())
                this.title_field.keyup(this.title_change_handler())
                this.name_field.keyup(this.name_change_handler());
                this.name_field.blur(this.name_blur_handler());
                this.url = url;
            },
....
</pre>
                            
                          </td>
                          <td class="PosixTime">1311958536000000
                          </td>
                          <td class="ModifiedTime">1311959356000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1250.html">#1250</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1250.html">Search results should be sorted by score rather than alphabetical</a>
                          </td>
                          <td class="description">
                            <p>
At the moment we sort search results alphabetically. While this is useful for doing 'browse' case where no search bad for all other cases.
</p>
<p>
Adopt default sort order of 'score' though may wish to keep alphabetical for no search term (i.e. wildcard).
</p>
<p>
Options:
</p>
<ul><li>Default this in solr (no need to touch code) but fragile and affects everything ...
</li><li>Do it in code and default to score
</li><li>Do it in code and have alphabetical (on name or title?) when no criteria otherwise score
</li></ul><p>
Aside: may also wish to support search in query api but that is for later!
</p>

                            
                          </td>
                          <td class="PosixTime">1311964752000000
                          </td>
                          <td class="ModifiedTime">1312370201000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1252.html">#1252</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1252.html">Deprecate ckan.net in favour of thedatahub.org</a>
                          </td>
                          <td class="description">
                            <p>
Deprecate ckan.net in favour of thedatahub.org
</p>
<ul><li>Announce
</li><li>Create thedatahub.org and have it run same data as ckan.net
</li><li>Announce closing down of ckan.net with 302
</li><li>Implement 302 permanent
</li></ul><p>
Also redirect wiki.ckan.net to wiki.ckan.org
</p>

                            
                          </td>
                          <td class="PosixTime">1311965339000000
                          </td>
                          <td class="ModifiedTime">1318160334000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1282.html">#1282</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1282.html">JS and WUI tidy up</a>
                          </td>
                          <td class="description">
                            <p>
Consolidate js. Remove cruft.
</p>
<ul><li>Move stuff to vendor
<ul><li>Have all vendor libs local (?)                                             
</li><li>jquery, jquery-ui etc
</li></ul></li><li>Consolidate autocomplete to use jquery-ui
<ul><li>package autocomplete (groups)
</li><li>tag autocomplete (package)
</li><li>user autocomplete (authz group create)
<ul><li>turns out that authz group edit had autocomplete disabled so refactoring meant enabling ...
</li></ul></li></ul></li><li>Move forms.css into main  
</li><li>Remove tag cloud from front page (can be example going forward)
</li><li>Remove bookmarklet (since in wiki at: <a class="ext-link" href="http://wiki.ckan.net/Managing_Data_Packages#How_Do_I_Install_the_CKAN_Bookmarklet.3F"><span class="icon">​</span>http://wiki.ckan.net/Managing_Data_Packages#How_Do_I_Install_the_CKAN_Bookmarklet.3F</a>)
</li><li>Move name slug generation into standard js and clean up
</li></ul><p>
Possible:
</p>
<ol><li>JS unit tests for the given pages ...
</li><li>Option to use external site to serve js and css (e.g. CDN)
</li></ol><p>
                                                       
</p>

                            
                          </td>
                          <td class="PosixTime">1314090389000000
                          </td>
                          <td class="ModifiedTime">1314404540000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1294.html">#1294</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1294.html">[super] Package creation and editing UX improvements</a>
                          </td>
                          <td class="description">
                            <p>
Largely an integration of work from ckanjs
</p>
<ul><li><a class="closed ticket" href="../ticket/1295.html" title="enhancement: Simplify package create form (closed: fixed)">#1295</a> Simplify package create form
</li><li>Improvements to edit form
<ul><li>Split edit form into sections
</li><li>Remove preview from edit form (introduce inline preview on description/notes field)
</li></ul></li><li><a class="closed ticket" href="../ticket/1296.html" title="enhancement: Improved resource adding/editing on dataset/page page (closed: fixed)">#1296</a> Improved resource adding/editing on dataset/page page
</li><li><a class="closed ticket" href="../ticket/878.html" title="enhancement: Integrate file upload with workflow around package resources (closed: fixed)">#878</a> File upload integrated into resource creation
</li><li><a class="closed ticket" href="../ticket/1297.html" title="enhancement: In-place preview of edited description markdown on edit dataset form (closed: fixed)">#1297</a> In-place editing of notes field for existing packages
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1314405811000000
                          </td>
                          <td class="ModifiedTime">1315948257000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1353.html">#1353</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">nickstenning
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1353.html">No UI to remove resources</a>
                          </td>
                          <td class="description">
                            <p>
I have no idea whether this was a deliberate decision or not, but there is a total absence of any UI with which to delete resources from the currently deployed version of thedatahub.org.
</p>

                            
                          </td>
                          <td class="PosixTime">1316729765000000
                          </td>
                          <td class="ModifiedTime">1317075904000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1354.html">#1354</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1354.html">Pass the context object to plugins implementing the IPackageController and IGroupController</a>
                          </td>
                          <td class="description">
                            <p>
Plugins implementing some IPackageController or IGroupController operations (i.e. read, create, edit, delete) may need the context used in the logic action. For instance, to access the Session that created a package to perform additional queries from the extension (In that case the main logic action will still perform the final commit).
</p>

                            
                          </td>
                          <td class="PosixTime">1316955680000000
                          </td>
                          <td class="ModifiedTime">1316970374000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1361.html">#1361</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1361.html">Simple search support</a>
                          </td>
                          <td class="description">
                            <p>
Would be nice if CKAN could work out of the box without the need for SOLR (solr is great but complex and heavyweight to install).
</p>
<p>
Propose:
</p>
<ul><li>ckan.simple_search config option
</li><li>If set:
<ul><li>query via simple query to database backend
</li><li>do no specialized indexing
</li></ul></li></ul><h2 id="Extras">Extras</h2>
<p>
Remove
</p>
<ul><li><a class="missing wiki">TagSearchQuery?</a> from lib/search (just do a search directly)?
</li><li><a class="closed ticket" href="../ticket/1360.html" title="enhancement: Remove support for filter by download and filter by openness in search (closed: fixed)">#1360</a>: filter by downloadable and filter by open search options
</li></ul><h2 id="PossibleExtras">Possible Extras</h2>
<p>
(Probably future improvements)
</p>
<ul><li>Re-introduce full-text search indexing where supported in e.g. postgres and use for querying
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1317078276000000
                          </td>
                          <td class="ModifiedTime">1317082893000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1410.html">#1410</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">zephod
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1410.html">Add Gravatars to user profiles</a>
                          </td>
                          <td class="description">
                            <p>
Since we now require email addresses, it's sensible to request users' gravatars to add a little flavour to their user profile (and, potentially, other places eg. comments threads?)
</p>

                            
                          </td>
                          <td class="PosixTime">1319200774000000
                          </td>
                          <td class="ModifiedTime">1319213205000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1431.html">#1431</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1431.html">Captcha field - foreign chars cause exception</a>
                          </td>
                          <td class="description">
                            <p>
During registering a user, the user inputs foreign chars into the captcha field.
</p>
<pre class="wiki">URL: http://thedatahub.org/user/register
...
Module ckan.lib.captcha:22 in check_recaptcha
&lt;&lt;                                     remoteip=client_ip_address,
                                          challenge=recaptcha_challenge_field,
                                          response=recaptcha_response_field))
           f = urllib2.urlopen(recaptcha_server_name, params)
           data = f.read()
&gt;&gt;  response=recaptcha_response_field))
Module urllib:1267 in urlencode
&lt;&lt;          for k, v in query:
                   k = quote_plus(str(k))
                   v = quote_plus(str(v))
                   l.append(k + '=' + v)
           else:
&gt;&gt;  v = quote_plus(str(v))
UnicodeEncodeError: 'ascii' codec can't encode character u'\xea' in position 0: ordinal not in range(128)
</pre>
                            
                          </td>
                          <td class="PosixTime">1320078849000000
                          </td>
                          <td class="ModifiedTime">1320084104000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1083.html">#1083</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1083.html">userobjectroles added twice can't be deleted</a>
                          </td>
                          <td class="description">
                            <p>
the add_user_to_role/remove_user_from_role functions are asymmetrical
in that the add function is happy to add the same role twice but the remove asserts that it's only in the table once and crashes if that's not true.
</p>
<p>
an attempt has been made to guard against this, but fails, I think because the add functions rely on the caller committing the change to the db.
</p>
<p>
same problem affects corresponding authorization_group functions
</p>
<p>
I'll try to sort this out. Making a note here.
</p>

                            
                          </td>
                          <td class="PosixTime">1302550660000000
                          </td>
                          <td class="ModifiedTime">1305537827000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1146.html">#1146</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1146.html">make logic layer control its own state</a>
                          </td>
                          <td class="description">
                            <p>
Logic layer should not use any vdm defined state and should manage it itself.
</p>

                            
                          </td>
                          <td class="PosixTime">1305829117000000
                          </td>
                          <td class="ModifiedTime">1307957527000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1147.html">#1147</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1147.html">Add expired_id to all revision tables.</a>
                          </td>
                          <td class="description">
                            <p>
Revision tables need expired_id to make querying history AND pending changes more efficient.
</p>
<p>
This involves making a session extension and a large table migration.
</p>

                            
                          </td>
                          <td class="PosixTime">1305839833000000
                          </td>
                          <td class="ModifiedTime">1307957556000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1148.html">#1148</a>
                          </td>
                          <td class="type">refactor
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1148.html">test speed improvements and cleanup</a>
                          </td>
                          <td class="description">
                            <p>
The tests have been running slower recently and need fixing.  They also could do with a bit more consistency to them.
</p>

                            
                          </td>
                          <td class="PosixTime">1305969223000000
                          </td>
                          <td class="ModifiedTime">1305969925000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1149.html">#1149</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1149.html">Change domain object modification plugin to use Session extension.</a>
                          </td>
                          <td class="description">
                            <p>
This should make it more efficient as it currently does a lot of repeating work.  i.e if you change a package and a resource in the same commit it sends out 2 notifications and should only really send out 1.   
</p>

                            
                          </td>
                          <td class="PosixTime">1305969863000000
                          </td>
                          <td class="ModifiedTime">1306090663000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1143.html">#1143</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-2.html">ckan-v1.5-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1143.html">Improve stats page</a>
                          </td>
                          <td class="description">
                            <ul><li>Ensure we don't include deleted packages in the stats
</li><li>Some visual improvements:
<ul><li>Number of packages:
<ul><li>fix x axis to start at first revision
</li><li>fix y axis to start at zero
</li></ul></li><li>Fix problem with legend to 'Revisions to packages' graph.
</li><li>Hide sidebar in the template, so it isn't right-cropped in the DGU theme
</li></ul></li><li>Add some testing of the stats lib - results of basic stats
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1305734836000000
                          </td>
                          <td class="ModifiedTime">1307024681000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1169.html">#1169</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-2.html">ckan-v1.5-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1169.html">Link to csv/json dumps on ckan.net</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1306749768000000
                          </td>
                          <td class="ModifiedTime">1306754833000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1170.html">#1170</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-2.html">ckan-v1.5-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1170.html">Production deployment docs out of date</a>
                          </td>
                          <td class="description">
                            <p>
Need to cover pip-requirements.txt on different branches in the doc/deployment.rst. 
</p>
<p>
Also could do with tidying up upgrade.txt into this document too.
</p>

                            
                          </td>
                          <td class="PosixTime">1306864171000000
                          </td>
                          <td class="ModifiedTime">1306864422000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1180.html">#1180</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-3.html">ckan-v1.5-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1180.html">Links in markdown can be badly formed</a>
                          </td>
                          <td class="description">
                            <p>
User can insert bad anchor tags into the User-About and Package-Notes fields and when you view them (web interface) it causes a 500 error.
</p>
<p>
Need to improve filtering for anchors in markdown.
</p>
<pre class="wiki">&lt;a href="http://xxxsex.com&gt;nasty/website
</pre><p>
Also check this related exception:
</p>
<pre class="wiki">Module ckan.controllers.user:59 in read
&lt;&lt;          c.is_myself = user.name == c.user
               c.api_key = user.apikey
               c.about_formatted = self._format_about(user.about)
               revisions_q = model.Session.query(model.Revision
                       ).filter_by(author=user.name)
&gt;&gt;  c.about_formatted = self._format_about(user.about)
Module ckan.controllers.user:167 in _format_about
&lt;&lt;      def _format_about(self, about):
               about_formatted = ckan.misc.MarkdownFormat().to_html(about)
               return genshi.HTML(about_formatted) 
       
           def _get_form_password(self):
&gt;&gt;  return genshi.HTML(about_formatted)
WebApp Error: &lt;class 'genshi.input.ParseError'&gt;: junk characters in start tag: u'\u201dhttp://www.settingu': line 1, column 3
</pre>
                            
                          </td>
                          <td class="PosixTime">1307469037000000
                          </td>
                          <td class="ModifiedTime">1307544223000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1187.html">#1187</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-3.html">ckan-v1.5-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1187.html">Stop spam users with links in the 'about' field</a>
                          </td>
                          <td class="description">
                            <p>
When you edit a user, you should be stopped from putting links in the 'about' field, because this is a common tactic by spammers.
</p>

                            
                          </td>
                          <td class="PosixTime">1308142999000000
                          </td>
                          <td class="ModifiedTime">1308143605000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1191.html">#1191</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-3.html">ckan-v1.5-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1191.html">Unicode in user password gives 500 error on user registration</a>
                          </td>
                          <td class="description">
                            <p>
Create/register a user with a unicode character in the password. It creates the user, but the redirect to the user page doesn't work and results in 500 error.
</p>

                            
                          </td>
                          <td class="PosixTime">1308312895000000
                          </td>
                          <td class="ModifiedTime">1308650930000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1196.html">#1196</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-3.html">ckan-v1.5-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1196.html">Markdown logging ignores config settings</a>
                          </td>
                          <td class="description">
                            <p>
Markdown produces Debug logging, even when the pylons logging config is set to level of Info or Warning. This clogs up the logfile.
</p>

                            
                          </td>
                          <td class="PosixTime">1308743476000000
                          </td>
                          <td class="ModifiedTime">1308743857000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1210.html">#1210</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-4.html">ckan-v1.5-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1210.html">POST application/json error handling with newer WebOb</a>
                          </td>
                          <td class="description">
                            <p>
<a class="missing wiki">WebOb?</a> from v1.0.7 has some interesting new behaviour with reading request data for different Content-Types:
</p>
<ul><li>It seems that looking at request.body mangles request.POST. See fix in ckan cset:e83bad9caa1b (problem with <a class="missing wiki">WebOb?</a> v1.0.7 but may go back to v1.0.4?)
</li></ul><ul><li>A particular request caused an <a class="missing wiki">AssertionError?</a> during looking at request.body, so we need to enclose this in a try/except. I couldn't recreate it in a test unfortunately (problem with <a class="missing wiki">WebOb?</a> v1.0.7 but may go back to v1.0.2?)
</li></ul><p>
Example:
</p>
<pre class="wiki">Module ckan.controllers.api:206 in create
&lt;&lt;          log.debug('create: %s' % (context))
               try:
                   request_data = self._get_request_data()
               except ValueError, inst:
                   response.status_int = 400
&gt;&gt;  request_data = self._get_request_data()
Module ckan.lib.base:149 in _get_request_data
&lt;&lt;          cls.log.debug('Retrieving request params: %r' % request.params)
               cls.log.debug('Retrieving request POST: %r' % request.POST)
               cls.log.debug('Retrieving request POST body: %r' % request.body)
               if request.POST:
                   try:
&gt;&gt;  cls.log.debug('Retrieving request POST body: %r' % request.body)
Module paste.registry:137 in __getattr__
&lt;&lt;      
           def __getattr__(self, attr):
               return getattr(self._current_obj(), attr)
           
           def __setattr__(self, attr, value):
&gt;&gt;  return getattr(self._current_obj(), attr)
Module webob.request:470 in _body__get
&lt;&lt;          Return the content of the request body.
               """
               self.make_body_seekable() # we need this to have content_length
               r = self.body_file.read(self.content_length)
               self.body_file.seek(0)
&gt;&gt;  self.make_body_seekable() # we need this to have content_length
Module webob.request:697 in make_body_seekable
&lt;&lt;              self.body_file_raw.seek(0)
               else:
                   self.copy_body()
&gt;&gt;  self.copy_body()
Module webob.request:714 in copy_body
&lt;&lt;                  self.body = self.body_file_raw.read(length)
               elif self.is_body_readable:
                   self.body = self.body_file_raw.read()
                   self._copy_body_tempfile()
               else:
&gt;&gt;  self.body = self.body_file_raw.read()
Module webob.request:1190 in read
&lt;&lt;      def read(self, size=-1):
               body = self._get_body()
               if size &lt; 0:
                   v = body[self.position:]
&gt;&gt;  body = self._get_body()
Module webob.request:1207 in _get_body
&lt;&lt;                  self._body = _encode_multipart(self.vars, self.content_type)
                   else:
                       assert 0, ('Bad content type: %r' % self.content_type)
               return self._body
&gt;&gt;  assert 0, ('Bad content type: %r' % self.content_type)
AssertionError: Bad content type: '; charset=utf-8'
</pre>
                            
                          </td>
                          <td class="PosixTime">1309949451000000
                          </td>
                          <td class="ModifiedTime">1309974781000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/890.html">#890</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/890.html">Introduce timed actions into ckanext-queue</a>
                          </td>
                          <td class="description">
                            <p>
The ckan queuing system should provide the option to subscribe to timed re-submissions of specific resources. This could look as follows: 
</p>
<ul><li>routing_key: Package 
</li><li>operation: daily 
</li><li>payload: pkg.as_dict() 
</li></ul><p>
Where operation is one of daily, weekly, monthly or any other interval. 
</p>

                            
                          </td>
                          <td class="PosixTime">1294050769000000
                          </td>
                          <td class="ModifiedTime">1318599247000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/945.html">#945</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/945.html">[super] Richer resources - Resource Groups, new fields, improved UI</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1032.html" title="enhancement: [super] Resources in WUI (closed: fixed)">#1032</a>
</p>
<p>
This is a meta ticket for changes that are going to happen in resources.
</p>
<ul><li>New resource group table.  <a class="closed ticket" href="../ticket/956.html" title="enhancement: Add a resource group table. (closed: fixed)">#956</a>
</li><li>New kind field in resource.  <a class="closed ticket" href="../ticket/957.html" title="enhancement: new &#34;kind &#34; field added to resources (closed: wontfix)">#957</a>
</li><li>UI for new kind field. <a class="closed ticket" href="../ticket/958.html" title="enhancement: ui for new kind field (closed: duplicate)">#958</a>
</li><li>Resources in REST API <a class="closed ticket" href="../ticket/358.html" title="enhancement: Resources in REST API (closed: duplicate)">ticket:358</a>
</li><li>Resources in WUI <a class="closed ticket" href="../ticket/1445.html" title="enhancement: Resource View page in WUI (closed: fixed)">#1445</a>
</li><li>Make Resources first class entity. <a class="closed ticket" href="../ticket/922.html" title="enhancement: Make Resources first class entity. (closed: duplicate)">#922</a> (duplicate?)
</li></ul><p>
Background on this change can be found at:
</p>
<ul><li><a class="ext-link" href="http://ckan.okfnpad.org/resources"><span class="icon">​</span>http://ckan.okfnpad.org/resources</a> - discussion etherpad
<ul><li>Contains commented version of James Gardner's main email: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2011-February/000887.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2011-February/000887.html</a>
</li></ul></li><li><a class="wiki" href="../wiki/UseCasesResources.html">UseCasesResources</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1296475283000000
                          </td>
                          <td class="ModifiedTime">1325259350000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1032.html">[super] Resources in WUI</a>
                          </td>
                          <td class="description">
                            <p>
Add resources into Web User Interface.
</p>
<ul><li>Locate at: /dataset/{dataset}/resource/{id}
</li><li>CRUD
</li><li>Authorization
</li></ul><p>
Done:
</p>
<ul><li><del><a class="closed ticket" href="../ticket/945.html" title="enhancement: [super] Richer resources - Resource Groups, new fields, improved UI (closed: fixed)">#945</a> - Richer resources - Resource Groups, new fields, improved UI</del>
</li><li><del><a class="closed ticket" href="../ticket/1445.html" title="enhancement: Resource View page in WUI (closed: fixed)">#1445</a> - Resource View page in WUI</del>
</li><li><del><a class="closed ticket" href="../ticket/1450.html" title="enhancement: Simplify dataset view page (closed: fixed)">#1450</a> - Dataset view pages to match</del>
</li></ul><p>
Moved to superticket <a class="closed ticket" href="../ticket/1506.html" title="enhancement: [super] UX improvements to dataset edit, create and search + group + user ... (closed: fixed)">#1506</a>: 
</p>
<ul><li><a class="closed ticket" href="../ticket/978.html" title="enhancement: Edit Resource including Extras in Web UI (closed: fixed)">#978</a> - Edit Resource Extras in Web UI
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1299782021000000
                          </td>
                          <td class="ModifiedTime">1330348463000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1065.html">[super] Change Authorization System</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets
</p>
<ul><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li><li><a class="closed ticket" href="../ticket/1050.html" title="enhancement: Authz lib improvement and refactor of ckan/lib/authztool.py (closed: invalid)">#1050</a> Authz lib improvement and refactor of ckan/lib/authztool.py
</li><li><a class="closed ticket" href="../ticket/1004.html" title="defect: Group creation instructions missing (closed: fixed)">#1004</a> Group creation instructions missing
</li><li><a class="closed ticket" href="../ticket/1099.html" title="defect: strange interactions between two browsers while playing with authz groups (closed: wontfix)">#1099</a> Strange interactions between two browsers while playing with authz groups
</li><li><a class="closed ticket" href="../ticket/1115.html" title="defect: can have two authzgroups with the same name (closed: wontfix)">#1115</a> can have two authzgroups with the same name
</li><li><a class="closed ticket" href="../ticket/1133.html" title="defect: command line rights manipulation doesn't work (closed: worksforme)">#1133</a> command line rights manipulation doesn't work
</li><li><a class="closed ticket" href="../ticket/1138.html" title="enhancement: minor navigations behave inconsistently (closed: invalid)">#1138</a> minor navigations behave inconsistently
</li></ul><p>
Old ticket description:
</p>
<ol><li>Change name of <a class="missing wiki">AuthzGroup?</a> to <a class="missing wiki">UserGroup?</a> to reflect what it is for
</li></ol><ol start="2"><li>Get rid of Roles, and replace them with direct assignment of actions, even though there are many actions, and extensions can add arbitrary ones.
<ul><li>Debatable whether we should cut the number of actions to correspond to the three roles defined by the base system.
</li><li>Have a method of finding roles (or, in future, actions) relevant to a given protection object (e.g. FILE-UPLOAD(ER) not relevant to Packages)
</li></ul></li></ol><ol start="3"><li>Change <a class="missing wiki">UserGroups?</a> so that they can have a hierarchical structure, 
</li></ol><h2 id="MoreinfoonHierarchychange">More info on Hierarchy change</h2>
<p>
e.g. <a class="missing wiki">UserGroup?</a> NHS contains the User nhsysadmin, as well as the 
<a class="missing wiki">UserGroups?</a> SURREY and BERKS, which themselves contain users.
</p>
<p>
One user in SURREY is Simon the Sysadmin, who has permissions on the whole system. His permissions should not leak out to other users or groups, and user permissions generally should not.
</p>
<p>
Each Group has permissions over various objects.
</p>
<p>
A user has permissions in his own right, and also has the permissions of his own group, and of all the groups contained in his group, and so on recursively.
</p>
<p>
Algorithm:
</p>
<p>
possible(user, action, package):
</p>
<blockquote>
<p>
if user has permission for action on package
</p>
<blockquote>
<p>
or any of have that permission
</p>
<blockquote>
<p>
or any of his groups group-children (but not user-children), and so on recursively have the permission.
</p>
</blockquote>
</blockquote>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1301508331000000
                          </td>
                          <td class="ModifiedTime">1324550041000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1327.html">#1327</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1327.html">[super] Dataset Archiving</a>
                          </td>
                          <td class="description">
                            <p>
Split out of <a class="closed ticket" href="../ticket/852.html" title="enhancement: [super] Dataset upload and archiving (closed: fixed)">#852</a>. Automated archiving of datasets (related to QA).
</p>
<p>
<strong> Automated archiving using worker process </strong>
</p>
<ul><li><a class="closed ticket" href="../ticket/890.html" title="enhancement: Introduce timed actions into ckanext-queue (closed: invalid)">#890</a> - Timed actions in ckanext-queue
</li><li><a class="closed ticket" href="../ticket/891.html" title="task: Resource download worker daemon (closed: fixed)">#891</a> - Resource download worker daemon
</li><li><a class="closed ticket" href="../ticket/892.html" title="enhancement: Make stored data available in WUI - 0.5d (closed: fixed)">#892</a> - Make stored data available in WUI
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1315821490000000
                          </td>
                          <td class="ModifiedTime">1320662446000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1402.html">#1402</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1402.html">Migrate repository from mercurial to git</a>
                          </td>
                          <td class="description">
                            <p>
Plan to migrate from mercurial git
</p>
<ul><li>Convert from mercurial to git
<ul><li>Map named branches to normal branches
</li><li>Also, if possible map usernames for RP: rgrp &lt;<a class="ext-link" href="http://rufuspollock.org/"><span class="icon">​</span>http://rufuspollock.org/</a>&gt; (mercurial) -&gt; rgrp &lt;rufus.pollock@…&gt;
</li></ul></li><li>Place at <a class="ext-link" href="http://github.com/okfn/ckan"><span class="icon">​</span>http://github.com/okfn/ckan</a> (can delete current repo there as an out of date mirror)
</li></ul><p>
Process:
</p>
<ul><li>Do trial run
</li><li>Announce conversion date / time
</li><li>Require everyone to have pushed <strong>all</strong> outstanding changes at that time
</li><li>Do conversion
</li><li>Test
</li><li>Announce on list and ckan.org/
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1318811651000000
                          </td>
                          <td class="ModifiedTime">1324334011000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1435.html">#1435</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1435.html">Switch to continuous.io for buildbot (?)</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1320145831000000
                          </td>
                          <td class="ModifiedTime">1323283538000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1464.html">#1464</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1464.html">Replace RabbitMQ with Celeryd to support running multiple instances</a>
                          </td>
                          <td class="description">
                            <p>
The current harvesting implementation can only have one instance per server.
</p>
<p>
We could either:
</p>
<ul><li>Accept this
</li><li>Change the RabbitMQ code to support multiple instances
</li><li>Switch the entire harvesting to use Celery
</li><li>Wait for James's redis based live feedback based system
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321375709000000
                          </td>
                          <td class="ModifiedTime">1328529042000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1477.html">#1477</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1477.html">[Super] Group refactor</a>
                          </td>
                          <td class="description">
                            <p>
This is the implementation of the final draft in
</p>
<p>
<a class="ext-link" href="http://wiki.ckan.org/Groups_Refactor"><span class="icon">​</span>http://wiki.ckan.org/Groups_Refactor</a>
</p>
<p>
Steps to complete this will follow (somewhat) in the following order.
</p>
<p>
Change package_group table to membership. (<a class="closed ticket" href="../ticket/1478.html" title="enhancement: change package_group to members table (closed: fixed)">#1478</a>) 3d
</p>
<ul><li>model migration. (done)
</li><li>simplify revisioning  (done)
</li><li>Remove any sqlalchemy releations from groups. (done)
</li><li>change logic functions (done)
</li></ul><p>
  
</p>
<p>
Single type per group (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>migration add type to group table. (done) 1d
</li></ul><p>
  
Add capacity table (<a class="closed ticket" href="../ticket/1522.html" title="enhancement: Add capacity to member table. (closed: fixed)">#1522</a>)
</p>
<ul><li>model migration. (done)
</li><li>add to logic functions.
</li></ul><p>
  
Allow other objects to be added to groups. (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>change logic functions (done)
</li></ul><p>
Adapt thedatahub.org to use new model.
</p>
<ul><li>move auth groups over to groups/members
</li><li>change user_object roles to use groups? keep user object roles for time being.
</li><li>make create update package/group put the correct items in the group/members/capacity tables.
</li><li>work out how ui works.
</li></ul><p>
--not doing the below as part of this super ticker now <a class="closed ticket" href="../ticket/1669.html" title="enhancement: [super] Publisher profile (closed: fixed)">#1669</a>.
</p>
<p>
Create model for dgu.
</p>
<ul><li>adapt auth functions to use auth.
</li><li>adapt package_create/update group_create/update to fill in the correct capacties/members.
</li></ul><p>
Adapt Iati, and potentially other custom instances.
</p>
<p>
Sub-tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1279.html" title="enhancement: Refactor or deprecate Authorization Groups (closed: duplicate)">#1279</a> Deprecate Authorization Groups
</li><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321959320000000
                          </td>
                          <td class="ModifiedTime">1328016209000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1508.html">#1508</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1508.html">[super] Finalize and deploy some of our major (new) features as of Dec 2011</a>
                          </td>
                          <td class="description">
                            <p>
This ticket is about finalizing, then deploying (to <a class="ext-link" href="http://thedatahub.org/"><span class="icon">​</span>http://thedatahub.org/</a>), and finally announcing some of recent major new features such as:
</p>
<ul><li>Deploy wordpresser extension for thedatahub (so we can start blogging) - <a class="closed ticket" href="../ticket/1533.html" title="defect: Make sure ckanext-wordpresser works on CKAN 1.5.1 (closed: wontfix)">#1533</a> - WONTFIX
</li><li><del>(Deploy new Resource and Dataset pages (invite comments))</del>
</li><li>Get thedatahub geo-ified i.e. ckanext-spatial - <a class="closed ticket" href="../ticket/1601.html" title="enhancement: [super] Well integrated Geo-spatial support including search (closed: fixed)">#1601</a> (?)
<ul><li>Any additional dev that needs to be done? (e.g. geo in search ...?)
</li></ul></li><li><del>(Deploy / re-enable ckanext-googleanalytics on thedatahub - <a class="closed ticket" href="../ticket/1451.html" title="enhancement: Reintegrate download stats on dataset and resource view page - 0.5d (closed: fixed)">#1451</a> (more stuff <a class="closed ticket" href="../ticket/1566.html" title="enhancement: [super] Finalize Google analytics extension (closed: fixed)">#1566</a>))</del>
<ul><li>Rename the extension to ckanext-analytics?
</li></ul></li><li>Custom forms (and use of 'dataset types') - Ticket (??)
</li><li><del>(Get QA deployed and running - <a class="closed ticket" href="../ticket/1582.html" title="enhancement: Deploy QA for thedatahub - 0.5d (closed: fixed)">#1582</a>)</del>
</li></ul><p>
It would be best if this was done by someone *unfamiliar* with the extensions so feedback could be provided on quality of install docs etc etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1323088817000000
                          </td>
                          <td class="ModifiedTime">1328000871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1514.html">#1514</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1514.html">Modifying user name loses connection with revisions</a>
                          </td>
                          <td class="description">
                            <p>
If you edit your user name, the number of revisions you made returns to 0. This is because in the Revision object, the user's name is stored, rather than the user's ID.
</p>
<p>
rgrp:  We can reconnect that pretty easily (and have a
longer term solution that involves not using the usernames but the
userids in in the Revision objects so we don't hvae this problem in
future!)
</p>

                            
                          </td>
                          <td class="PosixTime">1323100659000000
                          </td>
                          <td class="ModifiedTime">1323279018000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1602.html">#1602</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1602.html">[super] Data Previewer / Viewer v2</a>
                          </td>
                          <td class="description">
                            <p>
We already have first pass of Data Preview that was done as part of <a class="closed ticket" href="../ticket/1357.html" title="enhancement: Integrate new version of data preview (closed: fixed)">#1357</a>. This is about v2 of this. Two main components:
</p>
<ul><li>A new version of the separate Data Explorer library (now called Recline Data Explorer) - <a class="closed ticket" href="../ticket/1446.html" title="enhancement: Data Explorer v2 (closed: fixed)">#1446</a> <strong>Est: 10-15d</strong>
<ul><li>Why:
<ul><li>Cleaner, backbone based solution.
</li><li>Provides editing support if wanted.
</li><li>Collaboration with Max Ogden
</li></ul></li></ul></li><li>Integrate this into CKAN (into resource view page) - see <a class="closed ticket" href="../ticket/1630.html" title="enhancement: Integrate Data Explorer v2 into Data Viewer (closed: fixed)">#1630</a> <strong>Est: 1d</strong>
</li><li>Improvements to Data Viewer / Previewer system in CKAN itself - <strong>Est: 2-3d</strong>
<ul><li><del>(Update Data Preview-er (View-er) to support images ...)</del>
</li><li><del>(WONTFIX here - (?) Update Data Preview-er to support geodata - <a class="closed ticket" href="../ticket/1151.html" title="enhancement: Preview for geographic data should be a map (closed: wontfix)">#1151</a>)</del>
</li></ul></li></ul><p>
   
</p>

                            
                          </td>
                          <td class="PosixTime">1325267544000000
                          </td>
                          <td class="ModifiedTime">1328175719000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1615.html">#1615</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1615.html">CKAN Should work behind a proxy server</a>
                          </td>
                          <td class="description">
                            <p>
This would allow deployment via Nginx or Apache using proxy to Paster, uWSGI. At the moment CKAN isn't aware of the proxy's IP address so when you perform an action which does a redirect (such as adding a package), CKAN redirects you to the *internal IP* not the external *proxy IP*.
</p>
<p>
We would like this work to facilitate testing within VMs as part of our new build infrastructure.
</p>
<p>
It would also be nice if CKAN worked when mounted at a path other than /. That could be dealt with in another ticket because it isn't a problem at the moment.
</p>

                            
                          </td>
                          <td class="PosixTime">1325687841000000
                          </td>
                          <td class="ModifiedTime">1328888870000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1637.html">#1637</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1637.html">API call for getting the list of activity detail items for a given activty stream item</a>
                          </td>
                          <td class="description">
                            <p>
(and add test cases for it)
</p>

                            
                          </td>
                          <td class="PosixTime">1326304817000000
                          </td>
                          <td class="ModifiedTime">1326737169000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1677.html">#1677</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1677.html">Make synchronous search the default behaviour</a>
                          </td>
                          <td class="description">
                            <p>
Right now you need to explicitly load the synchronous_search plugin in your ini file, when this is probably the behaviour that all users expect by default.
We could keep a config flag to deactivate it, but synchronous search should be the default behaviour.
</p>

                            
                          </td>
                          <td class="PosixTime">1326807604000000
                          </td>
                          <td class="ModifiedTime">1326807655000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1682.html">#1682</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1682.html">[super] Translatability for EC</a>
                          </td>
                          <td class="description">
                            <p>
We need to be able to translate:
</p>
<ul><li>EC extension (templates, form)
<ul><li>Currently the pot file is just for CKAN core. New pot file for CKAN core and this extension? Or separate ones for extensions?
</li></ul></li><li>Field values in taxonomy (e.g. country names - Eurovoc)
<ul><li><a class="closed ticket" href="../ticket/1665.html" title="task: Begin doing research into eurovoc (closed: fixed)">#1665</a> Research into Eurovoc
</li><li>Display Taxonomy in different languages
</li></ul></li><li>Field values not in taxonomy (e.g. title &amp; description)
<ul><li>Use extra fields e.g. _i18n_title_fr = Le data.
</li><li>(If lots of fields would need translating then would consider having a new package for each language, linked together with <a class="missing wiki">PackageRelationships?</a>. But I think it is just title and description (resource description etc. are so minor, not worth translating?), so using extra field better.)
</li></ul></li></ul><p>
Timescale to complete this - <a class="missing wiki">Mar/Apr?</a>.
</p>
<p>
Related work to interface with:
</p>
<ul><li>Eurovoc - Sean
</li><li>i18n in search index - Adria
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1326911899000000
                          </td>
                          <td class="ModifiedTime">1330038786000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1743.html">#1743</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1743.html">Activity streams still link to deleted things</a>
                          </td>
                          <td class="description">
                            <p>
For example, after deleting a dataset old activity stream events will still hyperlink to that dataset.
</p>

                            
                          </td>
                          <td class="PosixTime">1328212016000000
                          </td>
                          <td class="ModifiedTime">1328527086000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1397.html">#1397</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1397.html">[super] Resource archiving</a>
                          </td>
                          <td class="description">
                            <p>
We want to cache/archive data associated to a resource so it is available if the resource url disappears (and in order to support other processing we may wish to do e.g. webstorer ...)
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/queue"><span class="icon">​</span>http://ckan.okfnpad.org/queue</a> (most relevant parts inlined here)
</p>
<h2 id="Preliminaries">Preliminaries</h2>
<ul><li>Add task_status table to store qa/archiever/webstore information that does not need to be versioned. - <a class="closed ticket" href="../ticket/1363.html" title="enhancement: Add task_status table to store qa/archiever/webstore information that does ... (closed: fixed)">#1363</a> (and <a class="closed ticket" href="../ticket/1371.html" title="enhancement: Make logic layer functions for working with task_status table (closed: fixed)">#1371</a> - related logic functions)
</li></ul><h3 id="Configurationsetupfordaemons">Configuration setup for daemons</h3>
<p>
Pass config through to workers i.e site_url, user, api_key.
Need to make site user account. <a class="closed ticket" href="../ticket/1408.html" title="enhancement: Make site user, so tasks can post information back to ckan. (closed: fixed)">#1408</a>
</p>
<p>
celeryd config:
</p>
<p>
All providers of tasks will add an item to the following entry point:
</p>
<pre class="wiki">[ckan.tasks]
name = ckanext.{name}.tasks:....
</pre><p>
celeryconfig.py
</p>
<pre class="wiki">from pkg_resources import iter_entry_points
for entry in iter_entry_points:
     celeryimports.appen(....)

CELERY_IMPORTS = celeryimports
</pre><h2 id="WorkItems">Work Items</h2>
<ul><li>Resource change notifications in core - Make an IResourceChange and IResourceUrlChange. [1d] [0.75d] -  <a class="closed ticket" href="../ticket/1383.html" title="enhancement: Add IResourceChange IResourceUrlChange Interfaces. (closed: fixed)">#1383</a>
</li><li>Generate archiving request on resource url change [0.25d][0.25d] - <a class="closed ticket" href="../ticket/1399.html" title="enhancement: Generate archiving request on resource url change (closed: fixed)">#1399</a>
</li><li>Make site user account.
</li><li>Make entry point system for celery config
</li><li>Archiver daemon <a class="closed ticket" href="../ticket/891.html" title="task: Resource download worker daemon (closed: fixed)">#891</a>
<ol><li>implement link-check function and task (point 2 from Archiver.update above) [1d] [0.5d]
</li><li>Rewrite archiver to use external storage. (decide how!)[3d][~2d]
</li></ol></li><li>Write to resource and task status table.[1d][0.75d]
</li><li>[Required?] Make archived data available in WUI - <a class="closed ticket" href="../ticket/892.html" title="enhancement: Make stored data available in WUI - 0.5d (closed: fixed)">#892</a>
</li><li>Documentation - <a class="closed ticket" href="../ticket/1400.html" title="enhancement: Document Archiver Extension (closed: fixed)">#1400</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1318529593000000
                          </td>
                          <td class="ModifiedTime">1338202920000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1404.html">#1404</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">zephod
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1404.html">Search Page UI improvements</a>
                          </td>
                          <td class="description">
                            <p>
[Refactored] :: Follows on from <a class="closed ticket" href="../ticket/1506.html" title="enhancement: [super] UX improvements to dataset edit, create and search + group + user ... (closed: fixed)">#1506</a> UX changes.
</p>
<ul><li>Declutter the sidebar. No yellow box.
</li><li>Facets to go on the left, rather than the right. More logical flow.
</li><li>Did you know you can search by author? Probably not. Find a nice way of presenting extended search options.
</li><li>Make Datasets in the search page look more like Datasets on the groups pages (ie. like awesome sexy search results).
<ul><li>Update that look-and-feel to include the new resource icons created in <a class="closed ticket" href="../ticket/1506.html" title="enhancement: [super] UX improvements to dataset edit, create and search + group + user ... (closed: fixed)">#1506</a>
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1318847818000000
                          </td>
                          <td class="ModifiedTime">1338203639000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1465.html">#1465</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1465.html">Upgrade the harvester to support publishers properly</a>
                          </td>
                          <td class="description">
                            <p>
At the moment most of the harvesting functionality is only available to sysadmins. This is fine for most cases but going forward we will need to grant each publisher access to their own sources, harvest objects and harvest object errors. This will probably be done based on the groups refactor.
</p>
<p>
One more pressing concern is giving DGU publishers the ability to make calls to /harvest/object/id. We want them to be able to see documents that faild validation and also to see *all* errors in each document.
</p>

                            
                          </td>
                          <td class="PosixTime">1321375923000000
                          </td>
                          <td class="ModifiedTime">1338203858000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1496.html">#1496</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1496.html">Render a user's activity stream on her user page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1322495588000000
                          </td>
                          <td class="ModifiedTime">1334582338000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1510.html">#1510</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1510.html">Migrate existing data into activity streams database tables</a>
                          </td>
                          <td class="description">
                            <p>
See '### Task 2' in this etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/notifications"><span class="icon">​</span>http://ckan.okfnpad.org/notifications</a>
</p>
<p>
I have no idea yet about how to do this or how long it might take me.
</p>

                            
                          </td>
                          <td class="PosixTime">1323093901000000
                          </td>
                          <td class="ModifiedTime">1339677620000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1515.html">#1515</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1515.html">[super] Activity Streams</a>
                          </td>
                          <td class="description">
                            <p>
We want to add "activity streams" (chronological lists of activities) to CKAN.
</p>
<p>
Activity streams standard: <a class="ext-link" href="http://activitystrea.ms/"><span class="icon">​</span>http://activitystrea.ms/</a>
</p>
<p>
Super branch where the feature was initially developed (this has now been merged into master): <a class="ext-link" href="https://github.com/okfn/ckan/tree/feature-1515-activity-streams"><span class="icon">​</span>https://github.com/okfn/ckan/tree/feature-1515-activity-streams</a>
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/notifications"><span class="icon">​</span>http://ckan.okfnpad.org/notifications</a> (most relevant parts inlined here)
</p>
<p>
Friedrich's mockup: <a class="ext-link" href="http://datahub.pudo.org/pudo"><span class="icon">​</span>http://datahub.pudo.org/pudo</a>
</p>
<h2 id="Tasks">Tasks</h2>
<p>
<del>Strikethrough</del> means the task is done.
</p>
<ul><li><del>New domain objects Activity and <a class="missing wiki">ActivityStream?</a> [2d] <a class="closed ticket" href="../ticket/1298.html" title="enhancement: Generate activites to be put into activities table. (closed: fixed)">#1298</a></del>
</li></ul><ul><li>Migrate existing data into activity streams model [3.5d] <a class="closed ticket" href="../ticket/1510.html" title="enhancement: Migrate existing data into activity streams database tables (closed: wontfix)">#1510</a> 
</li></ul><ul><li><del>Generate activities when objects are saved [4d] <a class="closed ticket" href="../ticket/1298.html" title="enhancement: Generate activites to be put into activities table. (closed: fixed)">#1298</a></del>
</li></ul><ul><li><del>Get the activity stream for a given user as a JSONifiable list of dictionaries [1d] <a class="closed ticket" href="../ticket/1511.html" title="enhancement: Logic function for getting a user's public activity stream (closed: fixed)">#1511</a></del>
</li></ul><ul><li><del>API call for getting a user's public activity stream as JSON [0.5d] <a class="closed ticket" href="../ticket/1495.html" title="enhancement: API call for getting a user's public activity stream (closed: fixed)">#1495</a></del>
</li></ul><ul><li><del>API call for getting a user's public activity stream as rendered text, HTML, etc. [5d] <a class="closed ticket" href="../ticket/1494.html" title="enhancement: API call for getting a user's public activity stream as rendered rtext (closed: wontfix)">#1494</a></del>
</li></ul><ul><li><del>Render a user's activity stream on her user page [3d] <a class="closed ticket" href="../ticket/1496.html" title="enhancement: Render a user's activity stream on her user page (closed: fixed)">#1496</a></del> (needs review/page design work)
</li></ul><ul><li><del>Generate activities for other types of objects besides users (e.g. packages, groups, tags, extras, and save them in the database.</del>
</li></ul><ul><li><del>Logic functions for getting activity streams for packages, groups, and users.</del>
</li></ul><ul><li><del>API calls for getting activity streams of packages, groups, and users</del> as JSON.
</li></ul><ul><li><del>Rendering activity streams for packages and groups etc. into their pages.</del> (done but disabled pending page design work)
</li></ul><ul><li><del>API calls for inserting events into activity streams.</del> (Still need to handle activity details in the API, ticketed).
</li></ul><ul><li>Conform to activitystrea.ms standard
</li></ul><ul><li>Enable users to subscribe to and unsubscribe from activity streams, see an aggregated activity stream on their dashboard page.
</li></ul><ul><li>Generate aggregated activity streams for arbitrary sets of multiple activity sources/streams
</li></ul><ul><li>Email notifications
</li></ul><ul><li>Extension point for extensions to register themselves as renderers for different types of activity
</li></ul><ul><li>Deploy to UAT [0.5d]
</li></ul><ul><li>Docs and announce [1d]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323105048000000
                          </td>
                          <td class="ModifiedTime">1338204149000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1525.html">#1525</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1525.html">[super] DGU package form refactor</a>
                          </td>
                          <td class="description">
                            <p>
Form refactor. New create/edit package form wizard for DGU.
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/dgu-package-form"><span class="icon">​</span>http://ckan.okfnpad.org/dgu-package-form</a>
</p>
<p>
Tasks:
</p>
<ul><li><a class="closed ticket" href="../ticket/1526.html" title="enhancement: [super] Update and test existing DGU package form (closed: fixed)">#1526</a> : Simple one-page form.
</li><li><a class="closed ticket" href="../ticket/1527.html" title="enhancement: Break DGU package edit form into sections (closed: fixed)">#1527</a> : Tab-ify the form using JS.  No validation between steps.
</li><li><a class="closed ticket" href="../ticket/1541.html" title="task: Setup server for the DGU form-refactor. (closed: fixed)">#1541</a> : Setup server for the DGU form-refactor.
</li><li><a class="closed ticket" href="../ticket/1537.html" title="enhancement: Package create form wizard (closed: fixed)">#1537</a> : Package create form wizard
</li><li><a class="closed ticket" href="../ticket/1538.html" title="enhancement: Store partially-filled in package form data as a draft. (closed: wontfix)">#1538</a> : <del>Store partially-filled in package form data as a draft.</del>
</li><li><a class="closed ticket" href="../ticket/1539.html" title="enhancement: Package forms auto-save (closed: wontfix)">#1539</a> : <del>Package forms auto-save</del>
</li></ul><p>
How the rest of the work is carried out is up for discussion, as it depends on the approach taken.  Whether to continue with validation using AJAX queries, or whether to break the form down into multi pages.  <a class="ext-link" href="https://docs.google.com/spreadsheet/ccc?key=0Av2RfDDpj67zdGpSdFlKVjNrQmFXV3lHbGM3ZFlDdnc&amp;hl=en_US#gid=1"><span class="icon">​</span>Google doc outlining design(s)</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1323172839000000
                          </td>
                          <td class="ModifiedTime">1337159836000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1530.html">#1530</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">lucychambers
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1530.html">URL field help text in wrong place</a>
                          </td>
                          <td class="description">
                            <p>
Confusion between entering values in the title and name/url fields in datacatalogs.org.
</p>
<p>
The help text "Url must be purely lowercase alphanumeric (ascii) characters and these symbols: -_" applies to the name/url field, yet in Lucy's browser the text that is actually hovering over the title field in my browser.
</p>

                            
                          </td>
                          <td class="PosixTime">1323261984000000
                          </td>
                          <td class="ModifiedTime">1338202731000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1537.html">#1537</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1537.html">Package create form wizard</a>
                          </td>
                          <td class="description">
                            <p>
Create the form wizard for the package-new form.
</p>
<p>
Each section of the form will be a separate page as this was decided to be simpler than the alternative of making AJAX calls for validation at each stage. (*)
</p>
<ul><li>separate pages for each section of the form
</li><li>validation carried out at each stage against the whole schema.  Each section/page declares a list of schema keys that need to validate for that section to validate, and thus move onto the next section.
</li><li>no draft saving to be performed in this ticket.
</li></ul><p>
(*) - although the javascript alternative will probably provide better UX (each step would require a page-load in the wizard approach), it was decided that:
</p>
<ul><li>with the javascript approach it would be harder to test the workflow.
</li><li>with the javascript approach there would be additional work displaying validation correctly.  Although not that complicated, it was felt to add another point of failure.
</li><li>the multi-page wizard is quicker and easier to implement, and if it provided poor UX, then the javascript approach would be used instead.
</li><li>the multi-page wizard wouldn't preclude a javascript-tabbing create-form for other cases (where the wizard workflow wasn't such a good match, eg on the hedatahub.org)
</li><li>the multi-page wizard wouldn't preclude a javascript-tabbing edit-form.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323358451000000
                          </td>
                          <td class="ModifiedTime">1337159772000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1538.html">#1538</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1538.html">Store partially-filled in package form data as a draft.</a>
                          </td>
                          <td class="description">
                            <p>
Allow a user to save a partially-complete and probably invalid package-create form in order to come back to it later.
</p>
<p>
We decided on blob storage over a state field on the package:
</p>
<ul><li>prevents a history of the drafts being stored in the revision history.  This is a particular problem if we start auto-saving, say every 20s.
</li><li>the blob can store arbitrary extra data, such as how far through the wizard we are.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323359221000000
                          </td>
                          <td class="ModifiedTime">1337159799000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1539.html">#1539</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1539.html">Package forms auto-save</a>
                          </td>
                          <td class="description">
                            <p>
Using the saved-draft feature, we enable auto-save for the package-new and package-edit forms.
</p>
<p>
An AJAX call is made every N seconds, and the auto-saved blob is updated.
</p>
<p>
note - we don't want to overwrite a previously save draft, but we will want to overwrite the last autosave.
</p>

                            
                          </td>
                          <td class="PosixTime">1323359385000000
                          </td>
                          <td class="ModifiedTime">1337159806000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1566.html">#1566</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1566.html">[super] Finalize Google analytics extension</a>
                          </td>
                          <td class="description">
                            <ul><li><del>(Deploy it)</del>
</li><li>Integrate with stats plugin (now that is in core) - <a class="new ticket" href="../ticket/1101.html" title="enhancement: Integrate googlanalytics into site nav (new)">#1101</a>
</li><li>Blog about it <a class="new ticket" href="../ticket/1581.html" title="enhancement: Blog post about Google Analytics extension for CKAN (new)">#1581</a>
</li><li>(Other tickets re upgrading for v1.5.1 - done but where are tickets?)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1324293168000000
                          </td>
                          <td class="ModifiedTime">1338203338000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1574.html">#1574</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1574.html">[super] Storage changes including automated save to Webstore</a>
                          </td>
                          <td class="description">
                            <p>
Allow uploading of files to push the data into webstore.  Initially we were going to suggest changes to ckanext-storage but after further analysis we arrived at the conclusion that this should be implemented by ckanext-archiver as it already handles archiving of data from various sources and would be the best place to 'archive' to webstore.
</p>
<ol><li>A user wants to upload a file to CKAN, and so chooses the file upload option as they do currently with ckanext-storage. The file upload itself should be handled by this code internal to core (see <a class="closed ticket" href="../ticket/1608.html" title="enhancement: Merge storage into Core (closed: fixed)">#1608</a>) but still using ofs [5d]
</li></ol><ol start="2"><li>The user is provided the link to the file as currently. 
</li></ol><ol start="3"><li>The archiver's update task will check configuration to determine if it should upload some mime-types (tabular formats) to webstore. Configuration should also determine where webstore is. (see <a class="closed ticket" href="../ticket/1609.html" title="enhancement: Celery task for ckanext-archiver to write to webstore. (closed: fixed)">#1609</a>) [5d] - took 6
</li></ol><ul><li>It should be stored in webstore using {username}/{resource-id} where {username} is the name of the user uploading the original file.
</li></ul><ol start="4"><li>The archiver will continue to move the file into permanent storage as per current practice.
</li></ol><h2 id="Tickets">Tickets</h2>
<ul><li><a class="closed ticket" href="../ticket/1608.html" title="enhancement: Merge storage into Core (closed: fixed)">#1608</a> Merge storage into Core [5d]
</li><li><a class="closed ticket" href="../ticket/1609.html" title="enhancement: Celery task for ckanext-archiver to write to webstore. (closed: fixed)">#1609</a> Celery task for ckanext-archiver to write to webstore. [5d] (took 6)
</li><li><a class="closed ticket" href="../ticket/1687.html" title="enhancement: Deploy new storage changes from master to datahub (closed: invalid)">#1687</a>: Deploy to datahub [1d]
</li><li><a class="closed ticket" href="../ticket/1681.html" title="enhancement: Core storage document (closed: fixed)">#1681</a>: Core storage documentation [1d?]
<ul><li>Internal (perhaps in README somewhere or wiki): how does process work, where does data end up and in what order etc
</li><li>External: here's how to configure it and here's what you get ... (goes in main sphinx docs)
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1324315633000000
                          </td>
                          <td class="ModifiedTime">1338202955000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1586.html">#1586</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1586.html">'Sort by' field for package search</a>
                          </td>
                          <td class="description">
                            <p>
We default to sort packages search results by "search rank", but we can change it to be "name", "title", "metadata_modified" date, "metadata_created" date. It works in the API now, so let's have (say) a drop-down in the Web UI for this.
</p>
<p>
Follows on from <a class="closed ticket" href="../ticket/191.html" title="enhancement: Searching by modification date (closed: fixed)">#191</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1324479588000000
                          </td>
                          <td class="ModifiedTime">1337079419000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1594.html">#1594</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1594.html">[super] QA Improvements</a>
                          </td>
                          <td class="description">
                            <p>
Now that QA has been updated for Celery and CKAN 1.5.1, there are a number of improvements that we should probably implement.
</p>
<ul><li>Integrate QA into frontend - 1d - <a class="closed ticket" href="../ticket/1583.html" title="enhancement: Integrate QA into frontend - 1d (closed: fixed)">#1583</a>
</li><li>QA report improvements - 2.5d - <a class="new ticket" href="../ticket/1584.html" title="enhancement: QA report improvements - 2.5d (new)">#1584</a>
</li><li>QA - Check license as part of 5 star rating - <a class="closed ticket" href="../ticket/1587.html" title="enhancement: QA - Check license as part of 5 star rating (closed: fixed)">#1587</a>
</li><li>QA - Give SPARQL endpoints a 4 star rating - <a class="new ticket" href="../ticket/1588.html" title="enhancement: QA - Give SPARQL endpoints a 4 star rating (new)">#1588</a>
</li><li>QA - Give 5 star rating to datasets with link metadata - <a class="new ticket" href="../ticket/1589.html" title="enhancement: QA - Give 5 star rating to datasets with link metadata (new)">#1589</a>
</li></ul><p>
Main pad: <a class="ext-link" href="http://ckan.okfnpad.org/qa"><span class="icon">​</span>http://ckan.okfnpad.org/qa</a>
</p>
<p>
Some QA discussion (relating to Celery in particular) at <a class="ext-link" href="http://ckan.okfnpad.org/queue"><span class="icon">​</span>http://ckan.okfnpad.org/queue</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1324489620000000
                          </td>
                          <td class="ModifiedTime">1338203215000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1595.html">#1595</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1595.html">Editing of a Group leads to recording a change against all associated datasets</a>
                          </td>
                          <td class="description">
                            <p>
Or at least it appears that way from revision log which displays all Group datasets against the changelog, see <a class="ext-link" href="http://thedatahub.org/revision/4cdeeb42-3281-4f53-a29d-c694e1fd9217"><span class="icon">​</span>http://thedatahub.org/revision/4cdeeb42-3281-4f53-a29d-c694e1fd9217</a> -- not apparent from that page but see my user page: <a class="ext-link" href="http://thedatahub.org/user/rufuspollock"><span class="icon">​</span>http://thedatahub.org/user/rufuspollock</a>
</p>
<p>
This may turn out to be a UX bug rather than a real bug ...
</p>
<p>
Assigning to kindly for review and comment.
</p>

                            
                          </td>
                          <td class="PosixTime">1324504875000000
                          </td>
                          <td class="ModifiedTime">1338203959000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1600.html">#1600</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1600.html">[super] User guide with integrated help in the WUI</a>
                          </td>
                          <td class="description">
                            <p>
Provide help to users in the WUI, with this linking to a detailed user guide.
</p>
<ul><li>User guide (suggest at help.thedatahub.org (or possibly help.ckan.org)
</li><li>Snippets in the WUI with links to full user guide.
<ul><li>Provide helper methods for creating these links with config options for setting path to user guide so that the link location can vary on install by install basis
</li></ul></li><li>General info about publishing/working with/etc data (where we don't duplicate elsewhere)
</li></ul><p>
Est: (?) 5-10d
</p>
<h2 id="Topics">Topics</h2>
<p>
See <a class="ext-link" href="http://ckan.okfnpad.org/datahub-help"><span class="icon">​</span>http://ckan.okfnpad.org/datahub-help</a>
</p>
<ul><li>Step-by-step for adding a dataset including tips
<ul><li>Reuse: <a class="ext-link" href="http://datapatterns.org/datahub.html"><span class="icon">​</span>http://datapatterns.org/datahub.html</a>
</li><li>Quick overview of relevant parts of domain model (dataset and resource)
</li></ul></li><li>API (perhaps link to main docs)
</li><li>Command line interface and dpm
</li><li>Using groups
</li></ul><h2 id="Whydothis">Why do this</h2>
<p>
We already have wiki.ckan.org and docs.ckan.org. Why do this?
</p>
<p>
Answer for docs:
</p>
<ul><li>This is administrative guide and focused on general CKAN software.
</li><li>Hard to provide completely generic help.
</li><li>Integratable with the <a class="missing wiki">DataHub?</a> site
</li></ul><p>
Answer for wiki:
</p>
<ul><li>No spam
</li><li>General feeling that wikis are a little bit loose and untidy. We want this to be smart, clean and useful.
</li><li>Integratable with the <a class="missing wiki">DataHub?</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1325257824000000
                          </td>
                          <td class="ModifiedTime">1333362051000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1601.html">#1601</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1601.html">[super] Well integrated Geo-spatial support including search</a>
                          </td>
                          <td class="description">
                            <p>
Need thoughts from Adria and James. RP thoughts
</p>
<ul><li>Integration into WUI search: <a class="closed ticket" href="../ticket/1469.html" title="enhancement: Geo-spatial search on the front end (closed: fixed)">#1469</a>
</li><li>JS Editor for adding/editing spatial attribute: <a class="new ticket" href="../ticket/1818.html" title="enhancement: Spatial metadata editor (new)">#1818</a>
</li><li>Theme/template hook for adding the map e.g. on dataset page (or elsewhere)
</li><li>Clear Documentation
</li><li>Deployment
</li><li>Announce post
</li><li>(?) Map page for stats section showing location of datasets
</li></ul><p>
Extras (probably separate):
</p>
<ul><li>csw support ...
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1325259821000000
                          </td>
                          <td class="ModifiedTime">1338204029000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1603.html">#1603</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1603.html">Search query builder</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="new ticket" href="../ticket/1745.html" title="enhancement: Dataset search UX improvements as of Jan 2012 (new)">#1745</a>
</p>
<p>
Ability to build up search query using a nice javascript-y interface.
</p>
<ul><li>Add facets by selecting attribute and adding -&gt; search facet options in dropdown -&gt; added to search (with 'x' to remove -- as we currently do).
<ul><li>(a bit like the data.hri.fi)
</li></ul></li><li>Some improvements to css
<ul><li>See <a class="ext-link" href="http://eutr.ep.io/"><span class="icon">​</span>http://eutr.ep.io/</a>
</li></ul></li><li>Improvements to faceting
<ul><li>Ability to configure faceting and number of items to show (?)
</li></ul></li><li>Pure JS search implementation to make it easy to reuse across site
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1325268364000000
                          </td>
                          <td class="ModifiedTime">1338202654000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1605.html">#1605</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1605.html">[super] Multilingual support in CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Multi-language:
</p>
<ul><li>dataset and resource metadata (and other objects such as groups?)
<ul><li>Options for implementation in <a class="ext-link" href="http://ckan.okfnpad.org/multilingual"><span class="icon">​</span>http://ckan.okfnpad.org/multilingual</a>
</li></ul></li><li>Field values in taxonomy (e.g. country names - Eurovoc)
<ul><li><a class="closed ticket" href="../ticket/1665.html" title="task: Begin doing research into eurovoc (closed: fixed)">#1665</a> Research into Eurovoc
</li><li>Display Taxonomy in different languages
</li></ul></li><li>Field values not in taxonomy (e.g. title &amp; description)
<ul><li>Use extra fields e.g. _i18n_title_fr = Le data.
</li><li>(If lots of fields would need translating then would consider having a new package for each language, linked together with <a class="missing wiki">PackageRelationships?</a>. But I think it is just title and description (resource description etc. are so minor, not worth translating?), so using extra field better.)
</li></ul></li><li>EC extension (templates, form)
<ul><li>Currently the pot file is just for CKAN core. New pot file for CKAN core and this extension? Or separate ones for extensions?
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1325473367000000
                          </td>
                          <td class="ModifiedTime">1338193641000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1607.html">#1607</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1607.html">[super] Data.gov.uk Maintenance Refactor and UKLP Development Support</a>
                          </td>
                          <td class="description">
                            <p>
A ticket to collect all of the changes needed for CKAN to become the 'data' tab on DGU.
</p>
<p>
Design doc: <a class="ext-link" href="https://docs.google.com/document/d/19h9bA1G4cQkv031m8jNCu6FEB3a8qpXUmdPAguM-Ofs/edit?hl=en_GB"><span class="icon">​</span>https://docs.google.com/document/d/19h9bA1G4cQkv031m8jNCu6FEB3a8qpXUmdPAguM-Ofs/edit?hl=en_GB</a>  The design doc is the authoritative source of tasks.  This ticket acts as a synopsis.
</p>
<p>
Current sprint (2012-02-20):
</p>
<ul><li>7a. <del>Public Publisher Dashboard (including QA Work and notifications) MUST PHASE 1</del>
</li><li>6. <del>Publisher Registration Improvements MUST PHASE 1</del>
</li><li>3. <del><a class="missing wiki">Themes/Taxonomy?</a> as well as tags WONT PHASE 2</del>
</li><li>32. <del>Browse by Tags PHASE 1 MUST</del>
</li><li>12. <del><a class="missing wiki">Edit/Delete?</a> for Harvested Datasets MUST URGENT PHASE 1</del>
</li><li>13. <del>Provider labelling MUST PHASE 1 [UKLP <a class="closed ticket" href="../ticket/14.html" title="enhancement: Update a release (closed: invalid)">#14</a> MUST]</del>
</li><li>17. <del>Filter “UK Location Records” MUST PHASE 1 [UKLP <a class="closed ticket" href="../ticket/21.html" title="enhancement: Undelete a package (closed: fixed)">#21</a> SHOULD]</del>
</li><li>22. <del>Mixed Licenses MUST PHASE 2</del>
</li></ul><p>
Plus, brought forward from last sprint:
</p>
<ul><li><del>Publisher hierarchy support</del>
</li><li><del>Improved dataset creation tools (form) - <a class="closed ticket" href="../ticket/1525.html" title="enhancement: [super] DGU package form refactor (closed: fixed)">#1525</a></del>
</li><li><del>Edit/delete for harvested datasets</del>
</li></ul><p>
Overview of tasks: see the design doc.
</p>

                            
                          </td>
                          <td class="PosixTime">1325503348000000
                          </td>
                          <td class="ModifiedTime">1337159969000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1617.html">#1617</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1617.html">Update and test existing DGU package form : publisher / foi information</a>
                          </td>
                          <td class="description">
                            <p>
[Child of <a class="closed ticket" href="../ticket/1526.html" title="enhancement: [super] Update and test existing DGU package form (closed: fixed)">#1526</a>]
</p>
<p>
Contact/FOI information is derived from <a class="missing wiki">Publisher/User?</a>, but can be altered for each dataset.
</p>
<blockquote>
<p>
Original estimate: 4 days
</p>
<blockquote>
<p>
Time spent: 0 days
</p>
</blockquote>
<p>
Time remaining: 4 days
</p>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1326103384000000
                          </td>
                          <td class="ModifiedTime">1332151332000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1618.html">#1618</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1618.html">Update and test existing DGU package form : provide stubs for the theme and sub-themes</a>
                          </td>
                          <td class="description">
                            <p>
[Child of <a class="closed ticket" href="../ticket/1526.html" title="enhancement: [super] Update and test existing DGU package form (closed: fixed)">#1526</a>]
</p>
<p>
Provide the interface for the themes and subthemes hierarchy.
</p>

                            
                          </td>
                          <td class="PosixTime">1326103557000000
                          </td>
                          <td class="ModifiedTime">1332151341000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1619.html">#1619</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1619.html">Update and test existing DGU package form : provide stubs for the publisher hierarchy</a>
                          </td>
                          <td class="description">
                            <p>
[Child of <a class="closed ticket" href="../ticket/1526.html" title="enhancement: [super] Update and test existing DGU package form (closed: fixed)">#1526</a>]
</p>
<p>
Create the interface used to retrieve publisher and authz information from the publisher hierarchy.
</p>

                            
                          </td>
                          <td class="PosixTime">1326103672000000
                          </td>
                          <td class="ModifiedTime">1332151351000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1632.html">#1632</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1632.html">Render a group's activity stream on its' page</a>
                          </td>
                          <td class="description">
                            <p>
Add logic functions for getting the activity stream for a group in JSON and rendered HTML formats, add HTML activity stream into group page.
</p>

                            
                          </td>
                          <td class="PosixTime">1326304199000000
                          </td>
                          <td class="ModifiedTime">1335877871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1633.html">#1633</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1633.html">Render a dataset's activity stream on its' page</a>
                          </td>
                          <td class="description">
                            <p>
Add logic functions for getting the activity stream for a dataset in JSON and rendered HTML formats, add HTML activity stream into dataset page.
</p>

                            
                          </td>
                          <td class="PosixTime">1326304298000000
                          </td>
                          <td class="ModifiedTime">1335877927000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1634.html">#1634</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1634.html">Allow users to follow/unfollow activity streams of other users, datasets and groups</a>
                          </td>
                          <td class="description">
                            <p>
This is a fairly big feature to add. Analysis: <a class="ext-link" href="http://ckan.okfnpad.org/27"><span class="icon">​</span>http://ckan.okfnpad.org/27</a>
</p>
<p>
This ticket is related to <a class="new ticket" href="../ticket/1635.html" title="enhancement: Email notifications (e.g. for activity streams) (new)">#1635</a> (email notifications for activity streams) which is about managing a list of activity streams for which the user receives email notifications. There are decisions to be made about how the two will work together.
</p>

                            
                          </td>
                          <td class="PosixTime">1326304542000000
                          </td>
                          <td class="ModifiedTime">1334587390000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1636.html">#1636</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1636.html">Purge items from activity streams when object (package etc.) purged from CKAN</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1326304754000000
                          </td>
                          <td class="ModifiedTime">1338204258000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=milestone&amp;asc=1&amp;page=18.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <span class="current">19</span>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=milestone&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=milestone&amp;asc=1&amp;page=20.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=milestone&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=milestone&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=milestone&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>