<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=summary&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=summary&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=summary&amp;asc=0&amp;page=24.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2301 - 2400 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <span class="current">24</span>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=24.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=24.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=24.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=24.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=24.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=24.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=24.html">
              Resolution
            </a>
          </th><th class="desc">
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=24.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=24.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=24.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=24.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1114.html">#1114</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1114.html">CLI for viewing search index of a package</a>
                          </td>
                          <td class="description">
                            <p>
To see what lexemes are generated for debug purposes.
</p>

                            
                          </td>
                          <td class="PosixTime">1304078353000000
                          </td>
                          <td class="ModifiedTime">1304085484000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2401.html">#2401</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2401.html">CLI for time/speed profiling</a>
                          </td>
                          <td class="description">
                            <p>
To enable you to easily track down what is taking all the time when you make a request.
</p>

                            
                          </td>
                          <td class="PosixTime">1337269571000000
                          </td>
                          <td class="ModifiedTime">1337273042000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1067.html">#1067</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-5.html">ckan-v1.4-sprint-5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1067.html">CLI for loading/dumping complete databases</a>
                          </td>
                          <td class="description">
                            <p>
Use 'db dump' and 'db load' for 'pg_dump' and 'psql -f' of a database. Use pylons config to find out database options.
</p>

                            
                          </td>
                          <td class="PosixTime">1301645463000000
                          </td>
                          <td class="ModifiedTime">1302186503000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2682.html">#2682</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2682.html">CKAN's internal tracking counts each view twice, needs unit tests</a>
                          </td>
                          <td class="description">
                            <p>
CKAN's internal tracking seems to count each page view twice, the problem appears to be with the SQL in the update_tracking() method in ckan/lib/cli.py.
</p>
<p>
The internal tracking feature needs some tests, and some of the code could maybe do with some more explanatory comments, e.g. what is the intended difference between count and running_total?
</p>

                            
                          </td>
                          <td class="PosixTime">1342446402000000
                          </td>
                          <td class="ModifiedTime">1343225636000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1384.html">#1384</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1384.html">CKAN wiki needs updating to refer to thedatahub.org instead of ckan.net and datasets instead of packages</a>
                          </td>
                          <td class="description">
                            <p>
Most articles still refer and link to ckan.net, wiki.ckan.net and to packages
</p>

                            
                          </td>
                          <td class="PosixTime">1318414077000000
                          </td>
                          <td class="ModifiedTime">1318414077000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/952.html">#952</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/952.html">CKAN should run under nginx/uswgi</a>
                          </td>
                          <td class="description">
                            <p>
second part of <a class="closed ticket" href="../ticket/908.html" title="defect: Issues deploying extensions with modwsgi / uwsgi (closed: fixed)">#908</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1296730498000000
                          </td>
                          <td class="ModifiedTime">1310125204000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/847.html">#847</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-2.html">ckan-v1.3-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/847.html">CKAN search using SOLR backend</a>
                          </td>
                          <td class="description">
                            <p>
This is a meta-ticket to pull together all the work on SOLR as a backend for CKAN search. (Work on SOLR search has been going on since March of 2010).
</p>
<p>
3 key aspects of this:
</p>
<ul><li>Index package information in SOLR - <a class="closed ticket" href="../ticket/353.html" title="defect: SOLR search indexing (closed: fixed)">ticket:353</a> - SOLR search indexing (index CKAN)
<ul><li>Synchronously (generify Search Index update method to support SOLR or postgres?) - <a class="closed ticket" href="../ticket/317.html" title="enhancement: Make search pluggable (closed: fixed)">#317</a>: Make search pluggable
</li><li>Asynchroously: via worker with queue
<ul><li><a class="closed ticket" href="../ticket/324.html" title="enhancement: Search indexing using notifications (closed: fixed)">#324</a> Search indexing using notifications
</li><li><a class="closed ticket" href="../ticket/669.html" title="task: Refactor Solr to become a generic worker (closed: fixed)">#669</a>: Refactor Solr (indexer) to become a generic worker
</li><li><a class="closed ticket" href="../ticket/874.html" title="enhancement: Extract solr search backend into an extension (closed: fixed)">#874</a>: Extract Solr search backend into an extension
</li></ul></li></ul></li><li>In core support using SOLR backend as well as postgres for queries
<ul><li><a class="closed ticket" href="../ticket/317.html" title="enhancement: Make search pluggable (closed: fixed)">#317</a>: Make search pluggable (?)
</li></ul></li><li>Integrate into WUI (if changes needed)
<ul><li><a class="closed ticket" href="../ticket/672.html" title="enhancement: Facets in CKAN search results (closed: fixed)">#672</a> - Facets in CKAN search results
</li></ul></li></ul><p>
Extras:
</p>
<ul><li>Solr index testing tool <a class="closed ticket" href="../ticket/431.html" title="task: Solr index testing tool (closed: wontfix)">#431</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1291639273000000
                          </td>
                          <td class="ModifiedTime">1295259902000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/441.html">#441</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/441.html">CKAN read-only state</a>
                          </td>
                          <td class="description">
                            <p>
When performing maintenance on CKAN it may be necessary to make CKAN obviously read-only, telling the users and restricting access to 'edit' pages.
</p>
<p>
Examples of use:
</p>
<ul><li>Administrator wants to upgrade CKAN or move it to another server. During this time the database is being administered and either edits are lost or can't be done.
</li><li>A CKAN is used just for distributing metadata and so is always read-only. Updates may still arrive through direct db manipulation, e.g.:
<ul><li>another (but writable) CKAN instance is connected to the same db
</li><li>restoring database dumps from another CKAN db
</li></ul></li><li>Should a security be breached, all editing could be stopped
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1282227314000000
                          </td>
                          <td class="ModifiedTime">1292586309000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1804.html">#1804</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1804.html">CKAN mounted at URL - changing language problem</a>
                          </td>
                          <td class="description">
                            <p>
e.g. <a class="ext-link" href="http://189.9.137.65/dados/"><span class="icon">​</span>http://189.9.137.65/dados/</a> clicking on Deutsch link is <tt>http://189.9.137.65/dados/locale?locale=de&amp;return_to=%2Fdados%2F&amp;hash=1dc17c315c419df850da0dd3599eefa9da76fbeb</tt> and redirect goes to <tt>http://189.9.137.65/dados/dados/?__cache=97995106</tt> so /dados/dados/ when it should be /dados.
</p>
<p>
Affects CKAN 1.6b only (not yet released).
</p>

                            
                          </td>
                          <td class="PosixTime">1329484956000000
                          </td>
                          <td class="ModifiedTime">1330347185000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/837.html">#837</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/837.html">CKAN integration with freebase gridworks / google refine</a>
                          </td>
                          <td class="description">
                            <p>
Thread: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2010-November/000718.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2010-November/000718.html</a>
</p>
<h3 id="Scenario1">Scenario 1</h3>
<ol><li>User installs Refine and CKAN extension for refine
</li><li>On booting refine and asked to load data they can choose from any data package on CKAN.net (or any other CKAN instance)
</li><li>They edit the dataset on Refine
</li><li>On save (or perhaps as a separate option) they are prompted as to whether they wish  to sync the dataset back to CKAN (either as a new package or as a new resource on the existing package)
</li></ol><p>
NB: for the dataset sync back some form of "CKAN" storage would be
required (we already have storage.ckan.net running but a closer
integration would be required)
</p>
<h3 id="Scenario2">Scenario 2</h3>
<ol><li>User visits a package on CKAN.net (or another CKAN instance)
</li><li>There is a button on the page "View and edit this dataset in Google Refine"
</li><li>Click button -- ask them if they have Google refine installed
<ul><li>Yes: instructions for loading dataset into refine
</li><li>No: load dataset in hosted version of google refine (we could run this)
</li></ul></li><li>User edits dataset and hits save. As in previous scenario they are prompted to sync the dataset.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1291140609000000
                          </td>
                          <td class="ModifiedTime">1339774605000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/333.html">#333</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/333.html">CKAN front end requirements for package notifications</a>
                          </td>
                          <td class="description">
                            <h2 id="Usecase:newpackage">Use case: new package</h2>
<ol><li>An external front-end system provides a web page with a list of packages. Each package has the option to edit it or and there is also a button to create a new package. 
</li></ol><ol start="2"><li>User: clicks 'new package'. 
</li></ol><ol start="3"><li>CKAN presents the package/new form to the user. 
</li></ol><ol start="4"><li>(After a couple of previews) User: clicks 'commit'. 
</li></ol><ol start="5"><li>Notification message goes from CKAN to the front-end detailing the new package.
</li></ol><ol start="6"><li>The user is redirected back to the front-end web page displaying the list of packages, which contains the new one.
</li></ol><p>
The notification message (step 5) has to get through to the front-end that the new package is created before the redirect (step 6). This suggests that the message sending needs to be *synchronous*, i.e. acknowledged by the front-end, before CKAN redirects the user to the front-end package listing page (step 6).
</p>
<p>
In addition, this use case suggests the front-end listens for package notifications, to save another call to CKAN to get the package details, before the displaying the list of packages. If this isn't possible (see next use case) and it must listen for revision notifications instead, then perhaps it is worth including the full package details in the payload for the revision notification message. Would there be a problem with such a large message in the next use case, with 100 packages?
</p>
<h2 id="Usecase:CKANimportspackages">Use case: CKAN imports packages</h2>
<ol><li>CKAN administrator runs a script that adds 100 new packages into CKAN. 
</li></ol><ol start="2"><li>CKAN sends notification message to front-end to report the new packages/revisions.
</li></ol><ol start="3"><li>Knowing there are new revisions, the front-end queries the CKAN revision interface to get the list of new packages.
</li></ol><ol start="4"><li>The front-end queries CKAN for each new package one-by-one.
</li></ol><ol start="5"><li>A new user request to the front-end will include the info about the new packages.
</li></ol><p>
The package addition could be achieved in 1 revision, 100 revisions or some compromise:
</p>
<ul><li>If it is 1 revision then potentially there are problems displaying the long list of packages in the 'recent changes'. 
</li></ul><ul><li>If it is 100 revisions, then the notification webhook would be called 100 times, which creates unnecessary load on the front-end. Suppose each Webhook call-back (step 2) triggers the front-end to make a call to CKAN to get the latest revisions (step3), in this case it would make 100 calls, most of them fruitless, causing unnecessary load on CKAN.
</li></ul><p>
This use case suggests a bulk import of packages should go into one revision, and therefore generate one revision notification message and 100 package notification messages. The front-end client should listen to only revision messages.
</p>

                            
                          </td>
                          <td class="PosixTime">1275324042000000
                          </td>
                          <td class="ModifiedTime">1275407987000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1467.html">#1467</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1467.html">CKAN dumps dgu miss certain publisher information</a>
                          </td>
                          <td class="description">
                            <p>
Pawel knows about this so David Read, Pawel and I need to find time to discuss it.
</p>

                            
                          </td>
                          <td class="PosixTime">1321376042000000
                          </td>
                          <td class="ModifiedTime">1326120319000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1551.html">#1551</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1551.html">CKAN auth for webstore changes</a>
                          </td>
                          <td class="description">
                            <p>
Webstore should use auth api ( <a class="assigned ticket" href="../ticket/1550.html" title="enhancement: Allow simple auth via the API (assigned)">#1550</a> ) for authenticating users accessing webstore rather than talking directly to the CKAN database. We also need it to suppose /user/  urls and /userid/ for accessing databases.
</p>

                            
                          </td>
                          <td class="PosixTime">1324049966000000
                          </td>
                          <td class="ModifiedTime">1346662048000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1518.html">#1518</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">markbrough
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1518.html">CKAN Upload fails if filename has spaces in it</a>
                          </td>
                          <td class="description">
                            <p>
E.g. uploading a file with spaces in it:
OECD Monthly Exchange Rates.zip
</p>
<p>
Gives a 404 Not Found response to the following file:
<a class="ext-link" href="http://test.ckan.org/api/storage/metadata/2011-12-05T193046/OECD%20Monthly%20Exchange%20Rates.zip"><span class="icon">​</span>http://test.ckan.org/api/storage/metadata/2011-12-05T193046/OECD%20Monthly%20Exchange%20Rates.zip</a>
</p>
<p>
The upload wheel keeps spinning and the user is not informed that the upload has failed.
</p>
<p>
Analysis: turns out that google storage (possibly s3 but not checked) replaces with ' ' in keys with '+' on upload. This breaks things because we try and look up metadata about upload using the filename/key we put in but of course that does not exist because google has changed name.
</p>
<p>
Fix is trivial: replace ' ' in keys / filenames with '-'.
</p>

                            
                          </td>
                          <td class="PosixTime">1323114236000000
                          </td>
                          <td class="ModifiedTime">1330020742000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1615.html">#1615</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1615.html">CKAN Should work behind a proxy server</a>
                          </td>
                          <td class="description">
                            <p>
This would allow deployment via Nginx or Apache using proxy to Paster, uWSGI. At the moment CKAN isn't aware of the proxy's IP address so when you perform an action which does a redirect (such as adding a package), CKAN redirects you to the *internal IP* not the external *proxy IP*.
</p>
<p>
We would like this work to facilitate testing within VMs as part of our new build infrastructure.
</p>
<p>
It would also be nice if CKAN worked when mounted at a path other than /. That could be dealt with in another ticket because it isn't a problem at the moment.
</p>

                            
                          </td>
                          <td class="PosixTime">1325687841000000
                          </td>
                          <td class="ModifiedTime">1328888870000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/576.html">#576</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/576.html">CKAN Requires Old Version of SQLAlchemy</a>
                          </td>
                          <td class="description">
                            <p>
Requires 0.4. 0.5 is a maintenance branch, 0.6 is current.
</p>
<p>
VDM appears to work correctly (all the tests pass) with 0.5. CKAN does not -- requires more investigation to determine exactly why.
</p>
<p>
It would actually be nice to be able to run with 0.6 or 0.5, though 0.6 will require some changes to VDM as well
</p>

                            
                          </td>
                          <td class="PosixTime">1284141573000000
                          </td>
                          <td class="ModifiedTime">1294753848000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1003.html">CKAN Javascript library and demonstration web interface</a>
                          </td>
                          <td class="description">
                            <p>
A plain javascript library for interfacing with CKAN would be very useful (why? see below!). It would also be nice to have a pure html + javascript web interface to CKAN both for its own sake and to act as a demonstrator for the library.
</p>
<p>
Why?
</p>
<ul><li>Development of bespoke interfaces -- much easier to edit html + javascript than to change ckan core
<ul><li>E.g. for specific communities e.g. geodata, science
</li><li>Specialized tasks - multi-package editing
</li></ul></li><li>Very easy deployment and integration (e.g. can drop in to getthedata or other sites)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1298490086000000
                          </td>
                          <td class="ModifiedTime">1300100411000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/698.html">#698</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">Stiivi
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/698.html">CKAN Data API v1</a>
                          </td>
                          <td class="description">
                            <p>
This proposal is to discuss adding a new API for proxying certain spreadsheet data via JSON-P to make it possible to build simple browser apps directly off the API.
</p>
<p>
See the attached proposal for information.
</p>

                            
                          </td>
                          <td class="PosixTime">1287073433000000
                          </td>
                          <td class="ModifiedTime">1293649815000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3016.html">#3016</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3016.html">CKAN 2.0 template tweaks</a>
                          </td>
                          <td class="description">
                            <p>
Just a ticket to keep track of a few suggested template changes.
</p>

                            
                          </td>
                          <td class="PosixTime">1352813417000000
                          </td>
                          <td class="ModifiedTime">1352813417000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1542.html">#1542</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1542.html">Buttons to purge spam datasets and groups</a>
                          </td>
                          <td class="description">
                            <p>
A sysadmin should be able to easily examine a suspect group or package, determine if it was created by a spammer (as opposed to being a legitimate object that has been graffitied by a spammer) and purge it.
</p>
<p>
The existing two-stage revision delete is currently unreliable and perhaps too laborious.
</p>
<p>
Olav and Richard have needs along this line.
</p>

                            
                          </td>
                          <td class="PosixTime">1323364930000000
                          </td>
                          <td class="ModifiedTime">1339774000000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/437.html">#437</a>
                          </td>
                          <td class="type">bug
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/437.html">Buildbot test failures - ascii codec</a>
                          </td>
                          <td class="description">
                            <p>
On today's buildbot: <a class="ext-link" href="http://buildbot.okfn.org/builders/buildbot-test/builds/201"><span class="icon">​</span>http://buildbot.okfn.org/builders/buildbot-test/builds/201</a>
</p>
<p>
2 failures about ascii (ignore other 2)
</p>

                            
                          </td>
                          <td class="PosixTime">1282223640000000
                          </td>
                          <td class="ModifiedTime">1288004009000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/172.html">#172</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/172.html">Build ckan documentation using sphinx and upload</a>
                          </td>
                          <td class="description">
                            <p>
Use python sphinx to build documenation in ./doc and then upload it somewhere publicly accessible.
</p>
<p>
NB: improving the documentation is another matter (as is integrating e.g. existing api docs).
</p>
<p>
Upload location (these are docs for CKAN codebase/concept not the ckan service at ckan.net so good not to associate it too closely with ckan.net):
</p>
<ul><li><a class="ext-link" href="http://knowledgeforge.net/ckan/ckan/doc/"><span class="icon">​</span>http://knowledgeforge.net/ckan/ckan/doc/</a>
</li><li>(Other options: <a class="ext-link" href="http://www.ckan.net/doc/"><span class="icon">​</span>http://www.ckan.net/doc/</a> <a class="ext-link" href="http://doc.ckan.net"><span class="icon">​</span>http://doc.ckan.net</a>)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1256489019000000
                          </td>
                          <td class="ModifiedTime">1257532331000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1161.html">#1161</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/pdeu-1.html">pdeu-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1161.html">Build a simplified theme for PDEU</a>
                          </td>
                          <td class="description">
                            <p>
We need to offer a strongly simplified version, read-only of CKAN under publicdata.eu, with a focus on its role as search engine instead of a data catalogue.
</p>
<p>
This ticket relates to work on the PDEU theme only!
</p>

                            
                          </td>
                          <td class="PosixTime">1306407835000000
                          </td>
                          <td class="ModifiedTime">1306408026000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2877.html">#2877</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2877.html">Bugs with datastore v2</a>
                          </td>
                          <td class="description">
                            <p>
In progress
</p>
<ol><li><del>[major] q does not seem to work reliably. e.g. using the setup from this gist <a class="ext-link" href="https://gist.github.com/1930806"><span class="icon">​</span>https://gist.github.com/1930806</a> and doing a ?q=DE yields no results (does not work with "q=de" either)</del>
<ul><li><del>q=second does work ...</del>
</li></ul></li><li>[major] q does not work with 2 values (see below)
</li><li>Query on search with limit 0 results in total of 0 (should either be null or correct total). Queries with other limits yield correct total AFAICT
<ul><li>Also weird fact that limit is returned but as as as string - should it not be an integer
</li></ul></li><li>Types on fields: could these not be canonical and as per recline (or is it important to allow exact sql types ...)
</li></ol><h3 id="Multiplequeryvalues">Multiple query values</h3>
<p>
Try a query such as: "second UK" and you will get 500 error:
</p>
<p>
<a class="ext-link" href="http://localhost:5000/api/3/action/datastore_search?resource_id=4f1299ab-a100-4e5f-ba81-e6d234a2f3bd&amp;q=second%20UK"><span class="icon">​</span>http://localhost:5000/api/3/action/datastore_search?resource_id=4f1299ab-a100-4e5f-ba81-e6d234a2f3bd&amp;q=second%20UK</a>
</p>
<pre class="wiki">ProgrammingError: (ProgrammingError) syntax error in tsquery: "second UK" 'select "_id", "id", "date", "x", "y", "z", "country", "title", "lat", "lon", count(*) over() as "_full_count"\n from "4f1299ab-a100-4e5f-ba81-e6d234a2f3bd" where _full_text @@ to_tsquery(%s) limit 100 offset 0' (u'second UK',)
</pre><h3 id="Suggestions">Suggestions</h3>
<p>
Filter support: should think in more detail about this (may want to follow recline style)
</p>
<p>
Simple filters in query parameters would be nice too ...
</p>

                            
                          </td>
                          <td class="PosixTime">1345250002000000
                          </td>
                          <td class="ModifiedTime">1346320395000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1106.html">#1106</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1106.html">Bugs related to routes arising from API refactor + removal of default routes</a>
                          </td>
                          <td class="description">
                            <p>
Various bugs I've been encountering:
</p>
<ul><li>Autocomplete of tag names no longer works (no longer works on <a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>). Appears to be due to no longer have a routes for apiv2 (i'm seeing failing calls to:  <a class="ext-link" href="http://ckan.net/apiv2/package/autocomplete?callback=callback&amp;incomplete=a"><span class="icon">​</span>http://ckan.net/apiv2/package/autocomplete?callback=callback&amp;incomplete=a</a>)
</li><li>Incorrect url generated for API in page footer (e.g.  <a class="ext-link" href="http://ckan.net/rest/get_api"><span class="icon">​</span>http://ckan.net/rest/get_api</a>) due to use of old 'rest' rather than new 'api'
</li></ul><p>
Latter issue was masked by existence of 'default' routes:
</p>
<pre class="wiki">   map.connect('/{controller}', action='index')
   map.connect('/:controller/{action}')
   map.connect('/{controller}/{action}/{id}')
</pre><p>
Having these is, I think, bad practice as it is better to be explicit and we should therefore remove asap.
</p>
<p>
In addition I think we should be cautious about 'default' routes in core such as:
</p>
<pre class="wiki">    map.connect('/api/rest/:register', controller='api', action='list',
        conditions=dict(method=['GET'])
        )
</pre><p>
As it makes it harder for extensions to introduce their own APIs (here one could perhaps add something at /api/rest/{my-object} but only by using before_map rather than after_map).
</p>

                            
                          </td>
                          <td class="PosixTime">1303747360000000
                          </td>
                          <td class="ModifiedTime">1303834069000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/314.html">#314</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/314.html">Bugs getting revisions from the REST API</a>
                          </td>
                          <td class="description">
                            <p>
Bug report regarding getting revisions:
</p>
<p>
Getting revisons by ID (on the latest ID)
 
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_revision=44aac9b6-ba24-43a8-87a1-f6923dc523ff"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_revision=44aac9b6-ba24-43a8-87a1-f6923dc523ff</a>"
</p>
<p>
Returns a whole load of stuff (it's also quite slow - about 10 seconds)
</p>
<p>
I'm expecting it to return just an empty array - am I doing something
wrong here - if so could you clarify correct use of the API?
</p>
<p>
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-30T23:45"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-30T23:45</a>"
Returns the empty string - I'd expect an empty array ie []
</p>
<p>
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-31T23:45"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-31T23:45</a>"
Returns an internal server error 500 - I think it should probably be "bad
Request" 400 (the date is invalid)
</p>

                            
                          </td>
                          <td class="PosixTime">1273743755000000
                          </td>
                          <td class="ModifiedTime">1276523983000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2318.html">#2318</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2318.html">Bug with Portugese translation and Javascript</a>
                          </td>
                          <td class="description">
                            <p>
If you switch to Portugese and try to add a resource on dataset edit it will fail. This is because there is a string translation in js_strings.html that has quotes in it. When this is inserted into the file this causes a js exception which then prevents any further js processing.
</p>
<p>
Specifically:
</p>
<pre class="wiki">CKAN.Strings.youHaveUnsavedChanges = "Você tem alterações não salvas. Certifique-se de ter clicado "Salvar Alterações" abaixo antes de sair desta página.";
Uncaught SyntaxError: Unexpected identifier
</pre><p>
To fix is simple i imagine: need to escape " correctly in js_strings.html (or translations used).
</p>
<p>
I have temporarily patched this live in order to allow the hackday here to continue.
</p>

                            
                          </td>
                          <td class="PosixTime">1335033889000000
                          </td>
                          <td class="ModifiedTime">1335774178000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1457.html">#1457</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">jilly.mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1457.html">Bug with DataNL instance</a>
                          </td>
                          <td class="description">
                            <blockquote>
<p>
"when logging into <a class="ext-link" href="http://register.data.overheid.nl/"><span class="icon">​</span>http://register.data.overheid.nl/</a> with OpenID, the /user/me page gives a 404. CKAN version 1.3.4."
</p>
</blockquote>
<p>
n the manual it says an API key kan be created via <a class="ext-link" href="http://test.ckan.net/user/me"><span class="icon">​</span>http://test.ckan.net/user/me</a> /. However, when I try the corresponding  <a class="ext-link" href="http://register.data.overheid.nl/user/me"><span class="icon">​</span>http://register.data.overheid.nl/user/me</a>, I get a 404 error (not found).        
</p>

                            
                          </td>
                          <td class="PosixTime">1320925041000000
                          </td>
                          <td class="ModifiedTime">1320925041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1417.html">#1417</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-24.html">ckan-sprint-2011-10-24</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1417.html">Browser language detection doesn't work</a>
                          </td>
                          <td class="description">
                            <p>
In Firefox:
</p>
<ul><li>Edit | Preferences | Content | Languages - put 'de' at top language
</li><li>Clear cookies
</li><li>Load thedatahub.org
</li><li>it should be in German, but it's in the default language - English.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1319539010000000
                          </td>
                          <td class="ModifiedTime">1319651617000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/520.html">#520</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/iati-1.html">iati-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/520.html">Browseable web interface onto the data</a>
                          </td>
                          <td class="description">
                            <ul><li>e.g. find/browse by country and by publishing entity and by donor
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1282893270000000
                          </td>
                          <td class="ModifiedTime">1283538080000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/183.html">#183</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/183.html">Browse packages by rating</a>
                          </td>
                          <td class="description">
                            <p>
At moment order packages by title.
</p>

                            
                          </td>
                          <td class="PosixTime">1257534606000000
                          </td>
                          <td class="ModifiedTime">1290604779000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/5.html">#5</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.3.html">v0.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/5.html">Browse list of packages and select one to view</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
Visitor
</p>
<h2 id="Iwantto">I want to</h2>
<p>
Browse a list of packages resulting from a search or browse request (see other use cases)
</p>
<h2 id="Sothat">So that</h2>
<p>
I can select one of the packages to view in more detail (-&gt; viewing an individual package <a class="closed ticket" href="../ticket/6.html" title="enhancement: View a package (closed: fixed)">ticket:6</a>)
</p>
<h2 id="Notes">Notes</h2>
<ul><li>When browsing a list of packages you should be able to see summary information about the package such as title (though this may be shortened in order to conveniently fit the list 
</li><li>The list should be broken up into pages so that the number of packages per page should be kept to a reasonable number (&lt;= 50). Response time should be kept reasonable
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1152549884000000
                          </td>
                          <td class="ModifiedTime">1185473622000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1719.html">#1719</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1719.html">Broken links for non-Gravatar use icons - 0.25d</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1506.html" title="enhancement: [super] UX improvements to dataset edit, create and search + group + user ... (closed: fixed)">#1506</a>
</p>
<p>
e.g. <a class="ext-link" href="http://thedatahub.org/user"><span class="icon">​</span>http://thedatahub.org/user</a> The users with Gravatar have their nice user icons, but the majority of users (without Gravatars) have 'broken link' symbols. Same problem wherever users are shown, such as the dataset history pages.
</p>
<p>
Broken on 1.5.2b - currently on thedatahub.org.
</p>

                            
                          </td>
                          <td class="PosixTime">1327938788000000
                          </td>
                          <td class="ModifiedTime">1328541630000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/986.html">#986</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwitzel3
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/986.html">Broken link report from the ckanext-qa code</a>
                          </td>
                          <td class="description">
                            <p>
Should have the following features:
</p>
<ul><li>A list of all packages with broken links on the resource
</li><li>Under each packages a description of any resources with broken links to include:
<ul><li>Link
</li><li>Description
</li><li>Format
</li><li>First found to be broken date
</li></ul></li></ul><p>
[If you can't do the last one yet, don't worry]
</p>

                            
                          </td>
                          <td class="PosixTime">1297683994000000
                          </td>
                          <td class="ModifiedTime">1297812401000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1258.html">#1258</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1258.html">Bring purge revision into ckan repo from vdm</a>
                          </td>
                          <td class="description">
                            <p>
In order to make purge revision work correctly with the moderated edits we need to modify purge revision in vdm.  This is best modified in ckan so we will override the vdm one in the reposotory.
</p>

                            
                          </td>
                          <td class="PosixTime">1312289539000000
                          </td>
                          <td class="ModifiedTime">1319812452000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1527.html">#1527</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1527.html">Break DGU package edit form into sections</a>
                          </td>
                          <td class="description">
                            <ul><li>use javascript to selectively hide/show parts of the form
</li><li>there's no validation between steps at this stage.  It's still a
"big save button at the end".
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323174829000000
                          </td>
                          <td class="ModifiedTime">1327589456000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2747.html">#2747</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;2.html">demo phase 2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2747.html">Breadcrumb should use title not URL of dataset</a>
                          </td>
                          <td class="description">
                            <p>
For example here: <a class="ext-link" href="http://s031.okserver.org:2375/en/dataset/new_resource/gold-prices"><span class="icon">​</span>http://s031.okserver.org:2375/en/dataset/new_resource/gold-prices</a>
The breadcrumb shows "gold-prices" which is not the title of the dataset
</p>

                            
                          </td>
                          <td class="PosixTime">1343211742000000
                          </td>
                          <td class="ModifiedTime">1343215679000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1581.html">#1581</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">mark.wainwright@…
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1581.html">Blog post about Google Analytics extension for CKAN</a>
                          </td>
                          <td class="description">
                            <p>
The CKAN Google Analytics extension has been updated to work with the latest version of CKAN, could make for a nice blog post.
</p>
<p>
Can ping John Glover in January for any details required.
</p>
<p>
Key link is: <a class="ext-link" href="http://thedatahub.org/analytics/dataset/top"><span class="icon">​</span>http://thedatahub.org/analytics/dataset/top</a> though this should probably move to be under stats (e.g. <a class="ext-link" href="http://thedatahub.org/stats/usage"><span class="icon">​</span>http://thedatahub.org/stats/usage</a>)
</p>

                            
                          </td>
                          <td class="PosixTime">1324402800000000
                          </td>
                          <td class="ModifiedTime">1325474274000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/363.html">#363</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/363.html">Blank revisions</a>
                          </td>
                          <td class="description">
                            <p>
Occasionally we seem to get revisions that are not connected to packages. These shouldn't appear, since all revisioned objects are linked to a package aren't they?
</p>
<p>
They appear on the 'Recently changed' list on the home page with an empty 'Packages' column.
</p>

                            
                          </td>
                          <td class="PosixTime">1278947772000000
                          </td>
                          <td class="ModifiedTime">1310125872000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/511.html">#511</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/511.html">Better warnings and errors when using API</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282754677000000
                          </td>
                          <td class="ModifiedTime">1297075354000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2480.html">#2480</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2480.html">Better message when dataset has no resources</a>
                          </td>
                          <td class="description">
                            <p>
If a dataset has no resources the resources list currently says
'(none)'.
</p>
<p>
Here is a suggested improvement, provided that a maintainer is named: 'There are no data resources here yet. For information about this data, contact the dataset maintainer.'
</p>

                            
                          </td>
                          <td class="PosixTime">1338453093000000
                          </td>
                          <td class="ModifiedTime">1339771086000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1290.html">#1290</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1290.html">Better error when blank database</a>
                          </td>
                          <td class="description">
                            <p>
When installing CKAN, when doing "paster serve development.ini", lots of users encounter the error for every request: 
</p>
<pre class="wiki">ProgrammingError: (ProgrammingError) relation "user" does not exist
</pre><p>
This is because the database tables have not been created - they have forgotten or missed the "paster db init" step.
</p>
<p>
Can we provide a better error to say that the database is not initialised yet?
</p>
<h2 id="Implementationoptions">Implementation options</h2>
<ol><li>At the start of every request we reflect the database tables and check they are there. This is rather expensive!
</li></ol><ol start="2"><li>Uncached requests to the home page start with a cheap database query. If there is an exception then return this error about database setup. I really like Drupal's page for this that has in large letters that the site is currently off-line. Below a line, in small letters, there are developer suggestions on what is wrong and where to look to fix it.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1314264255000000
                          </td>
                          <td class="ModifiedTime">1314270894000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2931.html">#2931</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2931.html">Better docstring for app_globals.py</a>
                          </td>
                          <td class="description">
                            <p>
<strong> The application's Globals object </strong> is not very informative.
</p>

                            
                          </td>
                          <td class="PosixTime">1347891194000000
                          </td>
                          <td class="ModifiedTime">1347891378000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2922.html">#2922</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2922.html">Better docstring for CKANInternationalizationExtension</a>
                          </td>
                          <td class="description">
                            <p>
I'm unsure about what's going on here. As I understand it, when we run
<tt>python setup.py extract_messages</tt> it's going to use the extract_ckan()
function from ckan/lib/extract.py to process the HTML files. For the
HTML files that are jinja2 templates, extract_ckan() will call
jinja2_cleaner() which will call regularise_html() on the strings.  So
the strings are regularised when they are extracted from the source
files.
</p>
<p>
But then we have the parse() method of <a class="missing wiki">CkanInternationalizationExtension?</a>
also calling regularise_html(). I don't get what's happening here. Why
do the strings need to be regularised twice?
</p>
<p>
My guess is that <a class="missing wiki">CkanInternationalizationExtension?</a> is used when the
strings are extracted from the templates at runtime, and they need to be
regularised at this time in order to match them against the regularised
strings in the mo files to find the translations to output?
</p>
<p>
Maybe <a class="missing wiki">CkanInternationalizationExtension?</a> needs a better docstring saying
what it does?
</p>

                            
                          </td>
                          <td class="PosixTime">1347530507000000
                          </td>
                          <td class="ModifiedTime">1347530507000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2924.html">#2924</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2924.html">Better docs for trans js command, and add to release process</a>
                          </td>
                          <td class="description">
                            <p>
Add a better docstring to for trans js command explaining what it does and why, and how to use it.
</p>
<p>
Also add this command to the CKAN Release Process as it's needed there
</p>

                            
                          </td>
                          <td class="PosixTime">1347530671000000
                          </td>
                          <td class="ModifiedTime">1347530671000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2319.html">#2319</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2319.html">Better auto-complete for groups on dataset edit page</a>
                          </td>
                          <td class="description">
                            <p>
Use jquery chosen?
</p>

                            
                          </td>
                          <td class="PosixTime">1335211353000000
                          </td>
                          <td class="ModifiedTime">1340624083000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1665.html">#1665</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1665.html">Begin doing research into eurovoc</a>
                          </td>
                          <td class="description">
                            <p>
How big is it? How are we going to store it? etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1326795828000000
                          </td>
                          <td class="ModifiedTime">1329742600000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1471.html">#1471</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1471.html">Be compatible with new ubuntu release in April</a>
                          </td>
                          <td class="description">
                            <p>
Nils flagged up that Ubuntu launches another LTS in April which we should probably move to. This ticket is to get the ball rolling with what we do. We can always include in our package the exact package versions of deps that we want, but it is good to be in line with the release if possible.
</p>
<p>
Here's how to see the packages included with it:
<a class="ext-link" href="http://packages.ubuntu.com/search?keywords=python-pylons&amp;searchon=names&amp;suite=all&amp;section=all"><span class="icon">​</span>http://packages.ubuntu.com/search?keywords=python-pylons&amp;searchon=names&amp;suite=all&amp;section=all</a>
</p>
<p>
Pylons 0.9.7 -&gt; 1.0-2 Requires a small amount of work
SQLAlchemy 0.7.3-2 OK
Babel 0.9.6-1 OK
Genshi 0.6-2 Perfect
</p>
<p>
Another alternative is to move to another web framework, especially minding that Pylons is not being further developed.
</p>

                            
                          </td>
                          <td class="PosixTime">1321552345000000
                          </td>
                          <td class="ModifiedTime">1340810270000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1552.html">#1552</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1552.html">Be able to set password on the command line when creating users</a>
                          </td>
                          <td class="description">
                            <p>
(instead of using the prompt) - needed for deployment
</p>

                            
                          </td>
                          <td class="PosixTime">1324056178000000
                          </td>
                          <td class="ModifiedTime">1324056240000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/57.html">#57</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.8.html">v0.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/57.html">Basic datapkg integration with CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Using datapkg a user can:
</p>
<ul><li>list packages on CKAN
</li><li>get info about package on CKAN
</li><li>register and update a package on CKAN
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1238750826000000
                          </td>
                          <td class="ModifiedTime">1239018717000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2231.html">#2231</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-02.html">ckan-sprint-2012-04-02</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2231.html">Base harvester broken on 1.6.1</a>
                          </td>
                          <td class="description">
                            <p>
On its current version, ckanext-harvest passed a custom schema to package_create and package_update to allow defining an id for new packages (the same as in remote ckan instances) <a class="missing changeset" title="No default repository defined">[1]</a>
</p>
<p>
Recent changes in the logic layer have made that the context object is no longer directly read from the context, but only get from plugins <a class="missing changeset" title="No default repository defined">[2]</a>. This makes the schema sent from ckanext-harvest to be ignored and the harvesting fails because the id field is not expected
</p>
<pre class="wiki">ValidationError: {'Id': u'The input field id was not expected.'}
</pre><p>
We need a way to either:
</p>
<ol><li>Be more flexible accepting schemas on the logic functions
</li><li>Modify the harvester plugin to implement the necessary interface
</li></ol><p>
<a class="missing changeset" title="No default repository defined">[1]</a> <a class="ext-link" href="https://github.com/okfn/ckanext-harvest/blob/master/ckanext/harvest/harvesters/base.py#L115"><span class="icon">​</span>https://github.com/okfn/ckanext-harvest/blob/master/ckanext/harvest/harvesters/base.py#L115</a>
</p>
<p>
<a class="missing changeset" title="No default repository defined">[2]</a> <a class="ext-link" href="https://github.com/okfn/ckan/blob/0c07d3be846777318b35c31325215dff00e99313/ckan/logic/action/create.py#L38"><span class="icon">​</span>https://github.com/okfn/ckan/blob/0c07d3be846777318b35c31325215dff00e99313/ckan/logic/action/create.py#L38</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1331815499000000
                          </td>
                          <td class="ModifiedTime">1333374735000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1263.html">#1263</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1263.html">Bad name for logic action in API causes Exception</a>
                          </td>
                          <td class="description">
                            <p>
A bad action name:
e.g.
curl <a class="ext-link" href="http://test.ckan.net/api/action/user_showaa"><span class="icon">​</span>http://test.ckan.net/api/action/user_showaa</a> -d '{}'
causes 500 response.
</p>
<p>
Occurs only on 1.4.3 beta.
</p>

                            
                          </td>
                          <td class="PosixTime">1312479020000000
                          </td>
                          <td class="ModifiedTime">1314029279000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2512.html">#2512</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2512.html">Bad link on demo site.</a>
                          </td>
                          <td class="description">
                            <p>
On the group read page <a class="ext-link" href="http://s031.okserver.org:2375/group/nhs"><span class="icon">​</span>http://s031.okserver.org:2375/group/nhs</a> the add dataset button goes to the edit group page instead of the add dataset url.
</p>

                            
                          </td>
                          <td class="PosixTime">1339518597000000
                          </td>
                          <td class="ModifiedTime">1339576809000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/329.html">#329</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/329.html">Bad dates cause exception on Gov form</a>
                          </td>
                          <td class="description">
                            <h2 id="Reproduction">Reproduction</h2>
<p>
Using the government form, create a new package with name 'test' and date released of '23/5/0210'. The result is a 500 error and 'Server Error' message.
</p>
<p>
Affects all versions of CKAN.
</p>
<h2 id="Whyitshappening">Why it's happening</h2>
<p>
The dates module is raising an exception on the invalid date when saving the date, which is not being caught. The exception should have been raised only during the earlier 'validation' step and that would be caught.
</p>

                            
                          </td>
                          <td class="PosixTime">1275060617000000
                          </td>
                          <td class="ModifiedTime">1275079189000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/544.html">#544</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/544.html">Backport facet browsing to CKAN 1.2</a>
                          </td>
                          <td class="description">
                            <p>
This is in IATI, would be nice to have in generic CKAN. 
</p>
<ul><li><a class="ext-link" href="http://bitbucket.org/okfn/iati/changeset/378431974c76"><span class="icon">​</span>http://bitbucket.org/okfn/iati/changeset/378431974c76</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1283267292000000
                          </td>
                          <td class="ModifiedTime">1291638966000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1007.html">#1007</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1007.html">Backport WDMMG translations for extensions i18n</a>
                          </td>
                          <td class="description">
                            <p>
Needed to allow extensions to be internationalized in the code and in templates. Requires in-template i18n domain switching which is broken between Genshi and Pylons, thus needs this hackish class. 
</p>
<p>
cf. <a class="ext-link" href="https://bitbucket.org/okfn/wdmmg/src/198841e770e5/wdmmg/config/environment.py#cl-16"><span class="icon">​</span>https://bitbucket.org/okfn/wdmmg/src/198841e770e5/wdmmg/config/environment.py#cl-16</a> 
</p>

                            
                          </td>
                          <td class="PosixTime">1298630621000000
                          </td>
                          <td class="ModifiedTime">1340626203000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/730.html">#730</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/730.html">Back up package data from all CKAN packages to storage.ckan.net</a>
                          </td>
                          <td class="description">
                            <p>
Write a worker that scans all packages in a ckan instance and uploads the data to storage.ckan.net.
</p>
<ul><li>Naming scheme?
<ul><li>Bucket: {ckan-instance-id}-{package-name}? {ckan-instance-id}-{package-id}?
<ul><li>What happens if names change
</li></ul></li><li>File: filename? hash?
</li></ul></li><li>Store hash back on ckan instance?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1287737109000000
                          </td>
                          <td class="ModifiedTime">1291139609000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/776.html">#776</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/776.html">Avoid generating vdm warnings</a>
                          </td>
                          <td class="description">
                            <p>
We get a host of vdm warnings frequently in the CKAN logs. Are these genuine worries or can they be avoided?
</p>
<pre class="wiki">2010-10-29 17:10:06,003 WARNI [vdm] Skipping adding property Package.package_search (PackageSearch) to revisioned object
2010-10-29 17:10:06,015 WARNI [vdm] Skipping adding property Package.all_revisions_unordered (PackageRevision) to revisioned object
2010-10-29 17:10:06,024 WARNI [vdm] Skipping adding property PackageTag.all_revisions_unordered (PackageTagRevision) to revisioned object
2010-10-29 17:10:06,081 WARNI [vdm] Skipping adding property PackageExtra.all_revisions_unordered (PackageExtraRevision) to revisioned object
2010-10-29 17:10:06,105 WARNI [vdm] Skipping adding property PackageResource.all_revisions_unordered (PackageResourceRevision) to revisioned object
2010-10-29 17:10:06,129 WARNI [vdm] Skipping adding property PackageRelationship.all_revisions_unordered (PackageRelationshipRevision) to revisioned object
</pre>
                            
                          </td>
                          <td class="PosixTime">1288372797000000
                          </td>
                          <td class="ModifiedTime">1297066840000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/186.html">#186</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/186.html">Automated upload to archive.org s3</a>
                          </td>
                          <td class="description">
                            <p>
(Follows on from <a class="closed ticket" href="../ticket/107.html" title="enhancement: Provide information about uploading material (closed: invalid)">ticket:107</a>). We want to provide facility for users to automatically upload material.
</p>
<ul><li>Create an upload page
</li><li>Store the material on archive.org using s3 - <a class="ext-link" href="http://www.archive.org/help/abouts3.txt"><span class="icon">​</span>http://www.archive.org/help/abouts3.txt</a>
</li><li>Main issue is how we cache large datasets ...
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1257803430000000
                          </td>
                          <td class="ModifiedTime">1296341182000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1398.html">#1398</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1398.html">Automated conversion of resource data into webstore</a>
                          </td>
                          <td class="description">
                            <ul><li>Possible sibling / requirement: <a class="closed ticket" href="../ticket/1397.html" title="enhancement: [super] Resource archiving (closed: fixed)">#1397</a> (resource archiving)
</li></ul><ul><li>Setup test environment. 1d
</li><li>Make task to upload files to webstorer. 3d
<ul><li>This includes writing back webstore_url and updated date. 0.5d
</li><li>Type guessing of file format. 1d
</li><li>Make cron to upload all un webstored resources. 0.5d
</li></ul></li><li>Testing for errors by running cron 2d
</li><li>Make nice way to deploy celery 1d.
</li><li>Documentation. 1d
</li><li>Deployment. 1d
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1318529724000000
                          </td>
                          <td class="ModifiedTime">1321827970000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/213.html">#213</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/213.html">Automate CKAN deployment</a>
                          </td>
                          <td class="description">
                            <p>
fabric script to automate ckan deployment
</p>

                            
                          </td>
                          <td class="PosixTime">1260811707000000
                          </td>
                          <td class="ModifiedTime">1265891061000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/25.html">#25</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.6.html">v0.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/25.html">Autocompletion (and suggestion) of package tags when adding tags to a package</a>
                          </td>
                          <td class="description">
                            <h2 id="Notes">Notes</h2>
<ul><li>Currently have a text box where users can add space separated tags
</li><li>Tags should auto-complete in a manner similar to delicious
</li><li>would also be good to have a list of suggested tags. This could either be:
<ul><li>[simpler] a list below the tag box chosen by existing popularity  or
</li><li>[more complex] a list of suggestions that updates as you add tags (based again on popularity but 'filtered/reranked' to reflect choices so far).
</li><li>For first attempt to should probably just go for the simpler option.
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1152551313000000
                          </td>
                          <td class="ModifiedTime">1204131522000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/332.html">#332</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/332.html">Autocomplete tag on click</a>
                          </td>
                          <td class="description">
                            <p>
During tag autocompletion, clicking on a suggested tag doesn't trigger completion in the text box.
</p>

                            
                          </td>
                          <td class="PosixTime">1275302887000000
                          </td>
                          <td class="ModifiedTime">1280743320000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/308.html">#308</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/308.html">Autocomplete package names &amp; tags in package search</a>
                          </td>
                          <td class="description">
                            <p>
Extracted from <a class="closed ticket" href="../ticket/216.html" title="enhancement: UI Review - Search (closed: fixed)">ticket:216</a>.
</p>
<p>
Dubious of its merit.
</p>

                            
                          </td>
                          <td class="PosixTime">1273050549000000
                          </td>
                          <td class="ModifiedTime">1275302577000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/815.html">#815</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/815.html">Autocomplete for the search field</a>
                          </td>
                          <td class="description">
                            <p>
The search field (on the homepage and in the top right corner of each page) should have autocomplete for package name. If a package name is selected, it should not do a search but go straight to the package page.
</p>

                            
                          </td>
                          <td class="PosixTime">1289995951000000
                          </td>
                          <td class="ModifiedTime">1294410951000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/816.html">#816</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/816.html">Autocomplete for the resource format field</a>
                          </td>
                          <td class="description">
                            <p>
The field for entering the format of a resource should have autocomplete, populated from all the values that have already been entered in this field for any resource.
</p>
<p>
This would help improve data quality and consistency.
</p>

                            
                          </td>
                          <td class="PosixTime">1289996574000000
                          </td>
                          <td class="ModifiedTime">1319812324000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2404.html">#2404</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2404.html">Auto-screenshot for related items</a>
                          </td>
                          <td class="description">
                            <p>
As a User I want an image generated for my related item automatically so that I do not have to take picture myself and upload it somewhere 
</p>
<p>
Implementation: (?) Use phantomjs or something like <a class="ext-link" href="http://snapito.com/"><span class="icon">​</span>http://snapito.com/</a>
Investigate for 1.8, will be needed for TDH Oct.
</p>

                            
                          </td>
                          <td class="PosixTime">1337583347000000
                          </td>
                          <td class="ModifiedTime">1346669526000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2984.html">#2984</a>
                          </td>
                          <td class="type">refactor
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2984.html">Auto-populate context with user, model, session, etc.</a>
                          </td>
                          <td class="description">
                            <p>
From Toby: make the context auto-populated with things like user/model/session if
not user supplied - especially for extensions (pre 2.0) maybe via a helper
or else a decorator on the action - helper seems nicer maybe done via
get_action()
</p>

                            
                          </td>
                          <td class="PosixTime">1350298101000000
                          </td>
                          <td class="ModifiedTime">1350298101000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/803.html">#803</a>
                          </td>
                          <td class="type">story
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/803.html">Auto-generate next migration version unit and test stub files</a>
                          </td>
                          <td class="description">
                            <p>
As a system developer, I want to run 'create next migration version' script, so that I don't have to create migration version tests and files manually.
</p>

                            
                          </td>
                          <td class="PosixTime">1289486678000000
                          </td>
                          <td class="ModifiedTime">1314031451000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2323.html">#2323</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2323.html">Auto-complete in organizations</a>
                          </td>
                          <td class="description">
                            <p>
Apparently auto-complete in Organizations may not work.  Check and fix.
</p>
<p>
See <a class="ext-link" href="https://github.com/okfn/ckan/commit/5eca7d5e37c0ef392b768b8b3768b2c3f93448b5"><span class="icon">​</span>https://github.com/okfn/ckan/commit/5eca7d5e37c0ef392b768b8b3768b2c3f93448b5</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1335274354000000
                          </td>
                          <td class="ModifiedTime">1340188400000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1038.html">#1038</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1038.html">Authz tool - operate on all packages at once</a>
                          </td>
                          <td class="description">
                            <p>
Add 'package:all' to authz tool to allow mass changes of authz.
</p>

                            
                          </td>
                          <td class="PosixTime">1300212788000000
                          </td>
                          <td class="ModifiedTime">1300212841000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1253.html">#1253</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1253.html">Authz refactor</a>
                          </td>
                          <td class="description">
                            <p>
We agreed on a system that allows overriding the authz checks at a logic function level (e.g. package_create, user_show) and supports the old (current) authz system.
</p>

                            
                          </td>
                          <td class="PosixTime">1312199491000000
                          </td>
                          <td class="ModifiedTime">1313401367000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1050.html">#1050</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1050.html">Authz lib improvement and refactor of ckan/lib/authztool.py</a>
                          </td>
                          <td class="description">
                            <p>
Refactor ckan/lib/authztool.py so that the relevant methods are independent of the command line interface.
</p>
<p>
The extracted methods should live in a new file ckan/authz.py. authztool.py should probably move into cli.py and will just do command line parsing and printing and use ckan/authz.py. The updated web gui for authz will also use this code.
</p>
<p>
Tests should be made. There's already a file ckan/tests/test_authz.py, which looks like the appropriate place for new tests.
</p>
<p>
all to go on a branch feature-1050-refactor-authtoolz
</p>
<h2 id="Optionalextras">Optional extras</h2>
<ul><li>Rename ckan/authz.py to ckan/lib/authz.py or even ckan/logic/authz.py
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300451937000000
                          </td>
                          <td class="ModifiedTime">1315394117000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1052.html">#1052</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1052.html">Authz holes</a>
                          </td>
                          <td class="description">
                            <p>
No authz on:
</p>
<ul><li>Group creation/edit/listing
</li><li>Package relationship create/edit/delete
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300709144000000
                          </td>
                          <td class="ModifiedTime">1300895410000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1027.html">#1027</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-3.html">ckan-v1.4-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1027.html">Authorization checks on all controller actions</a>
                          </td>
                          <td class="description">
                            <p>
We want to have authz checks on all controller actions so that we can lock down CKAN to a login-only mode. 
</p>

                            
                          </td>
                          <td class="PosixTime">1299666256000000
                          </td>
                          <td class="ModifiedTime">1299682082000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/647.html">#647</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/647.html">Authorization Groups for group-based access control</a>
                          </td>
                          <td class="description">
                            <p>
allow group-level authorization on all system entities
</p>

                            
                          </td>
                          <td class="PosixTime">1284889418000000
                          </td>
                          <td class="ModifiedTime">1287391981000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/835.html">#835</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/835.html">Authorization CLI and Documentation</a>
                          </td>
                          <td class="description">
                            <p>
As a sysadmin I want to take CKAN out of wiki-mode into normal mode. In normal mode visitor and logged in users cannot create or add packages.
</p>
<p>
Suggest put this as an internal command in authz system and add to cli as paster command.
</p>

                            
                          </td>
                          <td class="PosixTime">1291029108000000
                          </td>
                          <td class="ModifiedTime">1291644820000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2811.html">#2811</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2811.html">Author doesn't show on dataset read page</a>
                          </td>
                          <td class="description">
                            <p>
Edit a dataset and add an author, dataset read page still says 'author not given'. If you fill out both the author and author email fields then it works.
</p>

                            
                          </td>
                          <td class="PosixTime">1344415861000000
                          </td>
                          <td class="ModifiedTime">1349869110000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/855.html">#855</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/855.html">Authenticator tests</a>
                          </td>
                          <td class="description">
                            <p>
The coverage tool (run by buildbot in the ckan build) reports that only 38% of lines of ckan.lib.authenticator are run in tests. This suggests a need for more tests.
</p>

                            
                          </td>
                          <td class="PosixTime">1291723967000000
                          </td>
                          <td class="ModifiedTime">1311176988000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/787.html">#787</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-09-12.html">ckan-sprint-2011-09-12</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/787.html">Auth API</a>
                          </td>
                          <td class="description">
                            <p>
Auth Proposal
</p>
<p>
Use case: We'd like an authenticated and authorized Drupal user to be able to
edit/delete packages using the API
</p>
<p>
To do this a user would need a CKAN API key so we need some way of Drupal
telling CKAN who a user is so that they can get their API key.
</p>
<p>
Proposed Implementation
</p>
<hr />
<p>
A user visits the CKAN API key page to get their key. Because CKAN is at
catalogue.data.gov.uk (a subdomain of the Drupal site) it can read Drupal
cookies.
</p>
<p>
If there is no <tt></tt>DRXtrArgs<tt></tt> or <tt></tt>DRXtrArgs2<tt></tt> cookie, we know the user isn't
signed in so we redirect them to Drupal to sign in.
</p>
<p>
WISHLIST: It would be really nice if we could pass the URL to redirect back to
Drupal so tha Druapl can send them back to the CKAN API key page
</p>
<p>
Either way, they get back to CKAN and now the cookies exist. When the first
HTTP request header is sent, CKAN will read the Drupal session ID and then call
a Drupal API, server to server.
</p>
<p>
TODO: Implement an API on the drupal server which accepts a Drupal session ID
as an argument and returns the username and credentials, but only if the
request if from the CKAN server (perhaps we specify an API key in the request)
</p>
<p>
If the session is valid CKAN will set its own auth cookie and show them the
page with the API key. CKAN only considers a user signed in if both the CKAN
cookie *and* Drupal session ID are present. If at any time they sign out of
Drupal the Drupal session disappears so they will be signed out of CKAN too.
</p>
<p>
Now the user has an API key they can use the standard CKAN command line API
tools.
</p>
<p>
The API key is the only thing the user will need to use the CKAN API. This
poses a problem. What if a user is removed from Drupal but still has a CKAN API
key?
</p>
<p>
Two solutions:
</p>
<ol><li>API keys will be set to only be valid for the length of a Drupal session so
that a user will only be able to use the write API for a little time after
credentials are revoked
</li></ol><ol start="2"><li>CKAN provides an API to allow Drupal to revoke keys
</li></ol><p>
Option 1. seems easier to me. If we choose this we will write a <tt></tt>get_api_key<tt></tt>
command line tool so that Drupal user can write things like this:
</p>
<p>
::
</p>
<blockquote>
<p>
datapkg list_packages --api_key <tt>get_api_key</tt>
</p>
</blockquote>
<p>
 
The <tt></tt>get_api_key<tt></tt> function will prompt for username and password and then
perform the steps necessary to get an API key.
</p>

                            
                          </td>
                          <td class="PosixTime">1289211035000000
                          </td>
                          <td class="ModifiedTime">1315821118000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/272.html">#272</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/272.html">Atom/RSS feeds for individual tags and groups</a>
                          </td>
                          <td class="description">
                            <p>
I want to be able to easily check when a package is added (or removed?) from a given tag or groups. To do this I would like access to an Atom/RSS feed for a given tag or group.
</p>
<ul><li>This would allow people to embed feed widgets in other places
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1268988652000000
                          </td>
                          <td class="ModifiedTime">1340631775000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1120.html">#1120</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">tsm
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1120.html">Atom feeds of each tag</a>
                          </td>
                          <td class="description">
                            <p>
Tags could/should have an Atom feed. This would mean that every edit to relevant packages could be easily monitored. See <a class="missing changeset" title="No default repository defined">[1]</a>.
</p>
<p>
<a class="missing changeset" title="No default repository defined">[1]</a> <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2011-May/001162.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2011-May/001162.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1304309285000000
                          </td>
                          <td class="ModifiedTime">1339774568000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2709.html">#2709</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2709.html">Atom feeds are undocumented</a>
                          </td>
                          <td class="description">
                            <p>
There doesn't seem to be any documentation yet for Atom feeds.
</p>

                            
                          </td>
                          <td class="PosixTime">1342624310000000
                          </td>
                          <td class="ModifiedTime">1342626212000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/195.html">#195</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/195.html">Association listings should be alphabetically sorted (e.g. a group's packages)</a>
                          </td>
                          <td class="description">
                            <p>
Where an item has an association listing (e.g. package's tags or group's packages) these should be sorted in a sensible way. For present choose to sort alphabetically by name.
</p>
<p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1258475448000000
                          </td>
                          <td class="ModifiedTime">1258585500000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/452.html">#452</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/452.html">Assist with using package update error form</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282299647000000
                          </td>
                          <td class="ModifiedTime">1287997540000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/450.html">#450</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/450.html">Assist with proxying of static media for forms</a>
                          </td>
                          <td class="description">
                            <p>
John did this a while ago.
</p>

                            
                          </td>
                          <td class="PosixTime">1282299573000000
                          </td>
                          <td class="ModifiedTime">1287997487000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/729.html">#729</a>
                          </td>
                          <td class="type">bug
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/729.html">Assets to be loaded from assets.okfn.org, not m.okfn.org</a>
                          </td>
                          <td class="description">
                            <p>
Move from hetzner box to s3. 
</p>

                            
                          </td>
                          <td class="PosixTime">1287736519000000
                          </td>
                          <td class="ModifiedTime">1288012854000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1413.html">#1413</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1413.html">Ask users to 'add email address' when logged in</a>
                          </td>
                          <td class="description">
                            <p>
I'd like us to display a one-off banner that prompts users who log into thedatahub.org to go and update &amp; their profile &amp; fill in their email address (if we could do it just for those who don't have an email address, then even better)
That is, once they log in, they see a banner which says:
Please update your profile [here] and add your email address, so you can receive notifications, be able to reset your password and get updates
</p>
<p>
Then when we build notifications or if we decide to survey people, we can actually contact them. Email address should be required as standard
</p>
<p>
DR: Also, mention their Full Name too - v. useful for selecting correct user in group curation
</p>

                            
                          </td>
                          <td class="PosixTime">1319453108000000
                          </td>
                          <td class="ModifiedTime">1330020486000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/426.html">#426</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/426.html">Ask list for suggestions improving API docs</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1281436574000000
                          </td>
                          <td class="ModifiedTime">1282925305000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/402.html">#402</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/402.html">Archiving worker to back up package resources from a CKAN instance</a>
                          </td>
                          <td class="description">
                            <p>
Write a worker that scans all packages in a ckan instance and uploads the data to storage.ckan.net or another suitable storage system.
</p>
<ul><li>Naming scheme?
<ul><li>Bucket: {ckan-instance-id}-{package-name}? {ckan-instance-id}-{package-id}?
<ul><li>What happens if names change
</li></ul></li><li>File: filename? hash?
</li></ul></li><li>Store hash back on ckan instance?
</li></ul><p>
The caching worker will consumer update notifications and fetch packages. 
</p>
<p>
Extra points for: 
</p>
<ul><li>Properly checking for source file modification (Last-modified, Etag)  
</li><li>Using PIP VCS Backends for retrieval
</li><li>OFS/S3 Storage 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1281018912000000
                          </td>
                          <td class="ModifiedTime">1296467635000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2736.html">#2736</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2736.html">Archiver fixes</a>
                          </td>
                          <td class="description">
                            <p>
We need to check the archiver to make sure it works as we would expect after the changes in <a class="assigned ticket" href="../ticket/2732.html" title="enhancement: New file upload functionality (assigned)">#2732</a>:
</p>
<ul><li>Receive notification of a file that needs processing
</li><li>Check the file's DB entry and upload the file to the configured remote service
</li><li>Update the URL of the file (both in the file's DB entry and the resource)
</li><li>Once we're sure the file is safely archived, we should mark the file as being archived
</li></ul><blockquote>
<blockquote>
<p>
so that we know it can safely be deleted at some point.
</p>
</blockquote>
</blockquote>
<p>
Maybe this could/should be implemented as a service rather than a celery task?
</p>

                            
                          </td>
                          <td class="PosixTime">1343121237000000
                          </td>
                          <td class="ModifiedTime">1346670097000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2829.html">#2829</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2829.html">Archiver fails on 403 http response</a>
                          </td>
                          <td class="description">
                            <p>
Had this issue with the archiver on my local machine need to be logged in (I am admin) to see via web front end
</p>
<pre class="wiki">$ paster archiver update -c ../ckan/development.ini 


2012-08-09 11:01:37,636 INFO  [ckanext.archiver.commands] Archival of dataset resource data added to celery queue: opencontext-chogha-mish-fauna (1 resources)
2012-08-09 11:01:37,671 INFO  [ckanext.archiver.commands] Getting dataset metadata: south-african-national-gov-budget-2012-13
2012-08-09 11:01:37,900 INFO  [ckan.lib.base]  /api/action/package_show render time 0.043 seconds
Traceback (most recent call last):
  File "/home/toby/okfn/pyenv/bin/paster", line 8, in &lt;module&gt;
    load_entry_point('PasteScript==1.7.5', 'console_scripts', 'paster')()
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/script/command.py", line 104, in run
    invoke(command, command_name, options, args[1:])
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/script/command.py", line 143, in invoke
    exit_code = runner.run(args)
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/script/command.py", line 238, in run
    result = self.command()
  File "/home/toby/okfn/pyenv/src/ckanext-archiver/ckanext/archiver/commands.py", line 98, in command
    response = app.post(api_url + '/package_show', data)
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/fixture.py", line 262, in post
    expect_errors=expect_errors)
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/fixture.py", line 243, in _gen_request
    return self.do_request(req, status=status)
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/fixture.py", line 406, in do_request
    self._check_status(status, res)
  File "/home/toby/okfn/pyenv/lib/python2.7/site-packages/paste/fixture.py", line 439, in _check_status
    res.body))
paste.fixture.AppError: Bad response: 403 Forbidden (not 200 OK or 3xx redirect for /api/action/package_show)
{"help": "Return the metadata of a dataset (package) and its resources.\n\n    :param id: the id or name of the dataset\n    :type id: string\n\n    :rtype: dictionary\n\n    ", "success": false, "error": {"message": "Access denied", "__type": "Authorization Error"}}
</pre>
                            
                          </td>
                          <td class="PosixTime">1344508484000000
                          </td>
                          <td class="ModifiedTime">1344508484000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1573.html">#1573</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">David Raznik
                          </td>
                          <td class="reporter">jilly mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1573.html">Apps and Ideas</a>
                          </td>
                          <td class="description">
                            <p>
Estimate 2 weeks for someone to finish and test.
</p>

                            
                          </td>
                          <td class="PosixTime">1324294593000000
                          </td>
                          <td class="ModifiedTime">1324294593000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1276.html">#1276</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-09-12.html">ckan-sprint-2011-09-12</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1276.html">Apply weighting to search fields in solr</a>
                          </td>
                          <td class="description">
                            <p>
For example:
</p>
<ul><li>name and title should have a higher weight than the notes field
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1313414353000000
                          </td>
                          <td class="ModifiedTime">1315948394000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1780.html">#1780</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1780.html">Api to add translations.</a>
                          </td>
                          <td class="description">
                            <p>
Add api to translation to the term_translation table.
</p>
<ul><li>add to logic 2d
</li><li>test 2d
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328548908000000
                          </td>
                          <td class="ModifiedTime">1328578479000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1781.html">#1781</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1781.html">Api to add translations.</a>
                          </td>
                          <td class="description">
                            <p>
Add api to translation to the term_translation table.
</p>
<ul><li>add to logic 2d
</li><li>test 1d
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328549031000000
                          </td>
                          <td class="ModifiedTime">1329393822000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2968.html">#2968</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2968.html">Anyone can access organization members page</a>
                          </td>
                          <td class="description">
                            <p>
The button will not show if you are not authorized but browse to /organization/members/foo and you can edit the members, it does stop you when you try to save your changes, but you shouldn't be able to get to the page at all
</p>

                            
                          </td>
                          <td class="PosixTime">1350296355000000
                          </td>
                          <td class="ModifiedTime">1350297070000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1257.html">#1257</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1257.html">Anti-Spam tools</a>
                          </td>
                          <td class="description">
                            <p>
We are getting more and more spam on ckan.net and we need to improve our strategy of combating it. It is bad because google ranks who we link to (which we do want for legitimate links), and our front page contains the latest package edits, so spam is immediately very visible.
</p>
<p>
Spam:
</p>
<ul><li>Package creation
</li><li>Package edit
</li><li>User creation
</li><li>Group creation
</li></ul><p>
Systems to consider:
</p>
<ul><li>Automatic
<ul><li>captcha
</li><li>bayesian scoring
</li></ul></li><li>Sysadmin
<ul><li>a tool to quickly analyse and remove packages, edits and users
</li></ul></li><li>Helpful users
<ul><li>button to click indicating spam, leading to any/all of: 
<ul><li>add TODO item (which emails package admin and sysadmins)
</li><li>quarantine the package/user so it doesn't show up on the front page and a warning is shown when you view it
</li></ul></li></ul></li></ul><p>
General thoughts:
</p>
<ul><li>We should learn from the wikipedia tools, as they are the experts
</li><li>This is a serious problem that is only going to get worse and is a threat to the whole site.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1312283565000000
                          </td>
                          <td class="ModifiedTime">1339774129000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2312.html">#2312</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2312.html">Analysis of how datasets could belong to users instead of Groups</a>
                          </td>
                          <td class="description">
                            <p>
<strong> DUPLICATE OF <a class="assigned ticket" href="../ticket/2548.html" title="enhancement: Object ownership for groups/package (assigned)">#2548</a>
</strong></p>
<p>
Currently datasets can only be part of a group but that is quite heavyweight when a single user wants to upload a single dataset.  To resolve this it would be great if a dataset could be attached to a user directly - find out how.
</p>

                            
                          </td>
                          <td class="PosixTime">1334663770000000
                          </td>
                          <td class="ModifiedTime">1340188765000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/453.html">#453</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/453.html">Analysis and planning for UKLII</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282299725000000
                          </td>
                          <td class="ModifiedTime">1294411374000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <span class="current">24</span>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=summary&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=summary&amp;asc=0&amp;page=25.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=summary&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>