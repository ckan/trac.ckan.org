<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {23} Trac comments – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="23%3Fsort=ticket&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="23%3Fsort=ticket&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="23%3Fsort=ticket&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=23&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="23%3Fsort=ticket&amp;asc=1&amp;page=17.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{23} Trac comments
        <span class="numrows">(3729 matches)</span>
      </h1>
      <form method="get" action="23%3Fsort=ticket&amp;asc=1&amp;page=18.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_comments.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_comments.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1701 - 1800 of 3729)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=17.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <span class="current">18</span>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Page 28">28</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th class="asc">
            <a href="23%3Fsort=ticket&amp;asc=0&amp;page=18.html">
              Ticket
            </a>
          </th><th>
            <a href="23%3Fsort=PosixTime&amp;asc=1&amp;page=18.html">
              Posixtime
            </a>
          </th><th>
            <a href="23%3Fsort=author&amp;asc=1&amp;page=18.html">
              Author
            </a>
          </th><th colspan="100">
            <a href="23%3Fsort=newvalue&amp;asc=1&amp;page=18.html">
              Newvalue
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300367555000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Yes, I think the two should be consolidated, but as was noted elsewhere (I think) we don't want the API to ever be authenticated via a cookie, otherwise we open ourselves to CSRF attacks. Instead we could support the API key as a query parameter as an alternative to via the HTTP header if it is hard to set an HTTP header in JS libraries?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300625888000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">My vote on this would be to enable "httpbasic" auth via repoze.who and to add an API key challenger to ckan/lib/authenticator.py that accepts API keys, from within repoze.who. This way we won't have to work around the framework at all and can retain compatibility to the existing mechanisms.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300703779000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">First work in cset:6b8cbe465b61
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1300704249000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Wrote a WDMMG version of this yesterday: https://bitbucket.org/okfn/wdmmg/changeset/398ce0eb3901#chg-wdmmg/lib/authenticator.py
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1301229082000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Completed and merged into default in cset:cb200f339dbb. At the moment have done the very simple option but pudo's approach seems better and we could refactor towards that going forward.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1301307814000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">You mentioned writing tests? Also the CSRF question from James hasn't been addressed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1001.html">#1001</a>
                          </td>
                          <td class="PosixTime">1301310351000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">This ticket did not include CSRF matters - please raise in a separate ticket if you wish. I looked in some detail at the testing options and nothing seemed simple to do that didn't duplicate code we already have (since no way to access the base controller halfway through a request). This can be tested as necessary as part of the development of the new js work.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1311173185000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I've done this in my branch and it will get merged in.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1311675754000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Can you also delete the "paster changes" in ckan/lib/cli with this removal?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1311676199000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Reopening this, since it has not been pushed or merged in afaict.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1002.html">#1002</a>
                          </td>
                          <td class="PosixTime">1322515684000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've redone these changes in cset:91258a6296db71d78a on master, aiming for 1.5.2.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1298490126000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Work so far in http://bitbucket.org/rgrp/ckanjs
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1298889293000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Have now started refactor to use backbone and have basic inline editing working and started on Add dataset view.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1003.html">#1003</a>
                          </td>
                          <td class="PosixTime">1300100411000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Converted completely to backbone and now have fully-operational add dataset functionality. I'm closing this ticket now - further improvements can be in there own tickets.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1311173560000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">At the moment it says "Create a new group" and clicking it takes you to the login page. We want it to do the same thing but if you aren't logged in the label should say "Log in to create a group".
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323171375000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">The yellow box on the right is now back and you don't get taken to the login page. We'll write more detailed instructions once the group refactor is done.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323172489000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">There is a description of groups, but that is not the subject of this ticket. In fact if you're not logged in you do get taken to the login page (which is quite correct). I agree with your earlier comment that the text of the link needs changing. 

Sorry to be reopening this, but I think the previous comment misses the point. Doing this ticket would be a valuable quick fix. Putting on backlog.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323174597000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I don't understand. We just had a team meeting about this, all discussed it and agreed to close it. Yes, you get taken to the login page, but that is the correct behaviour. 

The problem in the past was that the link was in the yellow box and there was no explanation as to why you had to login. This time you click from the header bar and there is a clear message saying "Unauthorized to create a group" - exactly as a user would expect. Even if the exact text of the ticket description isn't fully implemented in the current release, the UX isn't broken anymore. Yes, it might be even nicer to have a message warning them in advanced but these improvements will be taken forward in the UX work - maybe there is an even better solution than a message?

Since you are unhappy about closing it I'm marking it as "Duplicate" of #1521. As agreed earlier with the entire team, we'll take this forward as part of the groups refactor.

See #1521 for more information.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323177994000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">My suggested fix:
{{{

diff --git a/ckan/templates/group/index.html b/ckan/templates/group/index.html
index 8502df9..064e066 100644
--- a/ckan/templates/group/index.html
+++ b/ckan/templates/group/index.html
@@ -9,7 +9,15 @@
   &lt;py:match path="primarysidebar"&gt;
     &lt;li class="widget-container boxed widget_text"&gt;
       &lt;h3&gt;What Are Groups?&lt;/h3&gt;
-      &lt;span i18n:msg=""&gt;Whilst tags are great at collecting datasets together, 
+      &lt;p&gt;&lt;span i18n:msg=""&gt;Whilst tags are great at collecting datasets togethe
+      &lt;p&gt;
+      &lt;span i18n:msg="" class="ckan-logged-in" style="display: none;"&gt;
+         &lt;a href="${h.url_for(controller='group',action='new', id=None)}"&gt;Creat
+      &lt;/span&gt;
+      &lt;span i18n:msg="" class="ckan-logged-out"&gt;
+         To create a new group, please first &lt;a href="${h.url_for(controller='u
+      &lt;/span&gt;
+      &lt;/p&gt;
     &lt;/li&gt;
   &lt;/py:match&gt;
 
diff --git a/ckan/templates/group/layout.html b/ckan/templates/group/layout.html
index 64153aa..a3f732b 100644
--- a/ckan/templates/group/layout.html
+++ b/ckan/templates/group/layout.html
@@ -25,9 +25,12 @@
       &lt;li py:attrs="{'class':'current-tab'} if c.action=='index' else {}"&gt;
         ${h.subnav_link(c, h.icon('group') + _('List Groups'), controller='grou
       &lt;/li&gt;
-      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}"&gt;
+      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="
         ${h.subnav_link(c, h.icon('group_add') + _('Add a Group'), controller='
       &lt;/li&gt;
+      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="
+        ${h.subnav_link(c, h.icon('group_add') + _('Log-in to add a Group'), co
+      &lt;/li&gt;
     &lt;/ul&gt;
   &lt;/py:match&gt;
}}}
BUT this fix doesn't completely work. When you log-in and create a group, at this point the nav bar changes from the (correct) "Add a group" to (incorrect) "Log-in to add a group".
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323187352000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Here is the unclipped version:
{{{
      &lt;p&gt;
      &lt;span i18n:msg="" class="ckan-logged-in" style="display: none;"&gt;
	  &lt;a href="${h.url_for(controller='group',action='new', id=None)}"&gt;Create a new group&lt;/a&gt;
      &lt;/span&gt;
      &lt;span i18n:msg="" class="ckan-logged-out"&gt;
	  To create a new group, please first &lt;a href="${h.url_for(controller='user',action='login', id=None)}"&gt;log-in&lt;/a&gt;.
      &lt;/span&gt;
      &lt;/p&gt;
}}}
{{{
      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="ckan-logged-in" style="display: none;"&gt;
        ${h.subnav_link(c, h.icon('group_add') + _('Add a Group'), controller='group', action='new')}
      &lt;/li&gt;
      &lt;li py:attrs="{'class':'current-tab'} if c.action=='new' else {}" class="ckan-logged-out"&gt;
        ${h.subnav_link(c, h.icon('group_add') + _('Log-in to add a Group'), controller='group', action='new')}
      &lt;/li&gt;
}}}
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323194016000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">Dread, that fix wouldn't work because the class attribute was being defined in Genshi and again in HTML, with slighly undefined behaviour (in this case Genshi overwrites HTML). 
I have performed a very very simple fix which modifies the navbar text when you're not logged in. 
https://github.com/okfn/ckan/commit/a89a48731ba548170045a60ac2930e0019c299c7

I don't think the link should be restored in the sidebar, it was explicitly removed as part of a site-wide sweep to make the sidebar a passive, helpful element rather than an active element with action links.

Site looks great to me, I'm closing this ticket.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1004.html">#1004</a>
                          </td>
                          <td class="PosixTime">1323195485000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Great stuff zeph! Diff looks really good and cheers for the explanation. 

On master, cset:a89a48731ba548170045a60ac2930e0019c299c7 and I've cherry picked this for release 1.5.1. too.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1005.html">#1005</a>
                          </td>
                          <td class="PosixTime">1300100085000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Moved to dgu trac ticket 869
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1298631145000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">This command is slightly different to your branch policy as of two weeks ago:
{{{
stable: stable code
metastable: (will soon be deprecated) for code preparing to be stable
default: development HEAD
}}}
which I prefer. 

My ideal would be to get rid of the confusing name 'metastable' and unneeded 'stable' and start a new branch called 'released', which will act the same as 'master' in this diagram but with a more intuitive name:
http://nvie.com/posts/a-successful-git-branching-model

Then for each ckan instance we can either use the most recent release (from 'released') or choose a specific one (e.g. 'ckan-1.3' or even 'default' or 'enh-865' for getting latest features). This gives a good degree of flexibility, is more understandable to newbies and probably a more widely understood branching model.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300098217000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Reassigning to rgrp for response
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300105927000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Not sure when i described that other process but I'm definitely of the opinion that we should:

* Deprecate and remove stable branch
* Deprecate and remove metastable branch (going forward we can use release branches for what we did with metastable in the past)

May want to update BranchingPolicy to reflect this (also should probably have some statement about closing release branches and tagging)

Reassigning to David Raznick as he is our release guru now.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1006.html">#1006</a>
                          </td>
                          <td class="PosixTime">1300372286000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">I'm updating the branching policy now. David has closed stable and closed metastable. Marking as fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1008.html">#1008</a>
                          </td>
                          <td class="PosixTime">1298821826000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I've removed the eval in cset:1b8fedeb7ab0 - the more general question about caching should go in a separate ticket.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1009.html">#1009</a>
                          </td>
                          <td class="PosixTime">1298638447000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Some more ideas: 
 
 * /user should list users, sorted by number of packages contributed/editied
 * /user/{name}/packages shows a list of packages to which users have contributed

                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1010.html">#1010</a>
                          </td>
                          <td class="PosixTime">1298733856000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Complete see branch feature-1010-list-users and closing changeset cset:feature-1010-list-users.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1010.html">#1010</a>
                          </td>
                          <td class="PosixTime">1298740889000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Meant this cset:d2651db566ef
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298820235000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">On reflection, may as well make a Plugin interface called IAuthorizer, which allows customisation of get_authorization_groups, get_roles, and is_authorized....
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298821699000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">I agree that IAuthorizer is useful but not sure how it addresses the requirement of the ticket. AuthorizationGroups are already editable via the web interface at /authorizationgroup
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298824649000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">The "external source" is an Oauth service.  We need to lookup user groups from that service.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1298825600000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">Proposed implementation at https://bitbucket.org/okfn/ckan/changeset/187e65afb35f
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1011.html">#1011</a>
                          </td>
                          <td class="PosixTime">1299245206000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">Merged to default https://bitbucket.org/okfn/ckan/changeset/e8217c317a8e
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1300217601000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">See also #103 which says:

As a user I want to view a package at a given revision:

    * When I visit /package/read/xyz?rev=yyy I should be shown package at revision yyy
    * package history page should provide links to these pages 

Could you please investigate how doable this would be given the current package read.html page. I expect it could be very easy once the revision API is in place because we could build a c.pkg object from the revision data instead of the model data.

Perhaps another case where we could try introducing the dictization?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1300352334000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">This is entirely not trivial at the moment.  Hopefully after the dictization it will become more so.
Simply putting in the package revision object in place of the package does not work.
It will obviously work for changes to the package object itself. However, there are no  mappers on that object for getting out the related package_tags, resources and extras at that revision.  You will have to construct a fake pkg object with some messy and painful queries using dates.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1300362584000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset:5649d6e761fc

The basic revision history is merged. I will keep this ticket open if it is not sufficient.

All it does is give a list with the most recent first of revision_ids, authors and timestamps.

i.e

{{{
[{"timestamp": "2011-03-16T15:55:19.941961", 
  "author": "southampton-ac-uk", 
  "revision": "202e9eb8-afaa-4bc9-b8a1-a317561547ea"},
 {"timestamp": "2011-03-15T17:59:16.430804",
 "author": "southampton-ac-uk",
 "revision": "8235bd0a-d39a-49e0-887a-b0f231be8a92"}]
}}}
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1300364620000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">The API part is now done. Bumping the view history part to 1.5
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1300368449000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">As I understand it, the whole point to vdm is to make it easy to get old versions of not only the package, but its related objects (like tags, extras). David take a look at this function: Package.get_as_of(revision)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1301909937000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">No-one really seems to have requested this part.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1012.html">#1012</a>
                          </td>
                          <td class="PosixTime">1301943096000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Changing this to 'Fixed' and #103 to 'Wont fix' to ensure this feature is noted.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1013.html">#1013</a>
                          </td>
                          <td class="PosixTime">1299245157000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">This is now resolved, but depends on core CKAN behaviour (specifically pluggable middleware and unicode-aware error pages) to function:

  https://bitbucket.org/okfn/ckan/changeset/c846794c1799
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1014.html">#1014</a>
                          </td>
                          <td class="PosixTime">1299245293000000
                          </td>
                          <td class="author">sebbacon
                          </td>
                          <td class="newvalue">Run out of time for decoupling, but tests and README.txt written (including pointers about how to customise for anyone who needs to decouple in the future)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1015.html">#1015</a>
                          </td>
                          <td class="PosixTime">1298902753000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">The migration fixes should sort this out, but I will keep the ticket open to check.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1015.html">#1015</a>
                          </td>
                          <td class="PosixTime">1299788821000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Today kindly applied the sql fixes and I can confirm this is now fixed. Well done kindly for all the great work here.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1017.html">#1017</a>
                          </td>
                          <td class="PosixTime">1299668555000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:86d49a775fd3
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1018.html">#1018</a>
                          </td>
                          <td class="PosixTime">1299073340000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:e4167f8b3f80 on default
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1019.html">#1019</a>
                          </td>
                          <td class="PosixTime">1299166930000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in https://bitbucket.org/okfn/ckanext-webhooks/changeset/034647931921
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1020.html">#1020</a>
                          </td>
                          <td class="PosixTime">1300196215000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This is now on DGU live.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1021.html">#1021</a>
                          </td>
                          <td class="PosixTime">1299518828000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:9f1b38add19f
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1022.html">#1022</a>
                          </td>
                          <td class="PosixTime">1299512991000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">We're now using fileConfig to configure the logger API from the worker config file and this enables us to use SMTPHandler to send out error messages on queue processing failures. 

Marking as fixed.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1023.html">#1023</a>
                          </td>
                          <td class="PosixTime">1299514847000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">Tried implementing this with AMQPs msg.requeue() and channel.basic_recover() but RabbitMQ yield a NOT_IMPLEMENTED error. 

Bit clueless on how to proceed.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1024.html">#1024</a>
                          </td>
                          <td class="PosixTime">1299668648000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">re-created this (#1027)
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299598708000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in enh-1025-config-default-authz and goes into release 1.3.2.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299750097000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">(Link to changeset). Could you briefly clarify why this was needed in config -- we already have a process for putting things into a more restricted mode (see ticket:833) and have been working on creating a WUI to be able to do this automatically (see that ticket).
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1025.html">#1025</a>
                          </td>
                          <td class="PosixTime">1299751045000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Thanks for pointing this out. Although changing the definition of 'editor' to not allow edit (as you admit) is a bit hacky, and I think prone to confusion. James and I weren't aware there was a precedent for doing it this way, but if we had, we may well have followed it.

I mentioned the branch for this cset, in preference to the csets.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1026.html">#1026</a>
                          </td>
                          <td class="PosixTime">1299605128000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:2dde3bd563fd for branch 1.3.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1027.html">#1027</a>
                          </td>
                          <td class="PosixTime">1299666326000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">
1. home controller -&gt; __before__ (check "site-read" on model.System)
2. user -&gt; each individually (repoze-who pseudo action must not be blocked)
  * user-read (index/read/update pages for users)
  * user-create (register)
3. revision -&gt; __before__ (check "site-read" on model.System)
4. tag -&gt; site-read (__before__)

functional/test_authz.py
  * denies site-read ...
  * checks for visitor / logged in user ..
  * checks you can still visit login
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1027.html">#1027</a>
                          </td>
                          <td class="PosixTime">1299682082000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">fixed in cset:532c3ad2743b
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1028.html">#1028</a>
                          </td>
                          <td class="PosixTime">1299760360000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset 4d860a53fbad on 1.3.2 and merged to default.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1029.html">#1029</a>
                          </td>
                          <td class="PosixTime">1301311643000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">This was fixed by kindly as part of the 1.3.2 release.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="PosixTime">1300103984000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">This includes:

 * Take out all references to harvestsource, harvestingjob and harvesteddocument in the  rest API
 * Move the harvesting bits of ckan/lib/cli.py into ckanext-harvest.
 * Move ckan/controller/harvesting.py and cknan/model/harvesting.py to ckanext-harvest  as well
 * Update ckanext-csw to be able to find the code it needs in the new place.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="PosixTime">1300209975000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Also:

 * Delete harvest sources
 * Implement a Genshi template filter so that if there is an INSPIRE package_extra set to True, you can link to the XML and HTML generation API calls in ckanext-csw
 * Write tests in ckanext-dgu for all the API calls that Drupal is making
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1030.html">#1030</a>
                          </td>
                          <td class="PosixTime">1303117978000000
                          </td>
                          <td class="author">amercader
                          </td>
                          <td class="newvalue">All the points described in this ticket have been completed. Harvesting work is being done mainly under #1037
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1031.html">#1031</a>
                          </td>
                          <td class="PosixTime">1299863222000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Done, see cset:78d96b520679
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="PosixTime">1300380606000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">This is urgent for me as without upload does not really function.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="PosixTime">1303117292000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Rufus, I think this is potentially quite a big change and needs to be done as part of the entity refactor rather than as a quick hack. I'd like David Raznick to work on timeseries this week so I'd like to understand a bit more about this ticket. Could you flesh it out please or let's discuss in the catch up?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="PosixTime">1303118226000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">See related ticket #922
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="PosixTime">1304094162000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Agreed to defer this. Resource editing, to the extent it happens can be kept very simple and part of package editing.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1032.html">#1032</a>
                          </td>
                          <td class="PosixTime">1330348463000000
                          </td>
                          <td class="author">zephod
                          </td>
                          <td class="newvalue">Streamlining supertickets. #1506 is the new parent of #978; all tasks remaining in this ticket are complete.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1033.html">#1033</a>
                          </td>
                          <td class="PosixTime">1308310446000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in 5c7caca30737 for v1.4.1
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1034.html">#1034</a>
                          </td>
                          <td class="PosixTime">1320174353000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Same problem as #1321 I believe
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1035.html">#1035</a>
                          </td>
                          <td class="PosixTime">1323172908000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Re-assigning to me temporarily to investigate now that Seb has left. It may be that this should be deleted given that it is over 6 month's old.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1035.html">#1035</a>
                          </td>
                          <td class="PosixTime">1338206251000000
                          </td>
                          <td class="author">ross
                          </td>
                          <td class="newvalue">Removing until we can come up with a case for implementing
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1037.html">#1037</a>
                          </td>
                          <td class="PosixTime">1303117000000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">We spent last week integrating the new harvesting architecture and testing the code but there are still some areas that need looking at

* The source type and label should be part of the plugin, not named in DGU.
* Need warnings if a document changes but its date doesn't -&gt; do we have these?
* I noticed there are some tests in DGU, should these perhaps be in ckanext-harvest?
* If active is False, the job should not be put on the queue
* Log if the wrong type of URL is entered as an error the user can see
* Deny if the source is already registered
* Overwrite all extras, not just merge new ones.
* During the import stage use iswms.py to add an extra during import if it is a WMS so that we can add a link to the WMS later https://gist.github.com/900878
* Can errors/warnings be logged in the import stage? Do all fetched documents get passed to import in one go?
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1037.html">#1037</a>
                          </td>
                          <td class="PosixTime">1304937601000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Closing this now, any outstanding small issues will be logged in new tickets.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1038.html">#1038</a>
                          </td>
                          <td class="PosixTime">1300212841000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:0373737f0866 for release 1.3.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1039.html">#1039</a>
                          </td>
                          <td class="PosixTime">1300212856000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in cset:97d563bbf01d for release 1.3.2
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="PosixTime">1300213922000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed by James in 904f1f36a672 for 1.3.2
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="PosixTime">1328805778000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">The problem arises when you do two things together:

1. Have code like this in a CKAN extension's plugin.py:
{{{
        config['extra_public_paths'] = ','.join([our_public_dir,
                config.get('extra_public_paths', '')])
}}}
which will have a trailing blank value (unless you set extra_public_paths in the config file) 
{{{
extra_public_paths=['/some/path/', '']
}}}

2. Run CKAN with this code:
{{{
        extra_public_paths = config.get('extra_public_paths')
        if extra_public_paths:
            static_parsers = [StaticURLParser(public_path) \
                              for public_path in \
                              extra_public_paths.split(',')] + static_parsers
}}}
Introduced in #340 https://github.com/okfn/ckan/commit/0593c3e5050882a9dbf54fb6c263f4a2f1de2097#ckan/config/middleware.py in CKAN 1.0.2
This was made safer in https://github.com/okfn/ckan/commit/e0d5f02168116a18a7aeb7b058e4160bbd402a02#ckan/config/middleware.py for CKAN 1.3.2 (it ignores blank paths)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1040.html">#1040</a>
                          </td>
                          <td class="PosixTime">1328806824000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Here are all the CKAN instances potentially involved in this issue:

== ckan.net / DGU ==
These suffered this problem briefly and were fixed 15/3/11

== opengov_es  http://opengov.es/ 1.2 ==
This does not have a theme extension. Is not serving files from root.

== nosdonnees_fr  http://www.nosdonnees.fr/ 1.3.1a ==
This does have a theme extension but does not seem to have a trailing blank public path since it is not serving files from root.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1041.html">#1041</a>
                          </td>
                          <td class="PosixTime">1300284809000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Also, this means moving documentation out of the current CKAN dev wiki at trac.ckan.org and into the community wiki. Core developer docs should remain in the Sphinx-based .rst format in CKAN. Much-needed new tutorials go on the community wiki.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1041.html">#1041</a>
                          </td>
                          <td class="PosixTime">1310135309000000
                          </td>
                          <td class="author">thejimmyg
                          </td>
                          <td class="newvalue">Child ticket of #1142
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1041.html">#1041</a>
                          </td>
                          <td class="PosixTime">1312372367000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">James says this is not priority and he does not plan to do docs for debs until he has got that system functioning.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1042.html">#1042</a>
                          </td>
                          <td class="PosixTime">1300969265000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Done in ckanext cset:7610512277bd and ckanext-importlib cset:7737716e0d7b.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1042.html">#1042</a>
                          </td>
                          <td class="PosixTime">1300969865000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Remaining parts of ckanext are:
 * blackbox (rgrp, pudo, dread)
 * hammer (ww)
 * link_checker (ww)
 * solr configuration (pudo) &amp; indexer (pudo)
 * amqp listener command (ww)
 * geo form field (rgrp)
 * GData Loaders: 
    * aidprojdata (johnbywater)
    * norwaygovdata (johnbywater)
    * ordsurv (johnbywater)
    * Gemini2 (iso19139) (johnbywater, ww)
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1043.html">#1043</a>
                          </td>
                          <td class="PosixTime">1300321033000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset:c894f92c5b9a

Sesion.remove() needed to be run before configure as we want the original session made not to be used over the newly configured ones.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300359562000000
                          </td>
                          <td class="author">rgrp
                          </td>
                          <td class="newvalue">Think this would be resolved by refactoring implied in ticket:1001 (specifically checks for api key and remote user should lead to availability of same set of identification information).
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300382367000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I agree with leaving #1001 solving this issue. Centralising this is good. This ticket can instead focus on:
 * returning the correct 403 error (rather than the 302 currently)
 * creating some tests
 * documenting
 * consider renaming the SITE_READ variable and rethinking purpose
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300449905000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've added in tests for SITE_READ and corrected the 403 response - see branch bug-1044-site-read.

The tests have uncovered some inconsistencies in the use of SITE_READ between reading/editing a package in the Web interface vs the REST API. Friedrich, do you want to take a look at ckan/tests/functional/test_authz.py:TestSiteRead.test_pkggroupadmin_read for details and have a think about how this should best work. How about making SITE_READ more widespread in the WUI, to protect read/editing/searching things, in addition to the READ and EDIT RoleActions.

Once that is decided, it should be pretty easy to refer to the tests and document SITE_READ.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300627007000000
                          </td>
                          <td class="author">pudo
                          </td>
                          <td class="newvalue">David, thanks for writing those tests - perhaps we should combine them with the ones below ("TestLockedDownUsage") which attempt to basically do the same. 

As for the inconsistency introduced by the global check in the REST API you're right: Of course it is strange that WUI access checks are more granular than the API checks. The alternative is that we either move authz checks into all relevant REST places (a major refactoring I would be suspicious of) or that we introduce duplicate checks on the WUI actions (I actually have performance concerns about that, authz is incredibly slow - and it introduces another level of special authz that I think we really should not have). Given the choice I'd opt for the REST refactor - there is no good reason to make SITE_READ a duplicate check where authz already applies. 

On the other hand, this is a function we really don't want to enable or even have and that was only added to satisfy some very specific user demands. Given that these are fulfilled, I'm actually OK keeping the inconsistency for now - nobody will see it in normal operations and in a locked-down environment, users will need to have API keys anyway. 

Regarding the naming, I'm pretty opionion-less: SITE_READ was proposed by rgrp and I think its pretty fitting, while OTHER_READ would just confuse me. PUBLIC_READ might work, though.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1300712223000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I'm happy to leave the inconsistencies in SITE_READ for now, since this will be resolved when authz is centralised between WUI and API in the dictization refactor.

I'm also happy to leave both TestSiteRead and TestLockedDownUsage as they complement each other nicely actually.

So I think all that remains for this ticket is to add a paragraph to the authz documentation about SITE_READ. Pudo would you mind doing this? It's well worth noting where it applies and where it doesn't.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1301304871000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I think all that remains for this ticket is to add a paragraph to the authz documentation about SITE_READ. Pudo would you mind doing this? It's well worth noting where it applies and where it doesn't.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1044.html">#1044</a>
                          </td>
                          <td class="PosixTime">1302096155000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">I've added in the docs for this in cset:013da53052d1 ready for release 1.3.3.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="PosixTime">1300457708000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:98eb8b8d063e on default, scheduled for CKAN version 1.4.
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="PosixTime">1300787161000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Want to identify groups by ID also in the Web interface.
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1045.html">#1045</a>
                          </td>
                          <td class="PosixTime">1300793261000000
                          </td>
                          <td class="author">dread
                          </td>
                          <td class="newvalue">Fixed in cset:71621df50983 on default ready for ckan 1.4
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1046.html">#1046</a>
                          </td>
                          <td class="PosixTime">1302777668000000
                          </td>
                          <td class="author">kindly
                          </td>
                          <td class="newvalue">cset:35ba6ad033ae
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=17.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <span class="current">18</span>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=27.html" title="Page 27">27</a>
      </span>
      <span>
        <a href="23%3Fsort=ticket&amp;asc=1&amp;page=28.html" title="Page 28">28</a>
      </span>
    <span class="next">
      <a href="23%3Fsort=ticket&amp;asc=1&amp;page=19.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="23%3Fsort=ticket&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=23&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>