<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=reporter&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=reporter&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=reporter&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=reporter&amp;asc=1&amp;page=4.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=reporter&amp;asc=1&amp;page=2.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=reporter&amp;asc=1&amp;page=3.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(201 - 300 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=reporter&amp;asc=1&amp;page=2.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <span class="current">3</span>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=reporter&amp;asc=1&amp;page=4.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=3.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=3.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=3.html">
              Owner
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=reporter&amp;asc=0&amp;page=3.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=3.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=3.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=3.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=3.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=3.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=3.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=3.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/818.html">#818</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/818.html">Rethinking the author and maintainer fields</a>
                          </td>
                          <td class="description">
                            <p>
The semantics of the Author and Maintainer fields are really unclear at the moment. This leads to very inconsistent usage. Also, perhaps Name and Email are not the only fields that are needed for a contact.
</p>
<p>
Here is a table that shows the current usage of these fields in CKAN:
<a class="ext-link" href="http://richard.cyganiak.de/2010/ckan/ckan-ppl.html"><span class="icon">​</span>http://richard.cyganiak.de/2010/ckan/ckan-ppl.html</a>
</p>
<p>
We note several problems:
</p>
<ul><li>Author and Maintainer are often the same
</li><li>Author and Maintainer are often used interchangeably
</li><li>People really want to specify URLs for the contacts and stick them into random places because there is no field for it
</li><li>Multiple comma-separated names in a single field
</li></ul><p>
I'm not sure what to do about this, but a redesign is necessary in my opinion.
</p>
<p>
Some ideas:
</p>
<ul><li>Remove the maintainer field?
</li><li>Make really clear that Author doesn't refer to the metadata on CKAN, but to the original data
</li><li>Add an “author URL” field?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1290003524000000
                          </td>
                          <td class="ModifiedTime">1339774621000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/819.html">#819</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/819.html">Tag autocompletion widget broken</a>
                          </td>
                          <td class="description">
                            <p>
The widget for tag autocompletion is broken in various ways.
</p>
<p>
For example, if I edit a package that is tagged "music", and just tab through the form fields to get to the Author field, then the widget changes to "industrial-music" as I tab through it.
</p>
<p>
Or if the tag is "foo bar" and I hit alt-right to jump to the end of the text field (with the intent of adding a third tag), then the contents change to "foo barbecue".
</p>

                            
                          </td>
                          <td class="PosixTime">1290004121000000
                          </td>
                          <td class="ModifiedTime">1323171435000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2817.html">#2817</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2817.html">Item Type Reverts on Invalid URL</a>
                          </td>
                          <td class="description">
                            <p>
Problem: When creating a related item, if you put in a invalid URL it loses the choice of Item Type (e.g. Visualisation, Application) and reverts to the first time (API).
Expected: It remembers which one was chosen
</p>

                            
                          </td>
                          <td class="PosixTime">1344504076000000
                          </td>
                          <td class="ModifiedTime">1344544901000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2818.html">#2818</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2818.html">Improve related item schema</a>
                          </td>
                          <td class="description">
                            <p>
Problem: When creating a related item (e.g. a Visualisation), if you don't put in a URL it succeeds, but on the related items and apps pages it renders it as a link to the same page.
Expected: Always require a URL and it should only submit
if one is added
</p>

                            
                          </td>
                          <td class="PosixTime">1344504176000000
                          </td>
                          <td class="ModifiedTime">1346231718000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2819.html">#2819</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2819.html">Related Item Summary of Descriptions Markdown Issue</a>
                          </td>
                          <td class="description">
                            <p>
Problem: When creating a related item it mentions that you can use markdown in the description, however markdown doesn't render in apps page nor in related items page.
Expected: Make shortened descriptions (on apps page &amp; related items page) render markdown
</p>

                            
                          </td>
                          <td class="PosixTime">1344504321000000
                          </td>
                          <td class="ModifiedTime">1344545479000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2820.html">#2820</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2820.html">English Language: Visualization -&gt; Visualisation</a>
                          </td>
                          <td class="description">
                            <p>
Problem: In the English version (which has a UK flag, indicating British English), the word "Visualization" is used. For an example see the "Filter by type" drop down on the /apps page.
Expected: This should be "Visualisation" in British English. Any instances of "Visualize" should be changed to "Visualise" too.
</p>

                            
                          </td>
                          <td class="PosixTime">1344504455000000
                          </td>
                          <td class="ModifiedTime">1344504455000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2821.html">#2821</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2821.html">Featured Items on Filter</a>
                          </td>
                          <td class="description">
                            <p>
Problem: On /apps page in the Filter Results box there is a "Only show featured items" checkbox, on selection it comes up with 0 solutions.
Expected: Presumably an admin can create "featured items" so that they can be randomly selected on front page (is this correct)? If there are no "featured items" in the whole database can this check box be hidden?
Bug is: no UI or obvious way to create featured items. Also the
checkbox looks un-styled
</p>

                            
                          </td>
                          <td class="PosixTime">1344504504000000
                          </td>
                          <td class="ModifiedTime">1344505492000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2824.html">#2824</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2824.html">Multiple of the same Flag Issues</a>
                          </td>
                          <td class="description">
                            <p>
There is some bizarre language flag issues.
1) Log in to <a class="ext-link" href="http://s031.okserver.org:2375/"><span class="icon">​</span>http://s031.okserver.org:2375/</a> (I'm logged in as danieljohnlewis)
2) Visit the apps page: <a class="ext-link" href="http://s031.okserver.org:2375/apps"><span class="icon">​</span>http://s031.okserver.org:2375/apps</a>
3) Have a look at the languages drop down, flags look fine (although Deutsche does have an EU flag rather than the German flag.. but that's irrelevant)
4) Change filters to, say, type: Application and sort: Newest, and apply. Web address becomes: <a class="ext-link" href="http://s031.okserver.org:2375/apps?page=1&amp;type=application&amp;sort=created_desc"><span class="icon">​</span>http://s031.okserver.org:2375/apps?page=1&amp;type=application&amp;sort=created_desc</a>
5) Look at the languages drop down: Flags are largely incorrect, with more than one country having the same flag.
</p>
<p>
Please see the attached screenshot.
</p>
<p>
Note: this was originally tested with Google Chrome on Linux (Ubuntu).
</p>

                            
                          </td>
                          <td class="PosixTime">1344505215000000
                          </td>
                          <td class="ModifiedTime">1344532640000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2825.html">#2825</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2825.html">Loss of URL encoding on language change on apps page</a>
                          </td>
                          <td class="description">
                            <p>
Problem: On /apps page if you start in one language, filter the data, and then change languages it loses the correct format for the HTTP Get Parameters (and therefore loses the filters). Example, start in English language, change filter settings to to Application and Newest, change language to German.
Expected: Retain correct format for HTTP Get Parameters so that the filter settings are retained. Solution will involve not turning "=" into "%3D" in the URL, i.e. turn off URL encoding.
</p>

                            
                          </td>
                          <td class="PosixTime">1344505317000000
                          </td>
                          <td class="ModifiedTime">1344547172000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2826.html">#2826</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;3.html">demo phase 3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2826.html">Null group image</a>
                          </td>
                          <td class="description">
                            <p>
Problem: Example group ( <a class="ext-link" href="http://s031.okserver.org:2375/en/group/example-group"><span class="icon">​</span>http://s031.okserver.org:2375/en/group/example-group</a> ) has a broken image, image not found. Link either incorrect, or no image set, if no image set then shouldn't it show a default image?
Expected: There should be an image.
</p>

                            
                          </td>
                          <td class="PosixTime">1344505546000000
                          </td>
                          <td class="ModifiedTime">1344528004000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2827.html">#2827</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2827.html">View Item - RSS Feed Issues</a>
                          </td>
                          <td class="description">
                            <p>
Problem: Server Error (HTTP Code 500) when trying to see information related to an RSS feed... example: <a class="ext-link" href="http://s031.okserver.org:2375/en/dataset/testerisation/resource/974df29e-77bb-4b5e-982c-cb7a295c1923"><span class="icon">​</span>http://s031.okserver.org:2375/en/dataset/testerisation/resource/974df29e-77bb-4b5e-982c-cb7a295c1923</a>
Expected: A page that looks a bit more like this: <a class="ext-link" href="http://s031.okserver.org:2375/dataset/epims-lod2/resource/97531bd8-e75c-4efa-bfa2-bb51d0ba90d0"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/epims-lod2/resource/97531bd8-e75c-4efa-bfa2-bb51d0ba90d0</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1344505590000000
                          </td>
                          <td class="ModifiedTime">1344549139000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2873.html">#2873</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">danieljohnlewis
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2873.html">ckanext-qa: dataset summary incorrect</a>
                          </td>
                          <td class="description">
                            <p>
For example see:  <a class="ext-link" href="http://s031.okserver.org:2375/qa/dataset/five_stars"><span class="icon">​</span>http://s031.okserver.org:2375/qa/dataset/five_stars</a>
</p>
<p>
Which has: Example dataset as a score of: 4 After examination of the dataset (  <a class="ext-link" href="http://s031.okserver.org:2375/dataset/example-dataset"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/example-dataset</a> ) it is made up of a CSV and an HTML file.
</p>

                            
                          </td>
                          <td class="PosixTime">1345126429000000
                          </td>
                          <td class="ModifiedTime">1345208283000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2906.html">#2906</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2906.html">Wrong flags in language dropdown</a>
                          </td>
                          <td class="description">
                            <p>
The flags in the dropdown on details pages are not right. 
</p>
<p>
You can see the error on <a class="ext-link" href="http://s031.okserver.org:2375/dataset/malawi-aid-projects/resource/b717c20e-2006-4ad4-82d2-59b57ebc1ab0"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/malawi-aid-projects/resource/b717c20e-2006-4ad4-82d2-59b57ebc1ab0</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1346861144000000
                          </td>
                          <td class="ModifiedTime">1346862889000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2938.html">#2938</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">Toby
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2938.html">Explain bundling in doc/resources.rst</a>
                          </td>
                          <td class="description">
                            <p>
Since it makes sense to bundle resources into one js file that are commonly used together, there should be some explanations on how separate js scripts are merged into one file for production. 
</p>
<p>
Explanations could include how groups are handled or different resource files.
</p>

                            
                          </td>
                          <td class="PosixTime">1348488835000000
                          </td>
                          <td class="ModifiedTime">1348488835000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2943.html">#2943</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2943.html">Chrome does not resize preview</a>
                          </td>
                          <td class="description">
                            <p>
Chrome does not resize iframe after a full refresh/ on first load
</p>

                            
                          </td>
                          <td class="PosixTime">1349089686000000
                          </td>
                          <td class="ModifiedTime">1349090759000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2944.html">#2944</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2944.html">Recline preview does not work in Opera</a>
                          </td>
                          <td class="description">
                            <p>
Opera cannot show a recline preview. I shows 0 records.
</p>

                            
                          </td>
                          <td class="PosixTime">1349090802000000
                          </td>
                          <td class="ModifiedTime">1349090802000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2945.html">#2945</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2945.html">Pdf preview does not load in IE</a>
                          </td>
                          <td class="description">
                            <p>
The pdf preview does not load in IE 9.
</p>

                            
                          </td>
                          <td class="PosixTime">1349090869000000
                          </td>
                          <td class="ModifiedTime">1349090869000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2946.html">#2946</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2946.html">Pdf preview does not load in IE</a>
                          </td>
                          <td class="description">
                            <p>
The pdf preview does not load in IE 9.
</p>

                            
                          </td>
                          <td class="PosixTime">1349090873000000
                          </td>
                          <td class="ModifiedTime">1349090992000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2947.html">#2947</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2947.html">Redirect to the resource page from /resource/{res-id}</a>
                          </td>
                          <td class="description">
                            <p>
Use story:
As a user of the datasore I want to be able to put the resource id without the dataset name in a url and see the resource page.
</p>
<p>
Proposed redirect:
</p>
<p>
/resource/{res-id} -&gt; dataset/foo-bar/resource/{res-id}
</p>

                            
                          </td>
                          <td class="PosixTime">1349097325000000
                          </td>
                          <td class="ModifiedTime">1349097325000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2948.html">#2948</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2948.html">Negative range breaks datastore backend</a>
                          </td>
                          <td class="description">
                            <p>
Recline allows negative ranges. The backend returns an error 500 for that which breaks the recline preview.
</p>

                            
                          </td>
                          <td class="PosixTime">1349101854000000
                          </td>
                          <td class="ModifiedTime">1349101865000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2953.html">#2953</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2953.html">Server error in template directories</a>
                          </td>
                          <td class="description">
                            <p>
If you go to: /{any template dir} for example /home or /related, a Server errror occurs. 
</p>
<p>
IOError: [Errno 21] Is a directory: u'/../venv/src/ckan/ckan/templates/home'
</p>

                            
                          </td>
                          <td class="PosixTime">1349252920000000
                          </td>
                          <td class="ModifiedTime">1349257893000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2955.html">#2955</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dominik
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2955.html">Recline should be updated</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1349270534000000
                          </td>
                          <td class="ModifiedTime">1350577952000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2957.html">#2957</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2957.html">New datastore on postgres prior to 9.0</a>
                          </td>
                          <td class="description">
                            <p>
The <tt></tt>GRANT SELECT ON ALL<tt></tt> and <tt></tt>ALTER DEFAULT PRIVILEGES<tt></tt> are not available in Postgres prior to version 9.0. 
</p>

                            
                          </td>
                          <td class="PosixTime">1349292214000000
                          </td>
                          <td class="ModifiedTime">1349292214000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2960.html">#2960</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2960.html">Private datasets are not private</a>
                          </td>
                          <td class="description">
                            <p>
At the moment everyone can read all resources. There is no support for hiding resources that are in private datasets.
</p>

                            
                          </td>
                          <td class="PosixTime">1349694255000000
                          </td>
                          <td class="ModifiedTime">1349694255000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2961.html">#2961</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dominik
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2961.html">Preview plugin endpoint</a>
                          </td>
                          <td class="description">
                            <p>
Users could write ckan extensions that offer previews for a certain datatype. 
</p>
<p>
Advantages:
</p>
<ul><li>We can say that you can add your own previews
</li><li>Every preview would have to define it's own dependencies
</li><li>External development (community creates new extensions?)
</li></ul><p>
Questions to answer:
</p>
<ul><li>Specification of the interface
</li><li>Precedence of previews for the same data types
</li><li>Plugins only define the datatype that they are responsible for or do we call a function that returns whether the extension is responsible. 
</li></ul><p>
As far as I can see, this should be fairly easy to implement by following these instructions: <a class="ext-link" href="http://docs.ckan.org/en/latest/writing-extensions.html#writing-a-plugin-interface"><span class="icon">​</span>http://docs.ckan.org/en/latest/writing-extensions.html#writing-a-plugin-interface</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1349696367000000
                          </td>
                          <td class="ModifiedTime">1350577990000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2962.html">#2962</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2962.html">Search across multiple ckan instances</a>
                          </td>
                          <td class="description">
                            <p>
Could be done by:
</p>
<ul><li>using the solr distributed search
<ul><li>difficult set up
</li></ul></li><li>merging result sets from apis
<ul><li>make sure that results can be merged properly (score, facets, ...)
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1349736622000000
                          </td>
                          <td class="ModifiedTime">1349736622000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3013.html">#3013</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dominik
                          </td>
                          <td class="reporter">dominik
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3013.html">common-error-messages is unreadable</a>
                          </td>
                          <td class="description">
                            <p>
Since the update of the doc theme, the page became unreadable.
</p>
<p>
<a class="ext-link" href="http://docs.ckan.org/en/latest/common-error-messages.html"><span class="icon">​</span>http://docs.ckan.org/en/latest/common-error-messages.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1352553505000000
                          </td>
                          <td class="ModifiedTime">1352553505000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/336.html">#336</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">donovanhide
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/336.html">Resource Search API</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
CKAN client such as ScraperWiki
</p>
<h2 id="Iwantto">I want to</h2>
<p>
search for Package Resources, either by URL or other field, or just get them all. I want to be able to get all the resource's fields, such as URL.
</p>
<h2 id="Proposedimplementation">Proposed implementation</h2>
<p>
Add resource search API at:
</p>
<p>
/api/search/resource
</p>
<p>
AND resource added to model API at:
</p>
<p>
api/rest/resource
</p>
<blockquote>
<p>
(see <a class="closed ticket" href="../ticket/358.html" title="enhancement: Resources in REST API (closed: duplicate)">ticket:358</a>)
</p>
</blockquote>
<p>
Functional differences from the ScraperWiki suggested patch:
</p>
<ul><li>URL is not normalised
</li></ul><p>
 
</p>
<ul><li>URLs are not grouped
</li></ul><ul><li>All fields of the resource object are returned, not just the URL
</li></ul><ul><li>Package is identified by its ID, not name or full URL. (This is for consistency in the API - you can simple prepend '<a class="ext-link" href="http://ckan.net/package/"><span class="icon">​</span>http://ckan.net/package/</a>' to the package ID)
</li></ul><p>
This is to make our API more general, simple and consistent. It means that the ScraperWiki client has to do a bit more processing to get exactly what it needs. Is this ok?
</p>
<h3 id="Examplesearch">Example search</h3>
<p>
POST 
</p>
<pre class="wiki">{"url": "scraperwiki.com/", "all_fields": 1}
</pre><p>
to: /api/2/search/resource
</p>
<p>
returns JSON:
</p>
<pre class="wiki"> [{"id": "a3dd8f64-9078-4f04-845c-e3f047125028",
   "package_id": "b8a325c8-af2a-43f3-8245-9db7d73dfbfe",
   "URL": "http://scraperwiki.com/lincolnshire-councillors", 
   "format": "CSV", 
   "Description": "Scrape of www.lincs.gov/councillors.pdf by ScraperWiki.",
   "hash": "", 
   "position": 2
 }]
</pre><p>
Note use of package_id instead of package_name is something we're moving towards in the API, since names can change. When we've done <a class="closed ticket" href="../ticket/341.html" title="enhancement: Web UI accepts package IDs in URLs (closed: fixed)">ticket:341</a> then ckan.net/package/lincs-councillors will be a synonym of ckan.net/package/b8a325c8-af2a-43f3-8245-9db7d73dfbfe
</p>
<h3 id="SearchParameters">Search Parameters</h3>
<pre class="wiki">Key:  q
Description: Search all resource fields for the value

Key: url / description / format / 
Description: Search particular field for the value

Key: all_fields
Value: 0 or 1 (0 is default)
Description: If 1 (true), the full record of the package resource
(and it's package reference) are returned, rather than just the
PackageResource ID.
</pre><p>
May also choose to introduce 'offset' and 'limit' to page through a large number of results.
</p>
<p>
JSONP achieved through API-wide parameter - see <a class="closed ticket" href="../ticket/342.html" title="enhancement: JSONP parameter in API (closed: fixed)">ticket:342</a>
</p>
<p>
Search is case insensitive.
</p>
<h2 id="Originalrequest">Original request</h2>
<p>
Hi,
have attached a patch for adding a resource list api call. Have also added a JSONP compatible callback section, along the lines of <a class="closed ticket" href="../ticket/388.html" title="task: Reply to &#34;two projects&#34; question from RS (closed: fixed)">#388</a>.
</p>
<p>
Could also add a search version. Not sure what the best url would be for that though.
</p>
<p>
Haven't written a test as the structure seems to follow a functional spec. Is that document around somewhere?
</p>
<p>
Donovan
</p>

                            
                          </td>
                          <td class="PosixTime">1275411765000000
                          </td>
                          <td class="ModifiedTime">1279373842000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/109.html">#109</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/109.html">Tag search in the REST API</a>
                          </td>
                          <td class="description">
                            <p>
Similar to <a class="closed ticket" href="../ticket/108.html" title="enhancement: Package search in the REST API (closed: fixed)">ticket:108</a> but for tags:
</p>
<p>
/api/search/tag?q
</p>
<p>
For tags search is extremely simple since you can only search by name.
</p>
<h2 id="PossibleExtras">Possible Extras</h2>
<ul><li>Allow "exotic" ordering of results e.g. ordering by number of packages with that tag.
</li><li>Return this number with tag list.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1251976297000000
                          </td>
                          <td class="ModifiedTime">1291829457000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/110.html">#110</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/110.html">Integrate groups into packages</a>
                          </td>
                          <td class="description">
                            <ol><li>Package needs a groups property (backref Group.packages).
</li><li>Put groups in the search api.
</li><li>Display them on the package, but not editable. (Only editable from the group page.)
</li></ol><p>
Follow up to <a class="closed ticket" href="../ticket/105.html" title="enhancement: Package groups (view) (closed: fixed)">ticket:105</a> (Groups).
</p>
<p>
Cost: 1d
</p>

                            
                          </td>
                          <td class="PosixTime">1252315956000000
                          </td>
                          <td class="ModifiedTime">1252488660000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/111.html">#111</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/111.html">Create user object</a>
                          </td>
                          <td class="description">
                            <p>
Object properties:
</p>
<ul><li>id (uuid)
</li><li>apikey (uuid) -- migrated from the apikey table
</li><li>name (username = openid)
</li></ul><p>
/account is being renamed to /user in the wui.
</p>

                            
                          </td>
                          <td class="PosixTime">1252315994000000
                          </td>
                          <td class="ModifiedTime">1252331626000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/112.html">#112</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/112.html">Test db schema created via migration scripts</a>
                          </td>
                          <td class="description">
                            <p>
'paster db upgrade' should result in the same database as 'paster db create' on a clean system. In particular, all tests should pass. 
</p>
<p>
Note: equivalent of paster db upgrade isn't being run from tests at the moment (we haven't been able to get this to work).
</p>

                            
                          </td>
                          <td class="PosixTime">1252316495000000
                          </td>
                          <td class="ModifiedTime">1265294069000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/113.html">#113</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/113.html">Simple script to test data migration on a production db</a>
                          </td>
                          <td class="description">
                            <p>
Must not alter the db. 
</p>
<p>
Related to <a class="closed ticket" href="../ticket/112.html" title="enhancement: Test db schema created via migration scripts (closed: wontfix)">ticket:112</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1252316523000000
                          </td>
                          <td class="ModifiedTime">1265294054000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/114.html">#114</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/114.html">Access Control - model</a>
                          </td>
                          <td class="description">
                            <p>
Create in the model basic operation of Access Control.
</p>
<p>
roles table
</p>
<pre class="wiki">name | context | action
-----------------------
admin| package | edit
admin| package | edit-permissions
admin| package | read
editor| package | update
editor| package | read
reader| package | read
This data is set-up on db init and will have no interface.
</pre><p>
user-roles table:
</p>
<pre class="wiki">username | context_type | objectid | role
rgrp     | system  | n/a | admin
visitor  | package | * | reader
bob      | package | geonames | admin
visitor  | package | geonames | editor
visitor  | package | geonames | reader
john     | group | ukgov | admin
dread    | group | ukgov | editor
visitor  | group | ukgov | reader
This data will be added when someone is given permissions for the system, a package or a group.
</pre><p>
Pseudo code:
</p>
<p>
class Package
</p>
<blockquote>
<p>
def is_allowed(name, action):
</p>
<blockquote>
<p>
is_allowed(name, action, context=self)
</p>
</blockquote>
</blockquote>
<p>
class Group
</p>
<blockquote>
<p>
def is_allowed(name, action):
</p>
<blockquote>
<p>
is_allowed(name, action, context=self)
</p>
</blockquote>
</blockquote>
<p>
def is_allowed(name, action, context=None):
<strong> name: string - a username or IP for 'visitor'
</strong></p>
<blockquote>
<p>
action: string - 'read', 'edit', 'delete', 'edit-permissions'
context: object - a Group or a Package or None (which means system)
</strong></p>
</blockquote>
<p>
<strong>
</p>
<blockquote>
<p>
# look up user from name.
# look up in user-roles table what roles this user has for this context.
# for each roles, look up in roles table what actions are allowed.
# return True if action is allowed, else False.
</p>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1252494527000000
                          </td>
                          <td class="ModifiedTime">1253034529000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/115.html">#115</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/115.html">Access Control - wui constrained by model</a>
                          </td>
                          <td class="description">
                            <p>
Based on a section of <a class="wiki" href="../wiki/AccessControl.html">AccessControl</a> design:
Reading and writing to packages in the WUI and REST API are now dependent on the authz tables.
</p>

                            
                          </td>
                          <td class="PosixTime">1253034394000000
                          </td>
                          <td class="ModifiedTime">1253091426000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/116.html">#116</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/116.html">Access Control - edited in wui</a>
                          </td>
                          <td class="description">
                            <p>
Based on a section of <a class="wiki" href="../wiki/AccessControl.html">AccessControl</a> design:
WUI gives controls to user and administrator to change permissions on a package.
</p>

                            
                          </td>
                          <td class="PosixTime">1253034802000000
                          </td>
                          <td class="ModifiedTime">1253709460000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/117.html">#117</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/117.html">Access Control - group core functionality</a>
                          </td>
                          <td class="description">
                            <p>
Based on a section of <a class="wiki" href="../wiki/AccessControl.html">AccessControl</a> design:  
Group reads and edits are controlled by access control. WUI and REST interfaces covered.
</p>

                            
                          </td>
                          <td class="PosixTime">1253271333000000
                          </td>
                          <td class="ModifiedTime">1254735855000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/118.html">#118</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/118.html">Use paginate in webhelpers</a>
                          </td>
                          <td class="description">
                            <p>
Take out import of paginate in setup.py.
Use paginate in webhelpers instead.
Make changes to take account of any i/f changes.
</p>

                            
                          </td>
                          <td class="PosixTime">1253273657000000
                          </td>
                          <td class="ModifiedTime">1253784902000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/119.html">#119</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/119.html">Ensure non-active packages don't show up</a>
                          </td>
                          <td class="description">
                            <p>
Ensure pending packages don't show up in search or browse
</p>
<p>
cost: 4h
</p>

                            
                          </td>
                          <td class="PosixTime">1253529414000000
                          </td>
                          <td class="ModifiedTime">1253791147000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/120.html">#120</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/120.html">Security audit</a>
                          </td>
                          <td class="description">
                            <p>
Look for all places where model is accessed and check authorization is checked.
</p>
<p>
Document holes (and, as necessary, suggestions for fixes) as new tickets. Likely areas that need looking at:
</p>
<ul><li>search i/f
</li><li>package WUI commit
</li></ul><p>
Write holes are obviously much more significant to us than read holes.
</p>

                            
                          </td>
                          <td class="PosixTime">1253529427000000
                          </td>
                          <td class="ModifiedTime">1254406544000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/121.html">#121</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/121.html">Add 'Group' to main menu</a>
                          </td>
                          <td class="description">
                            <p>
And associated page to browse group.
</p>

                            
                          </td>
                          <td class="PosixTime">1253694827000000
                          </td>
                          <td class="ModifiedTime">1253716782000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/122.html">#122</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/122.html">Add Group authz page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1253694842000000
                          </td>
                          <td class="ModifiedTime">1253716757000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/123.html">#123</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/123.html">Ability to edit Group in WUI</a>
                          </td>
                          <td class="description">
                            <p>
Add Group editing page.
</p>
<p>
If no permissions to change group can't edit group. Also cannot view edit page.
</p>
<p>
Editable attributes: name, title, description
</p>
<p>
No preview needed
</p>

                            
                          </td>
                          <td class="PosixTime">1253708041000000
                          </td>
                          <td class="ModifiedTime">1254321447000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/126.html">#126</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/126.html">Change package state in the WUI (delete and undelete)</a>
                          </td>
                          <td class="description">
                            <p>
As a Package Admin I want to change the state of the package. In particular I wish to delete and undelete it.
</p>
<p>
(NB: this is quite separate from "purging" objects which is the term we shall use for irrevocable removal of an object from the domain model).
</p>
<ul><li>Only Package Admins (and sysadmins) should be able to change state
</li></ul><h2 id="ImplementationSuggestions">Implementation Suggestions</h2>
<ul><li>'delete' action should be renamed to 'change-state' (NB: this requires a db migration ...)
</li><li>Have new package formalchemy form (created via inheritance?) to incorporate state attribute. Suggest this is rendered as a dropdown (and may be simple object rendering of state, i.e. do NOT need to change it to a single name such 'active').
</li><li>This form should then be used when the user satisfies is_authorized(..., model.Action.CHANGE_STATE) instead of the usual fieldset
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1253789571000000
                          </td>
                          <td class="ModifiedTime">1254740244000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/127.html">#127</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/127.html">Minor form and UI improvements</a>
                          </td>
                          <td class="description">
                            <ul><li>group form: description field for  needs to be a text area
</li><li>group form: make title and name field wider
</li><li>package view: need to move tags and license above notes
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1253798659000000
                          </td>
                          <td class="ModifiedTime">1253868048000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/129.html">#129</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/129.html">Secure db access by channelling query generation through authz module</a>
                          </td>
                          <td class="description">
                            <p>
Controllers and templates should not access db objects directly - they should do all access via authz module giving username. They are handed by a query that has already been filtered by the packages they are authorized to read. 
</p>
<p>
(Additional idea to be discussed: When they request a package object, they are handed an copy of the db object - disconnected from the database - so it the db object can't be changed.)
</p>
<p>
A couple of tests can be reenabled when this is done:
ckan.tests.functional.test_authz.<a class="missing wiki">TestUsage?</a>.test_admin_list_deleted ckan.tests.functional.test_authz.<a class="missing wiki">TestUsage?</a>.test_search_deleted
</p>

                            
                          </td>
                          <td class="PosixTime">1253886136000000
                          </td>
                          <td class="ModifiedTime">1267719162000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/131.html">#131</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.10.html">v0.10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/131.html">Groups REST interface</a>
                          </td>
                          <td class="description">
                            <p>
Controlling Groups through a REST interface.
</p>

                            
                          </td>
                          <td class="PosixTime">1254307959000000
                          </td>
                          <td class="ModifiedTime">1254308115000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/132.html">#132</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/132.html">Security hole - read package/group list (REST)</a>
                          </td>
                          <td class="description">
                            <p>
Using REST interface you can list packages and groups without authorization being checked.
</p>
<p>
Can be fixed using more advanced query to check authz.
</p>

                            
                          </td>
                          <td class="PosixTime">1254389493000000
                          </td>
                          <td class="ModifiedTime">1273254514000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/133.html">#133</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/133.html">Security hole - search package/group (WUI &amp; REST)</a>
                          </td>
                          <td class="description">
                            <p>
Using WUI or REST interface you can search packages and groups without authorization being checked. 
</p>
<p>
On the REST interface you can also read all the attributes of the packages using the 'all-fields' option.
</p>
<p>
Can be fixed using more advanced query to check authz.
</p>

                            
                          </td>
                          <td class="PosixTime">1254390168000000
                          </td>
                          <td class="ModifiedTime">1273253977000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/134.html">#134</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/134.html">admin interface is only available to sysadmins</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1254735314000000
                          </td>
                          <td class="ModifiedTime">1255430998000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/135.html">#135</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/135.html">sysadmins defined in the db</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1254735368000000
                          </td>
                          <td class="ModifiedTime">1265293940000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/136.html">#136</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/136.html">User has publicly viewable page</a>
                          </td>
                          <td class="description">
                            <p>
A user's 'home page' is at:
user/&lt;user.id&gt;
e.g. user/28394723982-03849472
</p>
<p>
Step 1:
</p>
<ul><li>Current user home page with recent edits
</li></ul><p>
Step 2:
Readonly
</p>
<ul><li>Number of edits
</li><li>Number of Packages they are admin of
</li></ul><p>
How do we do a nicer URL for the home page - can we use their openid login?
</p>
<p>
Follow on tickets: <a class="closed ticket" href="../ticket/138.html" title="enhancement: User has editable home page (closed: fixed)">ticket:138</a> and <a class="closed ticket" href="../ticket/142.html" title="defect: Update User object with additional fields such as 'nickname' (closed: fixed)">ticket:142</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1254741650000000
                          </td>
                          <td class="ModifiedTime">1255169466000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/137.html">#137</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/137.html">User has editable home page</a>
                          </td>
                          <td class="description">
                            <ul><li>Generic text box for markdown about the user 'About'
</li></ul><p>
Model's user table reflects these:
</p>
<ul><li>'about' attribute
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1254741703000000
                          </td>
                          <td class="ModifiedTime">1254741830000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/138.html">#138</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/138.html">User has editable home page</a>
                          </td>
                          <td class="description">
                            <ul><li>Generic text box for markdown about the user 'About'
</li></ul><p>
Model's user table reflects these:
</p>
<ul><li>'about' attribute
</li><li>'created' attribute is a default=datetime.now() - so when user was created
</li></ul><p>
Need edit page for this.
</p>
<p>
Only user should be able to edit it.
</p>
<p>
Follows on from <a class="closed ticket" href="../ticket/136.html" title="enhancement: User has publicly viewable page (closed: fixed)">ticket:136</a> and <a class="closed ticket" href="../ticket/142.html" title="defect: Update User object with additional fields such as 'nickname' (closed: fixed)">ticket:142</a>
</p>
<p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1254741789000000
                          </td>
                          <td class="ModifiedTime">1258466074000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/142.html">#142</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/142.html">Update User object with additional fields such as 'nickname'</a>
                          </td>
                          <td class="description">
                            <p>
Suggested fields:
</p>
<ul><li>id, name (username/profile name), openid, email, password, extras (<a class="missing wiki">JsonType?</a>)
<ul><li>+ current items: apikey, about, created)
</li><li>current contents of name is usually openid and should migrate to openid field (could match based on starting with <a class="ext-link" href="http://"><span class="icon">​</span>http://</a>)
</li></ul></li><li>May also want a fullname field (or perhaps that can
</li></ul><p>
just go in extras - may be better to have its own field as useful to search on this )
</p>
<p>
Related changes (probably separate tickets):
</p>
<ul><li>Improve user home page to include this additional information (and have it be editable)
</li><li>Use user 'name' (username) for home page links (rather than current user/&lt;id&gt;)
</li><li>Where we show lists of revisions, each revision author is now a link to the author's user page.
</li></ul><p>
Related to <a class="closed ticket" href="../ticket/136.html" title="enhancement: User has publicly viewable page (closed: fixed)">ticket:136</a> and <a class="closed ticket" href="../ticket/138.html" title="enhancement: User has editable home page (closed: fixed)">ticket:138</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1255010314000000
                          </td>
                          <td class="ModifiedTime">1289219098000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/143.html">#143</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/143.html">Most active users listed on homepage</a>
                          </td>
                          <td class="description">
                            <p>
Display league of users' recent activity on homepage.
</p>

                            
                          </td>
                          <td class="PosixTime">1255010373000000
                          </td>
                          <td class="ModifiedTime">1312372381000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/144.html">#144</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/144.html">Most popular packages listed on homepage</a>
                          </td>
                          <td class="description">
                            <p>
Based on number of views.
</p>
<p>
Related to <a class="assigned ticket" href="../ticket/143.html" title="enhancement: Most active users listed on homepage (assigned)">ticket:143</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1255010391000000
                          </td>
                          <td class="ModifiedTime">1265284457000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/145.html">#145</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/145.html">Group shows its administrators</a>
                          </td>
                          <td class="description">
                            <p>
When viewing a group you see a list of the users who have admin rights to it. (Akin to owners / moderators)
</p>

                            
                          </td>
                          <td class="PosixTime">1255010403000000
                          </td>
                          <td class="ModifiedTime">1265294041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/147.html">#147</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/147.html">Parser and loader for esw.org data</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1255440695000000
                          </td>
                          <td class="ModifiedTime">1255515162000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/148.html">#148</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/148.html">Parser and loader for esw.org data</a>
                          </td>
                          <td class="description">
                            <ul><li>parse like data4nr code
</li></ul><p>
Follow up tickets: <a class="closed ticket" href="../ticket/149.html" title="enhancement: Loader for esw data recognises existing packages (closed: fixed)">ticket:149</a> and <a class="closed ticket" href="../ticket/150.html" title="enhancement: Loader for esw data uses REST API (closed: fixed)">ticket:150</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1255440696000000
                          </td>
                          <td class="ModifiedTime">1255515222000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/149.html">#149</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/149.html">Loader for esw data recognises existing packages</a>
                          </td>
                          <td class="description">
                            <p>
Follows on from <a class="closed ticket" href="../ticket/148.html" title="enhancement: Parser and loader for esw.org data (closed: fixed)">ticket:148</a>.
Sister to <a class="closed ticket" href="../ticket/150.html" title="enhancement: Loader for esw data uses REST API (closed: fixed)">ticket:150</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1255440751000000
                          </td>
                          <td class="ModifiedTime">1257414916000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/150.html">#150</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/150.html">Loader for esw data uses REST API</a>
                          </td>
                          <td class="description">
                            <p>
(instead of sqlalchemy interface, to facilitate general usage of the loader)
</p>
<ul><li>use ckanclient
</li></ul><p>
Follows on from <a class="closed ticket" href="../ticket/148.html" title="enhancement: Parser and loader for esw.org data (closed: fixed)">ticket:148</a> and <a class="closed ticket" href="../ticket/149.html" title="enhancement: Loader for esw data recognises existing packages (closed: fixed)">ticket:149</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1255440828000000
                          </td>
                          <td class="ModifiedTime">1256751974000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/152.html">#152</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/152.html">Package has editable 'Extra' fields</a>
                          </td>
                          <td class="description">
                            <p>
Package edit page has fields for extra key-value pairs. Don't use formalchemy. The form displays the existing ones and new ones as follows:
</p>
<pre class="wiki">Key           Value            delete
[ country   ] [ uk, spain   ]  [x]
</pre><p>
When presenting the form, existing pairs and 3 blank pairs are provided.
</p>
<p>
When saving the data, keys that are not changed use the existing PackageExtra object (perhaps with new value). Deleted keys put the PackageExtra state to deleted. For new keys, only create a new PackageExtra if there isn't a state=deleted one to resurrect.
</p>
<p>
Validators ensure no repeated keys.
</p>

                            
                          </td>
                          <td class="PosixTime">1255615316000000
                          </td>
                          <td class="ModifiedTime">1256056193000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/153.html">#153</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/153.html">Group's packages listed alphabetically</a>
                          </td>
                          <td class="description">
                            <p>
This is so you can easily look up whether a given package is already listed - otherwise as lists get bigger becomes difficult to see what is already there.
</p>
<p>
Suggested by Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1255621515000000
                          </td>
                          <td class="ModifiedTime">1258971895000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/154.html">#154</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/154.html">Package form guidance</a>
                          </td>
                          <td class="description">
                            <p>
Give guidance on what to put in 'author' and 'maintainer' fields (e.g.
name? URL?)
</p>
<p>
Suggestion from Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1255621572000000
                          </td>
                          <td class="ModifiedTime">1257535066000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/155.html">#155</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/155.html">Adding multiple packages to a group</a>
                          </td>
                          <td class="description">
                            <p>
Ability to add multiple packages to a group in one go (e.g. with
'add' link which makes drop down menu appear - so can add one after
another - then submit simultaneously)
</p>
<p>
Use a bit of javascript to add more dropdowns.
</p>
<p>
Suggested by Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1255621779000000
                          </td>
                          <td class="ModifiedTime">1271760041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/156.html">#156</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/156.html">Whitelist for html in mark-down field</a>
                          </td>
                          <td class="description">
                            <p>
Not just links that need to be displayed. Other html should be displayed too, such as tables which can't be represented in markdown. Do a search of the existing fields to see what is needed.
</p>

                            
                          </td>
                          <td class="PosixTime">1255623973000000
                          </td>
                          <td class="ModifiedTime">1271962871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/158.html">#158</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/158.html">Add 'extras' to REST API</a>
                          </td>
                          <td class="description">
                            <ul><li>Ensure you can add/change/delete extra fields from packages using the REST API. 
</li><li>Update API docs to cover this.
</li></ul><p>
On Package get, ensure separation of extra attributes from other attributes.
</p>
<p>
What is the meaning of posting an incomplete dictionary (updating a package)?
Option 1 - if field not present, leave field alone
</p>
<ul><li>Delete field if field value is None
</li></ul><p>
Option 2 - user must supply all fields
</p>
<ul><li>Delete field if field absent
</li></ul><p>
Prefer option 1. Document this.
</p>
<p>
Follows on from <a class="closed ticket" href="../ticket/152.html" title="enhancement: Package has editable 'Extra' fields (closed: fixed)">ticket:152</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1255703259000000
                          </td>
                          <td class="ModifiedTime">1255949818000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/163.html">#163</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/163.html">Regularly put CKAN RDF on Talis CC</a>
                          </td>
                          <td class="description">
                            <p>
Related to:
<a class="closed ticket" href="../ticket/90.html" title="enhancement: Link to RDF versions of CKAN data (closed: fixed)">ticket:90</a> Link to RDF version of CKAN data on Talis Connected Commons
<a class="closed ticket" href="../ticket/164.html" title="enhancement: Creating RDF data from CKAN (closed: fixed)">ticket:164</a> Creating RDF data from CKAN
</p>
<p>
Regularly re-upload the CKAN RDF data to Talis CC.
</p>
<p>
In the long run may wish to only re-convert packages changed since the last upload. However given relatively smaller size of full dataset this optimization is probably not yet required.
</p>
<p>
Cost: ? (1d+ depending on e.g. how easy integration with Talis CC is)
</p>

                            
                          </td>
                          <td class="PosixTime">1256052587000000
                          </td>
                          <td class="ModifiedTime">1265891374000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/164.html">#164</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/164.html">Creating RDF data from CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Related to:
<a class="closed ticket" href="../ticket/90.html" title="enhancement: Link to RDF versions of CKAN data (closed: fixed)">ticket:90</a> Link to RDF version of CKAN data and
<a class="closed ticket" href="../ticket/163.html" title="enhancement: Regularly put CKAN RDF on Talis CC (closed: fixed)">ticket:163</a> (regularly convert CKAN data to RDF).
</p>
<p>
Convert ckan data to RDF with suitable ontology and put on semantic.ckan.net.
</p>

                            
                          </td>
                          <td class="PosixTime">1256052643000000
                          </td>
                          <td class="ModifiedTime">1271251422000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/165.html">#165</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/165.html">Use 'tag:' instead of 'tags:' for wui package search</a>
                          </td>
                          <td class="description">
                            <p>
Because people might try and do "tags:gov sweden" when "tag:gov sweden" makes more sense (sweden is searched for in all fields in these cases).
</p>
<p>
But in REST i/f search allow "tag"="gov" OR "tags"="gov sweden" in parameters.
</p>

                            
                          </td>
                          <td class="PosixTime">1256200526000000
                          </td>
                          <td class="ModifiedTime">1311181391000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/166.html">#166</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/166.html">Add extras editing to ckanclient</a>
                          </td>
                          <td class="description">
                            <p>
Ensure logging is working on server.
</p>

                            
                          </td>
                          <td class="PosixTime">1256203581000000
                          </td>
                          <td class="ModifiedTime">1265891199000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/167.html">#167</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/167.html">REST interface you can't update multiple tags</a>
                          </td>
                          <td class="description">
                            <p>
Only first tag is updated.
</p>

                            
                          </td>
                          <td class="PosixTime">1256209993000000
                          </td>
                          <td class="ModifiedTime">1265891178000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/168.html">#168</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/168.html">Show admins for a group in group view</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1256291481000000
                          </td>
                          <td class="ModifiedTime">1257414795000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/169.html">#169</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/169.html">Package derivations</a>
                          </td>
                          <td class="description">
                            <p>
A 'Derived' relationship can be applied from one package to another.
</p>
<p>
e.g.
sussex-demography is derived from census-2001
</p>
<p>
'Derived' relationship is:
</p>
<ul><li>directional
</li><li>many:many
</li><li>stateful
</li></ul><p>
'derived' table columns:
</p>
<ul><li>id (primary key)
</li><li>source_package (foreign key)
</li><li>result_package (foreign key)
</li><li>description (markdown text)
</li></ul><p>
Further tickets:
</p>
<ul><li>WUI - package view - shows 'derives from package x' and 'derived package y' with UML-like diagram of x -&gt; this package -&gt; y
</li><li>WUI - package edit form - new option to say it 'derives from' or 'has derivation' and you select the appropriate
</li><li>REST if - expose reading and writing this property
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1256304927000000
                          </td>
                          <td class="ModifiedTime">1266928708000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/170.html">#170</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/170.html">Paginate search results</a>
                          </td>
                          <td class="description">
                            <p>
e.g.
</p>
<p>
<a class="ext-link" href="http://www.ckan.net/package/search?q=science&amp;search=Search+Packages+%C2%BB"><span class="icon">​</span>http://www.ckan.net/package/search?q=science&amp;search=Search+Packages+%C2%BB</a>
</p>
<p>
Results are capped at 20, but can't see past first page.
</p>

                            
                          </td>
                          <td class="PosixTime">1256313584000000
                          </td>
                          <td class="ModifiedTime">1265891157000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/173.html">#173</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/173.html">Diffing WUI</a>
                          </td>
                          <td class="description">
                            <p>
Use vdm diff functionality (see <a class="closed ticket" href="../ticket/82.html" title="enhancement: Support diffing of versioned objects (closed: fixed)">ticket:82</a>) to implement diffing of packages between versions in WUI.
</p>
<p>
In package history you should be able to select to revisions and show the diff.
</p>
<p>
Estimated cost: 12h
</p>

                            
                          </td>
                          <td class="PosixTime">1256565412000000
                          </td>
                          <td class="ModifiedTime">1265293968000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/174.html">#174</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/174.html">Packages search broken for 'only openly licensed'</a>
                          </td>
                          <td class="description">
                            <p>
the "only openly licensed packages" tick box seems
to return blank page every time - as do queries for only openly
licensed and only downloadable packages. The "only downloadable
packages" tick box by itself seems to work fine. E.g. try searching
for 'science'.
</p>
<p>
Raised by Jonathan Gray
</p>

                            
                          </td>
                          <td class="PosixTime">1256650867000000
                          </td>
                          <td class="ModifiedTime">1265891093000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/175.html">#175</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/175.html">Creation date</a>
                          </td>
                          <td class="description">
                            <p>
'created' attribute on User, Group and Rating
</p>
<p>
datetime object: default=datetime.datetime.now()
</p>
<p>
See example on revision
</p>
<p>
Requires migrate script
</p>

                            
                          </td>
                          <td class="PosixTime">1256754070000000
                          </td>
                          <td class="ModifiedTime">1265291037000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/176.html">#176</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/176.html">Package dependencies</a>
                          </td>
                          <td class="description">
                            <p>
(Related to <a class="closed ticket" href="../ticket/169.html" title="enhancement: Package derivations (closed: duplicate)">ticket:169</a> - Package derivations)
</p>
<p>
A 'dependency' relationship can be applied from one package to another. It implies that a package requires the download or existence of another package which it 'depends on'. (Analogous to software package dependencies.)
</p>
<p>
e.g. london-traffic-visualisation depends on road-map
</p>
<p>
'Dependency' relationship is:
</p>
<ul><li>directional
</li><li>many:many
</li><li>stateful
</li></ul><p>
'dependency' table columns:
</p>
<ul><li>id (primary key)
</li><li>dependent (foreign key)
</li><li>dependency (foreign key)
</li></ul><p>
Further tickets:
</p>
<ul><li>WUI - package view - have list of dependencies (do not need to list packages which depend on this one)
</li><li>WUI - package edit form - new option to say 'depends on' (no need for 'has dependent package')
</li><li>REST api - expose reading and writing 'depends on' property.
</li></ul><h3 id="Issues">Issues</h3>
<ul><li>How do we deal with dependency at a particular version?
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1257162812000000
                          </td>
                          <td class="ModifiedTime">1266928721000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/177.html">#177</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/177.html">Service documentation</a>
                          </td>
                          <td class="description">
                            <p>
This is docs for users of a CKAN service (e.g. ckan.net), as opposed to someone installing / administering the software. (The latter has docs on knowledgeforge.
</p>
<p>
Editability - wiki?
</p>

                            
                          </td>
                          <td class="PosixTime">1257243285000000
                          </td>
                          <td class="ModifiedTime">1273050236000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/178.html">#178</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/178.html">Excel package importer</a>
                          </td>
                          <td class="description">
                            <p>
/tool
New 'tools' section of the WUI with 'Excel package import' page.
</p>
<p>
/tool/import
Import page allows you to upload a file. The format of the required Excel file is described here. List of licenses provided for copy&amp;paste.
</p>
<p>
/tool/import/preview
When you upload it, it gives you a simple preview of the file, offering import. Text as per Package Preview. 'import button' for completing process.
</p>
<p>
File format:
</p>
<p>
First row to have a cell value of 'name' or 'title' in it is the Title Row. It contains the field names, as per package. It includes:
</p>
<ul><li>license - name of license
</li><li>tags - space separated
</li><li>groups - space separated
</li><li>anything - for extra key-values
</li></ul><p>
When importing, values are bound into the package fieldset, validated and displayed for the preview and synced to complete.
</p>
<p>
User has to log in to use importer. Auth is checked for putting into groups.
</p>

                            
                          </td>
                          <td class="PosixTime">1257244034000000
                          </td>
                          <td class="ModifiedTime">1265305558000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/185.html">#185</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/185.html">Package form field hiding</a>
                          </td>
                          <td class="description">
                            <p>
Make parts of the package form hidden by default, to make it look simpler. Users are invited to click a button to reveal the less important fields.
</p>
<p>
Fields hidden by default:
version, author, author_email, maintainer, maintainer_email
</p>

                            
                          </td>
                          <td class="PosixTime">1257763437000000
                          </td>
                          <td class="ModifiedTime">1291830039000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/189.html">#189</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/189.html">Multiple download urls</a>
                          </td>
                          <td class="description">
                            <p>
See also: <a class="wiki" href="../wiki/PackageResources.html">PackageResources</a> which defines a 'distribution' as a package's payload (perhaps with metadata). In our case, at least within CKAN, the representation of the distribution will just be the reference to get it (plus some minor metadata). We are expanding this functionality to be any kind of 'resource' associated with a package since it is likely in some cases people will want to link to a file containing a part, but not the whole, of a package's data.
</p>
<h2 id="Asa">As a</h2>
<p>
User (package editor and package user)
</p>
<h2 id="Iwantto">I want to</h2>
<p>
(package editor) 
Associate multiple distributions with a package.
</p>
<p>
(package user)
Easily have access to multiple distributions of a package should they exist.
</p>
<h2 id="Implementation">Implementation</h2>
<p>
There is an object called 'Resource' with the following attributes: 
</p>
<ul><li>url (text) (required in UI, but not in db table)
</li><li>format (text)
</li><li>description (text)
</li><li>package (association) - a resource is always associated with 1 package
</li></ul><p>
A package's list of resources will have an order which is preserved. The first in the list will be known as the 'default resource' (the presumption will always be that this is a 'distribution').
</p>
<h3 id="Howtoreplacedownloadurl">How to replace download url</h3>
<p>
download_url removed and replaced as a proxy attribute. Read returns the url of the default distribution. Write changes the url of the default resource. Ensures backward compatibility.
</p>
<p>
REST API has new attribute in package dictionary 'resouces' - an ordered list.
</p>
<p>
In WUI, replace download url in package read with a table  of the distributions. 
</p>
<p>
In the WUI package edit, be able to add/remove/edit/reorder distributions.
</p>
<h2 id="Example">Example</h2>
<p>
Example part of package:
</p>
<h3 id="Distributions:">Distributions:</h3>
<table class="wiki">
<tr><td> http://some.com/pollution.pdf </td><td> PDF </td><td> Original report 
</td></tr><tr><td> http://some.com/pollution.csv </td><td> csv </td><td> Original data 
</td></tr><tr><td> http://some.com/pollution </td><td> sparql </td><td> Linked version of data 
</td></tr></table>
<p>
Existing data to be migrated to new structure.
</p>
<p>
Cost: 4 days
</p>

                            
                          </td>
                          <td class="PosixTime">1258386120000000
                          </td>
                          <td class="ModifiedTime">1265284961000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/190.html">#190</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/190.html">Package comments</a>
                          </td>
                          <td class="description">
                            <p>
Cost 7 days
</p>
<p>
When viewing a package, users can read user comments and leave their own. Users need to be logged in to leave a message. Comments appear immediately. A mechanism for deleting unwanted comments is provided to an authorized user. Comments are sorted with the most recent first. Comments are available for read, creation and deletion in both the Web UI and over the REST API. 
</p>
<p>
The admin for the package and a superuser can delete unwanted comments, both on the package page and a collation of all comments on their user page. Users can delete their own comments(?) Need to consider whether over the REST API we encourage the use of a 'frontend user' APIKEY which can be used to leave comments for another, actual user.
</p>
<p>
Example at bottom of package page:
</p>
<p>
<strong>Leave a comment:</strong>
</p>
<table class="wiki">
<tr><td>Subject</td><td style="text-align: center">  <span class="underline"></span><span class="underline"></span>_  
</td></tr><tr><td>Comment</td><td style="text-align: center">  <span class="underline"></span><span class="underline"></span>_  
</td></tr></table>
<p>
<br />
</p>
<table class="wiki">
<tr><td>Submit button
</td></tr></table>
<p>
<strong>Comments:</strong>
</p>
<table class="wiki">
<tr><td><strong>Explanation doc</strong>
</td></tr><tr><td><em>Posted on 25h May 2009 by http://bertdavies.myopenid.com</em>
</td></tr><tr><td>It says on the pollution data web page that not all the stations have a CO2 sensor, so you have to extrapolate from the ones that do. See my visualisation of CO2 across London for an idea of what you can do: bertdavies.com/pollution-2008.jpg
</td></tr></table>
<table class="wiki">
<tr><td><strong>More info</strong>
</td></tr><tr><td><em>Posted on 24th May 2009 by http://ronsmith.myopenid.com</em>
</td></tr><tr><td>Excellent data, but why is there no value in the CO2 column for some of the testing stations?
</td></tr></table>
<h1 id="Implementationdetails:">Implementation details:</h1>
<p>
Comments table is with columns:
</p>
<table class="wiki">
<tr><td style="text-align: left">id </td><td> package_id </td><td> date (date) </td><td style="text-align: right"> comment (multi-line text)
</td></tr></table>

                            
                          </td>
                          <td class="PosixTime">1258387105000000
                          </td>
                          <td class="ModifiedTime">1280820852000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/191.html">#191</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/191.html">Searching by modification date</a>
                          </td>
                          <td class="description">
                            <p>
Cost - 2 days
</p>
<p>
Search interface has new options to filter and sort the results by the date the package has been last modified in ckan. Search options are included in both Web UI and Search API.
</p>
<p>
The filter specifies a range of dates. The results can be sorted by ascending or descending dates. The last modification date is surfaced in the package. 
</p>
<p>
Example search parameters:
</p>
<table class="wiki">
<tr><td> modification-range=5/4/09- </td><td> Exclude packages last modified earlier than 5/4/09 
</td></tr><tr><td> modification-range=5/4/09-5/12/09 </td><td> Exclude packages last modified outside of 5/4/09-5/12/09 
</td></tr><tr><td> order_by=mod </td><td style="text-align: left">Sort by metadata modification. Defaults to newest first. 
</td></tr><tr><td> order_by=mod-newest </td><td> Sort by metadata modification, newest first. 
</td></tr><tr><td> order_by=mod-oldest </td><td> Sort by metadata modification, oldest first. 
</td></tr></table>

                            
                          </td>
                          <td class="PosixTime">1258387778000000
                          </td>
                          <td class="ModifiedTime">1330020983000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/192.html">#192</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/192.html">Time-related package field</a>
                          </td>
                          <td class="description">
                            <p>
Cost - 2 days
</p>
<p>
The time period to which a package's data applies is stored in a new field called 'Relevant Date Range'. The value of this field is up to two calendar dates: i.e. either a point in time (e.g. date of a river map is 5/10/09) or a time period (e.g. pollution measurements 1/1/09-1/4/09).
</p>
<p>
Example part of package:
</p>
<p>
<strong>Date:</strong>        5/10/09
<br /> or <br />
<strong>Date:</strong>        1/1/09 – 1/4/09
</p>

                            
                          </td>
                          <td class="PosixTime">1258388163000000
                          </td>
                          <td class="ModifiedTime">1291733895000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/193.html">#193</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/193.html">Searching by time-related field</a>
                          </td>
                          <td class="description">
                            <p>
Cost - 2 days
</p>
<p>
Search interface has new options to filter and sort the results by the time-related field of the package. Search options are included in both Web UI and Search API.
</p>
<p>
The filter specifies a range of dates. The results can be sorted by ascending or descending dates. The last modification date is surfaced in the package. Need to decide for a time-related field value that is date range, what date is used for the search.
</p>
<p>
Example search parameters:
</p>
<table class="wiki">
<tr><td> reldate-range=5/4/09- </td><td> Exclude packages related to earlier than 5/4/09 
</td></tr><tr><td> reldate-range=5/4/09-5/12/09 </td><td> Exclude packages related to date outside of 5/4/09-5/12/09 
</td></tr><tr><td> order_by=reldate </td><td> Sort by date package is related to. Defaults to newest first. 
</td></tr><tr><td> order_by=reldate-newest </td><td> Sort by date package is related to, newest first. 
</td></tr><tr><td> order_by=reldate-oldest </td><td> Sort by date package is related to, oldest first. 
</td></tr></table>
<p>
Related to <a class="closed ticket" href="../ticket/192.html" title="enhancement: Time-related package field (closed: fixed)">ticket:192</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1258388169000000
                          </td>
                          <td class="ModifiedTime">1340626463000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/194.html">#194</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/194.html">Check star ratings aren't influenced by search engine crawlers</a>
                          </td>
                          <td class="description">
                            <p>
rel=nofollow or robots.txt ?
</p>

                            
                          </td>
                          <td class="PosixTime">1258471512000000
                          </td>
                          <td class="ModifiedTime">1265284389000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/196.html">#196</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/196.html">RDF URI to resolve on CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Provide RDF version of a package at the RDF URI:
<a class="ext-link" href="http://ckan.net/package/rdf/32000-naples-florida-businesses-kml"><span class="icon">​</span>http://ckan.net/package/rdf/32000-naples-florida-businesses-kml</a>
</p>
<p>
See email on OKFN help:
</p>
<p>
For the information to be Linked Data, the following URI (from the
api.talis.com SPARQL call) should be resolvable to RDF, or an RDFa
enhanced HTML page.
</p>

                            
                          </td>
                          <td class="PosixTime">1258727988000000
                          </td>
                          <td class="ModifiedTime">1265389771000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/197.html">#197</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/197.html">Simple dumper</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
admin / user 
</p>
<h2 id="Iwantto">I want to</h2>
<p>
Admin: export all HEAD data to JSON / CSV / RDF format dump.
</p>
<p>
User: wants to get hold of this dump.
</p>
<h2 id="Details">Details</h2>
<ul><li>Just do JSON &amp; CSV for now.
</li><li>Put this in CLI.
</li><li>Just do list of packages - as_dict info. CSV needs a bit of flattening.
</li></ul><p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1258972495000000
                          </td>
                          <td class="ModifiedTime">1258989700000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/198.html">#198</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/198.html">Change package and tag ids to uuids</a>
                          </td>
                          <td class="description">
                            <p>
See how we did it already for other things.
</p>
<p>
Note: on ckan.net older <a class="missing wiki">PackageRevision?</a>.id might not be identical to Package.id but this may need sorting at this point.
</p>

                            
                          </td>
                          <td class="PosixTime">1258980613000000
                          </td>
                          <td class="ModifiedTime">1266837606000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/201.html">#201</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/201.html">Stress test ckan</a>
                          </td>
                          <td class="description">
                            <p>
Check:
</p>
<ul><li>high numbers of simultaneous users
</li><li>incomplete transactions
</li><li>etc.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1259844836000000
                          </td>
                          <td class="ModifiedTime">1265284419000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/202.html">#202</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">tonfa
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/202.html">Internationalization (i18n) try-out</a>
                          </td>
                          <td class="description">
                            <p>
Try i18n for one language (German) for ckan (de.ckan.net).
</p>
<p>
Basic approach to i18n is well-covered in Pylons book: <a class="ext-link" href="http://pylonsbook.com/en/1.1/internationalization-and-localization.html"><span class="icon">​</span>http://pylonsbook.com/en/1.1/internationalization-and-localization.html</a>
</p>
<p>
However, we need to integrate with our Genshi templates. Details on how to do this in comment:
<a class="ext-link" href="http://wiki.pylonshq.com/display/pylonsdocs/Internationalization+and+Localization"><span class="icon">​</span>http://wiki.pylonshq.com/display/pylonsdocs/Internationalization+and+Localization</a>
</p>
<h2 id="Steps">Steps</h2>
<ol><li>i18n templates
<ul><li>Extract content using Babel
</li><li>Get genshi translation working
</li><li>Do the translation!
</li></ul></li><li>i18n all strings in controllers (if any)
</li><li>i18n forms
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1260179192000000
                          </td>
                          <td class="ModifiedTime">1265892368000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/203.html">#203</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/203.html">show package counts for groups in WUI</a>
                          </td>
                          <td class="description">
                            <p>
In two places in the WUI
</p>
<ul><li>list of groups
</li><li>group page in title e.g. ukgov (5)
</li></ul><p>
Cost: 1h
</p>

                            
                          </td>
                          <td class="PosixTime">1260187690000000
                          </td>
                          <td class="ModifiedTime">1265891080000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/204.html">#204</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/204.html">Custom package input form</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
admin
</p>
<h2 id="Iwantto">I want to</h2>
<p>
input government data in a constrained way 
</p>
<h2 id="sothat">so that</h2>
<p>
you get consistency in the db which is easily searched, discovered and automatically linked.
</p>
<h2 id="implementation">implementation</h2>
<p>
Form has fields suitable for government data.
(related to custom excel importer ticket)
</p>
<p>
In pylons config specify the form schema to use - whether the existing one or the government one.
</p>
<p>
<strong>On submission, during validation, warn if a field isn't completed (unless it's optional - agency, maintainer, maintainer_email)</strong>
</p>
<h3 id="Simplefields">Simple fields</h3>
<ul><li>all basic ckan fields
</li><li>default license to OKD::Crown Copyright
</li><li>co_id, precision, taxonomy url, agency
</li></ul><h3 id="Datefields">Date fields</h3>
<p>
Date format: machine readable. Can be specific or vague: year or month/year or day/month/year.
</p>
<ul><li>date_released
</li></ul><ul><li>date_updated
</li></ul><ul><li>temporal_coverage_from, temporal_coverage_to - two date fields combined
</li></ul><h3 id="Strictselection">Strict selection</h3>
<p>
Drop down combo
</p>
<ul><li>department
</li></ul><h3 id="Selectionorfreetext">Selection or free text</h3>
<p>
Editable combo
</p>
<ul><li>update_frequency - selections: never, weekly, monthly, annually, discontinued
</li></ul><ul><li>geographic_granularity - selections: national, regional, local authority, ward, point
</li></ul><ul><li>temporal_granularity - selections: yes, months, weeks, days, hours, point
</li></ul><h3 id="Specialisedfields">Specialised fields</h3>
<ul><li>geographic_coverage - UI is tick boxes. store a comma separated list of all that apply from: england, scotland, wales, northern ireland, overseas, global
</li></ul><p>
(Idea for future version: Select the most relevant one from a choice of OS hierarchical geographic IDs in the UK. Stored in the database as the RDF URI. Question - what to do beyond the UK?)
</p>
<ul><li>national_statisic - UI is check box, store as 'Yes' or 'No'
</li></ul><ul><li>resources - use standard table, but suggestions for file type are: RDF, CSV, SPARQL, REST, XBRL, SDMX, Other XML, HTML+RDFa, XLS, DOC. Have warning label saying it is not ideal to have PDF, zip or html targets.
</li></ul><ul><li>categories - multi values from strict selection of ONS categories. Stored as comma-separated.
</li></ul><h3 id="Fielddataprocessed">Field data processed</h3>
<ul><li>tags - in addition to words entered here, search for known keywords in other fields: title, notes, department, agency, geographic coverage &amp; categories.
</li></ul><h3 id="Future-optional">Future - optional</h3>
<p>
Each form schemas is made available (or not) in the pylons config, along with the default schema for new packages. If there is more than just the 'basic' schema available then the 'new package' form has at the top a drop-down to select the schema with a 'switch' button. This submits the form's current data and parameter schema=xyz and the form arrives back populated with the existing options. No data should be lost switching views.
</p>
<p>
When you edit a package it detects the schema based on the extra fields that are present.
</p>

                            
                          </td>
                          <td class="PosixTime">1260188965000000
                          </td>
                          <td class="ModifiedTime">1285082169000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/205.html">#205</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/205.html">Custom package importer</a>
                          </td>
                          <td class="description">
                            <p>
Importer function is exposed to logged in users.
</p>
<p>
Alongside specifying file to import, user chooses between 'form schemas' - 'basic' and 'government'. 
</p>
<ul><li>Basic is as it is currently
</li><li>Government form has pre-defined Extra fields, careful validation of lots of fields, code formats/processes some field data for storage. e.g. searching for tag keywords.
</li></ul><p>
All fields should be in step with the government custom input form.
</p>
<p>
For fields which have suggested values but the user can input his own value, this is achieved in the spreadsheet with two columns - the first being a drop-down and the second free text.
</p>
<p>
Estimate: 
</p>

                            
                          </td>
                          <td class="PosixTime">1260197819000000
                          </td>
                          <td class="ModifiedTime">1297068450000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/213.html">#213</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/213.html">Automate CKAN deployment</a>
                          </td>
                          <td class="description">
                            <p>
fabric script to automate ckan deployment
</p>

                            
                          </td>
                          <td class="PosixTime">1260811707000000
                          </td>
                          <td class="ModifiedTime">1265891061000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/214.html">#214</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">nickstenning
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/214.html">UI Review - General template</a>
                          </td>
                          <td class="description">
                            <ul><li>Set hover names on navigation links.
</li><li>Do we really need to display "About CKAN" everywhere? Just on home page.
</li><li>Redirect in routing /groups and /tags rather than /group and /tag. At the very least make the plural versions forward to the singular versions.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1260879581000000
                          </td>
                          <td class="ModifiedTime">1263406056000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/215.html">#215</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.0.html">v1.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/215.html">UI Review - Home page</a>
                          </td>
                          <td class="description">
                            <ul><li>'Login via OpenID' -&gt; 'Login with OpenID'?
</li><li>Elements:
<ul><li>Search
</li><li>about CKAN
</li><li>3 column Packages view (see <a class="closed ticket" href="../ticket/219.html" title="enhancement: UI Review - Package (closed: wontfix)">ticket:219</a>)
</li><li>Small tag cloud (RHS)
</li></ul></li></ul><p>
Also, what about <a class="assigned ticket" href="../ticket/143.html" title="enhancement: Most active users listed on homepage (assigned)">ticket:143</a> ?
</p>

                            
                          </td>
                          <td class="PosixTime">1260879732000000
                          </td>
                          <td class="ModifiedTime">1266513523000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=reporter&amp;asc=1&amp;page=2.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <span class="current">3</span>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=reporter&amp;asc=1&amp;page=4.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=reporter&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=reporter&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=reporter&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>