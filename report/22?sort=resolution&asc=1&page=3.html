<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=resolution&amp;asc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=resolution&amp;asc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=resolution&amp;asc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=resolution&amp;asc=1&amp;page=4.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=resolution&amp;asc=1&amp;page=2.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=resolution&amp;asc=1&amp;page=3.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(201 - 300 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=resolution&amp;asc=1&amp;page=2.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <span class="current">3</span>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=resolution&amp;asc=1&amp;page=4.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=3.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=3.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=3.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=3.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=3.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=3.html">
              Status
            </a>
          </th><th class="asc">
            <a href="22%3Fsort=resolution&amp;asc=0&amp;page=3.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=3.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=3.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=3.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=3.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2378.html">#2378</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2378.html">Extract metadata directly from resources that contain it.</a>
                          </td>
                          <td class="description">
                            <p>
Some files that might be uploaded as resources on a dataset, such as some image formats, already contain metadata.  For example some jpeg files might contain Exif ( <a class="ext-link" href="http://en.wikipedia.org/wiki/Exchangeable_image_file_format"><span class="icon">​</span>http://en.wikipedia.org/wiki/Exchangeable_image_file_format</a> ) data.
</p>
<p>
[ ] Obtain list of embedded metadata 'standards' 
</p>
<p>
[ ] Where the metadata is available it  should be added as extra fields on the resource that is uploaded.  
</p>
<blockquote>
<p>
[ ] HTML?
</p>
</blockquote>
<blockquote>
<p>
[ ] Image formats (exif/gif etc)
</p>
</blockquote>
<blockquote>
<p>
[ ] PDF
</p>
</blockquote>
<p>
[ ] Eventually consider ...
</p>
<blockquote>
<p>
[ ] MS Office documents
</p>
</blockquote>
<p>
 
</p>

                            
                          </td>
                          <td class="PosixTime">1336651088000000
                          </td>
                          <td class="ModifiedTime">1346669985000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2382.html">#2382</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2382.html">Investigate options for basic geocoding</a>
                          </td>
                          <td class="description">
                            <p>
A simple way for geocoding place names would be very useful, e.g in the spatial search, defining a geometry for a dataset (on the form or bulk)
</p>

                            
                          </td>
                          <td class="PosixTime">1337017160000000
                          </td>
                          <td class="ModifiedTime">1338205325000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2395.html">#2395</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2395.html">paster db clean/init don't work when spatial extension enabled</a>
                          </td>
                          <td class="description">
                            <p>
If you have a spatial enabled database then if you don't disable the spatial extension in the CKAN config temporarily then you get errors when you run paster db clean and paster db init.
</p>
<p>
Can't you just modify the clean and init functions to run without extensions enabled? 
</p>
<p>
The wider problem is that extensions do their own inits every time you do load_environment, which seems crazy and inefficient to me, since this occurs every time a request comes into CKAN. But that is another problem/ticket.
</p>

                            
                          </td>
                          <td class="PosixTime">1337159793000000
                          </td>
                          <td class="ModifiedTime">1339771313000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2404.html">#2404</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2404.html">Auto-screenshot for related items</a>
                          </td>
                          <td class="description">
                            <p>
As a User I want an image generated for my related item automatically so that I do not have to take picture myself and upload it somewhere 
</p>
<p>
Implementation: (?) Use phantomjs or something like <a class="ext-link" href="http://snapito.com/"><span class="icon">​</span>http://snapito.com/</a>
Investigate for 1.8, will be needed for TDH Oct.
</p>

                            
                          </td>
                          <td class="PosixTime">1337583347000000
                          </td>
                          <td class="ModifiedTime">1346669526000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2405.html">#2405</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2405.html">Improvements to data viewer embed</a>
                          </td>
                          <td class="description">
                            <ul><li>Decent powered by icon for the Embed for the <a class="missing wiki">DataHub?</a>? (make this text customizable and allow html ...)
<ul><li>Current icon and text looks really bad
</li></ul></li><li>Embed link uses uuid rather than dataset name (this goes to perma-url question ...)
</li><li>Data viewer embed url includes all the resource info (not needed -- just url and backend info ...)
</li><li>Embed extension urls do not respect original domain but instead use site_url (I'm guessing). E.g. datahub.io domain ends up with links to embed on thedatahub.org
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1337583565000000
                          </td>
                          <td class="ModifiedTime">1340635981000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2406.html">#2406</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2406.html">Errors in source install doc</a>
                          </td>
                          <td class="description">
                            <p>
There are a few errors or unclarities in the source install doc - see
</p>
<p>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002203.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002203.html</a>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002204.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002204.html</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1337595093000000
                          </td>
                          <td class="ModifiedTime">1340636804000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2407.html">#2407</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2407.html">'Access denied' message is unhelpful</a>
                          </td>
                          <td class="description">
                            <p>
This chap tried to use the API to add a dataset to a group and got the uninformative message 'Access denied':
</p>
<p>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002229.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002229.html</a>
</p>
<p>
The problem was he didn't have access to the group. A message like 'You don't have access to the group "LODcloud"' would have been clearer.
</p>

                            
                          </td>
                          <td class="PosixTime">1337612500000000
                          </td>
                          <td class="ModifiedTime">1340633440000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2411.html">#2411</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2411.html">.ini file is a mess</a>
                          </td>
                          <td class="description">
                            <p>
The .ini file needs cleaning up in assorted ways which Toby will expand upon.
</p>

                            
                          </td>
                          <td class="PosixTime">1337686900000000
                          </td>
                          <td class="ModifiedTime">1338210872000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2412.html">#2412</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-06-25.html">ckan-sprint-2012-06-25</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2412.html">More than one resource invalidatiing breaks dataset edit form</a>
                          </td>
                          <td class="description">
                            <p>
When attempting to add more than one resource at once, if more than one resource invalidates, this results in a js error, leaving the form in an inconsistent state.
</p>
<p>
Repro:
</p>
<ol><li>Go to /dataset/new
</li><li>Add a new resource.  Fill in one of the fields with an invalid value. eg - last_modified, or size...
</li><li>Add another resource, doing the same thing: make one of the fields invalid.
</li><li>Try to save the dataset.
</li><li>The entered resource information will be lost, and a js error "Uncaught Error: Can't add the same model to a set twice,: backbone.js:586" will be thrown.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1337717148000000
                          </td>
                          <td class="ModifiedTime">1338203234000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2415.html">#2415</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2415.html">Confusing message on attempting to register new account with upper case</a>
                          </td>
                          <td class="description">
                            <p>
On registering a new account, if you try to use a capital letter in your 'Login', you get the unhelpful error message:
</p>
<p>
"The form contains invalid entries: Name: Url must be purely lowercase alphanumeric (ascii) characters and these symbols: -_"
</p>
<p>
What does 'Name' or 'Url' have to do with anything? It means 'Login must be ...'
</p>
<p>
But even better would be to make the login case-insensitive and allow capitals to be entered.
</p>

                            
                          </td>
                          <td class="PosixTime">1337779189000000
                          </td>
                          <td class="ModifiedTime">1341268304000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2416.html">#2416</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2416.html">Normalise resource/data types</a>
                          </td>
                          <td class="description">
                            <p>
Currently we have far too many types that are essentially the same format. The new demo theme is using icons for common types. So we need to normalise the common formats into pretty strings. e.g. application/json, JSON, .json and json all should be output as “json”
</p>
<p>
See the following Basecamp thread for UI examples and discussion.
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/61906351/comments#comment_179681056"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/61906351/comments#comment_179681056</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1337792946000000
                          </td>
                          <td class="ModifiedTime">1342617802000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2426.html">#2426</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2426.html">Get rid of CKAN's formalchemy dependency</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1337946462000000
                          </td>
                          <td class="ModifiedTime">1340616095000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2427.html">#2427</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2427.html">Reduce cruft installed into CKAN's virtualenv due to Pylons</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1337946507000000
                          </td>
                          <td class="ModifiedTime">1341268323000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2430.html">#2430</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2430.html">Look into marking tickets as dependent on other tickets in trac</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1337947086000000
                          </td>
                          <td class="ModifiedTime">1341234346000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2431.html">#2431</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2431.html">Trac git integration</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1337947128000000
                          </td>
                          <td class="ModifiedTime">1341234362000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2433.html">#2433</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2433.html">API uses name not id for some version 3 calls</a>
                          </td>
                          <td class="description">
                            <p>
see <a class="ext-link" href="https://github.com/okfn/ckan/pull/5"><span class="icon">​</span>https://github.com/okfn/ckan/pull/5</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1337957648000000
                          </td>
                          <td class="ModifiedTime">1340099820000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2446.html">#2446</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2446.html">Create demo dataset history/comparison page</a>
                          </td>
                          <td class="description">
                            <p>
This is a low priority for the demo site.
</p>
<p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62414120/comments"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62414120/comments</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/dataset/history/adur_district_spending"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/history/adur_district_spending</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338210738000000
                          </td>
                          <td class="ModifiedTime">1352658819000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2451.html">#2451</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2451.html">Create demo user list page</a>
                          </td>
                          <td class="description">
                            <p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62268474/comments"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/62268474/comments</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/user"><span class="icon">​</span>http://s031.okserver.org:2375/user</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338211213000000
                          </td>
                          <td class="ModifiedTime">1352658902000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2461.html">#2461</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2461.html">Create demo revisions page</a>
                          </td>
                          <td class="description">
                            <p>
I believe this is to be merged in with site activity.
</p>
<p>
Discussion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/en/revision"><span class="icon">​</span>http://s031.okserver.org:2375/en/revision</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338212055000000
                          </td>
                          <td class="ModifiedTime">1344543838000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2466.html">#2466</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2466.html">Fix spam handling on trac</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1338213103000000
                          </td>
                          <td class="ModifiedTime">1341234539000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2473.html">#2473</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2473.html">Make datstorer store field ordering in _meta field</a>
                          </td>
                          <td class="description">
                            <p>
Recline views should have a default table order, being the same as the csv that was imported.
</p>

                            
                          </td>
                          <td class="PosixTime">1338293492000000
                          </td>
                          <td class="ModifiedTime">1340636871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2475.html">#2475</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2475.html">Upgrade trac.ckan.org to trac 0.12.3</a>
                          </td>
                          <td class="description">
                            <p>
This is not trivial, requires a database upgrade. But 0.12.3 has some nice new features (multiple vcs repository support, ticket comment editing and nicer preview) and the latest spam filter plugin requires 0.12.
</p>
<p>
<a class="ext-link" href="http://trac.edgewall.org/wiki/ChangeLog"><span class="icon">​</span>http://trac.edgewall.org/wiki/ChangeLog</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338317176000000
                          </td>
                          <td class="ModifiedTime">1341234564000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2477.html">#2477</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2477.html">Add extensions section to readthedocs</a>
                          </td>
                          <td class="description">
                            <p>
Need a central up to date place for currently supported extensions (closest we have is <a class="ext-link" href="http://wiki.ckan.org/List_of_Extensions"><span class="icon">​</span>http://wiki.ckan.org/List_of_Extensions</a>) &amp; their documentation. I suggest this gets added to  a dedicated section of docs.ckan.org
</p>

                            
                          </td>
                          <td class="PosixTime">1338393244000000
                          </td>
                          <td class="ModifiedTime">1343124123000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2478.html">#2478</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2478.html">Get NeverNotifyUpdaterPlugin installed on trac.ckan.org</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1338396734000000
                          </td>
                          <td class="ModifiedTime">1341234591000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2479.html">#2479</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2479.html">Meanings of Author and Maintainer fields are unclear</a>
                          </td>
                          <td class="description">
                            <p>
CKAN's default schema has fields for Author ('The name of the main contact, for enquiries about this particular dataset') and 'Maintainer ('another important contact person'). The distinction is not clear. Also the fields are often left blank.
</p>
<p>
The roles that seems most important are those of the original owner/publisher of the data, and the person maintaining the CKAN record/copy of it. So I suggest:
</p>
<p>
(1) Rename the fields 'Owner' and 'Maintainer'.
</p>
<p>
(2) Change the explanatory text for the relevant fields:
</p>
<p>
Owner: 'The person or organisation who create/collect/publish the data in this dataset.'
Owner e-mail: 'E-mail address for enquiries to the Owner named above.'
Maintainer: 'The person maintaining this dataset on [name of CKAN instance], if different from the above.'
Maintainer e-mail: 'E-mail address for enquiries to the Maintainer named above.'
</p>
<p>
(3) When a logged-in user creates a new dataset, the main form should have a checkbox, checked by default, marked 'I am the maintainer of this dataset'. If checked, the Maintainer name and e-mail fields are populated from the user's profile.
</p>

                            
                          </td>
                          <td class="PosixTime">1338452898000000
                          </td>
                          <td class="ModifiedTime">1339771115000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2480.html">#2480</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2480.html">Better message when dataset has no resources</a>
                          </td>
                          <td class="description">
                            <p>
If a dataset has no resources the resources list currently says
'(none)'.
</p>
<p>
Here is a suggested improvement, provided that a maintainer is named: 'There are no data resources here yet. For information about this data, contact the dataset maintainer.'
</p>

                            
                          </td>
                          <td class="PosixTime">1338453093000000
                          </td>
                          <td class="ModifiedTime">1339771086000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2483.html">#2483</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2483.html">Non-local resources should not have Download links</a>
                          </td>
                          <td class="description">
                            <p>
At present, a resource which is just a URL link to an external resource has a 'Download' button on the resource page. This gives the misleading impression that the resource is stored locally.
</p>
<p>
This is related to another small UI issue: I think the URL of a resource should be much more prominent, not buried in the 'Additional Information' table.
</p>
<p>
Suggested fix:
</p>
<ul><li>Put the URL prominently at the top of the resource page (above the preview) (and make it link to the resource)
</li><li>Disable the Download button unless the resource is stored locally.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1338468734000000
                          </td>
                          <td class="ModifiedTime">1339771043000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2485.html">#2485</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">nils.toedtmann
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2485.html">Encourage leak containment by limiting the number of requests a CKAN process serves</a>
                          </td>
                          <td class="description">
                            <p>
CKAN has <a class="closed ticket" href="../ticket/1345.html" title="enhancement: Investigate possible memory leak (closed: fixed)">memory leaks</a>. They can be contained by limiting the time-to-live of a ckan process. An easy way to achieve this is to limit the number of requests a ckan server process can serve before it gets killed and replaced.
</p>
<p>
One should ...
</p>
<ul><li>research ways to limit requests-per-process with the different web servers (see below for a start);
</li><li>explain these safeguards in the CKAN documentation and encourage users to apply them;
</li><li>consider the helper script <strong><a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan_deb/usr/bin/ckan-create-instance"><span class="icon">​</span>ckan-create-instance</a></strong> to generate Apache configs with <strong>WSGIDaemonProcess ... maximum-requests=XY</strong> being active instead of <a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan_deb/usr/lib/ckan/common.sh#L262"><span class="icon">​</span>commented out</a>. Or at least let it warn the user to use <strong>MaxRequestsPerChild</strong>;
</li><li>Investigate current CKAN deployments whether they suffer from mem leaks, and if so contain them.
</li></ul><hr />
<p>
How to limit requests-per-process
</p>
<ul><li>Apache:
<ul><li>Use <strong>WSGIDaemonProcess</strong> with <strong>maximum-requests=50</strong> or whatever limit is appropriate. We did this sucessfully on <a class="ext-link" href="http://trac.okfn.org/ticket/904"><span class="icon">​</span>datahub.io</a> and the <a class="ext-link" href="http://trac.okfn.org/ticket/1245"><span class="icon">​</span>ckan farm</a>
</li><li>(This need to be verified) Without WSGIDaemonProcess, <strong>MaxRequestsPerChild 50</strong> should achieve the same.
</li></ul></li><li>nginx/supervisord: to be researched.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1338551229000000
                          </td>
                          <td class="ModifiedTime">1340636028000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2486.html">#2486</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2486.html">Should be able to use . in dataset names</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1338655583000000
                          </td>
                          <td class="ModifiedTime">1339770978000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2493.html">#2493</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">aron.carroll
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2493.html">Demo site 404 needs some love</a>
                          </td>
                          <td class="description">
                            <p>
templates/error_document_template.html
</p>
<p>
I've converted the 404 page to the new style but we probably want to serve this as a 'full page' ie content is 100% page width not sidebar and primary content
</p>
<p>
just go to a non-existant url to see
</p>
<p>
Discusion:
</p>
<p>
<a class="ext-link" href="https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/63374042/"><span class="icon">​</span>https://okfn.basecamphq.com/projects/9558659-demo-ckan-front-end/posts/63374042/</a>
</p>
<p>
Implementation:
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/404"><span class="icon">​</span>http://s031.okserver.org:2375/404</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1338986081000000
                          </td>
                          <td class="ModifiedTime">1343135815000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2499.html">#2499</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2499.html">Documentation for the internal analytics</a>
                          </td>
                          <td class="description">
                            <p>
There's no docs for setting up the internal analytics, nor what it provides.
</p>
<h2 id="Setup">Setup</h2>
<p>
Add:  <tt>ckan.tracking_enabled = true</tt> to .ini file
</p>
<p>
Run: <tt>paster tracking -c dev.ini</tt>
</p>
<h2 id="Relatedlinks">Related links</h2>
<p>
<a class="ext-link" href="http://trac.ckan.org/ticket/2251"><span class="icon">​</span>http://trac.ckan.org/ticket/2251</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1339070297000000
                          </td>
                          <td class="ModifiedTime">1339070297000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2508.html">#2508</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2508.html">Make it possible to run CKAN tests for each language</a>
                          </td>
                          <td class="description">
                            <p>
Mistakes in translated strings can cause CKAN to crash or otherwise not work, but it's not practical to manually test every page and function of CKAN in every language that we have new translations for before a CKAN release. It'd be great if the tests could automatically be run for each language.
</p>
<p>
This is probably a big job, we would have to get the tests to respect a language setting in the ini file, check for any individual test cases that specify the language (e.g. in the URL), and also fix test cases that look for specific English words in HTML output, etc.
</p>
<p>
In the meantime, a good stop-gap solution might be a script that tests for common mistakes in the po files.
</p>

                            
                          </td>
                          <td class="PosixTime">1339411335000000
                          </td>
                          <td class="ModifiedTime">1339770771000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2513.html">#2513</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2513.html">Dataproxy should not default to utf8</a>
                          </td>
                          <td class="description">
                            <p>
Unless explicitly told by the source web server the dataproxy should not assume that the content it has can be encoded as UTF-8.  Even though the chars from 128 - 255 overlap an attempt to decode some byte array as utf8 will fail whenever a latin1 char whose bitpattern has the MSB set.
</p>
<p>
This will mean that the UTF8Recoder can be more rigid in its acceptance of data, Postel aside.
</p>

                            
                          </td>
                          <td class="PosixTime">1339575820000000
                          </td>
                          <td class="ModifiedTime">1346669646000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2516.html">#2516</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2516.html">Make 'Assign to:' field on trac.ckan.org into a dropdown list</a>
                          </td>
                          <td class="description">
                            <p>
there's a setting for this
</p>

                            
                          </td>
                          <td class="PosixTime">1339578442000000
                          </td>
                          <td class="ModifiedTime">1341234822000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2520.html">#2520</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2520.html">Document undocumented config options</a>
                          </td>
                          <td class="description">
                            <p>
There are 21 undocumented config options in CKAN, some of which are not mentioned in the config file template either:
</p>
<p>
ckan.admin.name
ckan.admin.email
ckan.default.group_type
ckan.page_cache_enabled
ckan.cache_enabled
ckan.cache_expires
ckan.extra_resource_fields
ckan.extra_resource_group_fields
ckan.storage.key_prefix
ckan.storage.max_content_length
ckan.feeds.authority_name *
ckan.feeds.date *
ckan.feeds.author_name *
ckan.feeds.author_link *
ckan.mail_from
ckan.gravatar_default *
ckan.plugins
ckan.api_url
ckan.auth.profile
ckan.datastore.enabled
ckan.tracking_enabled
</p>
<p>
There are also some options that are in the default deployment.ini even though they're deprecated:
</p>
<p>
ckan.async_notifier
carrot_messaging_library
ckan.build_search_index_synchronously
</p>
<p>
See email to ckan-dev from David Read: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-June/002447.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-June/002447.html</a>
</p>
<p>
It'd be best if the docs could be automatically pulled from the source into sphinx using autodoc, see <a class="assigned ticket" href="../ticket/1358.html" title="enhancement: Generate configuration documentation automatically from the ... (assigned)">#1358</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1339588368000000
                          </td>
                          <td class="ModifiedTime">1340624908000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2524.html">#2524</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-ecportal.html">ckan-ecportal</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2524.html">If there are no translation files for selected language fall back to default lang.</a>
                          </td>
                          <td class="description">
                            <p>
If a user selects a language there are no mo files for then an error is raised.  Revert to default language instead.
</p>

                            
                          </td>
                          <td class="PosixTime">1339609048000000
                          </td>
                          <td class="ModifiedTime">1340117608000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2529.html">#2529</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2529.html">DataHub (or CKAN) widgets</a>
                          </td>
                          <td class="description">
                            <p>
Simple widgets in pure JS. For example:
</p>
<ul><li>Count of datasets in a group (could generalise to a query but not sure how useful that is ...)
</li><li>Embeddable list of top X (5) datasets for a given query
</li><li>Embeddable list of *my* datasets
</li></ul><p>
Either these live at: {site}/widgets and we have some kind of generator (form where I choose my group, or my query).
</p>
<p>
Or: we have this attached to areas of site where relevant.
</p>
<p>
Can combine the 2 so that the latter links to the former. Think first will be easier to do and possibly more useful long-term (e.g. can just link people to that page).
</p>
<p>
Cf. <a class="ext-link" href="http://okfnlabs.org/ckanjs/"><span class="icon">​</span>http://okfnlabs.org/ckanjs/</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1339750049000000
                          </td>
                          <td class="ModifiedTime">1340624917000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2530.html">#2530</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2530.html">DataHub purge fails on some revisions</a>
                          </td>
                          <td class="description">
                            <p>
See <a class="ext-link" href="http://datahub.io/ckan-admin/trash"><span class="icon">​</span>http://datahub.io/ckan-admin/trash</a> and try to purge revisions (*not* datasets). It will fail on some of the revisions with errors like:
</p>
<p>
Problem purging revision 391db9e8-df57-4e0e-8fe6-d4e0c2318344: (<a class="missing wiki">IntegrityError?</a>) update or delete on table "revision" violates foreign key constraint "group_extra_revision_revision_id_fkey" on table "group_extra_revision" DETAIL: Key (id)=(391db9e8-df57-4e0e-8fe6-d4e0c2318344) is still referenced from table "group_extra_revision". 'DELETE FROM revision WHERE revision.id = %(id)s' {'id': u'391db9e8-df57-4e0e-8fe6-d4e0c2318344'}
</p>

                            
                          </td>
                          <td class="PosixTime">1339750498000000
                          </td>
                          <td class="ModifiedTime">1341268280000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2531.html">#2531</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2531.html">New state option: archived / deprecated</a>
                          </td>
                          <td class="description">
                            <p>
Deleted means things will get purged at some point.
</p>
<p>
Archived means they stay around but get hidden from search results and a big warning notice gets displayed saying this is archived / deprecated.
</p>
<p>
@richard cyganiak ...
</p>

                            
                          </td>
                          <td class="PosixTime">1339750787000000
                          </td>
                          <td class="ModifiedTime">1339770649000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2535.html">#2535</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2535.html">SSL certificate for DataHub + https by default</a>
                          </td>
                          <td class="description">
                            <p>
<a class="missing wiki">DataHub?</a> is increasingly used and we should ensure it uses ssl as part of general security.
</p>
<p>
See also <a class="closed ticket" href="../ticket/1446.html" title="enhancement: Data Explorer v2 (closed: fixed)">#1446</a> (Need to support https login for multiple instances as part of the CKAN package install)
</p>

                            
                          </td>
                          <td class="PosixTime">1339758027000000
                          </td>
                          <td class="ModifiedTime">1346662082000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2537.html">#2537</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2537.html">Test and document ckanbuild</a>
                          </td>
                          <td class="description">
                            <p>
<a class="ext-link" href="https://github.com/okfn/ckanbuild"><span class="icon">​</span>https://github.com/okfn/ckanbuild</a>
</p>
<p>
Verify that what's there so far still works, write a README explaining how it works
</p>

                            
                          </td>
                          <td class="PosixTime">1339775328000000
                          </td>
                          <td class="ModifiedTime">1340639830000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2538.html">#2538</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2538.html">Add multiple-instance support to ckanbuild</a>
                          </td>
                          <td class="description">
                            <p>
Probably use ansible to do this. To create an instance, create a dir at /etc/ckan/MYSITE, and put MYSITE.wsgi, MYSITE.ini and who.ini files in it. Also put a MYSITE file in /etc/apache2/sites-available. See the example files already present in ckanbuild. Booting a new site should be a single command.
</p>
<p>
May not handle the postgres/solr/elastic-search side of things yet, could just require the user to set these up herself first and then pass them as args to the create-instance command.
</p>

                            
                          </td>
                          <td class="PosixTime">1339775499000000
                          </td>
                          <td class="ModifiedTime">1340639836000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2539.html">#2539</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2539.html">Investigate the existing ckan debian package for ckanbuild</a>
                          </td>
                          <td class="description">
                            <p>
Do we want to build on top of the existing debian packaging code? Or throw it away and start fresh?
</p>

                            
                          </td>
                          <td class="PosixTime">1339775661000000
                          </td>
                          <td class="ModifiedTime">1340639845000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2540.html">#2540</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2540.html">Implement a way of upgrading ckan sites using ckanbuild</a>
                          </td>
                          <td class="description">
                            <p>
When there are multiple ckan sites installed on a single server via ckanbuild, there needs to be some way of upgrading them all to a new ckan version at once.
</p>

                            
                          </td>
                          <td class="PosixTime">1339775740000000
                          </td>
                          <td class="ModifiedTime">1340639850000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2541.html">#2541</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2541.html">Add non-core extensions to ckanbuild</a>
                          </td>
                          <td class="description">
                            <p>
We want some extensions from outside of CKAN core to be included in ckanbuild. These would be pip installed into the virtualenv before packaging the debian package. Decide which extensions to include.
</p>

                            
                          </td>
                          <td class="PosixTime">1339775826000000
                          </td>
                          <td class="ModifiedTime">1340639856000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2542.html">#2542</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckanbuild.html">ckanbuild</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2542.html">Create jenkins job to run ckanbuild, and run tests</a>
                          </td>
                          <td class="description">
                            <p>
It should run the script to create the debian package, boot a VM, install the debian package on the VM, boot a CKAN instance, then run the tests.
</p>

                            
                          </td>
                          <td class="PosixTime">1339775888000000
                          </td>
                          <td class="ModifiedTime">1340639863000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2543.html">#2543</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2543.html">facet.sort is not available in the package_search action</a>
                          </td>
                          <td class="description">
                            <p>
Not all solr facet parameters are available through the pcakage_search action.  In particular, <tt>facet.sort</tt> has been asked for; but this ticket should check to see if there are other parameters that would be easy to add too.
</p>
<p>
See: <a class="ext-link" href="http://wiki.apache.org/solr/SimpleFacetParameters#facet.sort"><span class="icon">​</span>http://wiki.apache.org/solr/SimpleFacetParameters#facet.sort</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1340013335000000
                          </td>
                          <td class="ModifiedTime">1340633091000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2546.html">#2546</a>
                          </td>
                          <td class="type">requirement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2546.html">ODS Managing homepage content</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
Require the ability for users to control some level of content that is visible on the home page of their ODS installation.  This may be through RSS/Atom feeds (see <a class="assigned ticket" href="../ticket/2234.html" title="enhancement: Write a CKAN extension for pulling items from RSS/Atom feeds into CKAN ... (assigned)">#2234</a>) or another mechanism but should result in admins being able to change blocks of text on their homepage.
</p>
<p>
This should not be configuration, but accessible through WUI.
</p>
<h2 id="Interface">Interface</h2>
<p>
None
</p>
<h2 id="UserStories">User Stories</h2>
<ul><li>As a system administrator I want to have control over content displayed on the front page beyond featured/popular items.  
</li></ul><p>
 
</p>
<ul><li>As a system administrator I don't want to manage content through having to write an extension.
</li></ul><p>
 
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[ ] Analysis
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340016842000000
                          </td>
                          <td class="ModifiedTime">1346663437000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2547.html">#2547</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/opendatasuite&#32;2.html">opendatasuite 2</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2547.html">ODS Initial data sets</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
The ODS demo site will need data adding, initially as fixtures but it would also be useful if we started evaluating datasets that we can ship with ODS installations (at least in the UK) from places such as DGU and ONS.
</p>
<p>
May wish to create a ticket for making sure the datasets within the system are reset every X hours. Perhaps.
</p>
<h2 id="Interface">Interface</h2>
<p>
None
</p>
<h2 id="UserStories">User Stories</h2>
<ul><li>As a new system administrator for an ODS instance, I don't want to have a site devoid of any data. Geographically relevant datasets would be welcomed.
</li></ul><ul><li>As a bizdev person I would like to be able to demonstrate how ODS works with real datasets.
</li></ul><h2 id="Tasks">Tasks</h2>
<p>
[ ] Identify relevant sources for datasets
</p>
<p>
[ ] Pick datasets
</p>
<p>
[ ] Set them up for import
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340016906000000
                          </td>
                          <td class="ModifiedTime">1340705614000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2548.html">#2548</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datahub-july.html">datahub-july</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2548.html">Object ownership for groups/package</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
We need to be able to easily determine who the owner of a dataset or group is.  Datasets and Groups should have an Owner, who may change over time but is a specific user within the CKAN instance.  It should be easy for CKAN components to determine the user and for the initial version we should ignore the can of worms labelled 'ownership transfer'.
</p>
<p>
At this point migration is likely to be the biggest issue, and would suggest that it is acceptable that the last user to edit a dataset be set as the current owner.
</p>
<p>
More tickets should arise as a result of this work where we may be able to optimise some queries to use the new feature.
</p>
<h2 id="Interface">Interface</h2>
<p>
None
</p>
<h2 id="UserStories">User Stories</h2>
<p>
None
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[ ] <a class="missing wiki">Analysis/Clarification?</a>
</p>
<p>
[ ] Tests
</p>
<p>
[ ] Migration
</p>
<p>
[ ] <a class="missing wiki">Code/Schema?</a> changes
</p>
<p>
[ ] Documentation
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340017331000000
                          </td>
                          <td class="ModifiedTime">1340706539000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2550.html">#2550</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datahub-july.html">datahub-july</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2550.html">User types</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
In the data hub plugin we require the ability to differentiate users between those that have paid for a service, and those that haven't. The distinction isn't boolean as there may be levels of service for paid users, so it may be that we need a 'type' of user where there are various grades of 'paid' which are likely to be strings (specific to the data hub).
</p>
<h2 id="Requiredinterface">Required interface</h2>
<p>
Once changes have been made to the user schema, for a given user we want to be able to:
</p>
<ul><li>determine if they have a paid or a free account, and
</li><li>get a string name of the type of paid account.
</li></ul><p>
Care should be taken to ensure that the 'paid' status of the user cannot be set through the API and only by the datahub plugin.
</p>
<h2 id="UserStories">User Stories</h2>
<p>
User stories related to the management, setting and changing of a user's payment level, as well as historical information on payments should be done as part of the work that includes actually allowing purchases.  For now it is adequate that we can manually control these things through paster commands.
</p>
<p>
Payments types should be linear as I don't believe for this type of service a pick-and-mix modular model would work well. Organizations will inherit the payment level of their owner, so currently there is no requirement for it to affect organizations at all.
</p>
<ul><li>As a sysadmin I would like to be able to use a paster command to
manually set a user's payment level, or remove it entirely.
</li></ul><ul><li>As a sysadmin I would like to be able to run a paster command to
view a list of users who have a payment plan, grouped by the plan
that they have.
</li></ul><ul><li>As a sysadmin I would like to be able to use the API to change the
payment status of a specific user through user_create and user_update.
This shouldn't be available to anybody else.
</li></ul><ul><li>As a user, and only if I have one, I'd like to see my current payment
level on my user profile page.
</li></ul><p>
   
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[x] Tests
</p>
<p>
[x] Plugin based migration
</p>
<p>
[x] Code
</p>
<blockquote>
<p>
[x] Model
</p>
</blockquote>
<blockquote>
<p>
[x] API
</p>
</blockquote>
<p>
[x] Documentation
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340017590000000
                          </td>
                          <td class="ModifiedTime">1346669497000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2552.html">#2552</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2552.html">Controlling access to features</a>
                          </td>
                          <td class="description">
                            <h2 id="Requirements">Requirements</h2>
<p>
To provide a freemium service it is necessary to be able to provide differing <span class="underline">levels</span> of functionality based on the <strong>type</strong> of user (see <a class="assigned ticket" href="../ticket/2550.html" title="enhancement: User types (assigned)">#2550</a>). These levels can be specific to the data hub but may require overriding functionality from core to provide these checks.
</p>
<p>
Initial implementation should focus on limiting access to datastore disk space.
</p>
<h2 id="Interface">Interface</h2>
<p>
These changes are currently only for the data hub and should be kept as much as possible within the data hub extension.
</p>
<h2 id="UserStories">User Stories</h2>
<ul><li>As a system component I want to find out if the current user has access to a feature (i.e. storage) and if so to what extent (xMb, xGb or unlimited).  
</li></ul><ul><li>As a system administrator I don't expect to need to manage the levels of users <strong>or</strong> the features that this applies to.
</li></ul><p>
 
</p>
<h2 id="Tasks">Tasks</h2>
<p>
[ ] Clarification of requirements/analysis
</p>
<p>
[ ] Tests
</p>
<p>
[ ] Code
</p>
<blockquote>
<p>
[ ] Model
</p>
</blockquote>
<blockquote>
<p>
[ ] API
</p>
</blockquote>
<p>
  
</p>
<blockquote>
<p>
[ ] UI
</p>
</blockquote>
<p>
[ ] Documentation
</p>
<h2 id="Estimates">Estimates</h2>

                            
                          </td>
                          <td class="PosixTime">1340018770000000
                          </td>
                          <td class="ModifiedTime">1346669544000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2554.html">#2554</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2554.html">Research Virtuoso cartridges</a>
                          </td>
                          <td class="description">
                            <p>
Look into writing a cartridge for importing CKAN data into a Virtuoso quadstore
</p>
<p>
<a class="ext-link" href="http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VirtSponger#How"><span class="icon">​</span>http://virtuoso.openlinksw.com/dataspace/dav/wiki/Main/VirtSponger#How</a> Does It Work?
</p>

                            
                          </td>
                          <td class="PosixTime">1340026645000000
                          </td>
                          <td class="ModifiedTime">1346670433000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2555.html">#2555</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">aron.carroll
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2555.html">Demo site needs a breadcrumb helper</a>
                          </td>
                          <td class="description">
                            <p>
Something to make building breadcrumbs a bit nicer
</p>

                            
                          </td>
                          <td class="PosixTime">1340026983000000
                          </td>
                          <td class="ModifiedTime">1342618384000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2572.html">#2572</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2572.html">clean up stats plugin</a>
                          </td>
                          <td class="description">
                            <p>
attempt to disengage the stats plugin from core as much as possible
</p>

                            
                          </td>
                          <td class="PosixTime">1340105054000000
                          </td>
                          <td class="ModifiedTime">1340899524000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2573.html">#2573</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2573.html">package_search does not allow solr's per-field facet parameters</a>
                          </td>
                          <td class="description">
                            <p>
Solr allows its facet parameters to be specified on a per-field basis, eg. <tt>facet.limit</tt> applies to <em>all</em> facet fields, but solr allows it to be overriden for a specific field, eg. <tt>facet.tags.limit</tt>.
</p>
<p>
We don't support this at the moment because we have a whitelist of valid solr query parameters that we accept.  See <tt>ckan.lib.search.query.VALID_SOLR_PARAMETERS</tt>.
</p>

                            
                          </td>
                          <td class="PosixTime">1340112439000000
                          </td>
                          <td class="ModifiedTime">1340633101000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2579.html">#2579</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2579.html">move sort_by functions into lib.helpers</a>
                          </td>
                          <td class="description">
                            <p>
make these more available but keep existing functionality so not to break any users
</p>
<p>
remove_field()
</p>
<p>
drill_down_url()
</p>
<p>
etc
</p>

                            
                          </td>
                          <td class="PosixTime">1340281798000000
                          </td>
                          <td class="ModifiedTime">1340899337000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2582.html">#2582</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2582.html">Do not hide notes / readme on dataset pages</a>
                          </td>
                          <td class="description">
                            <p>
Current we hide most of readme and then let users reveal it. Stop doing this and if necessary add a quick link down to resources section. (Maybe also rename resources to Data and Resources ...?)
</p>
<p>
Aside: believe I have mentioned this somewhere a month + ago but could not find the ticket.
</p>

                            
                          </td>
                          <td class="PosixTime">1340312340000000
                          </td>
                          <td class="ModifiedTime">1340625009000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2583.html">#2583</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2583.html">make sure that we implement authentication where needed</a>
                          </td>
                          <td class="description">
                            <p>
in development many auth checks may have been lost we need to check they are still working etc
</p>

                            
                          </td>
                          <td class="PosixTime">1340359478000000
                          </td>
                          <td class="ModifiedTime">1342086274000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2585.html">#2585</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2585.html">Escape solr control characters in search queries, add advanced search screen</a>
                          </td>
                          <td class="description">
                            <p>
Suggestion from David Read:
</p>
<p>
We noticed that some search queries produce unexpected search results in CKAN, due to them containing special characters. For example if you were to search for "Spend over £25,000 - NHS Leeds" then it would not come up with the dataset with that exact name. It was excluding datasets with the word "NHS" due to the dash/minus sign. It works fine if you escape the minus sign: "Spend over £25,000 \- NHS Leeds".
</p>
<p>
So in data.gov.uk I've added escaping of such control characters in
our plugin and this useful routine:
</p>
<p>
<a class="ext-link" href="http://fragmentsofcode.wordpress.com/2010/03/10/escape-special-characters-for-solrlucene-query/"><span class="icon">​</span>http://fragmentsofcode.wordpress.com/2010/03/10/escape-special-characters-for-solrlucene-query/</a>
</p>
<p>
Perhaps you would consider providing this in CKAN core in future?
</p>
<p>
I think there is an occasional case when power users would want to use the special characters - brackets, +, -, boolean operators etc. but maybe these could be reserved for an 'advanced search' screen?
</p>

                            
                          </td>
                          <td class="PosixTime">1340360773000000
                          </td>
                          <td class="ModifiedTime">1340625078000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2590.html">#2590</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2590.html">Publisher dashboard</a>
                          </td>
                          <td class="description">
                            <p>
Need proper user stories but ...
</p>
<p>
Publisher admins/editors may need a more useful group read page showing things like:
</p>
<ul><li>The current search
</li></ul><ul><li>Recent activity
</li></ul><ul><li>People within the group
</li></ul><ul><li>Followers
</li></ul><ul><li>Others? 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1340618617000000
                          </td>
                          <td class="ModifiedTime">1346663416000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2603.html">#2603</a>
                          </td>
                          <td class="type">refactor
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2603.html">Remove deprecated 'fields' parameter from resource_search</a>
                          </td>
                          <td class="description">
                            <p>
The fields parameter of resource_search was deprecated when fixing <a class="closed ticket" href="../ticket/2438.html" title="enhancement: resource_search action not accessible via GET request (closed: fixed)">#2438</a>.  It can be removed in release 1.9, and the action tidied up as a result.
</p>

                            
                          </td>
                          <td class="PosixTime">1340730601000000
                          </td>
                          <td class="ModifiedTime">1340730601000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2607.html">#2607</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2607.html">'Upload a file' appears on resource form when storage not enabled</a>
                          </td>
                          <td class="description">
                            <p>
if the user tries to upload a file they will get "Failed to get credentials for storage upload. Upload cannot proceed"
</p>
<p>
Maybe add a test for it this time, this bug has appeared and reappeared before
</p>

                            
                          </td>
                          <td class="PosixTime">1340803808000000
                          </td>
                          <td class="ModifiedTime">1346663383000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2619.html">#2619</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2619.html">Omit private datasets from public activity streams</a>
                          </td>
                          <td class="description">
                            <p>
Activities about private datasets should not appear in public activity streams.
</p>
<p>
I don't think you want to actually purge the activities from the db, because you might still want them to appear in private activity streams.
</p>
<p>
I do think that when a dataset goes private all its past activity should go private, because I imagine that users are going to want to hide everything about the dataset and not have any past activities 'leaking out'
</p>
<p>
I don't think you want to consider whether the dataset was private when the activity happened, rather if a dataset is private now then all its past activities are private (and the simplest thing would be to say that if a dataset is public now then all its past activities become public as well, but is that a privacy concern?)
</p>
<p>
The easiest way to implement this is going to be by modifying the *_activity_list() action functions in get.py, after they pull their activity lists out of the db they should pass them through a function that filters out stuff about private datasets.
</p>
<p>
An activity about a private dataset is one whose object_type is 'dataset' and whose object_id matches the id of a private dataset. You should also check the object_type and object_id of all of the activity object's activity detail objects, if any of those match a private dataset then mark the whole activity as private.
</p>
<p>
Currently all activity streams are public so should have all private datasets filtered out from them, except for the dashboard activity stream which is private to the individual user. In this case private datasets that the user has permission to see should not be filtered.
</p>

                            
                          </td>
                          <td class="PosixTime">1340884140000000
                          </td>
                          <td class="ModifiedTime">1351531137000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2621.html">#2621</a>
                          </td>
                          <td class="type">refactor
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2621.html">Remove the deprecated 'fields' parameter from tag_search and tag_autocomplete</a>
                          </td>
                          <td class="description">
                            <p>
This was deprecated in 1.8 as it wasn't accessible via GET requests due to being a dict.  See <a class="closed ticket" href="../ticket/2439.html" title="defect: tag_search and tag_autocomplete not fully available via GET request (closed: fixed)">#2439</a>
</p>
<p>
In a future release of CKAN (probably 1.9) it can be removed.
</p>
<p>
Internal uses of it were removed in <a class="closed ticket" href="../ticket/2439.html" title="defect: tag_search and tag_autocomplete not fully available via GET request (closed: fixed)">#2439</a>, but there are tests that still use it.
</p>

                            
                          </td>
                          <td class="PosixTime">1340900569000000
                          </td>
                          <td class="ModifiedTime">1340900569000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2622.html">#2622</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2622.html">Login fails in Opera 12</a>
                          </td>
                          <td class="description">
                            <p>
Try to login to CKAN using Opera 12, get "Login failed. Bad username or password. (Or if using OpenID, it hasn't been associated with a user account.)"
</p>

                            
                          </td>
                          <td class="PosixTime">1340902602000000
                          </td>
                          <td class="ModifiedTime">1340902602000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2625.html">#2625</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2625.html">Add i18n strings from non-core but supported extensions to ckan.pot file</a>
                          </td>
                          <td class="description">
                            <p>
Have to decide which non-core extensions are going to be supported first.
</p>

                            
                          </td>
                          <td class="PosixTime">1341236903000000
                          </td>
                          <td class="ModifiedTime">1341236903000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2635.html">#2635</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2635.html">Non-destructive SOLR reindex</a>
                          </td>
                          <td class="description">
                            <p>
You can't run the search-index reindex on a live server because it will give us bad results for 2 to 3 hours while it runs. Can there be an option that doesn't delete the entire index at the start? 
</p>
<p>
Instead it could just delete any items that don't exist any more, then delete them and regenerate them one by one. So the total number of datasets doesn't change much.
</p>

                            
                          </td>
                          <td class="PosixTime">1341829394000000
                          </td>
                          <td class="ModifiedTime">1341829394000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2641.html">#2641</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2641.html">Adapt spatial widgets to new theme</a>
                          </td>
                          <td class="description">
                            <p>
Dataset extent map and spatial filter need to adapted to the new theme, as they are not showing up now
</p>

                            
                          </td>
                          <td class="PosixTime">1341846147000000
                          </td>
                          <td class="ModifiedTime">1352658854000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2644.html">#2644</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2644.html">user dashboard for demo theme</a>
                          </td>
                          <td class="description">
                            <p>
we now have a user dashboard that needs theming not sure if we need sam to look at it
</p>
<p>
<a class="ext-link" href="http://localhost:5000/user/dashboard"><span class="icon">​</span>http://localhost:5000/user/dashboard</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1341910821000000
                          </td>
                          <td class="ModifiedTime">1344255836000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2654.html">#2654</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2654.html">UI support for ordering groups on group_read page</a>
                          </td>
                          <td class="description">
                            <p>
The group_index page has no support in WUI for ordering the groups displayed. Should allow sorting by name
</p>
<p>
Add support for this for datahub now, and discuss for new 1.9 UI
</p>

                            
                          </td>
                          <td class="PosixTime">1341943891000000
                          </td>
                          <td class="ModifiedTime">1346662156000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2656.html">#2656</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2656.html">Feed with few results has bad paging link, causing exception</a>
                          </td>
                          <td class="description">
                            <p>
This page <a class="ext-link" href="http://thedatahub.org/feeds/custom.atom?q=wombat"><span class="icon">​</span>http://thedatahub.org/feeds/custom.atom?q=wombat</a> has 0 results and contains a link to <a class="ext-link" href="http://thedatahub.org/feeds/custom.atom?q=wombat&amp;amp;page=0"><span class="icon">​</span>http://thedatahub.org/feeds/custom.atom?q=wombat&amp;amp;page=0</a> which the page=0 causes this exception:
</p>
<pre class="wiki">ckan.lib.search.common.SearchError'&gt;: SOLR returned an error running query
Error: "'start' parameter cannot be negative"
</pre>
                            
                          </td>
                          <td class="PosixTime">1342001112000000
                          </td>
                          <td class="ModifiedTime">1342001112000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2663.html">#2663</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2663.html">h.resource_display_name needs love</a>
                          </td>
                          <td class="description">
                            <p>
This function is shit and needs cleaning up and a doc string
</p>
<p>
description is markdown and should be treated properly
</p>
<p>
either we should truncate all or leave it to the templates but work universally
</p>
<p>
url if no name / desc this is in demo-theme branch
</p>

                            
                          </td>
                          <td class="PosixTime">1342017746000000
                          </td>
                          <td class="ModifiedTime">1342017746000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2673.html">#2673</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2673.html">simplify set of options for resources</a>
                          </td>
                          <td class="description">
                            <p>
Far too many resource options. Lets restrict back to data file and API. Visualizations etc can either get linked in description or in the Related items.
</p>

                            
                          </td>
                          <td class="PosixTime">1342300559000000
                          </td>
                          <td class="ModifiedTime">1342300559000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2674.html">#2674</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2674.html">Data preview not loading on s031</a>
                          </td>
                          <td class="description">
                            <p>
Not loading for all resources as far as I can tell; e.g. <a class="ext-link" href="http://s031.okserver.org:2375/dataset/afghanistan-election-data/resource/f6331f99-51f6-44d9-95b9-b20f3b74f360"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/afghanistan-election-data/resource/f6331f99-51f6-44d9-95b9-b20f3b74f360</a>
</p>
<p>
Fine on demo.ckan.org
</p>

                            
                          </td>
                          <td class="PosixTime">1342435102000000
                          </td>
                          <td class="ModifiedTime">1344349324000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2679.html">#2679</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2679.html">Change default behaviour of TemplateController.view to 404.</a>
                          </td>
                          <td class="description">
                            <p>
The current behaviour of <a class="missing wiki">TemplateController?</a>.view() (which is the fallback controller should all others fail) is to attempt to render (as a genshi template) the requested file.
</p>
<p>
Although this may be a feature that some instances want.  In general, it leads to:
</p>
<ul><li>500s when attempting to access a normal template (eg - <a class="ext-link" href="http://datahub.io/importer/preview"><span class="icon">​</span>http://datahub.io/importer/preview</a>)
</li><li>A way of inadvertantly serving things you may not want to serve.  (Small risk, as it needs to be renderable as a genshi template).
</li></ul><p>
Solution:
</p>
<ul><li>Change the controller to 404
</li><li>Ensure there's a way for existing ckan instances to override that behaviour should they need it.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1342436133000000
                          </td>
                          <td class="ModifiedTime">1342436133000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2683.html">#2683</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2683.html">Add no-cache header to _tracking API call's response to make sure it doesn't get cached</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1342446577000000
                          </td>
                          <td class="ModifiedTime">1342446577000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2686.html">#2686</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2686.html">enabling datastore &amp; data API breaks recline</a>
                          </td>
                          <td class="description">
                            <p>
First I noticed that the gold prices dataset preview was not displaying &amp; has data API enabled
Secondly I tried enabling datastore for <a class="ext-link" href="http://datahub.io/dataset/adur_district_spending/resource/281dffa6-ea9b-4446-be41-05dced06591f"><span class="icon">​</span>http://datahub.io/dataset/adur_district_spending/resource/281dffa6-ea9b-4446-be41-05dced06591f</a> and after I saved the preview no longer worked. Unticking the datastore &amp; data api checkbox brought it back
</p>
<p>
Is this a known issue?
</p>

                            
                          </td>
                          <td class="PosixTime">1342516011000000
                          </td>
                          <td class="ModifiedTime">1346663300000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2688.html">#2688</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2688.html">Allow ordering of groups in WUI</a>
                          </td>
                          <td class="description">
                            <p>
Currently the group_index page just shows the entire list of groups, forcing the ordering to be by name.  It would be better if it could be sortable by name (or reversed) or by package_count (or reversed)
</p>

                            
                          </td>
                          <td class="PosixTime">1342520875000000
                          </td>
                          <td class="ModifiedTime">1342520875000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2697.html">#2697</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2697.html">create dataset validation</a>
                          </td>
                          <td class="description">
                            <p>
Includes: missing fields, existing field checks (i.e. whether a name/dataset already exists with that name) during input (i.e. no need to submit form to check)
</p>

                            
                          </td>
                          <td class="PosixTime">1342620035000000
                          </td>
                          <td class="ModifiedTime">1346235925000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2698.html">#2698</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2698.html">markdown preview</a>
                          </td>
                          <td class="description">
                            <p>
for description / other fields with markdown support
</p>

                            
                          </td>
                          <td class="PosixTime">1342620085000000
                          </td>
                          <td class="ModifiedTime">1344543252000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2699.html">#2699</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2699.html">workflow for associating datasets with groups</a>
                          </td>
                          <td class="description">
                            <p>
needs review &amp; speccing out
e.g. datasets created by a user who belongs to a certain publisher (group) get auto added to this group
</p>

                            
                          </td>
                          <td class="PosixTime">1342620176000000
                          </td>
                          <td class="ModifiedTime">1344507133000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2702.html">#2702</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2702.html">Future Javascript wishlist for demo</a>
                          </td>
                          <td class="description">
                            <p>
tooltip on popular datasets with number of views
facets to update automatically
creating a dataset without reloading page between steps
hover on licences information
autocomplete on search terms
group filtering
social share buttons in lightboxes
dataset counts on homepage
</p>

                            
                          </td>
                          <td class="PosixTime">1342620475000000
                          </td>
                          <td class="ModifiedTime">1344255984000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2708.html">#2708</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2708.html">limit extra data for package/group show</a>
                          </td>
                          <td class="description">
                            <blockquote>
<p>
context<a class="missing wiki">package_limits?</a> = { 'tags': 5,     &lt;- get first 5
</p>
<blockquote>
<p>
'extras': 0,   &lt;- get all
</p>
</blockquote>
<p>
}
</p>
</blockquote>
<p>
only get what you ask for have to be explicit
</p>
<blockquote>
<p>
context<a class="missing wiki">group_limits?</a> = {}   only main item
</p>
</blockquote>
<p>
start with datasets/groups expand if we like it
</p>

                            
                          </td>
                          <td class="PosixTime">1342622420000000
                          </td>
                          <td class="ModifiedTime">1342622420000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2709.html">#2709</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2709.html">Atom feeds are undocumented</a>
                          </td>
                          <td class="description">
                            <p>
There doesn't seem to be any documentation yet for Atom feeds.
</p>

                            
                          </td>
                          <td class="PosixTime">1342624310000000
                          </td>
                          <td class="ModifiedTime">1342626212000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2718.html">#2718</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2718.html">can't add dataset to more than one group</a>
                          </td>
                          <td class="description">
                            <p>
trying to add a dataset to another group means it's no longer part of the first group
</p>
<p>
<a class="ext-link" href="http://demo.ckan.org/dataset/edit/afterfibre"><span class="icon">​</span>http://demo.ckan.org/dataset/edit/afterfibre</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1342780550000000
                          </td>
                          <td class="ModifiedTime">1344544203000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2719.html">#2719</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2719.html">Feeds controller does not catch NotAuthorized exception</a>
                          </td>
                          <td class="description">
                            <p>
Results in bad user experience and <a class="missing wiki">WebApp?</a> errors emailed out. Seen in 1.7.1
</p>

                            
                          </td>
                          <td class="PosixTime">1342872863000000
                          </td>
                          <td class="ModifiedTime">1342872863000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2721.html">#2721</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2721.html">deleted groups should not show on 'Add to Groups' dropdown</a>
                          </td>
                          <td class="description">
                            <p>
Groups previously deleted still show up in the add dataset process in step 3 'Additional info'
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/dataset/new_metadata/ff"><span class="icon">​</span>http://s031.okserver.org:2375/dataset/new_metadata/ff</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1342948632000000
                          </td>
                          <td class="ModifiedTime">1344544214000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2725.html">#2725</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2725.html">Case sensitivity on tags</a>
                          </td>
                          <td class="description">
                            <p>
My feeling is that 'country-US' and 'country-us' should be the same tag. However currently tags with caps are treated differently 
</p>
<p>
see <a class="ext-link" href="http://s031.okserver.org:2375/en/dataset/test-dataset"><span class="icon">​</span>http://s031.okserver.org:2375/en/dataset/test-dataset</a>
</p>
<p>
with TEST and test - there also get indexed twice in the search page
</p>

                            
                          </td>
                          <td class="PosixTime">1342949667000000
                          </td>
                          <td class="ModifiedTime">1343030773000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2726.html">#2726</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2726.html">confusing logic on data preview formats</a>
                          </td>
                          <td class="description">
                            <ol><li>If a user enters the wrong format on a file that can be previewed - it simply won't be previewed (e.g. a CSV or XML file that can be filled in with JSON in format will just not work or check this
</li></ol><ol start="2"><li>If I incorrectly edit format to one that data preview will try to preview it will work even for a format that it doesn't accept (sometimes) e.g. this PDF file I changed the metadata to HTML <a class="ext-link" href="http://s031.okserver.org:2375/en/dataset/test-dataset/resource/9d27a9d9-36ec-460e-9edb-6dff7ba4fc28"><span class="icon">​</span>http://s031.okserver.org:2375/en/dataset/test-dataset/resource/9d27a9d9-36ec-460e-9edb-6dff7ba4fc28</a>
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1342949927000000
                          </td>
                          <td class="ModifiedTime">1343030906000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2728.html">#2728</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;4.html">demo phase 4</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2728.html">deleted group shows on search index - for admins</a>
                          </td>
                          <td class="description">
                            <p>
'test-group', which has been deleted,shows up on main search page under groups - and can be filtered by - see <a class="ext-link" href="http://s031.okserver.org:2375/dataset?groups=test-group"><span class="icon">​</span>http://s031.okserver.org:2375/dataset?groups=test-group</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1342950784000000
                          </td>
                          <td class="ModifiedTime">1345023944000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2729.html">#2729</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2729.html">searching for tags:[tag] works but tag:[tag] doesn't</a>
                          </td>
                          <td class="description">
                            <p>
which is confusing since you can only search for one tag like this at a time. I.e.
tags:economics,cvs or tags:economics, csv or tags:economics+CSV doesn't work for example; therefore tag:economics, should also work!
</p>
<p>
<a class="ext-link" href="http://s031.okserver.org:2375/dataset?q=tags%3Aeconomics&amp;sort=relevance+asc"><span class="icon">​</span>http://s031.okserver.org:2375/dataset?q=tags%3Aeconomics&amp;sort=relevance+asc</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1342951109000000
                          </td>
                          <td class="ModifiedTime">1342951176000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2731.html">#2731</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markw
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2731.html">Some sites permanently 'down for maintenance'</a>
                          </td>
                          <td class="description">
                            <p>
A large number of XXX.ckan.net sites give the following message:
</p>
<p>
"This Site is Down for Maintenance
We apologize for the inconvenience.
~ The Open Knowledge Foundation sysadmins."
</p>
<p>
The message is unhelpful and patently false - the sites do not exist. Some of them were supposed to have been redirected to a relevant group at thedatahub.org in this ticket (now closed):
</p>
<p>
<a class="ext-link" href="http://trac.okfn.org/ticket/933"><span class="icon">​</span>http://trac.okfn.org/ticket/933</a>
</p>
<p>
However, the redirection only seems to have worked in one case, <a class="ext-link" href="http://si.ckan.net"><span class="icon">​</span>http://si.ckan.net</a>. 
</p>
<p>
The problem still affects the following sites - the first 4 of which have supposedly been merged:
</p>
<ul><li><a class="ext-link" href="http://lt.ckan.net"><span class="icon">​</span>http://lt.ckan.net</a>
</li><li><a class="ext-link" href="http://hu.ckan.net"><span class="icon">​</span>http://hu.ckan.net</a>
</li><li><a class="ext-link" href="http://be.ckan.net"><span class="icon">​</span>http://be.ckan.net</a>
</li><li><a class="ext-link" href="http://gr.ckan.net"><span class="icon">​</span>http://gr.ckan.net</a>
</li></ul><ul><li><a class="ext-link" href="http://nz.ckan.net"><span class="icon">​</span>http://nz.ckan.net</a>
</li><li><a class="ext-link" href="http://bg.ckan.net"><span class="icon">​</span>http://bg.ckan.net</a>
</li><li><a class="ext-link" href="http://fi.ckan.net"><span class="icon">​</span>http://fi.ckan.net</a>
</li><li><a class="ext-link" href="http://katalogdanych.centrumcyfrowe.pl"><span class="icon">​</span>http://katalogdanych.centrumcyfrowe.pl</a>
</li><li><a class="ext-link" href="http://pl.ckan.net"><span class="icon">​</span>http://pl.ckan.net</a>
</li><li><a class="ext-link" href="http://southampton.ckan.net"><span class="icon">​</span>http://southampton.ckan.net</a>
</li><li><a class="ext-link" href="http://sl.ckan.net"><span class="icon">​</span>http://sl.ckan.net</a>
</li></ul><p>
Please sort this out by redirecting, removing the sites, giving a more helpful (and accurate) failure message, etc, as appropriate.
</p>

                            
                          </td>
                          <td class="PosixTime">1343045168000000
                          </td>
                          <td class="ModifiedTime">1343051608000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2732.html">#2732</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">ross
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2732.html">New file upload functionality</a>
                          </td>
                          <td class="description">
                            <p>
We should simplify upload and storage of files, initially only to local storage with archiver eventually being fixed to archive data externally. WIP pad is <a class="ext-link" href="http://ckan.okfnpad.org/uploads"><span class="icon">​</span>http://ckan.okfnpad.org/uploads</a>  
</p>
<p>
<strong>Simplifying uploads</strong>
</p>
<p>
Currently uploads are too painful/difficult/fiddly to use and/or configure.  We want to simplify uploads so that they are done directly to the CKAN server, without support for remote services (S3 etc) and/or the dependencies it introduces.
</p>
<p>
We want to fix:
</p>
<ul><li>File uploads themselves
</li><li>Storage of uploaded files
</li><li>Notification of the upload to other components
</li></ul><p>
 
 
<strong>File uploads</strong>
</p>
<p>
Things file upload should do:
</p>
<ul><li>Allow sysadmin to disable
</li><li>Allow auth'ed users to upload
</li><li>Store whatever they send on disk, and store DB entry linking the file to the person
</li><li>When creating the resource, the user should be able to choose from all of the files
they have uploaded but not yet associated with a resource. This will allow for bulk
upload and then a delayed association.  Whenver a user creates a resource they
either upload a file now, or see previously uploaded files.
</li></ul><pre class="wiki">Can we do the upload asynchronously and then associate the 
uploaded key with the resource before the save ? What happens 
if the user tries to submit before asymc upload finishes ? Should 
we delay them?
</pre><p>
The upload workflow should look like...
</p>
<ol><li>File upload should be a straightforward file upload with normal auth checks and normal processing of the posted data.  
</li><li>
<ol class="loweralpha"><li>When called via ajax then the ID of the newly created file should be returned,
</li><li>When called via WUI then it should also be given the url to redirect to after the file upload has been handled - the id will be passed as a query param.
</li></ol></li><li>The resource save should check whether it has a file id and in that case updates the file object to point to the resource.
</li></ol><p>
This should enable:
</p>
<ul><li>Separate file upload into a user's temporary store, either individually or as a batch.
</li><li>Creating resources and simply choosing from previously uploaded, unassigned files
</li><li>Adding files/data to a resource after the fact.
</li></ul><p>
   
</p>
<p>
<strong>File storage</strong>
</p>
<p>
File storage should be local to the CKAN install, and not a remote service.  Any archiving to remove storage providers should be outside of the main request.
</p>
<p>
File storage should:
</p>
<ul><li>allow moving data, a sysadmin should be able to move the storage root and change configuration and  have the system continue running (i.e. don't store absolute paths).
</li><li>provide maintainability, it should be easy to determine which old files are not associated with resources  and thus can be cleaned up.
</li><li>allow for collection of information (i.e. estimate of storate space used)
</li><li>check whether there is enough space and handling the conequences cleanly
</li><li>ensure files to be written only underneath its own root folder, checks should be made after any path generation that the file begins with the location of the file storage.
</li><li>Have a configurable maximum accepted blob size during upload.
</li><li>Should store what meta-data was provided with the upload, such as mimetype.
</li></ul><p>
Somewhere in the DB we should store ...
</p>
<table class="wiki">
<tr><td><strong>Column</strong></td><td><strong>Notes</strong>
</td></tr><tr><td>id</td><td>An identifier
</td></tr><tr><td>owner</td><td>The owning user, who uploaded the file
</td></tr><tr><td>path</td><td>The path (from the 'storage root') to the file
</td></tr><tr><td>size</td><td>The size in bytes of the file on disk
</td></tr><tr><td>mimetype</td><td>The mimetype of the file, as provided by the uploader
</td></tr><tr><td>upload_date</td><td>When the data was uploaded
</td></tr><tr><td>resource</td><td>The ID of the resource it belongs to. A unidirectional relationship.
</td></tr><tr><td>archived_url</td><td>The URL where this file has been archived
</td></tr></table>
<p>
Generating paths should try and separate the files, perhaps based on username of the owner, or some other mechanism to avoid a single folder full of files.
</p>
<p>
<strong>Notifications</strong>
</p>
<p>
We need to make sure that it is possible to notify other components within the system that an upload has taken place, or at least make it easy for them to be notified.  The primary use case for this is to notify the component that will translate/upload certain formats to the data store.
</p>
<p>
We could do this based on the post-upload update to the file model (i.e. when we record the total received size of the file).
</p>

                            
                          </td>
                          <td class="PosixTime">1343058789000000
                          </td>
                          <td class="ModifiedTime">1346663270000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2733.html">#2733</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2733.html">Datastore logic functions</a>
                          </td>
                          <td class="description">
                            <h2 id="Wheredoesthedatago">Where does the data go?</h2>
<p>
In a postgres database configured by the ckan.datastore_write_url config option which is a sqlalchemy url. 
</p>
<p>
The user should have rights to create tables.
</p>
<h2 id="Whatstheapilike">Whats the api like?</h2>
<p>
We will just implement it as logic functions like the rest of CKAN and will part of core.  After that we may add some nicer api functions that use these but that is a secondary concern.
</p>
<h2 id="Whataretheinitiallogicfunctions">What are the initial logic functions?</h2>
<ul><li>datastore_create
</li><li>datastore_delete
</li><li>datastore_show
</li></ul><h2 id="WhatistheJSONinputformatfordatastore_create">What is the JSON input format for datastore_create</h2>
<p>
To begin with it can have the following keys. It is fairly consistent with Max Ogdens' gut servers.  Except adds resource_id.
</p>
<pre class="wiki">{
resource_id: resource_id # the data is going to be stored against.
fields: a list of dictionaries of fields/columns and their extra metadata.
records: a list of dictionaries of the data eg  [{"dob": "2005", "some_stuff": ['a', b']}, ..]
}
</pre><ul><li>The first row will be used to guess types not in the fields and the guessed types will be added to the headers permanently. Consecutive rows have to conform to the field definitions.
</li><li>rows: can be empty so that you can just set the fields
</li><li>fields are optional but needed if you want to do type hinting or add extra information for certain columns or to explicitly define ordering.  
</li></ul><p>
eg:  [{"id": "dob", "type": "timestamp" }, {"id": "some_stuff", "type": "text"},  ...].
A header items values can not be changed after it has been defined nor can the ordering of them be changed.  They can be extended though.
</p>
<ul><li>Any error results in total failure!! For now pass back the actual error.
</li><li>Should be transactional
</li></ul><h2 id="Whatjsondoesdatastore_deletetake">What json does datastore_delete take?</h2>
<pre class="wiki">{
resource_id: resource_id # the data is going to be deleted.
filters: dictionary of matching conditions to delete
    e.g  {'key1': 'a. 'key2': 'b'}  this will be equivalent to "delete from table where key1 = 'a' and key2 = 'b' ".
    No filters (either not present or not defined) then delete the table. If we want truncate then add truncate: true to truncate the table.
}
</pre><h2 id="Whatjsondoesdatastore_searchtake">What json does datastore_search take?</h2>
<pre class="wiki">{
resource_id: resource_id # the data is going to be selected.
filters : dictionary of matching conditions to select
    e.g  {'key1': 'a. 'key2': 'b'}  this will be equivalent to "select * from table where key1 = 'a' and key2 = 'b' "
q: full text query
limit: limit the amount of rows to size default 100
offset: offset the amount of rows
fields:  list of fields return in that order, defaults (empty or not present) to all fields in fields order.
sort: comma separated field names with ordering e.g "fieldname1, fieldname2 desc"
}
</pre><p>
Some free code: <a class="ext-link" href="https://gist.github.com/3163864"><span class="icon">​</span>https://gist.github.com/3163864</a>
</p>
<h2 id="Whatjsondoesdatastore_searchreturn">What json does datastore_search return?</h2>
<pre class="wiki">{
fields: same type as datastore_create accepts (i.e. with metadata)
offset: The same offset that was supplied in datastore_show
limit: The original limit
filters: The filters that were applied in data_show
total: # total matching records without size or offset
records: [same as data_create] # list of matching results
}
</pre><p>
On error will return:
</p>
<pre class="wiki">{
__error__: … sql error …
}
</pre><h2 id="Whattypesareallowed">What types are allowed?</h2>
<p>
Aim to support as many postgres/postgis types that have string representations.
</p>
<p>
<a class="ext-link" href="http://www.postgresql.org/docs/9.1/static/datatype.html"><span class="icon">​</span>http://www.postgresql.org/docs/9.1/static/datatype.html</a>
</p>
<p>
<a class="ext-link" href="http://www.postgresql.org/docs/9.1/static/sql-createdomain.html"><span class="icon">​</span>http://www.postgresql.org/docs/9.1/static/sql-createdomain.html</a> 
</p>
<h2 id="IDs">IDs</h2>
<p>
Each row in a table will be given an _id column which has an id generated by us which you can use in queries.
</p>
<h2 id="OtherFeatures">Other Features</h2>
<p>
Each row will store the _full_text index of all the data in the row. At some later point there will most likely be a way to index fields add constraints etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1343058886000000
                          </td>
                          <td class="ModifiedTime">1343656105000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2735.html">#2735</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2735.html">Dataset order on user page</a>
                          </td>
                          <td class="description">
                            <p>
I think the datasets on user pages <a class="ext-link" href="http://s031.okserver.org:2375/user/me"><span class="icon">​</span>http://s031.okserver.org:2375/user/me</a>
should be ordered by latest updated (with most recent at the top) instead of in alphabetical order.
</p>
<p>
What do you think?
</p>

                            
                          </td>
                          <td class="PosixTime">1343062877000000
                          </td>
                          <td class="ModifiedTime">1344349245000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2745.html">#2745</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2745.html">Password reset returns an exception if the key parameter is missing</a>
                          </td>
                          <td class="description">
                            <p>
Instead of showing a notice, the password reset page throws an exception if the key parameter is missing:
</p>
<pre class="wiki">Module ckan.controllers.user:329 in perform_reset
         c.reset_key = request.params.get('key')
               if not mailer.verify_reset_link(user_obj, c.reset_key):
                   h.flash_error(_('Invalid reset key. Please try again.'))
                   abort(403)
 if not mailer.verify_reset_link(user_obj, c.reset_key):
Module ckan.lib.mailer:100 in verify_reset_link
     if not user.reset_key or len(user.reset_key) &lt; 5:
               return False
           return key.strip() == user.reset_key
 return key.strip() == user.reset_key
AttributeError: 'NoneType' object has no attribute 'strip'
</pre><p>
Apart from the obvious fix of checking for the 'key' parameter, it seems like is quite common to get these reset urls without the key parameter, so I suspect some email clients might strip the query params when building the links. We could avoid this problem by making the key part of the url instead of a param:
</p>
<p>
<a class="ext-link" href="http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d/b4c2d03fa8"><span class="icon">​</span>http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d/b4c2d03fa8</a>
</p>
<p>
instead of:
</p>
<p>
<a class="ext-link" href="http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key=b4c2d03fa8"><span class="icon">​</span>http://thedatahub.org/en/user/reset/3086e91c-fe09-4a98-92e1-19de67a9ac9d?key=b4c2d03fa8</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1343145931000000
                          </td>
                          <td class="ModifiedTime">1343145931000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2748.html">#2748</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">shevski
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2748.html">add 'add new resource' button to sidebar</a>
                          </td>
                          <td class="description">
                            <p>
When editing a resource you see the current and any other existing resources in sidebar
</p>
<p>
(e.g. see <a class="ext-link" href="http://s031.okserver.org:2375/en/dataset/format-error-test/resource_edit/d1eac556-c16f-44af-8148-5e3467b57cf8?inner_span=True"><span class="icon">​</span>http://s031.okserver.org:2375/en/dataset/format-error-test/resource_edit/d1eac556-c16f-44af-8148-5e3467b57cf8?inner_span=True</a>)
</p>
<p>
Would be good to have a pretty 'add new' slightly transparent resource folder/pointer undearneath - letting you add resources from the end resource page
</p>

                            
                          </td>
                          <td class="PosixTime">1343212878000000
                          </td>
                          <td class="ModifiedTime">1344503744000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2751.html">#2751</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2751.html">check translations for full demo site</a>
                          </td>
                          <td class="description">
                            <p>
need to check everything gets translated - sean did this before so will have info
</p>

                            
                          </td>
                          <td class="PosixTime">1343216443000000
                          </td>
                          <td class="ModifiedTime">1344243046000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2758.html">#2758</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">toby
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2758.html">file storage gives error if config not available but no useful user information</a>
                          </td>
                          <td class="description">
                            <p>
We get an error which should be improved the actual problem is this but not passed to user
</p>
<blockquote>
<p>
⇝ <a class="missing wiki">KeyError?</a>: 'ofs.impl'
</p>
</blockquote>
<p>
View as:   Interactive (full)  |  Text (full)  |  XML (full)
Module ckan.controllers.storage:2 in auth_form         view
Module ckan.lib.jsonp:26 in jsonpify         view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
data = func(*args, <strong>kwargs)
</strong></p>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.storage:407 in auth_form         view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
authorize(method, bucket, label, c.userobj, self.ofs)
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.storage:200 in ofs         view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
StorageAPIController._ofs_impl = get_ofs()
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
Module ckan.controllers.storage:71 in get_ofs         view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
storage_backend = config<a class="missing wiki">ofs.impl?</a>
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
Module paste.registry:146 in <span class="underline">getitem</span>         view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
return self._current_obj()[key]
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
<a class="missing wiki">KeyError?</a>: 'ofs.impl'
</p>

                            
                          </td>
                          <td class="PosixTime">1343287709000000
                          </td>
                          <td class="ModifiedTime">1343287709000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=resolution&amp;asc=1&amp;page=2.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=1.html" title="Page 1">1</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=2.html" title="Page 2">2</a>
      </span>
      <span>
        <span class="current">3</span>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=resolution&amp;asc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=resolution&amp;asc=1&amp;page=4.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=resolution&amp;asc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=resolution&amp;asc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=resolution&amp;asc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>