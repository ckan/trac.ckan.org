<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fasc=1&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fasc=1&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fasc=1&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fasc=1&amp;page=16.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fasc=1&amp;page=14.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fasc=1&amp;page=15.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1401 - 1500 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fasc=1&amp;page=14.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fasc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <span class="current">15</span>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
    <span class="next">
      <a href="22%3Fasc=1&amp;page=16.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=15.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=15.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=15.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=15.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=15.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=15.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=15.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=15.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=15.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=15.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=15.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1416.html">#1416</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1416.html">Registering with blank email can cause exception</a>
                          </td>
                          <td class="description">
                            <p>
This might well be a bot, but not POSTing the email field should not cause an exception - it should be 400 and then the sysadmin doesn't get these nags.
</p>
<pre class="wiki">http://www.publicdata.eu/user/register
...
Module ckan.controllers.user:79 in register
&lt;&lt;              c.login = request.params.getone('login')
                   c.fullname = request.params.getone('fullname')
                   c.email = request.params.getone('email')
                   if not model.User.check_name_available(c.login):
                       h.flash_error(_("That username is not available."))
&gt;&gt;  c.email = request.params.getone('email')
Module webob.multidict:335 in getone
&lt;&lt;          values were found.
               """
               return self._decode_value(self.multi.getone(self._encode_key(key)))
       
           def mixed(self):
&gt;&gt;  return self._decode_value(self.multi.getone(self._encode_key(key)))
Module webob.multidict:99 in getone
&lt;&lt;          v = self.getall(key)
               if not v:
                   raise KeyError('Key not found: %r' % key)
               if len(v) &gt; 1:
                   raise KeyError('Multiple values match %r: %r' % (key, v))
&gt;&gt;  raise KeyError('Key not found: %r' % key)
KeyError: "Key not found: 'email'"
</pre><pre class="wiki">HTTP_USER_AGENT	'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; MRA 4.3 (build 01218); .NET CLR 1.1.4322)'
webob._parsed_post_vars	(MultiDict([('login', 'ahusernames9'), ('fullname', 'ahusernames9'), ('password1', '******'), ('password2', '******'), ('s', 'Sign up')]), &lt;FakeCGIBody at 0xb9d7c5ec viewing MultiDict([('lo...p')])&gt;)
</pre>
                            
                          </td>
                          <td class="PosixTime">1319533989000000
                          </td>
                          <td class="ModifiedTime">1320153507000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1417.html">#1417</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-24.html">ckan-sprint-2011-10-24</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1417.html">Browser language detection doesn't work</a>
                          </td>
                          <td class="description">
                            <p>
In Firefox:
</p>
<ul><li>Edit | Preferences | Content | Languages - put 'de' at top language
</li><li>Clear cookies
</li><li>Load thedatahub.org
</li><li>it should be in German, but it's in the default language - English.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1319539010000000
                          </td>
                          <td class="ModifiedTime">1319651617000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1418.html">#1418</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1418.html">If default language is not 'en' then you can't switch language to 'en'</a>
                          </td>
                          <td class="description">
                            <p>
e.g. cz.ckan.net has lang=cz but when you click on Home page link "English" it flashes message "Language has been set to: English" but the rest of the page is still Czech.
</p>

                            
                          </td>
                          <td class="PosixTime">1319539146000000
                          </td>
                          <td class="ModifiedTime">1319539691000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1419.html">#1419</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1419.html">Can't log in via OpenID</a>
                          </td>
                          <td class="description">
                            <p>
I couldn't log into theDataHub with OpenID today. I tried both Google ID and MyOpenID. Both times the login on the remote auth server went fine, but when it returns you to theDataHub you get error "Login failed. Bad username or password."
</p>

                            
                          </td>
                          <td class="PosixTime">1319543013000000
                          </td>
                          <td class="ModifiedTime">1319796164000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1420.html">#1420</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1420.html">Refactor ckanext-qa to work as a celery task</a>
                          </td>
                          <td class="description">
                            <p>
Currently can run as a celery task launched by paster command. 
</p>
<p>
Still have to add a CKAN plugin so that QA will run when a resource is added or URL changed, and then update the extension controller/templates to look for QA data from the task_status table instead of directly on the resource.
</p>

                            
                          </td>
                          <td class="PosixTime">1319626138000000
                          </td>
                          <td class="ModifiedTime">1320843789000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1421.html">#1421</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1421.html">Tag cloud recipe broken</a>
                          </td>
                          <td class="description">
                            <p>
home page doesn't have c.facets setup.
</p>
<p>
Only affects 1.5 branch - ok 1.4.3.1. Was broken in cset:05f60f2d26e8.
</p>

                            
                          </td>
                          <td class="PosixTime">1319638575000000
                          </td>
                          <td class="ModifiedTime">1319639311000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1422.html">#1422</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1422.html">Remove proxy &amp; etag caching</a>
                          </td>
                          <td class="description">
                            <p>
Rufus decided this was more trouble than it was worth.
</p>
<p>
Removes ckan/lib/cache.py
</p>

                            
                          </td>
                          <td class="PosixTime">1319639663000000
                          </td>
                          <td class="ModifiedTime">1319645722000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1423.html">#1423</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">markbrough
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1423.html">Edit resources suggestions</a>
                          </td>
                          <td class="description">
                            <ul><li>Description vs Name - Edit Resources view is showing the name of the package rather than the description, and a lot (all?) of the packages before the upgrade don't have names, so might be good to swap this round again, e.g.: <a class="ext-link" href="http://thedatahub.org/dataset/edit/iati-registry"><span class="icon">​</span>http://thedatahub.org/dataset/edit/iati-registry</a>
</li><li>Moving resources - Moving them up or down the list used to be quite useful if you had a lot of resources that you might want to leave on the resources page, but only one or two that were actually current and that you wanted to draw attention to. This doesn't exist any more on CKAN but I think it would be good to add it back in.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1319641906000000
                          </td>
                          <td class="ModifiedTime">1338203678000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1424.html">#1424</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1424.html">Openness notice should be clearer</a>
                          </td>
                          <td class="description">
                            <p>
ckan-discuss discussion suggests changes to the 'openness' indicator
( <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2011-October/001786.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2011-October/001786.html</a> )
</p>
<p>
Dataset view page:
</p>
<ul><li>If there is an explicit but non-OKD compliant license, such as CC-BY-NC, then this should be stated explicitly, perhaps: “This dataset is Not Open. License: Creative Commons Attribution Noncommerical. This is not an open license as it does not meet the Open Knowledge Definition.”
</li><li>If the license is marked as “Other::License Not Specified”, then this should be stated explicitly, perhaps:
“This dataset is Not Open. It is published without an explicit license, the publisher reserves all rights to the dataset.”
</li><li>3. If the license field was left empty by the contributor of the Data Hub record, then again this should be stated explicitly, perhaps: “This dataset is Not Open. The license of this dataset is unknown or unspecified. Start an enquiry on <a class="missing wiki">IsItOpenData?</a> »
</li><li>There is a bug so that non-open licenses doesn't have an openness notice.
</li><li>If downloadable resources are not available, this should not affect 'openness' - check this has been removed.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1319648089000000
                          </td>
                          <td class="ModifiedTime">1319648089000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1425.html">#1425</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1425.html">Dataset delete button</a>
                          </td>
                          <td class="description">
                            <p>
From Jonathan gray: 
</p>
<p>
At the moment to delete a package you have to go to 'state' and change from 'active' to 'deleted'.
</p>
<p>
For me this was not very obvious, and someone recently wrote to me about this too.
</p>
<p>
Its a small issue - but unless you know what 'state: active' refers to, its not obvious what this means, nor that this is where to go if you want to delete a package.
</p>
<p>
From UI perspective this could be replaced by either a trash can or some text that says 'delete', perhaps with some prompt that explains what happens when you delete a package - explaining that non-admins won't be able to see it, and how you purge, etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1319649860000000
                          </td>
                          <td class="ModifiedTime">1330085282000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1426.html">#1426</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1426.html">Validation errors cause 409 not 400 response</a>
                          </td>
                          <td class="description">
                            <p>
Validation error is incorrect arguments, so should be a "400 Bad Request" response. "409 Conflict" is for when there is a conflict creating two resources with the same identifier. Yet we get 409 for all validation errors.
</p>

                            
                          </td>
                          <td class="PosixTime">1319708619000000
                          </td>
                          <td class="ModifiedTime">1319709236000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1427.html">#1427</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1427.html">Tags validation needs to limit length to 100 characters</a>
                          </td>
                          <td class="description">
                            <p>
The tag name is limited in length in the db table to 100 characters. If you try and create a longer one you get an exception. This should cause a <a class="missing wiki">ValidationError?</a> and tell the user this sensibly.
</p>

                            
                          </td>
                          <td class="PosixTime">1319708698000000
                          </td>
                          <td class="ModifiedTime">1319709925000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1428.html">#1428</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1428.html">config options not used or documented</a>
                          </td>
                          <td class="description">
                            <p>
Need to ensure config options in the deployment.ini_tmpl match up with doc/configuration.rst. Remove any unused ones too.
</p>

                            
                          </td>
                          <td class="PosixTime">1319803594000000
                          </td>
                          <td class="ModifiedTime">1319804773000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1429.html">#1429</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1429.html">Provide DOIs for datasets in a CKAN instance</a>
                          </td>
                          <td class="description">
                            <p>
DOI = digital object identifier = <a class="ext-link" href="http://www.doi.org/"><span class="icon">​</span>http://www.doi.org/</a>
</p>
<p>
As a Publisher I want a DOI for my dataset so that it can be cited by and linked to by others in a standard and easy way.
</p>
<h2 id="Details">Details</h2>
<ul><li>Probably implement as extension rather than core
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1319977305000000
                          </td>
                          <td class="ModifiedTime">1319977305000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1430.html">#1430</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1430.html">Documents get mixed between SOLR cores</a>
                          </td>
                          <td class="description">
                            <p>
On some occasions (apparently random), the documents indexed in a specific SOLR core get mixed with different site_ids.
</p>
<p>
E.g: We look for all documents in the testing.iatiregistry.org core, faceted by site_id. We would expect all documents to have site_id = iati_testing, but some of them have site_id = iatiregistry.org
</p>
<p>
<a class="ext-link" href="http://okfn-solr.fry-it.com:8080/solr/testing.iatiregistry.org/select?indent=on&amp;version=2.2&amp;q=*:*&amp;fq=+state:active&amp;facet=true&amp;facet.field=site_id"><span class="icon">​</span>http://okfn-solr.fry-it.com:8080/solr/testing.iatiregistry.org/select?indent=on&amp;version=2.2&amp;q=*:*&amp;fq=+state:active&amp;facet=true&amp;facet.field=site_id</a>
</p>
<pre class="wiki">&lt;lst name="facet_fields"&gt;
&lt;lst name="site_id"&gt;
&lt;int name="iati_testing"&gt;265&lt;/int&gt;
&lt;int name="iatiregistry.org"&gt;255&lt;/int&gt;
&lt;/lst&gt;
&lt;/lst&gt;
</pre><p>
If we compare one of the records which disappeared from the "iati_testing" site_id in both the production and testing SOLR cores
of the server, the records are exactly the same, including the indexed_ts property:
</p>
<p>
<a class="ext-link" href="http://okfn-solr.fry-it.com:8080/solr/iatiregistry.org/select?indent=on&amp;version=2.2&amp;q=id:97d1ab0d-b203-4757-8f4e-a0c84d2f759f&amp;facet=true&amp;facet.field=site_id"><span class="icon">​</span>http://okfn-solr.fry-it.com:8080/solr/iatiregistry.org/select?indent=on&amp;version=2.2&amp;q=id:97d1ab0d-b203-4757-8f4e-a0c84d2f759f&amp;facet=true&amp;facet.field=site_id</a>
</p>
<p>
<a class="ext-link" href="http://okfn-solr.fry-it.com:8080/solr/testing.iatiregistry.org/select?indent=on&amp;version=2.2&amp;q=id:97d1ab0d-b203-4757-8f4e-a0c84d2f759f&amp;facet=true&amp;facet.field=site_id"><span class="icon">​</span>http://okfn-solr.fry-it.com:8080/solr/testing.iatiregistry.org/select?indent=on&amp;version=2.2&amp;q=id:97d1ab0d-b203-4757-8f4e-a0c84d2f759f&amp;facet=true&amp;facet.field=site_id</a>
</p>
<p>
Note that the response from the URLs shown may vary, as the testing site could have been reindexed.
</p>

                            
                          </td>
                          <td class="PosixTime">1320068076000000
                          </td>
                          <td class="ModifiedTime">1324033923000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1431.html">#1431</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1431.html">Captcha field - foreign chars cause exception</a>
                          </td>
                          <td class="description">
                            <p>
During registering a user, the user inputs foreign chars into the captcha field.
</p>
<pre class="wiki">URL: http://thedatahub.org/user/register
...
Module ckan.lib.captcha:22 in check_recaptcha
&lt;&lt;                                     remoteip=client_ip_address,
                                          challenge=recaptcha_challenge_field,
                                          response=recaptcha_response_field))
           f = urllib2.urlopen(recaptcha_server_name, params)
           data = f.read()
&gt;&gt;  response=recaptcha_response_field))
Module urllib:1267 in urlencode
&lt;&lt;          for k, v in query:
                   k = quote_plus(str(k))
                   v = quote_plus(str(v))
                   l.append(k + '=' + v)
           else:
&gt;&gt;  v = quote_plus(str(v))
UnicodeEncodeError: 'ascii' codec can't encode character u'\xea' in position 0: ordinal not in range(128)
</pre>
                            
                          </td>
                          <td class="PosixTime">1320078849000000
                          </td>
                          <td class="ModifiedTime">1320084104000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1432.html">#1432</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1432.html">[super] Data processing system for CKAN and Webstore</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1190.html" title="enhancement: [super] CREP 0004 Data API and Data Processing System (closed: fixed)">#1190</a>
</p>
<p>
A data processing system which utilizes the  Webstore. One could
get a long way with simple javascript running in the browser for development with this javascript then run offline using something like nodejs. Alternatively one could allow one to specify a url to e.g. a python file which would then be run in a sandbox (with access to some specified set of python modules)
</p>

                            
                          </td>
                          <td class="PosixTime">1320142747000000
                          </td>
                          <td class="ModifiedTime">1339774041000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1433.html">#1433</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1433.html">Support SQLAlchemy 0.7</a>
                          </td>
                          <td class="description">
                            <p>
Why: current stable version of sqlalchemy. geoalchemy stuff required 0.7 and likely that some other things will require it soon.
</p>
<p>
Probably requires work on vdm <a class="ext-link" href="https://bitbucket.org/okfn/vdm"><span class="icon">​</span>https://bitbucket.org/okfn/vdm</a>
</p>
<p>
NB: should have discussion before making 0.7 the default required version in CKAN core.
</p>

                            
                          </td>
                          <td class="PosixTime">1320143453000000
                          </td>
                          <td class="ModifiedTime">1324472583000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1434.html">#1434</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1434.html">Add i18n strings from extensions</a>
                          </td>
                          <td class="description">
                            <p>
Decide which extensions are important.
</p>

                            
                          </td>
                          <td class="PosixTime">1320145648000000
                          </td>
                          <td class="ModifiedTime">1341245889000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1435.html">#1435</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1435.html">Switch to continuous.io for buildbot (?)</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1320145831000000
                          </td>
                          <td class="ModifiedTime">1323283538000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1436.html">#1436</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1436.html">Packages with a 'pending' state not listed on groups page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1320155227000000
                          </td>
                          <td class="ModifiedTime">1320243278000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1437.html">#1437</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1437.html">JSONP parameter in Action API</a>
                          </td>
                          <td class="description">
                            <p>
Action API needs JSONP support - be able to return responses encapsulated in a function of a supplied name. This is important for remote sites running javascript to interact with a CKAN site.
</p>
<p>
Specifying the callback parameter is the way we've achieved JSONP with the RESTful and Search APIs. It should work like this:
</p>
<pre class="wiki">curl http://test.ckan.net/api/action/package_show?callback=jsoncallback -d '{"id": "fd788e57-dce4-481c-832d-497235bf9f78"}'
</pre><p>
Or maybe the callback should be specified in the payload in the context or data_dict?
</p>
<p>
(My understanding is that CORS is similar - when more browsers support it, can we drop JSONP?)
</p>

                            
                          </td>
                          <td class="PosixTime">1320161088000000
                          </td>
                          <td class="ModifiedTime">1320173795000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1438.html">#1438</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1438.html">Action API - parameter discovery/checking</a>
                          </td>
                          <td class="description">
                            <p>
Many actions in the Action API require parameters. What params are needed should be listed and checked. Because currently, if you get them wrong you simply get a useless 500 error.
</p>
<p>
Currently they are listed in the docs, extracted from the code manually.
</p>
<p>
So you could GET /action/api/package_list to receive not only the help text, but a list of arguments.
</p>
<p>
And if you send an extra or missing argument then an intelligent error message can be returned.
</p>
<h1 id="implementation">implementation</h1>
<p>
How about some sort of decorator on the action function:
</p>
<pre class="wiki">@logic_params(id, offset, limit)
def get_package_list(context, data_dict):
    ...
</pre><p>
This would do the param checking, and is there a way to extract these params from the function? Or do a registration of the logic function?
</p>
<p>
I'd certainly like to keep the list of the list of params for the function with the function, for ease of reading the code.
</p>
<p>
Another good thing would be to pass in the params named as themselves, rather than having them contained in the data_dict.
</p>

                            
                          </td>
                          <td class="PosixTime">1320161890000000
                          </td>
                          <td class="ModifiedTime">1338205050000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1439.html">#1439</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1439.html">Action API discoverablility</a>
                          </td>
                          <td class="description">
                            <p>
A good service API needs to be discoverable, so you are not always having to refer to the documentation html.
</p>
<p>
Maybe /api/action should return a list of actions available? (Currently this returns a 404.) 
</p>
<ul><li>It would be nice to sort these into get/create/update/delete.
</li><li><a class="new ticket" href="../ticket/1438.html" title="enhancement: Action API - parameter discovery/checking (new)">#1438</a> Parameters for each of the actions must be discoverable too
</li></ul><p>
/api/action/{action_name} should also return the help text / parameters allowable. (Currently this returns 400 error)
</p>

                            
                          </td>
                          <td class="PosixTime">1320161970000000
                          </td>
                          <td class="ModifiedTime">1325474974000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1440.html">#1440</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1440.html">'paster db load' doesn't update search index</a>
                          </td>
                          <td class="description">
                            <p>
<tt>paster db load ckan.pgdump</tt> will load in the database but not update the search index, no we're using SOLR.
</p>
<h1 id="implementation">implementation</h1>
<p>
We can't tack on 'rebuild' to this command, because it needs a 'db upgrade' first. I'm tempted to make 'db load' do the upgrade and rebuild all in one command.
</p>

                            
                          </td>
                          <td class="PosixTime">1320232415000000
                          </td>
                          <td class="ModifiedTime">1320235084000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1441.html">#1441</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1441.html">Use local ckan logo image</a>
                          </td>
                          <td class="description">
                            <p>
Using local image rather than the same image at assets.okfn.org reduces dependency on another server that may be down, slow or remote. James agrees.
</p>

                            
                          </td>
                          <td class="PosixTime">1320234597000000
                          </td>
                          <td class="ModifiedTime">1320235062000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1442.html">#1442</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1442.html">You can't GET then POST a dataset as new</a>
                          </td>
                          <td class="description">
                            <p>
If you try to GET a dataset, purge it then POST it again, it fails checking authz for the group:
</p>
<pre class="wiki">Module ckan.controllers.api:278 in create
&lt;&lt;                  (register, subregister))
               try:
                   response_data = action(context, data_dict)
                   location = None
                   if "id" in data_dict:
&gt;&gt;  response_data = action(context, data_dict)
Module ckan.logic.action.create:240 in package_create_rest
&lt;&lt;      api = context.get('api_version') or '1'
       
           check_access('package_create_rest', context, data_dict)
       
           dictized_package = package_api_to_dict(data_dict, context)
&gt;&gt;  check_access('package_create_rest', context, data_dict)
Module ckan.logic:129 in check_access
&lt;&lt;          #    log.debug('Valid API key needed to make changes')
               #    raise NotAuthorized
               logic_authorization = new_authz.is_authorized(action, context, data_dict)
               if not logic_authorization['success']:
                   msg = logic_authorization.get('msg','')
&gt;&gt;  logic_authorization = new_authz.is_authorized(action, context, data_dict)
Module ckan.new_authz:16 in is_authorized
&lt;&lt;      auth_function = _get_auth_function(action)
           if auth_function:
               return auth_function(context, data_dict)
           else:
               raise ValueError(_('Authorization function not found: %s' % action))
&gt;&gt;  return auth_function(context, data_dict)
Module ckan.logic.auth.create:115 in package_create_rest
&lt;&lt;          return {'success': False, 'msg': _('Valid API key needed to create a package')}
       
           return package_create(context, data_dict)
       
       def group_create_rest(context, data_dict):
&gt;&gt;  return package_create(context, data_dict)
Module ckan.logic.auth.create:15 in package_create
&lt;&lt;      else:
               
               check2 = check_group_auth(context,data_dict)
               if not check2:
                   return {'success': False, 'msg': _('User %s not authorized to edit these groups') % str(user)}
&gt;&gt;  check2 = check_group_auth(context,data_dict)
Module ckan.logic.auth.create:90 in check_group_auth
&lt;&lt;      groups = set()
           for group_dict in group_dicts:
               id = group_dict.get('id')
               if not id:
                   continue
&gt;&gt;  id = group_dict.get('id')
AttributeError: 'unicode' object has no attribute 'get'
</pre><p>
(using RESTful Model API)
</p>
<p>
The reason is the POST is expecting the group to be expressed as a dict, not the list of names that GET returns.
</p>

                            
                          </td>
                          <td class="PosixTime">1320263318000000
                          </td>
                          <td class="ModifiedTime">1320275623000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1443.html">#1443</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1443.html">language detection</a>
                          </td>
                          <td class="description">
                            <p>
If language detected doesn't match any of the offered CKAN languages, you get the default language, but see an error flash up for every page, saying:
</p>
<pre class="wiki">Could not change language to 'None': IOError: [Errno 2] No translation file found for domain: 'ckan'
</pre><p>
Affects 1.5b only.
</p>

                            
                          </td>
                          <td class="PosixTime">1320425588000000
                          </td>
                          <td class="ModifiedTime">1320432511000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1444.html">#1444</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1444.html">Language detection defaults to en_us?</a>
                          </td>
                          <td class="description">
                            <p>
Using curl you always get English, even if ckan.locale_default=de. Find out why. (1.5b)
</p>
<p>
Maybe we should disable locale detection for this release if lots of people's browsers don't have it set correctly (e.g. chinese with us internet explorer)
</p>

                            
                          </td>
                          <td class="PosixTime">1320432634000000
                          </td>
                          <td class="ModifiedTime">1340190852000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1445.html">#1445</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1445.html">Resource View page in WUI</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1032.html" title="enhancement: [super] Resources in WUI (closed: fixed)">#1032</a>
</p>
<ul><li>Locate at:  /dataset/{dataset}/resource/{id}
</li></ul><p>
See: <a class="ext-link" href="http://wiki.ckan.org/Dataset_View_Page"><span class="icon">​</span>http://wiki.ckan.org/Dataset_View_Page</a>
</p>
<p>
Implemented in branch feature-1445-resource-view.
</p>
<p>
Still to do:
</p>
<ul><li>Add inline data explorer to page
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1320665049000000
                          </td>
                          <td class="ModifiedTime">1330019916000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1446.html">#1446</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1446.html">Data Explorer v2</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1602.html" title="enhancement: [super] Data Previewer / Viewer v2 (closed: fixed)">#1602</a> (Data Previewer v2)
</p>
<p>
We already have first pass of Data Explorer that was released as part of <a class="closed ticket" href="../ticket/1357.html" title="enhancement: Integrate new version of data preview (closed: fixed)">#1357</a>.
</p>
<ul><li>Merging <a class="ext-link" href="https://github.com/okfn/dataexplorer"><span class="icon">​</span>https://github.com/okfn/dataexplorer</a> with <a class="ext-link" href="http://github.com/okfn/recline"><span class="icon">​</span>http://github.com/okfn/recline</a> and developing it
<ul><li><a class="ext-link" href="https://github.com/okfn/recline/issues"><span class="icon">​</span>https://github.com/okfn/recline/issues</a>
</li></ul></li></ul><p>
Tickets include (* indicates improvement over current explorer)
</p>
<ul><li>Core Backbone Models representing Dataset and Tabular data: <a class="ext-link" href="https://github.com/okfn/recline/issues/10"><span class="icon">​</span>https://github.com/okfn/recline/issues/10</a>
</li><li>New theme: <a class="ext-link" href="https://github.com/okfn/recline/issues/22"><span class="icon">​</span>https://github.com/okfn/recline/issues/22</a>
</li><li>Read-only mode: <a class="ext-link" href="https://github.com/okfn/recline/issues/17"><span class="icon">​</span>https://github.com/okfn/recline/issues/17</a>
</li><li>Introduce hash navigation / state support (*): <a class="ext-link" href="https://github.com/okfn/recline/issues/19"><span class="icon">​</span>https://github.com/okfn/recline/issues/19</a>
</li><li>Re-enable editing in <a class="missing wiki">DataTable?</a> (*): <a class="ext-link" href="https://github.com/okfn/recline/issues/13"><span class="icon">​</span>https://github.com/okfn/recline/issues/13</a>
</li><li>[super] <a class="missing wiki">DataTable?</a> view (in Backbone) (*): <a class="ext-link" href="https://github.com/okfn/recline/issues/14"><span class="icon">​</span>https://github.com/okfn/recline/issues/14</a>
</li><li><a class="missing wiki">DataExplorer?</a> parent view (*): <a class="ext-link" href="https://github.com/okfn/recline/issues/12"><span class="icon">​</span>https://github.com/okfn/recline/issues/12</a>
</li><li>Simple graph widget using flot: <a class="ext-link" href="https://github.com/okfn/recline/issues/11"><span class="icon">​</span>https://github.com/okfn/recline/issues/11</a>
</li></ul><p>
Est: 10-15d (should be broken down -- partly is in recline issues)
</p>

                            
                          </td>
                          <td class="PosixTime">1320665596000000
                          </td>
                          <td class="ModifiedTime">1326281658000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1447.html">#1447</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1447.html">disk space leakage</a>
                          </td>
                          <td class="description">
                            <p>
Periodically we see some CKAN servers fall over because they run out of disk space. We need to find out if there is a common cause and fix it.
</p>
<p>
One problem in the past has been file handles running out when creating lots of tiny files in the data directory.
</p>
<p>
Another problem has been several enourmous backups being created every day - pdeu on eu25.
</p>

                            
                          </td>
                          <td class="PosixTime">1320666843000000
                          </td>
                          <td class="ModifiedTime">1340727330000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1448.html">#1448</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1448.html">Set up nice way to do celery deployment.</a>
                          </td>
                          <td class="description">
                            <p>
Celery is awkward to deply, need to find a way to do it more simply.  i.e using celery-pylons and supervisor.  A modified version of celery-pylons may be the best solution. 1d
</p>

                            
                          </td>
                          <td class="PosixTime">1320666977000000
                          </td>
                          <td class="ModifiedTime">1325774155000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1449.html">#1449</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1449.html">Improved resource listing on dataset view page</a>
                          </td>
                          <td class="description">
                            <p>
Should list resources in the form of search results rather than as a table.
</p>

                            
                          </td>
                          <td class="PosixTime">1320677693000000
                          </td>
                          <td class="ModifiedTime">1321873008000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1450.html">#1450</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1450.html">Simplify dataset view page</a>
                          </td>
                          <td class="description">
                            <p>
See <a class="ext-link" href="http://wiki.ckan.org/Dataset_and_Resource_Pages_Proposal"><span class="icon">​</span>http://wiki.ckan.org/Dataset_and_Resource_Pages_Proposal</a>
</p>
<ul><li>Create a collapsible section for the README
</li><li>Reduce the number of things on the page
</li><li>Tidy up groups and tags in the sidebar
</li><li>Resource view becomes a list of search results
</li></ul><p>
(additional)
</p>
<ul><li>Resource navbar item links to first resource
</li><li>Resource navbar has a dropdown menu of all resources in the dataset
</li><li>Edit and Authz navbar items should be in a separate logical group to the right
</li></ul><p>
Very rough summary: create more info section and move stuff out (relayout page e.g. README, tags etc)
</p>

                            
                          </td>
                          <td class="PosixTime">1320677788000000
                          </td>
                          <td class="ModifiedTime">1330019974000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1451.html">#1451</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1451.html">Reintegrate download stats on dataset and resource view page - 0.5d</a>
                          </td>
                          <td class="description">
                            <ul><li>css class: resource-url-analytics
</li><li>Assign to the link tag (a) everywhere we want to count (dataset, resource view) - 0.25d
</li><li>Display counts in same place ...
</li></ul><p>
And deploy on <a class="ext-link" href="http://thedatahub.org/"><span class="icon">​</span>http://thedatahub.org/</a> - 0.25d
</p>
<p>
Possible: Also move analytics extension into core (decided not to).
</p>

                            
                          </td>
                          <td class="PosixTime">1320677859000000
                          </td>
                          <td class="ModifiedTime">1324401792000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1452.html">#1452</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1452.html">Offer detected browser language, rather than auto-switch</a>
                          </td>
                          <td class="description">
                            <p>
There are issues with setting the site's language according to the browser detection:
</p>
<ul><li>Many browsers have the language setting incorrectly set. e.g. people who download US versions of Mozilla, pirated US copies in the far east.
</li></ul><ul><li>Although thedatahub.org has a worldwide audience, many CKAN instances are designed for a particular country's citizens. So Open Berlin should probably be in German as default for all.
</li></ul><p>
I suggest the site should have a default language saved in the config. The browser language *should* be detected, and that prompts a flash message offering to change to that language. And if you change language that is saved in the cookie (as we currently do). 
</p>
<p>
Then do some testing to see if this suits people.
</p>

                            
                          </td>
                          <td class="PosixTime">1320682652000000
                          </td>
                          <td class="ModifiedTime">1340190587000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1453.html">#1453</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">icmurray
                          </td>
                          <td class="reporter">icmurray
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1453.html">Flexible tag names</a>
                          </td>
                          <td class="description">
                            <p>
Allowing more flexible tag names:
</p>
<ul><li>allowing spaces
</li><li>allow capital letters (search is case in-sensitive)
</li><li>allow all punctuation except for commas and double-quotes '"'
</li><li>allow unicode
</li><li>commas delimit tag names in the package create/edit form
</li></ul><p>
Effects:
</p>
<ul><li>package creation/edit form.
</li><li>/tag/{tagname} uri
</li><li>search action
</li><li>api controller (search/package-create/edit)
</li><li>web controller (search/package-create/edit)
</li><li>search api documentation
</li><li>autocomplete for tag names
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1320771850000000
                          </td>
                          <td class="ModifiedTime">1329395697000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1454.html">#1454</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1454.html">postgres search code/data removal</a>
                          </td>
                          <td class="description">
                            <p>
We made SOLR the main and only supported way to do CKAN search three
months ago (<a class="closed ticket" href="../ticket/1275.html" title="enhancement: Move solr search extension to ckan core (closed: fixed)">#1275</a>), but I notice that we still have remnants of the
postgres full-text search hanging around:
</p>
<ul><li>model code (ckan/model/search_index.py)
</li><li>table in the database (package_search)
</li></ul><p>
The presence of these still create sqlalchemy warnings and add to our
db, (&amp; db backups etc), so it would be good to get rid of them if we
are not using them. John says this can probably be removed
</p>

                            
                          </td>
                          <td class="PosixTime">1320838999000000
                          </td>
                          <td class="ModifiedTime">1320849527000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1455.html">#1455</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1455.html">Search results when 'all_fields' don't include 'extra' fields</a>
                          </td>
                          <td class="description">
                            <p>
When you do a search like this:
</p>
<pre class="wiki">http://thedatahub.org/api/search/package?q=tauberer+census&amp;all_fields=1
</pre><p>
the "extra" fields (e.g. "triples", "shortname") get missed off the results. The docs say it should be a "full record" and I don't see any reason why this is missed off.
</p>
<p>
This is a problem because search all_fields is the only way for clients and front-ends to get packages in bulk. They end up (like lodcloud) doing thousands of requests to get packages individually.
</p>
<p>
The full record is:
</p>
<pre class="wiki">http://thedatahub.org/api/rest/dataset/2000-us-census-rdf
{"count": 1, "results": [{"res_description": ["Download", "XML Sitemap", "SPARQL enpdoint", "Example (RDF/XML)"], "name": "2000-us-census-rdf", "license": "Non-OKD Compliant::Creative Commons Non-Commercial (Any)", "author": "Joshua Tauberer", "author_email": "http://razor.occams.info/", "ckan_url": "http://thedatahub.org/dataset/2000-us-census-rdf", "notes": "2000 U.S. Census converted into over a billion RDF triples.\n\nPopulation statistics at various geographic levels, from the U.S. as a whole, down through states, counties, sub-counties (roughly, cities and incorporated towns)\n\nNotes: also found in the of SPARQL Endpoints.\n\nFrom home page:\n\n&gt; * For the detailed Census statistics, you'll have to download the raw Census data files from the Census Bureau, my Perl script and the patch file below and run it yourself because the files are too big for me to offer as a download!\n&gt; \n&gt; * The data and scripts can be reused under Creative Commons Attribution-NonCommercial-ShareAlike.\n", "entity_type": "package", "site_id": "www.ckan.net", "download_url": "http://www.rdfabout.com/demo/census/", "indexed_ts": "2011-11-01T12:52:36.034Z", "url": "http://www.rdfabout.com/demo/census/", "state": "active", "title": "2000 U.S. Census in RDF (rdfabout.com)", "groups": ["lod", "lodcloud"], "res_format": ["", "meta/sitemap", "api/sparql", "example/rdf+xml"], "license_id": "cc-nc", "revision_id": "fcbad0de-79ea-41bd-8e01-eb832a05b732", "res_url": ["http://www.rdfabout.com/demo/census/", "http://www.rdfabout.com/sitemap.xml", "http://www.rdfabout.com/sparql", "http://www.rdfabout.com/rdf/usgov/geo/us/ny"], "id": "551ec435-f198-4d52-9b56-ec0b0be6aec9", "tags": ["census", "data", "demographics", "deref-vocab", "format-dc", "format-geonames", "format-politico", "format-rdf", "geographic", "linkeddata", "lod", "lodcloud.nolinks", "no-license-metadata", "no-provenance-metadata", "no-vocab-mappings", "population", "published-by-third-party", "rdf", "statistics", "us"]}]}
</pre>
                            
                          </td>
                          <td class="PosixTime">1320858265000000
                          </td>
                          <td class="ModifiedTime">1324474466000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1456.html">#1456</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1456.html">Use resource description instead of name if both are present</a>
                          </td>
                          <td class="description">
                            <p>
If a resource has both description and name the name is used. Descriptions are generally more, well, descriptive, so let's use those.
</p>

                            
                          </td>
                          <td class="PosixTime">1320862619000000
                          </td>
                          <td class="ModifiedTime">1324472178000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1457.html">#1457</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">jilly.mathews
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1457.html">Bug with DataNL instance</a>
                          </td>
                          <td class="description">
                            <blockquote>
<p>
"when logging into <a class="ext-link" href="http://register.data.overheid.nl/"><span class="icon">​</span>http://register.data.overheid.nl/</a> with OpenID, the /user/me page gives a 404. CKAN version 1.3.4."
</p>
</blockquote>
<p>
n the manual it says an API key kan be created via <a class="ext-link" href="http://test.ckan.net/user/me"><span class="icon">​</span>http://test.ckan.net/user/me</a> /. However, when I try the corresponding  <a class="ext-link" href="http://register.data.overheid.nl/user/me"><span class="icon">​</span>http://register.data.overheid.nl/user/me</a>, I get a 404 error (not found).        
</p>

                            
                          </td>
                          <td class="PosixTime">1320925041000000
                          </td>
                          <td class="ModifiedTime">1320925041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1458.html">#1458</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1458.html">Support previewing kml files in data viewer</a>
                          </td>
                          <td class="description">
                            <p>
Super ticket: <a class="closed ticket" href="../ticket/1151.html" title="enhancement: Preview for geographic data should be a map (closed: wontfix)">#1151</a> (viewing geo data)
</p>
<p>
E.g. preview of <a class="ext-link" href="http://thedatahub.org/dataset/louisvillecrime"><span class="icon">​</span>http://thedatahub.org/dataset/louisvillecrime</a> should bring up a map
</p>

                            
                          </td>
                          <td class="PosixTime">1320936488000000
                          </td>
                          <td class="ModifiedTime">1340632932000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1459.html">#1459</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1459.html">Featured Dataset feature</a>
                          </td>
                          <td class="description">
                            <p>
Provide way to mark a dataset as featured. Featured database show up on the front page.
</p>
<p>
TODO: detail this more.
</p>

                            
                          </td>
                          <td class="PosixTime">1321113012000000
                          </td>
                          <td class="ModifiedTime">1321113012000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1460.html">#1460</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1460.html">Improve extensions documentation</a>
                          </td>
                          <td class="description">
                            <p>
Current extensions documentation needs some work: <a class="ext-link" href="http://docs.ckan.org/en/latest/plugins.html"><span class="icon">​</span>http://docs.ckan.org/en/latest/plugins.html</a>
</p>
<ul><li>Queue extension section may now be out of date (?)
</li><li>Think about how it integrates with <a class="ext-link" href="https://github.com/okfn/ckanext-example"><span class="icon">​</span>https://github.com/okfn/ckanext-example</a> (especially tutorial and example extension)
</li><li>Document all plugin points (auto-extract from CKAN source??)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321114523000000
                          </td>
                          <td class="ModifiedTime">1340191001000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1461.html">#1461</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1461.html">CkanClient doesn't submit auth headers for GET requests</a>
                          </td>
                          <td class="description">
                            <p>
e.g. package_register_get.
</p>

                            
                          </td>
                          <td class="PosixTime">1321354037000000
                          </td>
                          <td class="ModifiedTime">1321359503000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1462.html">#1462</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1462.html">Multi-Instance CKAN Solr Search Issues</a>
                          </td>
                          <td class="description">
                            <p>
With the 1.5 package release, CKAN instances over-write each other's indexes. Adria has a fix.
</p>
<p>
I'd like to see a new CKAN 1.5.1 release with the Solr changes merged and the Solr site ID set up as part of the install ckan.site_id = dgu-os.okfn.org. I'd also like the ability to search on ID and to have the ID directly visible on the package page.
</p>
<p>
We need to decide how to do this upgrade without affecting existing CKAN solr indexes.
</p>

                            
                          </td>
                          <td class="PosixTime">1321375470000000
                          </td>
                          <td class="ModifiedTime">1330083671000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1463.html">#1463</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1463.html">QA extension no-longer works with packaged CKAN 1.5</a>
                          </td>
                          <td class="description">
                            <p>
The extension needs upgrading:
</p>
<blockquote>
<p>
No module named webstore.database
</p>
</blockquote>
<p>
The other option is to delay this functionality and merge with the publisher dashboards after the group refactor.
</p>
<p>
John, David Raznick, David Read, Ira, what do you think?
</p>

                            
                          </td>
                          <td class="PosixTime">1321375614000000
                          </td>
                          <td class="ModifiedTime">1321874259000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1464.html">#1464</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1464.html">Replace RabbitMQ with Celeryd to support running multiple instances</a>
                          </td>
                          <td class="description">
                            <p>
The current harvesting implementation can only have one instance per server.
</p>
<p>
We could either:
</p>
<ul><li>Accept this
</li><li>Change the RabbitMQ code to support multiple instances
</li><li>Switch the entire harvesting to use Celery
</li><li>Wait for James's redis based live feedback based system
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321375709000000
                          </td>
                          <td class="ModifiedTime">1328529042000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1465.html">#1465</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1465.html">Upgrade the harvester to support publishers properly</a>
                          </td>
                          <td class="description">
                            <p>
At the moment most of the harvesting functionality is only available to sysadmins. This is fine for most cases but going forward we will need to grant each publisher access to their own sources, harvest objects and harvest object errors. This will probably be done based on the groups refactor.
</p>
<p>
One more pressing concern is giving DGU publishers the ability to make calls to /harvest/object/id. We want them to be able to see documents that faild validation and also to see *all* errors in each document.
</p>

                            
                          </td>
                          <td class="PosixTime">1321375923000000
                          </td>
                          <td class="ModifiedTime">1338203858000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1466.html">#1466</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1466.html">Need to support https login for multiple instances as part of the CKAN package install</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1321375978000000
                          </td>
                          <td class="ModifiedTime">1328529062000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1467.html">#1467</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1467.html">CKAN dumps dgu miss certain publisher information</a>
                          </td>
                          <td class="description">
                            <p>
Pawel knows about this so David Read, Pawel and I need to find time to discuss it.
</p>

                            
                          </td>
                          <td class="PosixTime">1321376042000000
                          </td>
                          <td class="ModifiedTime">1326120319000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1468.html">#1468</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1468.html">Update the search index for individual packages</a>
                          </td>
                          <td class="description">
                            <p>
When I delete a package from the pylons shell I need to remove that package's entry from the Solr search index. That doesn't happen at the moment.
</p>
<p>
It would be useful if the search-index rebuild command could take a list of package IDs to rebuild.
</p>

                            
                          </td>
                          <td class="PosixTime">1321376195000000
                          </td>
                          <td class="ModifiedTime">1322591997000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1469.html">#1469</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">thejimmyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1469.html">Geo-spatial search on the front end</a>
                          </td>
                          <td class="description">
                            <p>
Now that we have a geospatial search API, we should build a front-end that integrates with the existing search for displaying results.
</p>

                            
                          </td>
                          <td class="PosixTime">1321376324000000
                          </td>
                          <td class="ModifiedTime">1330102878000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1470.html">#1470</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1470.html">Check user name in the profile form</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1321446143000000
                          </td>
                          <td class="ModifiedTime">1324473955000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1471.html">#1471</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1471.html">Be compatible with new ubuntu release in April</a>
                          </td>
                          <td class="description">
                            <p>
Nils flagged up that Ubuntu launches another LTS in April which we should probably move to. This ticket is to get the ball rolling with what we do. We can always include in our package the exact package versions of deps that we want, but it is good to be in line with the release if possible.
</p>
<p>
Here's how to see the packages included with it:
<a class="ext-link" href="http://packages.ubuntu.com/search?keywords=python-pylons&amp;searchon=names&amp;suite=all&amp;section=all"><span class="icon">​</span>http://packages.ubuntu.com/search?keywords=python-pylons&amp;searchon=names&amp;suite=all&amp;section=all</a>
</p>
<p>
Pylons 0.9.7 -&gt; 1.0-2 Requires a small amount of work
SQLAlchemy 0.7.3-2 OK
Babel 0.9.6-1 OK
Genshi 0.6-2 Perfect
</p>
<p>
Another alternative is to move to another web framework, especially minding that Pylons is not being further developed.
</p>

                            
                          </td>
                          <td class="PosixTime">1321552345000000
                          </td>
                          <td class="ModifiedTime">1340810270000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1472.html">#1472</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1472.html">Convert ckanclient to git and github from mercurial</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1321624905000000
                          </td>
                          <td class="ModifiedTime">1321721874000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1473.html">#1473</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1473.html">max name length validators missing</a>
                          </td>
                          <td class="description">
                            <p>
Max length of package name and version field is 100 characters, but the validators seem to enforce this, although in the web interface the javascript limits typing in these fields, so it just affects the API really.
</p>

                            
                          </td>
                          <td class="PosixTime">1321631452000000
                          </td>
                          <td class="ModifiedTime">1321872717000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1474.html">#1474</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1474.html">fix up navl tests</a>
                          </td>
                          <td class="description">
                            <p>
navl tests are being skipped unskip them!
</p>

                            
                          </td>
                          <td class="PosixTime">1321825892000000
                          </td>
                          <td class="ModifiedTime">1321826753000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1475.html">#1475</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1475.html">Create documentation showing how to make an extension that use celery.</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1321826681000000
                          </td>
                          <td class="ModifiedTime">1327576068000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1477.html">#1477</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1477.html">[Super] Group refactor</a>
                          </td>
                          <td class="description">
                            <p>
This is the implementation of the final draft in
</p>
<p>
<a class="ext-link" href="http://wiki.ckan.org/Groups_Refactor"><span class="icon">​</span>http://wiki.ckan.org/Groups_Refactor</a>
</p>
<p>
Steps to complete this will follow (somewhat) in the following order.
</p>
<p>
Change package_group table to membership. (<a class="closed ticket" href="../ticket/1478.html" title="enhancement: change package_group to members table (closed: fixed)">#1478</a>) 3d
</p>
<ul><li>model migration. (done)
</li><li>simplify revisioning  (done)
</li><li>Remove any sqlalchemy releations from groups. (done)
</li><li>change logic functions (done)
</li></ul><p>
  
</p>
<p>
Single type per group (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>migration add type to group table. (done) 1d
</li></ul><p>
  
Add capacity table (<a class="closed ticket" href="../ticket/1522.html" title="enhancement: Add capacity to member table. (closed: fixed)">#1522</a>)
</p>
<ul><li>model migration. (done)
</li><li>add to logic functions.
</li></ul><p>
  
Allow other objects to be added to groups. (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>change logic functions (done)
</li></ul><p>
Adapt thedatahub.org to use new model.
</p>
<ul><li>move auth groups over to groups/members
</li><li>change user_object roles to use groups? keep user object roles for time being.
</li><li>make create update package/group put the correct items in the group/members/capacity tables.
</li><li>work out how ui works.
</li></ul><p>
--not doing the below as part of this super ticker now <a class="closed ticket" href="../ticket/1669.html" title="enhancement: [super] Publisher profile (closed: fixed)">#1669</a>.
</p>
<p>
Create model for dgu.
</p>
<ul><li>adapt auth functions to use auth.
</li><li>adapt package_create/update group_create/update to fill in the correct capacties/members.
</li></ul><p>
Adapt Iati, and potentially other custom instances.
</p>
<p>
Sub-tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1279.html" title="enhancement: Refactor or deprecate Authorization Groups (closed: duplicate)">#1279</a> Deprecate Authorization Groups
</li><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321959320000000
                          </td>
                          <td class="ModifiedTime">1328016209000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1478.html">#1478</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1478.html">change package_group to members table</a>
                          </td>
                          <td class="description">
                            <p>
This will comprise of the following steps.
</p>
<ul><li>model migration.
</li><li>simplify revisioning  
</li><li>Remove any sqlalchemy relations from groups.
</li><li>change logic functions
</li></ul><p>
estimate 2d
</p>

                            
                          </td>
                          <td class="PosixTime">1321959973000000
                          </td>
                          <td class="ModifiedTime">1323172654000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1479.html">#1479</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1479.html">Can't edit a user with a unicode email address</a>
                          </td>
                          <td class="description">
                            <ol><li>Register User with an email address with a unicode char (e.g. u'\u044e')
</li><li>View the User in the UI (/user/) or with 'user_show' Action API
</li></ol><p>
Exception:
</p>
<pre class="wiki">Module ckan.controllers.user:98 in read
&lt;&lt;          try:
                   user_dict = get_action('user_show')(context,data_dict)
               except NotFound:
                   h.redirect_to(controller='user', action='login', id=None)
&gt;&gt;  user_dict = get_action('user_show')(context,data_dict)
Module ckan.logic.action.get:488 in user_show
&lt;&lt;      check_access('user_show',context, data_dict)
       
           user_dict = user_dictize(user_obj,context)
       
           if not (Authorizer().is_sysadmin(unicode(user)) or user == user_obj.name):
&gt;&gt;  user_dict = user_dictize(user_obj,context)
Module ckan.lib.dictization.model_dictize:189 in user_dictize
&lt;&lt;      
           result_dict['display_name'] = user.display_name
           result_dict['email_hash'] = user.email_hash
           result_dict['number_of_edits'] = user.number_of_edits()
           result_dict['number_administered_packages'] = user.number_administered_packages()
&gt;&gt;  result_dict['email_hash'] = user.email_hash
Module ckan.model.user:59 in email_hash
&lt;&lt;          if self.email:
                   e = self.email.strip().lower()
               return hashlib.md5(e).hexdigest()
               
           def get_reference_preferred_for_uri(self):
&gt;&gt;  return hashlib.md5(e).hexdigest()
UnicodeEncodeError: 'ascii' codec can't encode character u'\u044e' in position 17: ordinal not in range(128)
</pre>
                            
                          </td>
                          <td class="PosixTime">1321960486000000
                          </td>
                          <td class="ModifiedTime">1321961592000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1480.html">#1480</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1480.html">Munge functions in util</a>
                          </td>
                          <td class="description">
                            <p>
munge_title_to_name, munge_tag v. useful for client software importing things into CKAN. I want it for ONS.
</p>

                            
                          </td>
                          <td class="PosixTime">1321965837000000
                          </td>
                          <td class="ModifiedTime">1321978546000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1481.html">#1481</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1481.html">License not shown if no resources</a>
                          </td>
                          <td class="description">
                            <p>
The license is not displayed any more, unless there are
resources e.g.
<a class="ext-link" href="http://test.ckan.net/dataset/dtest#section-basic-information"><span class="icon">​</span>http://test.ckan.net/dataset/dtest#section-basic-information</a> is OGL,
but that's not shown.
</p>

                            
                          </td>
                          <td class="PosixTime">1321983266000000
                          </td>
                          <td class="ModifiedTime">1323169343000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1482.html">#1482</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">zephod
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1482.html">Minor JS bugs</a>
                          </td>
                          <td class="description">
                            <p>
Three JS bugs have appeared:
</p>
<ul><li>The slug editor is not updating the text field again. [Fixed; commit:fadda17383]
</li></ul><ul><li>The View Dataset page will stop executing javascript if there are no resources. [Fixed; commit:e54b089f6e]
</li></ul><ul><li>The Add-Dataset and Add-Group URL editor shows the wrong URL for datasets and groups. Broken in this commit:
</li></ul><p>
<a class="ext-link" href="https://github.com/okfn/ckan/commit/5a01e67"><span class="icon">​</span>https://github.com/okfn/ckan/commit/5a01e67</a>
by 'map.explicit=true'. JohnG: Can you look into this? [Fixed; commit:88e88380f6]
</p>

                            
                          </td>
                          <td class="PosixTime">1321991091000000
                          </td>
                          <td class="ModifiedTime">1322062576000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1483.html">#1483</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1483.html">Tasks sometimes fail to update task_status table when trying to report a failure</a>
                          </td>
                          <td class="description">
                            <p>
The error reports do not have a "value".  The original task in the task status table is not made and it tries to make a new task, but can't.
</p>
<p>
Issue: why is the original task_status entry not made?
</p>
<p>
kindly: there is a chance of course that the task is quicker than the plugin to get to the point where it needs to update the table.
</p>
<p>
kindly: so we may have to find a way to update the task status before we run the task.
</p>
<p>
kindly: I think you can supply a task_id to celery. i.e we make our own guid as the task id. So we can use that one to populate the task status.
</p>

                            
                          </td>
                          <td class="PosixTime">1322050605000000
                          </td>
                          <td class="ModifiedTime">1323279151000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1484.html">#1484</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1484.html">Creating package with duplicate tags causes exception</a>
                          </td>
                          <td class="description">
                            <p>
e.g.
</p>
<pre class="wiki">curl http://localhost:5000/api/action/package_create -d '{"name":"test5", "tags":[{"name": "tag6"}, {"name": "tag6"}]}' -H 'Authorization:tester'
</pre><p>
Also broken in Web UI (adding a package).
</p>
<p>
Affects API and Web UI in 1.5 and I think all versions from 1.4.1
</p>

                            
                          </td>
                          <td class="PosixTime">1322052046000000
                          </td>
                          <td class="ModifiedTime">1322059006000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1485.html">#1485</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1485.html">Package/Group form extension mechanism so you can add forms for particular package_types</a>
                          </td>
                          <td class="description">
                            <p>
We want to be able to change form depending on package type or group type.
</p>
<p>
This is dependent on a type field being added to the Package and the Group.
</p>

                            
                          </td>
                          <td class="PosixTime">1322059169000000
                          </td>
                          <td class="ModifiedTime">1340034422000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1486.html">#1486</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1486.html">"allow_partial_update" option does not work with resource lists of packages</a>
                          </td>
                          <td class="description">
                            <ol><li>Call ckan.logic.action.update:package_update()
</li><li>Pass in a context dict with "allow_partial_update":True
</li><li>Pass in a partial data dict containing only the package's ID and those fields that you want to update (e.g. title).
</li></ol><p>
=&gt; All of the package's resource will have their statuses changed to "deleted".
</p>
<p>
The "allow_partial_update" option should apply to the resource lists of packages, but it does not.
</p>

                            
                          </td>
                          <td class="PosixTime">1322061318000000
                          </td>
                          <td class="ModifiedTime">1323172027000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1487.html">#1487</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1487.html">Fix group ordering on homepage</a>
                          </td>
                          <td class="description">
                            <p>
ordering on homepage by name instead of group count
</p>

                            
                          </td>
                          <td class="PosixTime">1322094280000000
                          </td>
                          <td class="ModifiedTime">1324474147000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1488.html">#1488</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1488.html">List of installed extensions - add to the status_show</a>
                          </td>
                          <td class="description">
                            <p>
Add the list of extensions install (config's ckan.plugins) to status_show logic action (See <a class="closed ticket" href="../ticket/1087.html" title="enhancement: version and contact info api call (closed: fixed)">#1087</a>)
</p>

                            
                          </td>
                          <td class="PosixTime">1322130555000000
                          </td>
                          <td class="ModifiedTime">1322241966000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1489.html">#1489</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1489.html">Updating example theme/extension</a>
                          </td>
                          <td class="description">
                            <p>
ckanext-example needs updating for CKAN 1.5:
</p>
<ul><li>theme changes
</li><li>new forms
</li></ul><p>
About: 'ckanext-exampletheme' was created in Spring 2011 as an example CKAN extension that showed how to customise the look &amp; operation of CKAN. This moved to github and renamed 'ckanext-example'. 
</p>

                            
                          </td>
                          <td class="PosixTime">1322137920000000
                          </td>
                          <td class="ModifiedTime">1324292384000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1490.html">#1490</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1490.html">Standardize output from package listings coming from the logic layer</a>
                          </td>
                          <td class="description">
                            <p>
Right now, the two logic functions that return a list of packages (package_search <a class="missing changeset" title="No default repository defined">[1]</a> and group_packages_list <a class="missing changeset" title="No default repository defined">[2]</a>)use custom functions to generate the output dict. That's suboptimal because:
</p>
<ul><li>The template function that renders the package listing (package_list_from_dict) could end up receiving different dicts.
</li><li>Not all package properties are available at the template level (e.g extras, tags...). These can be really useful to customize the listing from an extension.
</li></ul><p>
In general only the functions present in lib/dictization/model_dictize.py should be used to build the output of a logic function, in that case package_dictize. If necessary, they can be modified to include missing properties, like on this particular case the "isopen" property, needed by the template renderer.
</p>
<p>
<a class="missing changeset" title="No default repository defined">[1]</a> <a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan/logic/action/get.py#L685"><span class="icon">​</span>https://github.com/okfn/ckan/blob/master/ckan/logic/action/get.py#L685</a>
<a class="missing changeset" title="No default repository defined">[2]</a> <a class="ext-link" href="https://github.com/okfn/ckan/blob/master/ckan/logic/action/get.py#L442"><span class="icon">​</span>https://github.com/okfn/ckan/blob/master/ckan/logic/action/get.py#L442</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1322225239000000
                          </td>
                          <td class="ModifiedTime">1324033557000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1491.html">#1491</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1491.html">Visible strings need internationalisation</a>
                          </td>
                          <td class="description">
                            <p>
Sean spotted that some strings need internationalising, such as flash messages. Generally all strings that appear on the web front-end should be internationalised.
</p>
<p>
Particular places that need i18n:
</p>
<ul><li>ckan/controllers/admin
</li><li>ckan/lib/base
</li></ul><p>
Note: there are some exceptions, such as in i18n.py, very obscure error messages and stuff that only appears on the API.
</p>
<p>
NB: there is a cost in making a string internationalisable (all our volunteers have to translate it), so we should not be too zealous. We should also look at the i18n/ckan.pot to see if any of the existing strings can be reused.
</p>

                            
                          </td>
                          <td class="PosixTime">1322481000000000
                          </td>
                          <td class="ModifiedTime">1330020630000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1492.html">#1492</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1492.html">Interference between extra and relationship fields in API</a>
                          </td>
                          <td class="description">
                            <p>
From Jan Kučera &lt;elquenor@…&gt;
</p>
<blockquote>
<p>
I have also tried to use extras fields to store information about relationships between datasets. I found out that if you first add relationship using CKAN API into dataset relationships attribute and than you add extras field for the same relationship with key in format "parent_of:dataset_name" or "child_of:dataset_name", storing this extras field will clear all relationships in relationships attribute stored earlier.
</p>
</blockquote>
<p>
 
</p>
<blockquote>
<p>
I might be some kind of bug but I suppose you will know better. Is it possible to use relationships attribute and extras field for relationships at the same time?
</p>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1322481496000000
                          </td>
                          <td class="ModifiedTime">1340034528000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1493.html">#1493</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1493.html">'search-index rebuild/clear' doesn't work if no ckan.site_id</a>
                          </td>
                          <td class="description">
                            <p>
You can't delete things from the SOLR search index if the ckan.site_id and ckan.site_url are blank.
</p>
<p>
Should assert that one of these are set up.
</p>

                            
                          </td>
                          <td class="PosixTime">1322484422000000
                          </td>
                          <td class="ModifiedTime">1324474360000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1494.html">#1494</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1494.html">API call for getting a user's public activity stream as rendered rtext</a>
                          </td>
                          <td class="description">
                            <p>
This could be implemented as a separate API call, or the rendered text versions of the activities could be added into the JSON returned by the existing API call.
</p>
<p>
This requires setting up templates for rendering activity streams items and detail items as nice, human-readable text.
</p>
<p>
There are some open questions, e.g.: Do we want the entire activity stream rendered as a block of plain text? As HTML? Or do we want a list of JSON objects, where each object contains its textual and/or HTML representations as fields?
</p>
<p>
Activity stream items and their related detail items are separate objects that each have their own textual representations.
</p>
<p>
For a mockup of the kind of text messages we want, see:
</p>
<p>
<a class="ext-link" href="http://datahub.pudo.org/pudo"><span class="icon">​</span>http://datahub.pudo.org/pudo</a>
</p>
<p>
but note that this ticket is just for creating the text snippets themselves, not rendering then in an HTML page or RSS feed. Also the mockup only show activity items and not their detail items.
</p>

                            
                          </td>
                          <td class="PosixTime">1322495447000000
                          </td>
                          <td class="ModifiedTime">1326109757000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1495.html">#1495</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1495.html">API call for getting a user's public activity stream</a>
                          </td>
                          <td class="description">
                            <p>
An API call that returns a user's public activity stream in JSON format.
</p>

                            
                          </td>
                          <td class="PosixTime">1322495549000000
                          </td>
                          <td class="ModifiedTime">1327576099000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1496.html">#1496</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1496.html">Render a user's activity stream on her user page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1322495588000000
                          </td>
                          <td class="ModifiedTime">1334582338000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1497.html">#1497</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1497.html">Suppress benign warnings</a>
                          </td>
                          <td class="description">
                            <p>
We really shouldn't have lots of benign stuff printed on stderr when we run every command. It confuses users and hides important stuff.
</p>

                            
                          </td>
                          <td class="PosixTime">1322569640000000
                          </td>
                          <td class="ModifiedTime">1322569805000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1498.html">#1498</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1498.html">Support multiple SOLR schema versions</a>
                          </td>
                          <td class="description">
                            <p>
At some point the SOLR schema used by CKAN will need to be changed and the changes won't be always backward compatible, so we need a mechanism to support instances that use older versions of the schema.
This process will involve:
</p>
<ul><li>Better documentation on how to deploy SOLR, as single instance or multicore
</li><li>A convention on how to tag schema versions and SOLR endpoints to ensure that CKAN instances point to the correct SOLR URL.
</li><li>(If possible) Checks in CKAN core that deal with different schema versions.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1322585264000000
                          </td>
                          <td class="ModifiedTime">1323165876000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1499.html">#1499</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1499.html">list/read/delete packages on the command-line</a>
                          </td>
                          <td class="description">
                            <p>
It would be useful to be able to manipulate packages using the paster command-line interface. In particular listing, reading and deleting packages. Seeing which packages were deleted too.
</p>

                            
                          </td>
                          <td class="PosixTime">1322591656000000
                          </td>
                          <td class="ModifiedTime">1322591888000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1500.html">#1500</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1500.html">Slug API calls tidy up</a>
                          </td>
                          <td class="description">
                            <ul><li>API call documented but don't exist any more: dataset create_slug
</li><li>API call not documented but exists: is_slug_valid
</li><li>API call not documented, badly sited in API and using custom code in controller (not logic layer): /package/autocomplete
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1322600285000000
                          </td>
                          <td class="ModifiedTime">1323166918000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1501.html">#1501</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1501.html">Pagination links broken</a>
                          </td>
                          <td class="description">
                            <p>
Most of the different pagination links are broken and point to wrong locations. e.g:
</p>
<ul><li>Dataset listings in group page:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/group/bibliographic"><span class="icon">​</span>http://test.ckan.net/group/bibliographic</a>
</p>
<ul><li>Tag letters in tag listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/tag"><span class="icon">​</span>http://test.ckan.net/tag</a>
</p>
<ul><li>User listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/user"><span class="icon">​</span>http://test.ckan.net/user</a>
</p>
<ul><li>Revision listing:
</li></ul><p>
<a class="ext-link" href="http://test.ckan.net/revision"><span class="icon">​</span>http://test.ckan.net/revision</a>
</p>
<p>
This is most probably related with:
</p>
<p>
<a class="ext-link" href="https://github.com/okfn/ckan/commit/1772a5c"><span class="icon">​</span>https://github.com/okfn/ckan/commit/1772a5c</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1322646397000000
                          </td>
                          <td class="ModifiedTime">1322684411000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1502.html">#1502</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1502.html">Group package list is ordered by revision timestamp instead of alphabetically</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1322680312000000
                          </td>
                          <td class="ModifiedTime">1324480415000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1503.html">#1503</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">markbrough
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1503.html">Move from Bitbucket to Github</a>
                          </td>
                          <td class="description">
                            <p>
Reasons: more people familiar with Git, bigger Open Source community on Github.
</p>
<p>
Keeping track of the move here: <a class="ext-link" href="https://docs.google.com/spreadsheet/ccc?key=0AvCDqUH8jVN8dGNVNEpXLWk3UTlJZXhFMjBPbXVtRmc&amp;hl=en_GB#gid=0"><span class="icon">​</span>https://docs.google.com/spreadsheet/ccc?key=0AvCDqUH8jVN8dGNVNEpXLWk3UTlJZXhFMjBPbXVtRmc&amp;hl=en_GB#gid=0</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1322745084000000
                          </td>
                          <td class="ModifiedTime">1323793662000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1504.html">#1504</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1504.html">Action API given blank data causes exception</a>
                          </td>
                          <td class="description">
                            <p>
This is what caused the exception:
</p>
<pre class="wiki">curl http://localhost:5000/api/action/package_search -d='{"q": "osm"}'
</pre><p>
The problem is the content-type is formencoding, the '=' is the first character of the request, and so internally the data_dict is set to ' ', which needs to be a dictionary.
</p>

                            
                          </td>
                          <td class="PosixTime">1322756748000000
                          </td>
                          <td class="ModifiedTime">1324035928000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1505.html">#1505</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1505.html">SearchError and SearchQueryError cause exception in Action API</a>
                          </td>
                          <td class="description">
                            <p>
This query caused ckan to except because ckan/controllers/api.py doesn't catch <a class="missing wiki">SearchError?</a> and <a class="missing wiki">SearchQueryError?</a>:
</p>
<pre class="wiki">curl http://localhost:5000/api/action/package_search -d '{"sort": "metadata_modified"}'
</pre>
                            
                          </td>
                          <td class="PosixTime">1322758968000000
                          </td>
                          <td class="ModifiedTime">1324474577000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1506.html">#1506</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1506.html">[super] UX improvements to dataset edit, create and search + group + user page (Dec 2011)</a>
                          </td>
                          <td class="description">
                            <h2 id="HistoricalParentTickets">Historical Parent Tickets</h2>
<ul><li><del>Parent-ticket: <a class="closed ticket" href="../ticket/1450.html" title="enhancement: Simplify dataset view page (closed: fixed)">#1450</a></del>
</li><li><del>Parent-ticket: <a class="closed ticket" href="../ticket/1032.html" title="enhancement: [super] Resources in WUI (closed: fixed)">#1032</a></del>
</li></ul><h2 id="StepZero">Step Zero</h2>
<ul><li><del>COMPLETELY REDESIGN resource edit process</del>
</li></ul><h2 id="DatasetEdit-Resources">Dataset Edit-Resources</h2>
<ul><li><del>Force format field to be lowercase</del>
<ul><li><del>Modify backend to serve it up in that format</del>
</li></ul></li><li><del>Subticket <a class="closed ticket" href="../ticket/978.html" title="enhancement: Edit Resource including Extras in Web UI (closed: fixed)">#978</a>: Add extra fields to resources in Web UI</del>
</li><li><del>Fix display of large datasets (<a class="ext-link" href="http://test.ckan.net/dataset/europeana-lod"><span class="icon">​</span>http://test.ckan.net/dataset/europeana-lod</a>)</del>
</li><li><del>When submitting forms with errors, open the correct resource pane.</del>
</li><li><del>No hint is given that the time format for a resource is in ISO, eg 2005-01-01T10:10:10</del>
</li><li><del>Resource description field to become the markdown editor we use everywhere else.</del>
</li></ul><h2 id="DatasetSettings">Dataset Settings</h2>
<ul><li><del>Subticket <a class="closed ticket" href="../ticket/1648.html" title="enhancement: Clarify that additional info = extra fields + add guidance (closed: fixed)">#1648</a>: Clarify edit terminology</del>
</li><li><del>Merge Groups and Tags into main Settings section (no point having them on their own and most people will miss this).</del>
</li><li><del>Fix (i.e. allow / show) name editing on dataset edit.</del>
<ul><li><del>Fix the slugify so it does not overwrite if i change title after fixing name.</del>
</li><li><del>Make slugify encourage people to use shorter names. Either by cutting off (not so good) or showing a warning and saying something like 'hey you may want to cut this down. Hit edit to customize the dataset name now'</del>
</li></ul></li><li><del>Autocomplete the author/maintainer box (requires API extension?)</del> [WONTFIX what? it's not like that field is linked to users of the site or anything]
</li></ul><h2 id="DatasetView">Dataset View</h2>
<ul><li><del>Fix animation glitch in expanding description</del>
</li><li><del>Can we make the list of files look more like a table? Lose space between files? Lose rounded corners?</del>
</li><li><del>Verify that there are no more (none) placeholder &lt;td&gt; objects (i believe they've been refactored out)</del>
</li></ul><h2 id="DatasetCreate">Dataset Create</h2>
<ul><li><del>"Upload or link data files, APIs and other materials related to your dataset."</del>
</li><li><del>Include the description markdown editor again (keep it small)</del>
</li><li><del>Licence should maybe be restored</del>
<ul><li><del>"(Don't worry if you don't know what your licence is)"</del>
</li></ul></li><li><del>Show the log message field</del>
<ul><li><del>Beautify</del>
</li></ul></li><li><del>Pre-populate the log message field?</del>
</li><li><del>? Show Home Page field when creating dataset</del> [WONTFIX don't push it]
</li><li><del>?  Do some Guerilla UX to see whether we need to Redirect to Resources directly after dataset creation?</del> [WONTFIX doesnt make sense with new resource editor awesomeness]
</li></ul><h2 id="Userpages">User pages</h2>
<ul><li><del>Improvements to user page UX - 1d - <a class="closed ticket" href="../ticket/1396.html" title="enhancement: Improvements to user page UX - 1d (closed: fixed)">#1396</a></del>
</li><li><del>Broken links for non-Gravatar use icons - 0.25d - <a class="closed ticket" href="../ticket/1719.html" title="defect: Broken links for non-Gravatar use icons - 0.25d (closed: fixed)">#1719</a></del>
</li></ul><h2 id="Etc">Etc</h2>
<ul><li>Take before and after screenshots
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323088306000000
                          </td>
                          <td class="ModifiedTime">1330702859000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1507.html">#1507</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1507.html">Minor fixes to dataset add on Group edit form - 0.5d</a>
                          </td>
                          <td class="description">
                            <p>
Group edit dataset add form needs some work
</p>
<ul><li>Dataset name is not cleared when you add
</li><li>No way to remove item from list of datasets to be added if I make a mistake
</li><li>(2nd Apr 2012) It now seems that option to add multiple datasets at once has disappeared (perhaps during the CSS/HTML refactor ...)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323088429000000
                          </td>
                          <td class="ModifiedTime">1338205220000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1508.html">#1508</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1508.html">[super] Finalize and deploy some of our major (new) features as of Dec 2011</a>
                          </td>
                          <td class="description">
                            <p>
This ticket is about finalizing, then deploying (to <a class="ext-link" href="http://thedatahub.org/"><span class="icon">​</span>http://thedatahub.org/</a>), and finally announcing some of recent major new features such as:
</p>
<ul><li>Deploy wordpresser extension for thedatahub (so we can start blogging) - <a class="closed ticket" href="../ticket/1533.html" title="defect: Make sure ckanext-wordpresser works on CKAN 1.5.1 (closed: wontfix)">#1533</a> - WONTFIX
</li><li><del>(Deploy new Resource and Dataset pages (invite comments))</del>
</li><li>Get thedatahub geo-ified i.e. ckanext-spatial - <a class="closed ticket" href="../ticket/1601.html" title="enhancement: [super] Well integrated Geo-spatial support including search (closed: fixed)">#1601</a> (?)
<ul><li>Any additional dev that needs to be done? (e.g. geo in search ...?)
</li></ul></li><li><del>(Deploy / re-enable ckanext-googleanalytics on thedatahub - <a class="closed ticket" href="../ticket/1451.html" title="enhancement: Reintegrate download stats on dataset and resource view page - 0.5d (closed: fixed)">#1451</a> (more stuff <a class="closed ticket" href="../ticket/1566.html" title="enhancement: [super] Finalize Google analytics extension (closed: fixed)">#1566</a>))</del>
<ul><li>Rename the extension to ckanext-analytics?
</li></ul></li><li>Custom forms (and use of 'dataset types') - Ticket (??)
</li><li><del>(Get QA deployed and running - <a class="closed ticket" href="../ticket/1582.html" title="enhancement: Deploy QA for thedatahub - 0.5d (closed: fixed)">#1582</a>)</del>
</li></ul><p>
It would be best if this was done by someone *unfamiliar* with the extensions so feedback could be provided on quality of install docs etc etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1323088817000000
                          </td>
                          <td class="ModifiedTime">1328000871000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1509.html">#1509</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1509.html">Mis-dated old revisions of datasets</a>
                          </td>
                          <td class="description">
                            <p>
e.g. <a class="ext-link" href="http://thedatahub.org/dataset/osm%402011-07-12T12%3A16%3A47.590358"><span class="icon">​</span>http://thedatahub.org/dataset/osm%402011-07-12T12%3A16%3A47.590358</a> gives:
</p>
<pre class="wiki">This is the current revision of this dataset, as edited at 2011-07-12 12:16.
</pre><p>
but it should say the date 2011-07-12 (which is the data being displayed).
</p>
<p>
The problem is looking at <a class="missing wiki">PackageRevision?</a>, when it might be a tag or extra.
</p>

                            
                          </td>
                          <td class="PosixTime">1323090398000000
                          </td>
                          <td class="ModifiedTime">1340190814000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1510.html">#1510</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1510.html">Migrate existing data into activity streams database tables</a>
                          </td>
                          <td class="description">
                            <p>
See '### Task 2' in this etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/notifications"><span class="icon">​</span>http://ckan.okfnpad.org/notifications</a>
</p>
<p>
I have no idea yet about how to do this or how long it might take me.
</p>

                            
                          </td>
                          <td class="PosixTime">1323093901000000
                          </td>
                          <td class="ModifiedTime">1339677620000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1511.html">#1511</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1511.html">Logic function for getting a user's public activity stream</a>
                          </td>
                          <td class="description">
                            <p>
Add a function to logic.action.get that returns a user's public activity stream as a list of dicts.
</p>

                            
                          </td>
                          <td class="PosixTime">1323094207000000
                          </td>
                          <td class="ModifiedTime">1327576134000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1512.html">#1512</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">ross
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1512.html">Modifying user name makes you semi-log-out</a>
                          </td>
                          <td class="description">
                            <p>
If you modify your user name, it looks like you are logged out, but you are actually logged in and therefore can't login. (Reported by Pablo)
</p>
<p>
As a work around, you need to logout and log back in. 
</p>
<h1 id="implementation">implementation</h1>
<ul><li>We should force this by auto-logging you out (DR: maybe!)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323100214000000
                          </td>
                          <td class="ModifiedTime">1342781122000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1513.html">#1513</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1513.html">Logged in/out problems</a>
                          </td>
                          <td class="description">
                            <p>
Richard Cyganiak: I often see a problem where half the system thinks that I'm logged in, while the other half insists I'm not. Logout then login again may fix it.
</p>
<p>
David Read: I think I've seen it several times that the "My Account" link is given (suggesting you're logged in) but when you click it it asks you to log in, which means you weren't.
</p>

                            
                          </td>
                          <td class="PosixTime">1323100353000000
                          </td>
                          <td class="ModifiedTime">1328205099000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1514.html">#1514</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1514.html">Modifying user name loses connection with revisions</a>
                          </td>
                          <td class="description">
                            <p>
If you edit your user name, the number of revisions you made returns to 0. This is because in the Revision object, the user's name is stored, rather than the user's ID.
</p>
<p>
rgrp:  We can reconnect that pretty easily (and have a
longer term solution that involves not using the usernames but the
userids in in the Revision objects so we don't hvae this problem in
future!)
</p>

                            
                          </td>
                          <td class="PosixTime">1323100659000000
                          </td>
                          <td class="ModifiedTime">1323279018000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1515.html">#1515</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">seanh
                          </td>
                          <td class="reporter">seanh
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1515.html">[super] Activity Streams</a>
                          </td>
                          <td class="description">
                            <p>
We want to add "activity streams" (chronological lists of activities) to CKAN.
</p>
<p>
Activity streams standard: <a class="ext-link" href="http://activitystrea.ms/"><span class="icon">​</span>http://activitystrea.ms/</a>
</p>
<p>
Super branch where the feature was initially developed (this has now been merged into master): <a class="ext-link" href="https://github.com/okfn/ckan/tree/feature-1515-activity-streams"><span class="icon">​</span>https://github.com/okfn/ckan/tree/feature-1515-activity-streams</a>
</p>
<p>
Etherpad: <a class="ext-link" href="http://ckan.okfnpad.org/notifications"><span class="icon">​</span>http://ckan.okfnpad.org/notifications</a> (most relevant parts inlined here)
</p>
<p>
Friedrich's mockup: <a class="ext-link" href="http://datahub.pudo.org/pudo"><span class="icon">​</span>http://datahub.pudo.org/pudo</a>
</p>
<h2 id="Tasks">Tasks</h2>
<p>
<del>Strikethrough</del> means the task is done.
</p>
<ul><li><del>New domain objects Activity and <a class="missing wiki">ActivityStream?</a> [2d] <a class="closed ticket" href="../ticket/1298.html" title="enhancement: Generate activites to be put into activities table. (closed: fixed)">#1298</a></del>
</li></ul><ul><li>Migrate existing data into activity streams model [3.5d] <a class="closed ticket" href="../ticket/1510.html" title="enhancement: Migrate existing data into activity streams database tables (closed: wontfix)">#1510</a> 
</li></ul><ul><li><del>Generate activities when objects are saved [4d] <a class="closed ticket" href="../ticket/1298.html" title="enhancement: Generate activites to be put into activities table. (closed: fixed)">#1298</a></del>
</li></ul><ul><li><del>Get the activity stream for a given user as a JSONifiable list of dictionaries [1d] <a class="closed ticket" href="../ticket/1511.html" title="enhancement: Logic function for getting a user's public activity stream (closed: fixed)">#1511</a></del>
</li></ul><ul><li><del>API call for getting a user's public activity stream as JSON [0.5d] <a class="closed ticket" href="../ticket/1495.html" title="enhancement: API call for getting a user's public activity stream (closed: fixed)">#1495</a></del>
</li></ul><ul><li><del>API call for getting a user's public activity stream as rendered text, HTML, etc. [5d] <a class="closed ticket" href="../ticket/1494.html" title="enhancement: API call for getting a user's public activity stream as rendered rtext (closed: wontfix)">#1494</a></del>
</li></ul><ul><li><del>Render a user's activity stream on her user page [3d] <a class="closed ticket" href="../ticket/1496.html" title="enhancement: Render a user's activity stream on her user page (closed: fixed)">#1496</a></del> (needs review/page design work)
</li></ul><ul><li><del>Generate activities for other types of objects besides users (e.g. packages, groups, tags, extras, and save them in the database.</del>
</li></ul><ul><li><del>Logic functions for getting activity streams for packages, groups, and users.</del>
</li></ul><ul><li><del>API calls for getting activity streams of packages, groups, and users</del> as JSON.
</li></ul><ul><li><del>Rendering activity streams for packages and groups etc. into their pages.</del> (done but disabled pending page design work)
</li></ul><ul><li><del>API calls for inserting events into activity streams.</del> (Still need to handle activity details in the API, ticketed).
</li></ul><ul><li>Conform to activitystrea.ms standard
</li></ul><ul><li>Enable users to subscribe to and unsubscribe from activity streams, see an aggregated activity stream on their dashboard page.
</li></ul><ul><li>Generate aggregated activity streams for arbitrary sets of multiple activity sources/streams
</li></ul><ul><li>Email notifications
</li></ul><ul><li>Extension point for extensions to register themselves as renderers for different types of activity
</li></ul><ul><li>Deploy to UAT [0.5d]
</li></ul><ul><li>Docs and announce [1d]
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323105048000000
                          </td>
                          <td class="ModifiedTime">1338204149000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1516.html">#1516</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">amercader
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1516.html">Update SOLR schema after 1.5.1 release and set up multicore SOLR instances if needed</a>
                          </td>
                          <td class="description">
                            <p>
CKAN 1.5.1 will introduce changes in the SOLR schema and functions to support multiple schema versions. Unfortunately the changes in the schema will be backwards incompatible so either both CKAN and SOLR are upgraded, or SOLR is configured as multicore, with one core for each schema. The solr cores would look like:
</p>
<p>
<tt>http://&lt;solr-server&gt;/solr/schema-&lt;version&gt;</tt>
</p>
<p>
Different scenarios:
</p>
<ul><li>Single SOLR instance used by only one CKAN site (e.g. SOLR running on the same machine):
<ul><li>Update CKAN
</li><li>Update SOLR schema (symlink to suitable version in CKAN source) 
</li><li>Rebuild search index
</li></ul></li></ul><ul><li>Single SOLR instance used by multiple CKAN sites.
<ul><li>Update CKAN source
</li><li>Configure SOLR as multicore, one core for version 1.2 and another for 1.3 of the schema (symlink to appropriate version in CKAN source)
</li><li>Update solr_url on each of the CKAN sites with the suitable core
</li><li>Rebuild search index
</li></ul></li></ul><p>
These are the SOLR and CKAN instances that need to be updated (Please add any missing ones):
</p>
<ul><li>Same machine as the CKAN site:
<ul><li><del>test.ckan.net</del>
</li><li><del>iati.test.ckan.net</del>
</li><li>data.gov.uk/ catalogue.data.gov.uk (confirm)
</li></ul></li></ul><ul><li><del>s046.okserver.org</del>
<ul><li><del>iatiregistry.org</del>
</li></ul></li></ul><ul><li><del>s052.okserver.org</del>
<ul><li><del>datacatalogs.org</del>
</li></ul></li></ul><ul><li><del>s004.okserver.org / eu4.okfn.org / solr.okfn.org</del>
<ul><li>thedatahub.org (=www.ckan.net)
</li><li>datagm.org.uk
</li><li><del>publicdata.eu</del>
</li><li>hri.fi (dev.fvh.fi?)
</li><li>it.ckan.net
</li><li>ie.ckan.net
</li><li>cz.ckan.net
</li><li>register.data.overheid.nl (nl.ckan.net?)
</li><li>no.ckan.net / datakilder.no
</li><li>br.ckan.net
</li><li>colorado.ckan.net
</li><li>at.ckan.net
</li></ul></li></ul><p>
TODO: which SOLR server are using these instances?
</p>
<ul><li>data.norge.no
</li><li>nederland.ckan.net
</li><li>lt.ckan.net
</li><li>pl.ckan.net
</li><li>datadotmontreal.ca/
</li><li>ca.ckan.net / datadotgc.com
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1323108431000000
                          </td>
                          <td class="ModifiedTime">1323362689000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fasc=1&amp;page=14.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fasc=1&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <span class="current">15</span>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fasc=1&amp;page=25.html" title="Page 25">25</a>
      </span>
    <span class="next">
      <a href="22%3Fasc=1&amp;page=16.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fasc=1&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fasc=1&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fasc=1&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>