<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=reporter&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=reporter&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=reporter&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=reporter&amp;asc=0&amp;page=15.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=reporter&amp;asc=0&amp;page=13.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=reporter&amp;asc=0&amp;page=14.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(1301 - 1400 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=reporter&amp;asc=0&amp;page=13.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <span class="current">14</span>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=reporter&amp;asc=0&amp;page=15.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=14.html">
              Id
            </a>
          </th><th>
            <a href="22%3Fsort=type&amp;asc=1&amp;page=14.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=14.html">
              Owner
            </a>
          </th><th class="desc">
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=14.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=14.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=14.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=14.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=14.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=14.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=14.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=14.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1364.html">#1364</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-10.html">ckan-sprint-2011-10-10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1364.html">If package in index that is not in ckan error is caused.</a>
                          </td>
                          <td class="description">
                            <p>
We should ignore these but log the packages that are causing this to investigate.
</p>

                            
                          </td>
                          <td class="PosixTime">1317222206000000
                          </td>
                          <td class="ModifiedTime">1318279636000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1376.html">#1376</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-10.html">ckan-sprint-2011-10-10</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1376.html">404 raised when approving package</a>
                          </td>
                          <td class="description">
                            <p>
Regression found by updating datacatalogs.
</p>

                            
                          </td>
                          <td class="PosixTime">1318088589000000
                          </td>
                          <td class="ModifiedTime">1318279651000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1383.html">#1383</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-24.html">ckan-sprint-2011-10-24</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1383.html">Add IResourceChange IResourceUrlChange Interfaces.</a>
                          </td>
                          <td class="description">
                            <p>
Need to add way for extensions to trigger based on resource change and just resource url change. 
</p>

                            
                          </td>
                          <td class="PosixTime">1318342153000000
                          </td>
                          <td class="ModifiedTime">1320142305000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1408.html">#1408</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-24.html">ckan-sprint-2011-10-24</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1408.html">Make site user, so tasks can post information back to ckan.</a>
                          </td>
                          <td class="description">
                            <p>
Give site user system administrative rights.
</p>

                            
                          </td>
                          <td class="PosixTime">1319019626000000
                          </td>
                          <td class="ModifiedTime">1320141847000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1448.html">#1448</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1448.html">Set up nice way to do celery deployment.</a>
                          </td>
                          <td class="description">
                            <p>
Celery is awkward to deply, need to find a way to do it more simply.  i.e using celery-pylons and supervisor.  A modified version of celery-pylons may be the best solution. 1d
</p>

                            
                          </td>
                          <td class="PosixTime">1320666977000000
                          </td>
                          <td class="ModifiedTime">1325774155000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1474.html">#1474</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-21.html">ckan-sprint-2011-11-21</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1474.html">fix up navl tests</a>
                          </td>
                          <td class="description">
                            <p>
navl tests are being skipped unskip them!
</p>

                            
                          </td>
                          <td class="PosixTime">1321825892000000
                          </td>
                          <td class="ModifiedTime">1321826753000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1475.html">#1475</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-23.html">ckan-sprint-2012-01-23</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1475.html">Create documentation showing how to make an extension that use celery.</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1321826681000000
                          </td>
                          <td class="ModifiedTime">1327576068000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1477.html">#1477</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1477.html">[Super] Group refactor</a>
                          </td>
                          <td class="description">
                            <p>
This is the implementation of the final draft in
</p>
<p>
<a class="ext-link" href="http://wiki.ckan.org/Groups_Refactor"><span class="icon">​</span>http://wiki.ckan.org/Groups_Refactor</a>
</p>
<p>
Steps to complete this will follow (somewhat) in the following order.
</p>
<p>
Change package_group table to membership. (<a class="closed ticket" href="../ticket/1478.html" title="enhancement: change package_group to members table (closed: fixed)">#1478</a>) 3d
</p>
<ul><li>model migration. (done)
</li><li>simplify revisioning  (done)
</li><li>Remove any sqlalchemy releations from groups. (done)
</li><li>change logic functions (done)
</li></ul><p>
  
</p>
<p>
Single type per group (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>migration add type to group table. (done) 1d
</li></ul><p>
  
Add capacity table (<a class="closed ticket" href="../ticket/1522.html" title="enhancement: Add capacity to member table. (closed: fixed)">#1522</a>)
</p>
<ul><li>model migration. (done)
</li><li>add to logic functions.
</li></ul><p>
  
Allow other objects to be added to groups. (<a class="closed ticket" href="../ticket/1531.html" title="enhancement: Update group create/update so you can add capacities and group types. (closed: fixed)">#1531</a>)
</p>
<ul><li>change logic functions (done)
</li></ul><p>
Adapt thedatahub.org to use new model.
</p>
<ul><li>move auth groups over to groups/members
</li><li>change user_object roles to use groups? keep user object roles for time being.
</li><li>make create update package/group put the correct items in the group/members/capacity tables.
</li><li>work out how ui works.
</li></ul><p>
--not doing the below as part of this super ticker now <a class="closed ticket" href="../ticket/1669.html" title="enhancement: [super] Publisher profile (closed: fixed)">#1669</a>.
</p>
<p>
Create model for dgu.
</p>
<ul><li>adapt auth functions to use auth.
</li><li>adapt package_create/update group_create/update to fill in the correct capacties/members.
</li></ul><p>
Adapt Iati, and potentially other custom instances.
</p>
<p>
Sub-tickets:
</p>
<ul><li><a class="closed ticket" href="../ticket/1279.html" title="enhancement: Refactor or deprecate Authorization Groups (closed: duplicate)">#1279</a> Deprecate Authorization Groups
</li><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1321959320000000
                          </td>
                          <td class="ModifiedTime">1328016209000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1478.html">#1478</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1478.html">change package_group to members table</a>
                          </td>
                          <td class="description">
                            <p>
This will comprise of the following steps.
</p>
<ul><li>model migration.
</li><li>simplify revisioning  
</li><li>Remove any sqlalchemy relations from groups.
</li><li>change logic functions
</li></ul><p>
estimate 2d
</p>

                            
                          </td>
                          <td class="PosixTime">1321959973000000
                          </td>
                          <td class="ModifiedTime">1323172654000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1485.html">#1485</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1485.html">Package/Group form extension mechanism so you can add forms for particular package_types</a>
                          </td>
                          <td class="description">
                            <p>
We want to be able to change form depending on package type or group type.
</p>
<p>
This is dependent on a type field being added to the Package and the Group.
</p>

                            
                          </td>
                          <td class="PosixTime">1322059169000000
                          </td>
                          <td class="ModifiedTime">1340034422000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1487.html">#1487</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-05.html">ckan-sprint-2011-12-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1487.html">Fix group ordering on homepage</a>
                          </td>
                          <td class="description">
                            <p>
ordering on homepage by name instead of group count
</p>

                            
                          </td>
                          <td class="PosixTime">1322094280000000
                          </td>
                          <td class="ModifiedTime">1324474147000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1522.html">#1522</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-12-19.html">ckan-sprint-2011-12-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1522.html">Add capacity to member table.</a>
                          </td>
                          <td class="description">
                            <p>
Need to add capacities to member tables.
</p>

                            
                          </td>
                          <td class="PosixTime">1323172610000000
                          </td>
                          <td class="ModifiedTime">1324333827000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1531.html">#1531</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1531.html">Update group create/update so you can add capacities and group types.</a>
                          </td>
                          <td class="description">
                            <p>
The new members table needs a way so you can add arbitrary domain objects against them.
</p>
<p>
We need to extend the group schema to accept types, and instead of just being able to add packages to groups add members with their capacities that associated with different table rows.
</p>
<p>
4d
</p>

                            
                          </td>
                          <td class="PosixTime">1323272500000000
                          </td>
                          <td class="ModifiedTime">1326155226000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1612.html">#1612</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1612.html">Group view page slow</a>
                          </td>
                          <td class="description">
                            <p>
Group show that lists packages is slow due to not using query in pagination.
</p>

                            
                          </td>
                          <td class="PosixTime">1325633737000000
                          </td>
                          <td class="ModifiedTime">1325688886000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1614.html">#1614</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-01-09.html">ckan-sprint-2012-01-09</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1614.html">remove po files from git diff</a>
                          </td>
                          <td class="description">
                            <p>
Its a pain to see the difference between branches as there are normally a lot of po file transaction. Make the default be see that they have changed without actually show the diffs themselves.
</p>

                            
                          </td>
                          <td class="PosixTime">1325686639000000
                          </td>
                          <td class="ModifiedTime">1325689136000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1699.html">#1699</a>
                          </td>
                          <td class="type">task
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1699.html">Setup Ckan on tenforce test server</a>
                          </td>
                          <td class="description">
                            <p>
Need to setup server in tenforce test server.
</p>

                            
                          </td>
                          <td class="PosixTime">1327417859000000
                          </td>
                          <td class="ModifiedTime">1327425070000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1700.html">#1700</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1700.html">Document server setup for ckan server.</a>
                          </td>
                          <td class="description">
                            <p>
Document deployment on tenforce test server.
</p>

                            
                          </td>
                          <td class="PosixTime">1327417952000000
                          </td>
                          <td class="ModifiedTime">1327425247000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1701.html">#1701</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1701.html">Normalize character encoding for ckan search.</a>
                          </td>
                          <td class="description">
                            <p>
Make sure accented characters are normalized when indexed and when searched for.
</p>

                            
                          </td>
                          <td class="PosixTime">1327419050000000
                          </td>
                          <td class="ModifiedTime">1330085360000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1702.html">#1702</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1702.html">Normalize character encoding for ckan search.</a>
                          </td>
                          <td class="description">
                            <p>
Make sure accented characters are normalized when indexed and when searched for.
</p>

                            
                          </td>
                          <td class="PosixTime">1327419369000000
                          </td>
                          <td class="ModifiedTime">1327419922000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1703.html">#1703</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1703.html">Make custom fields for ecportal form based on prototype metamodel</a>
                          </td>
                          <td class="description">
                            <p>
The prototype portal gave us a list of classifiers that are expected for the initial launch.  Add then to ckanext-ecportal.
</p>

                            
                          </td>
                          <td class="PosixTime">1327419727000000
                          </td>
                          <td class="ModifiedTime">1331142926000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1704.html">#1704</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1704.html">Import test datasets from prototype into ckan.</a>
                          </td>
                          <td class="description">
                            <p>
Eurostat datasets mainly.
</p>

                            
                          </td>
                          <td class="PosixTime">1327420355000000
                          </td>
                          <td class="ModifiedTime">1328005759000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1715.html">#1715</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1715.html">Search index multilingual</a>
                          </td>
                          <td class="description">
                            <p>
Need to make solr schema work for many languages. Get stopwords and choose correct analysis for each.
</p>

                            
                          </td>
                          <td class="PosixTime">1327598884000000
                          </td>
                          <td class="ModifiedTime">1329393450000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1736.html">#1736</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.7.html">ckan-v1.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1736.html">[Super] Multilingual Metadata</a>
                          </td>
                          <td class="description">
                            <p>
Translate all areas of metatdata to selected language. This includes finding datasets in all languages.
</p>
<p>
Multilingal Metadata:
Tasks:
</p>
<ul><li>Add translation table. 2d
</li><li>Api to add translation 3d
</li><li>Add extention point to dataset view. 3d
</li><li>Add extension point to search index to add translations. 2d.
</li><li>Add all eurovoc data to translations. 1d.
</li><li>Make multilingual solr schema 2d <a class="closed ticket" href="../ticket/1715.html" title="enhancement: Search index multilingual (closed: fixed)">#1715</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328012697000000
                          </td>
                          <td class="ModifiedTime">1338205016000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1738.html">#1738</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1738.html">Add extension point to search index, so can modify dataset dict before index.</a>
                          </td>
                          <td class="description">
                            <p>
It is useful for extensions to add or change items that go into the search index. Add an extension point for this.
</p>

                            
                          </td>
                          <td class="PosixTime">1328031572000000
                          </td>
                          <td class="ModifiedTime">1330086105000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1739.html">#1739</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1739.html">Fix issues where tests where not run.</a>
                          </td>
                          <td class="description">
                            <p>
Test failures in master due to tom and rufus not running tests. 0.3d.
</p>

                            
                          </td>
                          <td class="PosixTime">1328047129000000
                          </td>
                          <td class="ModifiedTime">1328495826000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1741.html">#1741</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1741.html">Add extention point to dataset view.</a>
                          </td>
                          <td class="description">
                            <p>
Need to add extension point to change the data_dict that passed to the dataset view template. This extensions modify what data gets shown.
</p>
<p>
Tasks include:
</p>
<ul><li>Fix up data_dict and templates so that the pkg objects do not get used in the templates.  This is to assure that all data passed is modifiable. (2d) (complete)
</li><li>Add extension point to Ipackage controller (1d)
</li><li>Test (1d)
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328105709000000
                          </td>
                          <td class="ModifiedTime">1329750838000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1777.html">#1777</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1777.html">Write about multilingual features for ec.</a>
                          </td>
                          <td class="description">
                            <p>
Basic description of multilingual features intended to be supported.
</p>

                            
                          </td>
                          <td class="PosixTime">1328542835000000
                          </td>
                          <td class="ModifiedTime">1329393295000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1779.html">#1779</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1779.html">Add multilingual translation table.</a>
                          </td>
                          <td class="description">
                            <p>
A new table with 3 columns should be added. term, term_tranlastion, language_code.  This table will be used for all translations, including tags.  The table should have indexs on both the term and (term, language_code) combination.
</p>

                            
                          </td>
                          <td class="PosixTime">1328548631000000
                          </td>
                          <td class="ModifiedTime">1329393759000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1780.html">#1780</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1780.html">Api to add translations.</a>
                          </td>
                          <td class="description">
                            <p>
Add api to translation to the term_translation table.
</p>
<ul><li>add to logic 2d
</li><li>test 2d
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328548908000000
                          </td>
                          <td class="ModifiedTime">1328578479000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1781.html">#1781</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-20.html">ckan-sprint-2012-02-20</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1781.html">Api to add translations.</a>
                          </td>
                          <td class="description">
                            <p>
Add api to translation to the term_translation table.
</p>
<ul><li>add to logic 2d
</li><li>test 1d
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1328549031000000
                          </td>
                          <td class="ModifiedTime">1329393822000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1792.html">#1792</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1792.html">[super] api to use same validation and logic as wui forms.</a>
                          </td>
                          <td class="description">
                            <p>
The api currently uses the default validation schemas regardless of the form you specified on the front end.  There should be a way to post through the api using the same validation rules.
</p>

                            
                          </td>
                          <td class="PosixTime">1329146487000000
                          </td>
                          <td class="ModifiedTime">1333037710000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1819.html">#1819</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-02.html">ckan-sprint-2012-04-02</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1819.html">change search index code to use package_dictize instead of obj.to_dict</a>
                          </td>
                          <td class="description">
                            <p>
Search index code needs to use package_dictize so that it can get the new vocablurary information and is more consistant with the rest of the system.  This is in preperation for their translation being put in the search indexer.
</p>

                            
                          </td>
                          <td class="PosixTime">1329770555000000
                          </td>
                          <td class="ModifiedTime">1338193886000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1820.html">#1820</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1820.html">Index multilingual data when mulilingual extension is added.</a>
                          </td>
                          <td class="description">
                            <p>
All translated fields and vocabularies need to be added to search index in the correct fields.
</p>

                            
                          </td>
                          <td class="PosixTime">1329770903000000
                          </td>
                          <td class="ModifiedTime">1332163374000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1821.html">#1821</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1821.html">create internal multilingual extension that brings together all multilingual features</a>
                          </td>
                          <td class="description">
                            <p>
This extension point needs to combine.
</p>
<ul><li> Making sure the correct data get put in search index.
</li><li> Make the search queries are modified to weight multilingual search correctly.
</li><li> View pages, including search results are translated.
</li><li> Bring together all search schema modifications.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1329771267000000
                          </td>
                          <td class="ModifiedTime">1330990111000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1822.html">#1822</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1822.html">Weight mulilingual searches correctly</a>
                          </td>
                          <td class="description">
                            <p>
Dismax query across languages. Titles and selected languages, weighted more highly. 
</p>

                            
                          </td>
                          <td class="PosixTime">1329772080000000
                          </td>
                          <td class="ModifiedTime">1330990127000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1826.html">#1826</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-05.html">ckan-sprint-2012-03-05</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1826.html">weight queries so that title is more important than rest of body</a>
                          </td>
                          <td class="description">
                            <p>
Currently everything is considered equally when doing a normal search. Use dismax when there is not a fielded search to get round this. This is part of the work for <a class="closed ticket" href="../ticket/1822.html" title="enhancement: Weight mulilingual searches correctly (closed: fixed)">#1822</a> as the dismax option is needed for multilingual search.
</p>

                            
                          </td>
                          <td class="PosixTime">1329924260000000
                          </td>
                          <td class="ModifiedTime">1330990247000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2229.html">#2229</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2229.html">Cleanup plugin system after some test failed to run.</a>
                          </td>
                          <td class="description">
                            <p>
The logic test did not have <span class="underline">init</span>. This caused lots of tests to fail because there were mock extensions that ran automatically in them. Fix plugin system so this can work.
</p>

                            
                          </td>
                          <td class="PosixTime">1331721611000000
                          </td>
                          <td class="ModifiedTime">1332163408000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2233.html">#2233</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2233.html">Make package show, use custom json schema</a>
                          </td>
                          <td class="description">
                            <p>
There is a disrepency between what we put in and get out when using a custom form/api. Narrow this gap by making sure package_show shows the correct serilization.
</p>

                            
                          </td>
                          <td class="PosixTime">1331865349000000
                          </td>
                          <td class="ModifiedTime">1332178421000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2237.html">#2237</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-03-19.html">ckan-sprint-2012-03-19</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2237.html">Make way to split up tests and run tests with different db.</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1331938496000000
                          </td>
                          <td class="ModifiedTime">1332178352000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2249.html">#2249</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-02.html">ckan-sprint-2012-04-02</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2249.html">Fix google spreadsheet to work with DataStore.</a>
                          </td>
                          <td class="description">
                            <p>
Need google spreadsheet app to work with the new datastore.  This should simplify it a lot.
</p>

                            
                          </td>
                          <td class="PosixTime">1332330242000000
                          </td>
                          <td class="ModifiedTime">1338205316000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2250.html">#2250</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-02.html">ckan-sprint-2012-04-02</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2250.html">Setup nginx and datastore on ecportal</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1332330570000000
                          </td>
                          <td class="ModifiedTime">1338205361000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2251.html">#2251</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-16.html">ckan-sprint-2012-04-16</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2251.html">Internal analytics for ckan.</a>
                          </td>
                          <td class="description">
                            <p>
Page views and Resources clicks need to be tracked.
</p>
<h2 id="UserStories">User Stories</h2>
<p>
US1 As a Site Admin / Visitor (?) I want to see how often a page has been viewed (every page) and how often resources have been downloaded.
</p>
<p>
US1a Next to a resource or a dataset see how often it has been downloaded / viewed
</p>
<p>
US1b I want to see datasets or resources ranked by most downloaded or viewed
</p>
<p>
US1c See a trend graph for a dataset (and resources)
</p>
<p>
Adminstrative Dashboard (?)
</p>
<ul><li>I want to see the traffic breakdown by country to my site ...
</li><li>Ditto for browser type, language, etc etc
</li><li>I want to see it graphed over time ...
</li></ul><h2 id="ImplementationDetails">Implementation Details</h2>
<ol><li>How do we store this data in CKAN?
</li><li>How do we track (and store)?
</li><li>How do we display
</li></ol><ul><li>Config option ckan.status.enabled = False (by default)
</li></ul><h3 id="StoringData">Storing Data</h3>
<p>
How does ckanext-googleanalytics do this? Current table:
</p>
<p>
package_id | count_recent | count_total
</p>
<p>
Move to a new stats_summary table
</p>
<p>
id | item_id | object_type | stats_type (total, month_yyyy_mm, ...) | value
</p>
<p>
Do we store this data into the search (solr) so we can search by it?
</p>
<h3 id="DisplayingData">Displaying Data</h3>
<ul><li>Helper functions / dictize:
<ul><li>Helper function: h.stats_get(object_type, id, stats_type)
<ul><li>h.stats_top_ranked(object_type, number) -&gt; returns object_dicts or just labels or ...
</li></ul></li><li>Change to dictize
</li></ul></li><li>Location in the default theme (do we show for example in search results too!)
</li><li>Support for ranking by most popular in search?
</li></ul><h3 id="TrackingData">Tracking Data</h3>
<ul><li>Our own solution (just write to site_tracking)
</li><li>Google analytics (plus extension for retrieving data) &lt;- would need a refactor
</li><li>Piwiki
</li></ul><h4 id="OwnSolution">Own Solution</h4>
<p>
(For later: not as part of this ticket probably)
</p>
<p>
site_tracking table
</p>
<p>
id | url | timestamp | action (page_view, resource_download) |
</p>
<ul><li>Make javascript to make request to ckan to store clicks and page views.
</li><li>Add middleware so these requests do not go through pylons and just store data quickly.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1332331029000000
                          </td>
                          <td class="ModifiedTime">1336046155000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2261.html">#2261</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-02.html">ckan-sprint-2012-04-02</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2261.html">All links need to option to change where language is placed in url.</a>
                          </td>
                          <td class="description">
                            <p>
For the ecportal case we need links to be like the following
</p>
<p>
(%host)/open-data/en/data/(.*)<br />
(%host)/open-data/fr/data/(.*)
</p>

                            
                          </td>
                          <td class="PosixTime">1332762702000000
                          </td>
                          <td class="ModifiedTime">1332840112000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2316.html">#2316</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2316.html">add resource status api to see the state of celely tasks</a>
                          </td>
                          <td class="description">
                            <p>
add resource_status_show action function to see the state of celery tasks.
</p>
<p>
Need to get information from both out task status table and the celery_taskmeta table.
</p>

                            
                          </td>
                          <td class="PosixTime">1335016037000000
                          </td>
                          <td class="ModifiedTime">1338205426000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2327.html">#2327</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2327.html">Upgrade solr schema to version 1.4</a>
                          </td>
                          <td class="description">
                            <ul><li>Add Ascii folding filter to text fields.
</li><li>Add capacity field for public, private access.
</li><li>Add title_string so you can sort alphabetically on title.
</li><li>Fields related to analytics, access and view counts.
</li><li>Add data_dict field for the whole package_dict.
</li></ul><p>
Actual implementation of data_dict adding will be added later.
</p>

                            
                          </td>
                          <td class="PosixTime">1335374973000000
                          </td>
                          <td class="ModifiedTime">1338205397000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2362.html">#2362</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2362.html">Improve plugin documentaion, including examples.</a>
                          </td>
                          <td class="description">
                            <p>
Improve documentation for plugins and add examples. Could use ckanext-example as a base.
</p>

                            
                          </td>
                          <td class="PosixTime">1335888791000000
                          </td>
                          <td class="ModifiedTime">1342085420000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2363.html">#2363</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">toby
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2363.html">Documentation of best caching practice.</a>
                          </td>
                          <td class="description">
                            <p>
Need better documentation on best practices in making page loads faster for non logged in users.
</p>

                            
                          </td>
                          <td class="PosixTime">1335889017000000
                          </td>
                          <td class="ModifiedTime">1340099794000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2402.html">#2402</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2402.html">search result speedup.</a>
                          </td>
                          <td class="description">
                            <p>
Search results are slow as we do many package_dictize.  Store the package_dict in the search index so that we do not have to hit the database for each of them.
</p>

                            
                          </td>
                          <td class="PosixTime">1337300201000000
                          </td>
                          <td class="ModifiedTime">1337781991000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2403.html">#2403</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-05-29.html">ckan-sprint-2012-05-29</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2403.html">home page speed improvements</a>
                          </td>
                          <td class="description">
                            <p>
Home page loads *all* groups and dictizes them, it should only dictize the top 10 or so from the search facets.
</p>

                            
                          </td>
                          <td class="PosixTime">1337302582000000
                          </td>
                          <td class="ModifiedTime">1337782037000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2472.html">#2472</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">amercader
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.8.html">ckan-v1.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2472.html">clean up datastore controller to get rid of datastore_url enables checks</a>
                          </td>
                          <td class="description">
                            <p>
Datastore_url enabled checks are useless.
</p>
<p>
We should probably change this to datastore_url = 'active' and only update the flag to when a attempt at a post is made. 
</p>
<p>
This will need to be removed from the form at some point.
</p>

                            
                          </td>
                          <td class="PosixTime">1338293407000000
                          </td>
                          <td class="ModifiedTime">1341222195000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2473.html">#2473</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2473.html">Make datstorer store field ordering in _meta field</a>
                          </td>
                          <td class="description">
                            <p>
Recline views should have a default table order, being the same as the csv that was imported.
</p>

                            
                          </td>
                          <td class="PosixTime">1338293492000000
                          </td>
                          <td class="ModifiedTime">1340636871000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2524.html">#2524</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-ecportal.html">ckan-ecportal</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2524.html">If there are no translation files for selected language fall back to default lang.</a>
                          </td>
                          <td class="description">
                            <p>
If a user selects a language there are no mo files for then an error is raised.  Revert to default language instead.
</p>

                            
                          </td>
                          <td class="PosixTime">1339609048000000
                          </td>
                          <td class="ModifiedTime">1340117608000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2810.html">#2810</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-future.html">ckan-future</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2810.html">heroku ckan support</a>
                          </td>
                          <td class="description">
                            <p>
Get ckan working on heroku
</p>

                            
                          </td>
                          <td class="PosixTime">1344364858000000
                          </td>
                          <td class="ModifiedTime">1344364858000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2888.html">#2888</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2888.html">Datapreview in Iframe</a>
                          </td>
                          <td class="description">
                            <p>
Try and put datapreview in Iframe.
</p>

                            
                          </td>
                          <td class="PosixTime">1345745461000000
                          </td>
                          <td class="ModifiedTime">1345745461000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2911.html">#2911</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2911.html">Internal documentation of Organization Groups</a>
                          </td>
                          <td class="description">
                            <p>
A summary/user story doc of how organizations and groups are expected to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1346941384000000
                          </td>
                          <td class="ModifiedTime">1346941384000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2935.html">#2935</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2935.html">Make recline work with new datastore</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1348042459000000
                          </td>
                          <td class="ModifiedTime">1350578067000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3027.html">#3027</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">kindly
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3027.html">solr for 2.0</a>
                          </td>
                          <td class="description">
                            <p>
change mm
support solr 3 and 4
add *_date field
</p>

                            
                          </td>
                          <td class="PosixTime">1354587729000000
                          </td>
                          <td class="ModifiedTime">1354587729000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/180.html">#180</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">jwyg
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v0.11.html">v0.11</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/180.html">Tag cloud as way to view CKAN tags</a>
                          </td>
                          <td class="description">
                            <p>
Create big tag cloud with all CKAN tags - perhaps weighting with size and colour...
</p>

                            
                          </td>
                          <td class="PosixTime">1257534254000000
                          </td>
                          <td class="ModifiedTime">1265284374000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/181.html">#181</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">jwyg
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/181.html">New 'stats' box on right hand sidebar</a>
                          </td>
                          <td class="description">
                            <p>
With up to date statistics such as:
</p>
<ul><li>total packages
</li><li>total tags
</li><li>total users
</li><li>most active users
</li><li>last update
</li><li>etc.
</li></ul><p>
Could also be nice to have a more dedicated stats page - with information such as graphs showing rate of packages being added and such like. See <a class="closed ticket" href="../ticket/184.html" title="enhancement: Stats page (closed: fixed)">ticket:184</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1257534385000000
                          </td>
                          <td class="ModifiedTime">1296339510000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1405.html">#1405</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">jonathan.gray@…
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-11-07.html">ckan-sprint-2011-11-07</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1405.html">You can add a package twice to a group</a>
                          </td>
                          <td class="description">
                            <p>
To reproduce (from Jonathan Gray):
</p>
<ul><li>I go to add an item to the group
</li><li>As I type, I get autocomplete options (cool!)
</li><li>When I click on one, it adds this, and copies the same autocomplete option in the box
</li><li>When I click submit, it seems to add the item twice
</li><li>On the main group page I think it just shows up once, but when I click edit it shows two identical boxes, both ticked - and the count includes two copies of the same item
</li></ul><p>
Basically the problem is allowing the same package associated multiple times with a group.
</p>
<p>
This is an issue on CKAN 1.5b and probably earlier.
</p>

                            
                          </td>
                          <td class="PosixTime">1318856354000000
                          </td>
                          <td class="ModifiedTime">1320152291000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2898.html">#2898</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2898.html">Looses data entered on step 1 of create dataset after login</a>
                          </td>
                          <td class="description">
                            <p>
To reproduce:
</p>
<ol><li>Enter details for new dataset without being logged in
</li></ol><ol start="2"><li>Hit login page for just before step 2
</li></ol><ol start="3"><li>Once logged in you end up back at the empty add dataset form (instead of expected 2nd step of dataset edit)
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1346332094000000
                          </td>
                          <td class="ModifiedTime">1346332120000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2899.html">#2899</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2899.html">Step 2 &gt; Save &amp; add another bug</a>
                          </td>
                          <td class="description">
                            <p>
Goto:
</p>
<ol><li>Add dataset
</li></ol><ol start="2"><li>Get to step 2
</li></ol><ol start="3"><li>Click "Save &amp; add another" without adding any data
</li></ol><ol start="4"><li>Ends on step 3
</li></ol><p>
Should: fail to validate and remain on step 2
</p>

                            
                          </td>
                          <td class="PosixTime">1346332519000000
                          </td>
                          <td class="ModifiedTime">1346332519000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2901.html">#2901</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2901.html">Language Dropdown bug in footer with IE7</a>
                          </td>
                          <td class="description">
                            <p>
The language dropdown in Internet Explorer 7 behaves oddly. Essentially I think the problem is with the way that the dropdown decides to go into "drop-up mode" (e.g there aint enough screen space below the initial state so it has to drop up).
</p>

                            
                          </td>
                          <td class="PosixTime">1346754674000000
                          </td>
                          <td class="ModifiedTime">1346754674000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2903.html">#2903</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2903.html">Two search boxes</a>
                          </td>
                          <td class="description">
                            <p>
I think the architecture on the search page is a bit odd. Not sure I like that there is a doubling up of the search box (e.g. one in the header and one in the body of the search results page)
</p>
<p>
Needs some thought
</p>

                            
                          </td>
                          <td class="PosixTime">1346853712000000
                          </td>
                          <td class="ModifiedTime">1352206813000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2904.html">#2904</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2904.html">Show more formats/groups/tags shouldn't display if there aren't more</a>
                          </td>
                          <td class="description">
                            <p>
On the search results page when there are no more formats, groups or tags to display it should not display the show more links.
</p>

                            
                          </td>
                          <td class="PosixTime">1346854444000000
                          </td>
                          <td class="ModifiedTime">1346854444000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2905.html">#2905</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2905.html">Add dataset URL key behaviour</a>
                          </td>
                          <td class="description">
                            <p>
On step 1 for adding a dataset can we add a ajax ping that checks if the URL that is generated by the JS is taken? Behaviour should be as follows:
</p>
<ol><li>User types title in box (as current)
</li></ol><ol start="2"><li>URL key is regexed by JS (as current)
</li></ol><ol start="3"><li>The JS does a ajax call to check if the generated URL key is valid. The ajax callback returns a JSON dump which contains what the URL key should be (e.g. if 'test' was taken it returns 'test-1')
</li></ol><ol start="4"><li>If the URL key returned in the ajax is different than the one generated by the JS then:
</li></ol><p>
4a. If the user hasn't clicked the edit button then: it automatically updates the URL key field with the URL key supplied in the ajax
</p>
<p>
4b. If the user has clicked the edit button then: a form error next to the input appears saying that the URL key is taken and within that error is suggests the URL key returned by the ajax as alternative (the user can click said URL key within the error to automatically choose that one)
</p>
<p>
The URL key isn't reserved by the ajax and upon form submission the usual validation should still apply.
</p>

                            
                          </td>
                          <td class="PosixTime">1346855283000000
                          </td>
                          <td class="ModifiedTime">1346855283000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2907.html">#2907</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2907.html">Demo header</a>
                          </td>
                          <td class="description">
                            <p>
The user login / avatar with in the header really should be within another topbar, as it goes against convention to have the user information within the normal header.
</p>

                            
                          </td>
                          <td class="PosixTime">1346930925000000
                          </td>
                          <td class="ModifiedTime">1352206307000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2908.html">#2908</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2908.html">Dataset related with image should retain aspect ratio</a>
                          </td>
                          <td class="description">
                            <p>
At the moment if you have an related item with an image associated to a dataset that appears in the side column it's resized but doesn't keep it's original aspect ratio.
</p>

                            
                          </td>
                          <td class="PosixTime">1346931162000000
                          </td>
                          <td class="ModifiedTime">1346931162000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2909.html">#2909</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2909.html">User profile headers are a bit weird</a>
                          </td>
                          <td class="description">
                            <p>
They seem to be not exactly well thought out. Needs some thought on better display of the information that they contain.
</p>

                            
                          </td>
                          <td class="PosixTime">1346931348000000
                          </td>
                          <td class="ModifiedTime">1346931348000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2910.html">#2910</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/demo&#32;phase&#32;5.html">demo phase 5</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2910.html">User listings are not very compelling</a>
                          </td>
                          <td class="description">
                            <p>
They are currently are just a small image / name. They should be: Larger image, Full name (username), description, edits/dataset
</p>

                            
                          </td>
                          <td class="PosixTime">1346931587000000
                          </td>
                          <td class="ModifiedTime">1346931587000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2940.html">#2940</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2940.html">Edit different resources from edit dataset pag</a>
                          </td>
                          <td class="description">
                            <p>
We need a nice way to be able to get to editing the different resources that are associated to a dataset.
</p>

                            
                          </td>
                          <td class="PosixTime">1348580812000000
                          </td>
                          <td class="ModifiedTime">1350560926000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2941.html">#2941</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2941.html">Add follower support back into CKAN 2.0</a>
                          </td>
                          <td class="description">
                            <p>
Add the views and functionality of following users and groups into 2.0
</p>

                            
                          </td>
                          <td class="PosixTime">1348584670000000
                          </td>
                          <td class="ModifiedTime">1350560915000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2954.html">#2954</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2954.html">Flickering on resource view when changing between views</a>
                          </td>
                          <td class="description">
                            <p>
From the google doc: When I move between grid, graph and map view mode (or click on filters) the whole data explorer flickers (jumps up &amp; down slightly) for a few moments before settling. This is happening on all resources for me and when you initially open launch the page: <a class="ext-link" href="http://demo.ckan.org/dataset/afghanistan-election-data/resource/f6331f99-51f6-44d9-95b9-b20f3b74f360"><span class="icon">​</span>http://demo.ckan.org/dataset/afghanistan-election-data/resource/f6331f99-51f6-44d9-95b9-b20f3b74f360</a>. Only in Chrome, working fine in Firefox.
</p>

                            
                          </td>
                          <td class="PosixTime">1349268916000000
                          </td>
                          <td class="ModifiedTime">1350578030000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2956.html">#2956</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">shevski
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">assigned
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2956.html">Allow for resource editing in CKAN 2.0</a>
                          </td>
                          <td class="description">
                            <p>
On the edit dataset page... there needs to be a way for users to be able to see all the resources associated to the dataset and edit them individually.
</p>

                            
                          </td>
                          <td class="PosixTime">1349277100000000
                          </td>
                          <td class="ModifiedTime">1349346442000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/2992.html">#2992</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/2992.html">Delete resource should send me back to edit dataset page</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1350407956000000
                          </td>
                          <td class="ModifiedTime">1350407956000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3015.html">#3015</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3015.html">Dropdowns don't work without JavaScript</a>
                          </td>
                          <td class="description">
                            <p>
Essentially the default bootstrap dropdowns don't work properly without <a class="missing wiki">JavaScript?</a> which is a little bit of an issue with JS not working.
</p>

                            
                          </td>
                          <td class="PosixTime">1352805553000000
                          </td>
                          <td class="ModifiedTime">1353410072000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3016.html">#3016</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3016.html">CKAN 2.0 template tweaks</a>
                          </td>
                          <td class="description">
                            <p>
Just a ticket to keep track of a few suggested template changes.
</p>

                            
                          </td>
                          <td class="PosixTime">1352813417000000
                          </td>
                          <td class="ModifiedTime">1352813417000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3018.html">#3018</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan&#32;2.0.html">ckan 2.0</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3018.html">Load more in activity streams</a>
                          </td>
                          <td class="description">
                            <p>
Activity streams should be able to load more than 15 items within them. Suggest the default amount of loading is around 30 and then click to load more.
</p>

                            
                          </td>
                          <td class="PosixTime">1352900051000000
                          </td>
                          <td class="ModifiedTime">1355140950000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/3021.html">#3021</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnmartin
                          </td>
                          <td class="reporter">johnmartin
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">accepted
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/3021.html">Logout doesn't work without JS</a>
                          </td>
                          <td class="description">
                            <p>
Essentially, the functionality should be as follows:
</p>
<ul><li>Add logout link that has <tt>.js-hide</tt> attached to it within the header that isn't hidden within a dropdown
</li></ul><p>
See <a class="ext-link" href="http://plus.google.com/"><span class="icon">​</span>http://plus.google.com/</a> (when logged in) with and without JS to see an example of the actual sign-out working without JS
</p>

                            
                          </td>
                          <td class="PosixTime">1353410350000000
                          </td>
                          <td class="ModifiedTime">1353411968000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1036.html">#1036</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-4.html">ckan-v1.4-sprint-4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1036.html">Add tests for three functions in ckan/model/user.py</a>
                          </td>
                          <td class="description">
                            <p>
create a new test file ckan/model/test_user.py
</p>
<p>
add tests for the following three functions in ckan/model/user.py
</p>
<p>
number_of_edits,
number_administered_packages,
search
</p>
<p>
merged in in changeset 0046f83aedcf
</p>

                            
                          </td>
                          <td class="PosixTime">1300127840000000
                          </td>
                          <td class="ModifiedTime">1301304575000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1050.html">#1050</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1050.html">Authz lib improvement and refactor of ckan/lib/authztool.py</a>
                          </td>
                          <td class="description">
                            <p>
Refactor ckan/lib/authztool.py so that the relevant methods are independent of the command line interface.
</p>
<p>
The extracted methods should live in a new file ckan/authz.py. authztool.py should probably move into cli.py and will just do command line parsing and printing and use ckan/authz.py. The updated web gui for authz will also use this code.
</p>
<p>
Tests should be made. There's already a file ckan/tests/test_authz.py, which looks like the appropriate place for new tests.
</p>
<p>
all to go on a branch feature-1050-refactor-authtoolz
</p>
<h2 id="Optionalextras">Optional extras</h2>
<ul><li>Rename ckan/authz.py to ckan/lib/authz.py or even ckan/logic/authz.py
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1300451937000000
                          </td>
                          <td class="ModifiedTime">1315394117000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1065.html">#1065</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">zephod
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.6.html">ckan-v1.6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1065.html">[super] Change Authorization System</a>
                          </td>
                          <td class="description">
                            <p>
Child tickets
</p>
<ul><li><a class="new ticket" href="../ticket/1198.html" title="enhancement: Publisher hierarchy (new)">#1198</a> Publisher hierarchy
</li><li><a class="closed ticket" href="../ticket/1050.html" title="enhancement: Authz lib improvement and refactor of ckan/lib/authztool.py (closed: invalid)">#1050</a> Authz lib improvement and refactor of ckan/lib/authztool.py
</li><li><a class="closed ticket" href="../ticket/1004.html" title="defect: Group creation instructions missing (closed: fixed)">#1004</a> Group creation instructions missing
</li><li><a class="closed ticket" href="../ticket/1099.html" title="defect: strange interactions between two browsers while playing with authz groups (closed: wontfix)">#1099</a> Strange interactions between two browsers while playing with authz groups
</li><li><a class="closed ticket" href="../ticket/1115.html" title="defect: can have two authzgroups with the same name (closed: wontfix)">#1115</a> can have two authzgroups with the same name
</li><li><a class="closed ticket" href="../ticket/1133.html" title="defect: command line rights manipulation doesn't work (closed: worksforme)">#1133</a> command line rights manipulation doesn't work
</li><li><a class="closed ticket" href="../ticket/1138.html" title="enhancement: minor navigations behave inconsistently (closed: invalid)">#1138</a> minor navigations behave inconsistently
</li></ul><p>
Old ticket description:
</p>
<ol><li>Change name of <a class="missing wiki">AuthzGroup?</a> to <a class="missing wiki">UserGroup?</a> to reflect what it is for
</li></ol><ol start="2"><li>Get rid of Roles, and replace them with direct assignment of actions, even though there are many actions, and extensions can add arbitrary ones.
<ul><li>Debatable whether we should cut the number of actions to correspond to the three roles defined by the base system.
</li><li>Have a method of finding roles (or, in future, actions) relevant to a given protection object (e.g. FILE-UPLOAD(ER) not relevant to Packages)
</li></ul></li></ol><ol start="3"><li>Change <a class="missing wiki">UserGroups?</a> so that they can have a hierarchical structure, 
</li></ol><h2 id="MoreinfoonHierarchychange">More info on Hierarchy change</h2>
<p>
e.g. <a class="missing wiki">UserGroup?</a> NHS contains the User nhsysadmin, as well as the 
<a class="missing wiki">UserGroups?</a> SURREY and BERKS, which themselves contain users.
</p>
<p>
One user in SURREY is Simon the Sysadmin, who has permissions on the whole system. His permissions should not leak out to other users or groups, and user permissions generally should not.
</p>
<p>
Each Group has permissions over various objects.
</p>
<p>
A user has permissions in his own right, and also has the permissions of his own group, and of all the groups contained in his group, and so on recursively.
</p>
<p>
Algorithm:
</p>
<p>
possible(user, action, package):
</p>
<blockquote>
<p>
if user has permission for action on package
</p>
<blockquote>
<p>
or any of have that permission
</p>
<blockquote>
<p>
or any of his groups group-children (but not user-children), and so on recursively have the permission.
</p>
</blockquote>
</blockquote>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1301508331000000
                          </td>
                          <td class="ModifiedTime">1324550041000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1081.html">#1081</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1081.html">can't remove user from authz group</a>
                          </td>
                          <td class="description">
                            <p>
I've found that if I make an authorization group I sometimes can't remove myself from it. I've no idea why. I can add and remove other users. I'll investigate, just making a note of it here.
</p>

                            
                          </td>
                          <td class="PosixTime">1302541056000000
                          </td>
                          <td class="ModifiedTime">1303489474000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1082.html">#1082</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1082.html">language changes behave strangely</a>
                          </td>
                          <td class="description">
                            <p>
Set language to Greek, flash message says 'Language set to: English', but page is now about half in Greek.
</p>
<p>
Set language back to English causes server error:
</p>
<p>
<a class="missing wiki">AttributeError?</a>: '<a class="missing wiki">NoneType?</a>' object has no attribute 'path'
</p>
<p>
Module ckan.controllers.error:29 in document          view
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
if original_request.path.startswith('/api'):
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
However going to a new page reveals that it's back to English
</p>

                            
                          </td>
                          <td class="PosixTime">1302541989000000
                          </td>
                          <td class="ModifiedTime">1315917217000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1083.html">#1083</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5-sprint-1.html">ckan-v1.5-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1083.html">userobjectroles added twice can't be deleted</a>
                          </td>
                          <td class="description">
                            <p>
the add_user_to_role/remove_user_from_role functions are asymmetrical
in that the add function is happy to add the same role twice but the remove asserts that it's only in the table once and crashes if that's not true.
</p>
<p>
an attempt has been made to guard against this, but fails, I think because the add functions rely on the caller committing the change to the db.
</p>
<p>
same problem affects corresponding authorization_group functions
</p>
<p>
I'll try to sort this out. Making a note here.
</p>

                            
                          </td>
                          <td class="PosixTime">1302550660000000
                          </td>
                          <td class="ModifiedTime">1305537827000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1085.html">#1085</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1085.html">local development copy of ckan depends on existence of ckan.net</a>
                          </td>
                          <td class="description">
                            <p>
ckan.net appears to have either gone down or be running ultra slowly.
</p>
<p>
this means that ckan copies running locally on my machine run very slowly indeed.
</p>
<p>
is this behaviour desirable?
</p>
<p>
This command finds lots of <a class="ext-link" href="http://~~~ckan.net"><span class="icon">​</span>http://~~~ckan.net</a> references in python, html and javascript files:
</p>
<p>
find ~/pyenv/src \( -name "*.py" -or -name "*.html" -or -name "*.js" \) -print0 | xargs -0 -e grep --color -nH -e "<a class="ext-link" href="http://.*ckan.net"><span class="icon">​</span>http://.*ckan.net</a>"
</p>
<p>
output for reference:
</p>
<hr />
<p>
/home/okfn/pyenv/src/ckan/ckan/<span class="underline">init__.py:5:Network (CKAN) site: <a class="ext-link" href="http://www.ckan.net"><span class="icon">​</span>http://www.ckan.net</a>.
/home/okfn/pyenv/src/ckan/ckan/lib/create_test_data.py:346:&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;
/home/okfn/pyenv/src/ckan/ckan/lib/rdf.py:3:DOMAIN = '<a class="ext-link" href="http://ckan.net"><span class="icon">​</span>http://ckan.net</a>'
/home/okfn/pyenv/src/ckan/ckan/lib/rdf.py:4:CKAN_NAMESPACE = '<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>#'
/home/okfn/pyenv/src/ckan/ckan/lib/talis.py:60:                      'ckan':'<a class="ext-link" href="http://ckan.net/ns"><span class="icon">​</span>http://ckan.net/ns</a>#',
/home/okfn/pyenv/src/ckan/ckan/public/scripts/bookmarklet.js:2:    f='<a class="ext-link" href="http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;title='+encodeURIComponent(document.title"><span class="icon">​</span>http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;title='+encodeURIComponent(document.title</a>);
/home/okfn/pyenv/src/ckan/ckan/public/scripts/test_bookmarklet.html:16:    addtockan.src='<a class="ext-link" href="http://ckan.net/scripts/bookmarklet.js"><span class="icon">​</span>http://ckan.net/scripts/bookmarklet.js</a>';
/home/okfn/pyenv/src/ckan/ckan/public/scripts/test_bookmarklet.html:27:    &lt;p&gt;&lt;strong&gt;Proper bookmarklet (compressed -- need to escape &amp;amp;):&lt;/strong&gt; &lt;a href="javascript:(function(){f='<a class="ext-link" href="http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;title='+encodeURIComponent(document.title);if((n=document.getElementsByName('description')[0])&amp;amp;&amp;amp;(d=n.content)){f+='&amp;amp;notes='+encodeURIComponent(d);}a=function(){if(!window.open(f)){location.href=f;}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a"><span class="icon">​</span>http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;title='+encodeURIComponent(document.title);if((n=document.getElementsByName('description')[0])&amp;amp;&amp;amp;(d=n.content)){f+='&amp;amp;notes='+encodeURIComponent(d);}a=function(){if(!window.open(f)){location.href=f;}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a</a>()}})()"&gt;Add to CKAN&lt;/a&gt;
/home/okfn/pyenv/src/ckan/ckan/templates/home/license.html:31:      For convenience, all material - including all package, tag and revision information - is available in bulk, in the form of a full dump of the CKAN database. This (gzipped) dump file is updated daily and can be downloaded from &lt;a href="<a class="ext-link" href="http://www.ckan.net/dump/"><span class="icon">​</span>http://www.ckan.net/dump/</a>"&gt;<a class="ext-link" href="http://www.ckan.net/dump/"><span class="icon">​</span>http://www.ckan.net/dump/</a>&lt;/a&gt;.
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:71:            'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:137:             'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:447:                                  'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:458:                                  'notes': u'Some test notes\n\n### A 3rd level heading\n\n<strong>Some bolded text.</strong>\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &lt;\n\n&lt;<a class="ext-link" href="http://ckan.net/"><span class="icon">​</span>http://ckan.net/</a>&gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/functional/api/base.py:178:        assert '"ckan_url": "<a class="ext-link" href="http://test.ckan.net/package/annakarenina"><span class="icon">​</span>http://test.ckan.net/package/annakarenina</a>"' in msg, msg
/home/okfn/pyenv/src/ckanclient/ckanclient/</span>init__.py:116:    api e.g. <a class="ext-link" href="http://ckan.net/api"><span class="icon">​</span>http://ckan.net/api</a> rather than <a class="ext-link" href="http://ckan.net/api/rest"><span class="icon">​</span>http://ckan.net/api/rest</a>)
/home/okfn/pyenv/src/ckanclient/ckanclient/<span class="underline">init__.py:261:    :param base_location: default *<a class="ext-link" href="http://www.ckan.net/api"><span class="icon">​</span>http://www.ckan.net/api</a>*
/home/okfn/pyenv/src/ckanclient/ckanclient/</span>init__.py:267:    base_location = '<a class="ext-link" href="http://www.ckan.net/api"><span class="icon">​</span>http://www.ckan.net/api</a>'
</p>
<hr />

                            
                          </td>
                          <td class="PosixTime">1302620434000000
                          </td>
                          <td class="ModifiedTime">1302625314000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1086.html">#1086</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1086.html">no way to delete authorization groups from web interface</a>
                          </td>
                          <td class="description">
                            <p>
as title. 
</p>

                            
                          </td>
                          <td class="PosixTime">1302625333000000
                          </td>
                          <td class="ModifiedTime">1323346552000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1091.html">#1091</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1091.html">usernames of users logged in using open ids are strange</a>
                          </td>
                          <td class="description">
                            <p>
If I use my gmail openID to log into a CKAN instance, then my username is:
</p>
<p>
<a class="ext-link" href="https://www.google.com/accounts/o8/id?id=AItOawnduohQ5RgXdPJKHiq-SIPbvCBqUaERuEQ"><span class="icon">​</span>https://www.google.com/accounts/o8/id?id=AItOawnduohQ5RgXdPJKHiq-SIPbvCBqUaERuEQ</a>
</p>
<p>
This seems a bit odd.
</p>

                            
                          </td>
                          <td class="PosixTime">1302701460000000
                          </td>
                          <td class="ModifiedTime">1323102767000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1099.html">#1099</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1099.html">strange interactions between two browsers while playing with authz groups</a>
                          </td>
                          <td class="description">
                            <p>
While playing with the authorization groups, trying to design tests, I found that it was necessary to log in as two different users with two different browsers. Often actions of one user would cause server errors in the other user's browser.
</p>
<p>
I don't have a reproducible test case, but it happens fairly often so it shouldn't be too difficult to get one.
</p>

                            
                          </td>
                          <td class="PosixTime">1303380824000000
                          </td>
                          <td class="ModifiedTime">1324057106000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1102.html">#1102</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1102.html">searching broken in development setup</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303491912000000
                          </td>
                          <td class="ModifiedTime">1303744552000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1103.html">#1103</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1103.html">searching broken in development setup</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303494538000000
                          </td>
                          <td class="ModifiedTime">1303744575000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1104.html">#1104</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-7.html">ckan-v1.4-sprint-7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1104.html">create-test-data doesn't index the packages it creates</a>
                          </td>
                          <td class="description">
                            <p>
With the default test data created by
</p>
<p>
paster db clean
paster db init
paster create-test-data
</p>
<p>
going to the front page shows two recently changed packages
A Wonderful Story
A Novel by Tolstoy
</p>
<p>
But none of those words "Wonderful", etc produce search hits.
In fact as far as I can tell, nothing produces any search hits.
</p>
<p>
That isn't true on ckan.net, where searching seems to work.
</p>

                            
                          </td>
                          <td class="PosixTime">1303494635000000
                          </td>
                          <td class="ModifiedTime">1303920791000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1115.html">#1115</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1115.html">can have two authzgroups with the same name</a>
                          </td>
                          <td class="description">
                            <p>
If you've got edit permission on an authzgroup, then you can change its name to be the same as another existing authzgroup.
</p>
<p>
This causes some strange UI effects at worst, and probably causes worse problems somewhere else.
</p>
<p>
Is there any reason why changing the names of existing authzgroups should be allowed? And if so, name collisions should presumably be guarded against in both the name-changing and creation functions
</p>

                            
                          </td>
                          <td class="PosixTime">1304085120000000
                          </td>
                          <td class="ModifiedTime">1324054704000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1118.html">#1118</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1118.html">tests are testing something other than the behaviour seen in the browser</a>
                          </td>
                          <td class="description">
                            <p>
I'm finding that if I try to take an action with insufficient credentials from a test then I often (but not always) get a 401 error, whereas in the browser I get redirected to the login page.
</p>
<p>
It's a bit worrying that the program in its test environment doesn't behave like it does in the browser.
</p>

                            
                          </td>
                          <td class="PosixTime">1304093017000000
                          </td>
                          <td class="ModifiedTime">1311174062000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1132.html">#1132</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1132.html">test_authz doesn't run</a>
                          </td>
                          <td class="description">
                            <p>
Trying to run the tests in test_authz.py with
</p>
<p>
$ nosetests --ckan ckan/tests/functional/test_authz.py
results in no tests being run:
</p>
<hr />
<p>
Ran 0 tests in 0.840s
</p>
<p>
OK (SKIP=3)
</p>

                            
                          </td>
                          <td class="PosixTime">1304966923000000
                          </td>
                          <td class="ModifiedTime">1307352675000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1133.html">#1133</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1133.html">command line rights manipulation doesn't work</a>
                          </td>
                          <td class="description">
                            <p>
It appears that the command
</p>
<p>
$ paster rights add russianfan admin warandpeace
</p>
<p>
has no effect, even though
</p>
<p>
$ paster rights remove russianfan admin warandpeace
</p>
<p>
works fine. This may be specific to something I've done, could someone confirm?
</p>
<p>
If it's the case more generally, then I'm assuming this behaviour is untested? Tests should probably be added.
</p>

                            
                          </td>
                          <td class="PosixTime">1305054948000000
                          </td>
                          <td class="ModifiedTime">1324057072000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1138.html">#1138</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnlawrenceaspden
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1138.html">minor navigations behave inconsistently</a>
                          </td>
                          <td class="description">
                            <p>
For Authorization Groups, if you have admin privileges you see view, edit and authz tabs, and if you don't have the necessary privileges you only see the view tab.
</p>
<p>
For Packages, you see all tabs whatever your permissions, so there's a link you can click on which will redirect you to the login page.
</p>

                            
                          </td>
                          <td class="PosixTime">1305279888000000
                          </td>
                          <td class="ModifiedTime">1316965357000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1141.html">#1141</a>
                          </td>
                          <td class="type">CREP
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1141.html">[super] Moderated Edits User Interface</a>
                          </td>
                          <td class="description">
                            <p>
<strong>Proposer</strong>: John Glover<br />
<strong>Seconder</strong>: James Gardner
</p>
<h2 id="Abstract">Abstract</h2>
<p>
We are trying to achieve these goals:
</p>
<ul><li>To get people involved with making edits to CKAN metadata.
</li><li>To have an ownership model as to who can moderate and validate these changes
</li><li>To not put too huge a burden on these owners.
</li></ul><p>
This feature allows anyone to edit a package and create a new revision, but requires an owner/moderator to approve a revision before it is are made "official".
</p>
<p>
There have been a lot of discussions around the revisioning system side of this ticket (CREP 0002) and I think these are now largely resolved. We now want to discuss the user interface.
</p>
<h2 id="TheProblem">The Problem</h2>
<p>
We require the following functionality:
</p>
<ul><li>Allow a group of changes to be stored as a new revision.
</li><li>Allow a linear stack of "community" revisions. 
</li><li>Provide a way for the editor and moderator to compare previous revisions to the current one.
</li><li>When a moderator approves a change it creates a new revision flagged "moderated" (this is analogous to a merge commit)
</li><li>Provide a way for the editor and moderator comment on revisions if necessary.
</li></ul><p>
Extra features:
</p>
<ul><li>Need a way to summarise the changes (as part of the preview perhaps)
</li><li>Sysadmin needs to purge a revision completely
</li></ul><h2 id="Specification">Specification</h2>
<h3 id="UIUX">UI/UX</h3>
<p>
UI Mockup:
</p>
<p>
<a style="padding:0; border:none" href="../attachment/ticket/1141/ModeratedEdits2.png.html"><img src="../raw-attachment/ticket/1141/ModeratedEdits2.png" /></a>
</p>
<p>
Revisions:
</p>
<ul><li>Revisions are per package rather than per field.
</li><li>Internally CKAN has separate revisions for resources, extras and package metadata.  From a user's point of view this could be confusing to expose, so everything that they see on a package form when they hit save is a single revision.
</li></ul><p>
On the Edit page:
</p>
<ul><li>We have a panel on the right, listing all the revisions with the current moderated one selected. Moderated revisions are highligted in some way (red and bold?).
</li><li>The values displayed in the form are by default populated from the latest revision (whether community or moderated)
</li><li>Under each field is a "shadow", showing the value of the field in the revision selected in the panel, if it is different from the value in the field. By default the shadow values are populated from the latest moderated revision which is the one selected in the revision panel by default too.
</li><li>When you change the value of a field, a shadow may appear or disappear accordingly. If they disappear a box saying that they are the same replaces it
</li><li>If you want to edit values from a previous revision, you first select that revision to get the shadows populated. There is a button named "Replace fields with values from this revision" under the revision list. You click this, a warning pops up and then you say "Yes". You then select the moderated revision again.
</li><li>We also allow package comments the same way as the todo extension works at the moment. Additionally, we need to be able to differentiate between what the moderator wrote and what a community member wrote, and so we may need to make a small change to the todo extension to facilitate this.
</li><li>In addition to package comments, each revision will have a revision log (analogous to a commit message).
</li></ul><h3 id="TechnicalDetails">Technical Details</h3>
<ul><li>This CREP will result in a new CKAN extension.
</li><li>It depends heavily on the new revisioning system (CREP0002), some of the details of which are yet to be finalised. 
</li><li>This CREP therefore requires working closely with David Raznick to come up with an API that the UI AJAX calls can use.
</li><li>We will then use suitable test data to mimic these API calls until CREP0002 is ready.
</li></ul><h2 id="Whydoitthisway">Why do it this way</h2>
<p>
This hopefully provides a clear and consistent mechanism allowing both a community member to make new revisions and a moderator to view and approve revisions, with largely the same UI/UX.
</p>
<h2 id="Implementationplan">Implementation plan</h2>
<h3 id="Deliverables">Deliverables</h3>
<p>
A new CKAN extension, consisting of:
</p>
<ul><li>Code: Python, HTML, CSS, Javascript
</li><li>Unit tests
</li><li>Localization
</li><li>Documentation
</li></ul><h3 id="Participants">Participants</h3>
<p>
John Glover to do it.
</p>
<h3 id="Progress">Progress</h3>
<p>
John has implemented the bulk of this UI. Just some things to tidy up before it is complete:
</p>
<ul><li>Genshi stream filters to be updated with CKAN 1.5 / 1.5.1 templates
</li><li>history_ajax / read_ajax to be replaced with calls to Action API (or Util REST API)
</li></ul><p>
I've split these two off into a new ticket <a class="new ticket" href="../ticket/1604.html" title="enhancement: Get ckanext-moderatededits working with CKAN 1.5+ templates (new)">#1604</a>.
</p>
<h3 id="RelatedProgress">Related Progress</h3>
<p>
The Todo extension is written and available at: <a class="ext-link" href="https://bitbucket.org/johnglover/ckanext-todo"><span class="icon">​</span>https://bitbucket.org/johnglover/ckanext-todo</a>.
</p>
<p>
In the section 'The Problem', under extra features, we mention a need for the sysadmin to be able to purge a revision already. This is already done.
</p>
<h3 id="Seealso">See also</h3>
<p>
<a class="closed ticket" href="../ticket/1129.html" title="CREP: CREP0002: Moderated  Edits (closed: fixed)">#1129</a> Backend work
</p>

                            
                          </td>
                          <td class="PosixTime">1305721003000000
                          </td>
                          <td class="ModifiedTime">1325352507000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1274.html">#1274</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1274.html">Testing solr search</a>
                          </td>
                          <td class="description">
                            <p>
Copy ckan core postgres package search tests to the ckanext-solr extension and update them so that they use the solr search backend.
</p>

                            
                          </td>
                          <td class="PosixTime">1313413202000000
                          </td>
                          <td class="ModifiedTime">1313429049000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/1275.html">#1275</a>
                          </td>
                          <td class="type">enhancement
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">johnglover
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-09-26.html">ckan-sprint-2011-09-26</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/1275.html">Move solr search extension to ckan core</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1313413597000000
                          </td>
                          <td class="ModifiedTime">1319812967000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=reporter&amp;asc=0&amp;page=13.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=4.html" title="Page 4">4</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=5.html" title="Page 5">5</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=6.html" title="Page 6">6</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=7.html" title="Page 7">7</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=8.html" title="Page 8">8</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=9.html" title="Page 9">9</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=10.html" title="Page 10">10</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=11.html" title="Page 11">11</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <span class="current">14</span>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=22.html" title="Page 22">22</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=reporter&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=reporter&amp;asc=0&amp;page=15.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=reporter&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=reporter&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=reporter&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>