<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      {22} Trac tickets – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="22%3Fsort=type&amp;asc=0&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="22%3Fsort=type&amp;asc=0&amp;format=csv" type="text/plain" title="Comma-delimited Text" /><link rel="alternate" href="22%3Fsort=type&amp;asc=0&amp;format=tab" type="text/plain" title="Tab-delimited Text" /><link rel="alternate" href="../report%3Fid=22&amp;format=sql" type="text/plain" title="SQL Query" />
        <link rel="up" href="../report.html" title="Available Reports" />
        <link rel="next" href="22%3Fsort=type&amp;asc=0&amp;page=23.html" title="Next Page" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/report.css" type="text/css" />
        <link rel="prev" href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Previous Page" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../report.html">Available Reports</a></li><li class="last"><a href="../query.html">Custom Query</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="report">
      <h1>{22} Trac tickets
        <span class="numrows">(2647 matches)</span>
      </h1>
      <form method="get" action="22%3Fsort=type&amp;asc=0&amp;page=22.html">
        <div id="prefs">
          <div>
            <label>
              Max items per page
              <input type="text" name="max" size="10" value="100" />
            </label>
          </div>
          <div class="buttons">
            <input type="submit" value="Update" />
          </div>
        </div>
      </form>
      <div id="description">
        <p>
<a class="ext-link" href="https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql"><span class="icon">​</span>https://github.com/roskakori/tratihubis/blob/master/query_tickets.sql</a>
</p>

      </div>
      <div class="buttons">
      </div>
      <h2 class="report-result">
        Results <span class="numresults">(2101 - 2200 of 2647)</span>
      </h2>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <span class="current">22</span>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=23.html" title="Next Page">→</a>
    </span>
</div>
      <table class="listing tickets">
          <thead>
        <tr class="trac-columns">
          <th>
            <a href="22%3Fsort=id&amp;asc=1&amp;page=22.html">
              Id
            </a>
          </th><th class="desc">
            <a href="22%3Fsort=type&amp;asc=1&amp;page=22.html">
              Type
            </a>
          </th><th>
            <a href="22%3Fsort=owner&amp;asc=1&amp;page=22.html">
              Owner
            </a>
          </th><th>
            <a href="22%3Fsort=reporter&amp;asc=1&amp;page=22.html">
              Reporter
            </a>
          </th><th>
            <a href="22%3Fsort=milestone&amp;asc=1&amp;page=22.html">
              Milestone
            </a>
          </th><th>
            <a href="22%3Fsort=status&amp;asc=1&amp;page=22.html">
              Status
            </a>
          </th><th>
            <a href="22%3Fsort=resolution&amp;asc=1&amp;page=22.html">
              Resolution
            </a>
          </th><th>
            <a href="22%3Fsort=summary&amp;asc=1&amp;page=22.html">
              Summary
            </a>
          </th><th>
            <a href="22%3Fsort=description&amp;asc=1&amp;page=22.html">
              Description
            </a>
          </th><th>
            <a href="22%3Fsort=PosixTime&amp;asc=1&amp;page=22.html">
              Posixtime
            </a>
          </th><th colspan="100">
            <a href="22%3Fsort=ModifiedTime&amp;asc=1&amp;page=22.html">
              Modifiedtime
            </a>
          </th>
        </tr>
          </thead>
          <tbody>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/311.html">#311</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/311.html">Reordering of package resources can lead to integri</a>
                          </td>
                          <td class="description">
                            <p>
Created a new package resource line and then moved it up above existing one and hit save. Result: 500 error. In logs have:
</p>
<pre class="wiki">[Sat May 08 21:55:41 2010] [error] [client 86.26.8.30] Error - &lt;class 'sqlalchemy.exceptions.IntegrityError'&gt;: (IntegrityError) duplicate key value violates unique constraint "package_resource_revision_pkey", referer: http://ckan.net/package/edit/cofog
[Sat May 08 21:55:41 2010] [error] [client 86.26.8.30]  'INSERT INTO package_resource_revision (id, package_id, url, format, description, hash, position, state, revision_id, continuity_id) VALUES (%(id)s, %(package_id)s, %(url)s, %(format)s, %(description)s, %(hash)s, %(position)s, %(state)s, %(revision_id)s, %(continuity_id)s)' {'hash': '', 'description': 'The Treasury record of COFOG functions. ', 'format': 'XLS', 'url': 'http://www.hm-treasury.gov.uk/d/cofog_definitions_coins250609.xls', 'package_id': '8482334d-fe2e-4285-9114-5243130f80c0', 'state': 'active', 'continuity_id': '8bf302db-8a80-47d3-b5dc-bc07512a3928', 'position': 3, 'revision_id': 'e4e2cb2d-4bd5-414e-b646-e484f174d9ab', 'id': '8bf302db-8a80-47d3-b5dc-bc07512a3928'}, referer: http://ckan.net/package/edit/cofog
</pre>
                            
                          </td>
                          <td class="PosixTime">1273348968000000
                          </td>
                          <td class="ModifiedTime">1274282065000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/312.html">#312</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/312.html">Race condition creating PackageRating</a>
                          </td>
                          <td class="description">
                            <p>
On ckan.net there are a few packages which cause a 403 exception when you try to rate them:
<a class="ext-link" href="http://www.ckan.net/package/rate/coins-data?rating=3"><span class="icon">​</span>http://www.ckan.net/package/rate/coins-data?rating=3</a>
</p>
<p>
The exception is occuring here:
ckan.rating:39 in set_rating
rating_obj = rating_query.one()
<a class="missing wiki">InvalidRequestError?</a>: Multiple rows returned for one()
</p>
<p>
It looks like this package got rated twice in quick succession, creating two similar <a class="missing wiki">PackageRating?</a> objects. This race condition needs to be solved and these particular rating objects repaired.
</p>

                            
                          </td>
                          <td class="PosixTime">1273482785000000
                          </td>
                          <td class="ModifiedTime">1311176173000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/314.html">#314</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/314.html">Bugs getting revisions from the REST API</a>
                          </td>
                          <td class="description">
                            <p>
Bug report regarding getting revisions:
</p>
<p>
Getting revisons by ID (on the latest ID)
 
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_revision=44aac9b6-ba24-43a8-87a1-f6923dc523ff"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_revision=44aac9b6-ba24-43a8-87a1-f6923dc523ff</a>"
</p>
<p>
Returns a whole load of stuff (it's also quite slow - about 10 seconds)
</p>
<p>
I'm expecting it to return just an empty array - am I doing something
wrong here - if so could you clarify correct use of the API?
</p>
<p>
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-30T23:45"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-30T23:45</a>"
Returns the empty string - I'd expect an empty array ie []
</p>
<p>
GET "<a class="ext-link" href="http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-31T23:45"><span class="icon">​</span>http://test-hmg.ckan.net/api/search/revision?since_time=2010-04-31T23:45</a>"
Returns an internal server error 500 - I think it should probably be "bad
Request" 400 (the date is invalid)
</p>

                            
                          </td>
                          <td class="PosixTime">1273743755000000
                          </td>
                          <td class="ModifiedTime">1276523983000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/315.html">#315</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/315.html">Improvements and fixes to csv dump</a>
                          </td>
                          <td class="description">
                            <ol><li>Issues with quote in fields: <a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2010-May/000240.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2010-May/000240.html</a>
</li></ol><ol start="2"><li>Issues with package resource serialization into csv table.
</li></ol><p>
&lt;quote&gt;
In the latest dump there were 116(!) sets of the three columns (“resource-[n]-url”, “resource-[n]-format”, and “resource-[n]-description”). However, these are an extract of the packed “resource” column and I’m not sure whether they’re needed. Also, they irritatingly don’t appear in order in the CSV serialisation. If the resource columns could be ordered in the file that would be great; if a second version without the unpacked resource data would be excellent.
&lt;/quote&gt;
</p>

                            
                          </td>
                          <td class="PosixTime">1274100887000000
                          </td>
                          <td class="ModifiedTime">1275846764000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/316.html">#316</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/316.html">Search URL escaping</a>
                          </td>
                          <td class="description">
                            <p>
If you search for unescaped characters such as '`' (backtick) in the URL in Chrome then you get a 500 error.
</p>
<p>
e.g.
<a class="ext-link" href="http://www.ckan.net/package/search?q=fjdkf2B%C2%B4gfhgfkgf{gpk"><span class="icon">​</span>http://www.ckan.net/package/search?q=fjdkf2B%C2%B4gfhgfkgf{gpk</a>
fjdkf2B´gfhgfkgf{gpk
</p>
<p>
returns this exception:
</p>
<pre class="wiki">URL: http://www.ckan.net/package/search?q=fjdkf%2B%C2%B4gfhgfkgf%7Bg%C2%B4pk&amp;search=Search+Packages+%C2%BB
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module repoze.who.middleware:107 in __call__
&lt;&lt;          wrapper = StartResponseWrapper(start_response)
               app_iter = app(environ, wrapper.wrap_start_response)
       
               # The challenge decider almost(?) always needs information from the
&gt;&gt;  app_iter = app(environ, wrapper.wrap_start_response)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:50 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckan.controllers.package:52 in search
&lt;&lt;                  collection=query,
                       page=request.params.get('page', 1),
                       items_per_page=50
                   )
                   # filter out ranks from the query result
&gt;&gt;  items_per_page=50
Module webhelpers.paginate:333 in __init__
&lt;&lt;              self.item_count = item_count
               else:
                   self.item_count = len(self.collection)
       
               # Compute the number of the first and last available page
&gt;&gt;  self.item_count = len(self.collection)
Module webhelpers.paginate:204 in __len__
&lt;&lt;      def __len__(self):
               return self.obj.count()
       
       # Since the items on a page are mainly a list we subclass the "list" type
&gt;&gt;  return self.obj.count()
Module sqlalchemy.orm.query:1094 in count
&lt;&lt;              q = q.params(params)
               q = q._legacy_select_kwargs(**kwargs)
               return q._count()
       
           def _count(self):
&gt;&gt;  return q._count()
Module sqlalchemy.orm.query:1103 in _count
&lt;&lt;          """
               return self._col_aggregate(sql.literal_column('1'), sql.func.count, nested_cols=list(self.mapper.primary_key))
       
           def _col_aggregate(self, col, func, nested_cols=None):
&gt;&gt;  return self._col_aggregate(sql.literal_column('1'), sql.func.count, nested_cols=list(self.mapper.primary_key))
Module sqlalchemy.orm.query:1125 in _col_aggregate
&lt;&lt;          if self._autoflush and not self._populate_existing:
                   self.session._autoflush()
               return self.session.scalar(s, params=self._params, mapper=self.mapper)
       
           def compile(self):
&gt;&gt;  return self.session.scalar(s, params=self._params, mapper=self.mapper)
Module sqlalchemy.orm.session:635 in scalar
&lt;&lt;          engine = self.get_bind(mapper, clause=clause, instance=instance)
       
               return self.__connection(engine, close_with_result=True).scalar(clause, params or {})
       
           def close(self):
&gt;&gt;  return self.__connection(engine, close_with_result=True).scalar(clause, params or {})
Module sqlalchemy.engine.base:834 in scalar
&lt;&lt;          """
       
               return self.execute(object, *multiparams, **params).scalar()
       
           def statement_compiler(self, statement, **kwargs):
&gt;&gt;  return self.execute(object, *multiparams, **params).scalar()
Module sqlalchemy.engine.base:844 in execute
&lt;&lt;          for c in type(object).__mro__:
                   if c in Connection.executors:
                       return Connection.executors[c](self, object, multiparams, params)
               else:
                   raise exceptions.InvalidRequestError("Unexecutable object type: " + str(type(object)))
&gt;&gt;  return Connection.executors[c](self, object, multiparams, params)
Module sqlalchemy.engine.base:895 in execute_clauseelement
&lt;&lt;          else:
                   keys = None
               return self._execute_compiled(elem.compile(dialect=self.dialect, column_keys=keys, inline=len(params) &gt; 1), distilled_params=params)
       
           def _execute_compiled(self, compiled, multiparams=None, params=None, distilled_params=None):
&gt;&gt;  return self._execute_compiled(elem.compile(dialect=self.dialect, column_keys=keys, inline=len(params) &gt; 1), distilled_params=params)
Module sqlalchemy.engine.base:907 in _execute_compiled
&lt;&lt;          context.pre_execution()
               self.__execute_raw(context)
               context.post_execution()
               self._autocommit(context)
&gt;&gt;  self.__execute_raw(context)
Module sqlalchemy.engine.base:916 in __execute_raw
&lt;&lt;              self._cursor_executemany(context.cursor, context.statement, context.parameters, context=context)
               else:
                   self._cursor_execute(context.cursor, context.statement, context.parameters[0], context=context)
       
           def _execute_ddl(self, ddl, params, multiparams):
&gt;&gt;  self._cursor_execute(context.cursor, context.statement, context.parameters[0], context=context)
Module sqlalchemy.engine.base:958 in _cursor_execute
&lt;&lt;              self.engine.logger.info(repr(parameters))
               try:
                   self.dialect.do_execute(cursor, statement, parameters, context=context)
               except Exception, e:
                   self._handle_dbapi_exception(e, statement, parameters, cursor)
&gt;&gt;  self.dialect.do_execute(cursor, statement, parameters, context=context)
Module sqlalchemy.engine.default:133 in do_execute
&lt;&lt;      def do_execute(self, cursor, statement, parameters, context=None):
               cursor.execute(statement, parameters)
       
           def is_disconnect(self, e):
&gt;&gt;  cursor.execute(statement, parameters)
UnicodeEncodeError: 'ascii' codec can't encode character u'\xb4' in position 6: ordinal not in range(128)
</pre>
                            
                          </td>
                          <td class="PosixTime">1274265928000000
                          </td>
                          <td class="ModifiedTime">1291831177000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/318.html">#318</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnglover
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2011-10-28.html">ckan-sprint-2011-10-28</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/318.html">Insufficient validation of resource URIs</a>
                          </td>
                          <td class="description">
                            <p>
The CKAN instance on data.gov.uk serves invalid URIs out of its API.
</p>
<p>
For example the following can be found,
</p>
<p>
<a class="ext-link" href="http://uk.sitestat.com/homeoffice/rds/s?rds.hosb0509tabsxls&amp;ns_type=pdf&amp;ns_url=[http://www.homeoffice.gov.uk/rds/pdfs09/hosb0509tabs.xls"><span class="icon">​</span>http://uk.sitestat.com/homeoffice/rds/s?rds.hosb0509tabsxls&amp;ns_type=pdf&amp;ns_url=[http://www.homeoffice.gov.uk/rds/pdfs09/hosb0509tabs.xls</a>]
</p>
<p>
In this URI, the : and / characters after the ? in the query part are invalid according to section 3.4 of RFC2396
</p>
<p>
Also URIs are not stripped of whitespace at the end.
</p>
<p>
This causes problems when other software with a more correct interpretation of what a valid URI is attempts to consume data from CKAN. In this instance the Talis triplestore complains about such URIs.
</p>
<p>
"Be liberal in what you accept and conservative in what you send" would seem apt.
</p>
<h2 id="Actions">Actions</h2>
<ul><li>Validation of urls as part of form entry or data loading
<ul><li>Need to consider situation where this should happen out-of-band (i.e. we allow load even with invalid data and then flag bad dates in separate validation process). In general doubtful that we should do this here because url invalidity is such a big deal
</li></ul></li><li>This code should support analysis of existing data so we can go through existing database and find invalid urls
<ul><li>Also useful to have this so we can do out of band validation 
</li></ul></li></ul>
                            
                          </td>
                          <td class="PosixTime">1274302723000000
                          </td>
                          <td class="ModifiedTime">1349778662000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/319.html">#319</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/319.html">Local Authority license misnamed in migration script 18</a>
                          </td>
                          <td class="description">
                            <p>
Migration script 18 converts license "OKD Compliant::Local Authority Copyright with data.gov.uk rights" into "uklocalauthority-withrights" when it should be "localauth-withrights", according to the license service SoS 2. This causes clients difficulties looking it up.
</p>

                            
                          </td>
                          <td class="PosixTime">1274349714000000
                          </td>
                          <td class="ModifiedTime">1274366882000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/327.html">#327</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/327.html">Create a web hook worker for CKAN</a>
                          </td>
                          <td class="description">
                            <blockquote>
<p>
This will be useful as an example consumer of the new queue notifications (<a class="closed ticket" href="../ticket/325.html" title="enhancement: Event push notification (closed: fixed)">#325</a>). 
</p>
</blockquote>
<ul><li>A user can register any URL to be notified upon an event.  
</li><li>Possible extensions: GET with ID only vs. POST with serialized object
</li><li>E-Mail notifications are also hooks, essentially. 
</li></ul><p>
We need to have a UI module that allows for the hook CRUD and some feedback (e.g. non 200 status codes)
</p>

                            
                          </td>
                          <td class="PosixTime">1274807361000000
                          </td>
                          <td class="ModifiedTime">1296467361000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/329.html">#329</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/329.html">Bad dates cause exception on Gov form</a>
                          </td>
                          <td class="description">
                            <h2 id="Reproduction">Reproduction</h2>
<p>
Using the government form, create a new package with name 'test' and date released of '23/5/0210'. The result is a 500 error and 'Server Error' message.
</p>
<p>
Affects all versions of CKAN.
</p>
<h2 id="Whyitshappening">Why it's happening</h2>
<p>
The dates module is raising an exception on the invalid date when saving the date, which is not being caught. The exception should have been raised only during the earlier 'validation' step and that would be caught.
</p>

                            
                          </td>
                          <td class="PosixTime">1275060617000000
                          </td>
                          <td class="ModifiedTime">1275079189000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/330.html">#330</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/330.html">getdata/ons timezone not recognised on non-British servers</a>
                          </td>
                          <td class="description">
                            <p>
The python time module is supposed to recognise timezones such as 'UTC', 'GMT' and 'BST' using the %Z parameter. This works fine on British installs, but the buildbot (for example) gives this error:
</p>
<p>
<a class="missing wiki">DateConvertError?</a>: Could not read date as ISO format "%a, %d %b %Y %H:%M:%S %Z". Date provided: "Mon, 04 Jan 2010 09:30:00 BST"
</p>
<p>
It turns out that it only recognises local names of timezones.
</p>
<p>
The ONS import doesn't care much about timezone, so we should just ignore it, avoiding these problems.
</p>

                            
                          </td>
                          <td class="PosixTime">1275300271000000
                          </td>
                          <td class="ModifiedTime">1275303122000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/332.html">#332</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/332.html">Autocomplete tag on click</a>
                          </td>
                          <td class="description">
                            <p>
During tag autocompletion, clicking on a suggested tag doesn't trigger completion in the text box.
</p>

                            
                          </td>
                          <td class="PosixTime">1275302887000000
                          </td>
                          <td class="ModifiedTime">1280743320000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/334.html">#334</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/334.html">Wrong link for package feed icon</a>
                          </td>
                          <td class="description">
                            <p>
This is a problem with the package page e.g. <a class="ext-link" href="http://ckan.net/package/open-election-data-project"><span class="icon">​</span>http://ckan.net/package/open-election-data-project</a> . The feed icon links to <a class="missing changeset" title="No default repository defined">[1]</a>  and the text next to it "Subscribe" links to <a class="missing changeset" title="No default repository defined">[2]</a>. Surely these should be the same? The second link seems to right one to me.
</p>
<ul><li><a class="missing changeset" title="No default repository defined">[1]</a> <a class="ext-link" href="http://ckan.net/package/open-election-data-project?format=atom"><span class="icon">​</span>http://ckan.net/package/open-election-data-project?format=atom</a>
</li><li><a class="missing changeset" title="No default repository defined">[2]</a> <a class="ext-link" href="http://ckan.net/package/history/open-election-data-project?format=atom&amp;days=7"><span class="icon">​</span>http://ckan.net/package/history/open-election-data-project?format=atom&amp;days=7</a>
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1275407445000000
                          </td>
                          <td class="ModifiedTime">1280743667000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/336.html">#336</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">donovanhide
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/v1.1.html">v1.1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/336.html">Resource Search API</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
CKAN client such as ScraperWiki
</p>
<h2 id="Iwantto">I want to</h2>
<p>
search for Package Resources, either by URL or other field, or just get them all. I want to be able to get all the resource's fields, such as URL.
</p>
<h2 id="Proposedimplementation">Proposed implementation</h2>
<p>
Add resource search API at:
</p>
<p>
/api/search/resource
</p>
<p>
AND resource added to model API at:
</p>
<p>
api/rest/resource
</p>
<blockquote>
<p>
(see <a class="closed ticket" href="../ticket/358.html" title="enhancement: Resources in REST API (closed: duplicate)">ticket:358</a>)
</p>
</blockquote>
<p>
Functional differences from the ScraperWiki suggested patch:
</p>
<ul><li>URL is not normalised
</li></ul><p>
 
</p>
<ul><li>URLs are not grouped
</li></ul><ul><li>All fields of the resource object are returned, not just the URL
</li></ul><ul><li>Package is identified by its ID, not name or full URL. (This is for consistency in the API - you can simple prepend '<a class="ext-link" href="http://ckan.net/package/"><span class="icon">​</span>http://ckan.net/package/</a>' to the package ID)
</li></ul><p>
This is to make our API more general, simple and consistent. It means that the ScraperWiki client has to do a bit more processing to get exactly what it needs. Is this ok?
</p>
<h3 id="Examplesearch">Example search</h3>
<p>
POST 
</p>
<pre class="wiki">{"url": "scraperwiki.com/", "all_fields": 1}
</pre><p>
to: /api/2/search/resource
</p>
<p>
returns JSON:
</p>
<pre class="wiki"> [{"id": "a3dd8f64-9078-4f04-845c-e3f047125028",
   "package_id": "b8a325c8-af2a-43f3-8245-9db7d73dfbfe",
   "URL": "http://scraperwiki.com/lincolnshire-councillors", 
   "format": "CSV", 
   "Description": "Scrape of www.lincs.gov/councillors.pdf by ScraperWiki.",
   "hash": "", 
   "position": 2
 }]
</pre><p>
Note use of package_id instead of package_name is something we're moving towards in the API, since names can change. When we've done <a class="closed ticket" href="../ticket/341.html" title="enhancement: Web UI accepts package IDs in URLs (closed: fixed)">ticket:341</a> then ckan.net/package/lincs-councillors will be a synonym of ckan.net/package/b8a325c8-af2a-43f3-8245-9db7d73dfbfe
</p>
<h3 id="SearchParameters">Search Parameters</h3>
<pre class="wiki">Key:  q
Description: Search all resource fields for the value

Key: url / description / format / 
Description: Search particular field for the value

Key: all_fields
Value: 0 or 1 (0 is default)
Description: If 1 (true), the full record of the package resource
(and it's package reference) are returned, rather than just the
PackageResource ID.
</pre><p>
May also choose to introduce 'offset' and 'limit' to page through a large number of results.
</p>
<p>
JSONP achieved through API-wide parameter - see <a class="closed ticket" href="../ticket/342.html" title="enhancement: JSONP parameter in API (closed: fixed)">ticket:342</a>
</p>
<p>
Search is case insensitive.
</p>
<h2 id="Originalrequest">Original request</h2>
<p>
Hi,
have attached a patch for adding a resource list api call. Have also added a JSONP compatible callback section, along the lines of <a class="closed ticket" href="../ticket/388.html" title="task: Reply to &#34;two projects&#34; question from RS (closed: fixed)">#388</a>.
</p>
<p>
Could also add a search version. Not sure what the best url would be for that though.
</p>
<p>
Haven't written a test as the structure seems to follow a functional spec. Is that document around somewhere?
</p>
<p>
Donovan
</p>

                            
                          </td>
                          <td class="PosixTime">1275411765000000
                          </td>
                          <td class="ModifiedTime">1279373842000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/339.html">#339</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/339.html">Remove download_url from package data format in API Version 2, but maintain the old data format in the old version of the interface (API Version 1)</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1275901499000000
                          </td>
                          <td class="ModifiedTime">1278074705000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/343.html">#343</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/343.html">Packages referred by ID in API</a>
                          </td>
                          <td class="description">
                            <p>
When you do a Package Search or query a Package Relationship in the API version 2, the responses have relationships which refer to packages by name, not by ID.
</p>

                            
                          </td>
                          <td class="PosixTime">1276180179000000
                          </td>
                          <td class="ModifiedTime">1278066420000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/344.html">#344</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/344.html">REST Create package with incorrect format gives 500 error</a>
                          </td>
                          <td class="description">
                            <p>
PUT to /rest/api/package of <tt> {"name": "name", "resources": ["someurl.com/data"] } </tt> (i.e. resource is a string, not a dictionary) gives 500 error, when it should give a 400 error and helpful error message.
</p>
<p>
Exception:
</p>
<pre class="wiki">Module ckan.controllers.rest:154 in create
&lt;&lt;              if register == 'package' and not subregister:
                       fs = ckan.forms.get_standard_fieldset()
                       request_fa_dict = ckan.forms.edit_package_dict(ckan.forms.get_package_dict(fs=fs), request_data)
                       fs = fs.bind(model.Package, data=request_fa_dict, session=model.Session)
                   elif register == 'package' and subregister in model.PackageRelationship.get_all_types():
&gt;&gt;  request_fa_dict = ckan.forms.edit_package_dict(ckan.forms.get_package_dict(fs=fs), request_data)
Module ckan.forms.package_dict:88 in edit_package_dict
&lt;&lt;                      for res_dict in value:
                               res_dict_str = {}
                               for key, value in res_dict.items():
                                   res_dict_str[str(key)] = value
                               resources.append(res_dict_str)
&gt;&gt;  for key, value in res_dict.items():
AttributeError: 'unicode' object has no attribute 'items'
</pre>
                            
                          </td>
                          <td class="PosixTime">1276341172000000
                          </td>
                          <td class="ModifiedTime">1277477712000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/346.html">#346</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/346.html">Revision search API (response data format and documentation issue)</a>
                          </td>
                          <td class="description">
                            <p>
Whilst going through the API docs for the revision search API, it was noticed that the "Gdu" SoS doc doesn't match up. It returns revision IDs (perhaps this is useful to note in the spec?) so the format is probably not 'limitedstring'. Also, they appear to be ordered youngest first, not oldest as stated.
</p>
<p>
And in the revision model, it refers to 'simplestring' which it
doesn't define - I guess the names should be 'limitedstring'?
</p>
<p>
Could this be checked out?
</p>

                            
                          </td>
                          <td class="PosixTime">1276523517000000
                          </td>
                          <td class="ModifiedTime">1296477510000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/349.html">#349</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/349.html">The system shall support authorised users to edit packages on data.gov.uk</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1276523851000000
                          </td>
                          <td class="ModifiedTime">1282908974000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/353.html">#353</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/353.html">SOLR search indexing</a>
                          </td>
                          <td class="description">
                            <h2 id="Asa">As a</h2>
<p>
SOLR instance
</p>
<h2 id="Iwantto">I want to</h2>
<p>
keep my search index of CKAN packages up-to-date 
</p>
<h2 id="Implementation">Implementation</h2>
<ul><li>Using asynchronous event notifications
</li><li>Running in a separate process to CKAN
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1277123480000000
                          </td>
                          <td class="ModifiedTime">1280756399000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/354.html">#354</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/354.html">Collect together requirements and top-level design for user/package 'groups'</a>
                          </td>
                          <td class="description">
                            <p>
Collect together requirements and top-level design for user/package 'groups': existing tickets, Rufus spec, Sean spec, meeting notes (dread) email, based on existing user authz stuff.
</p>
<p>
<a class="ext-link" href="http://knowledgeforge.net/ckan/trac/wiki/AccessControl"><span class="icon">​</span>http://knowledgeforge.net/ckan/trac/wiki/AccessControl</a>
</p>
<p>
Do we add these into user-role table somehow or new table? To present this to team
</p>

                            
                          </td>
                          <td class="PosixTime">1277131335000000
                          </td>
                          <td class="ModifiedTime">1282908983000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/355.html">#355</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/355.html">Dashes versus underscores in package names</a>
                          </td>
                          <td class="description">
                            <p>
Sort out how we deal with dashes versus underscores in package names.
</p>

                            
                          </td>
                          <td class="PosixTime">1277221996000000
                          </td>
                          <td class="ModifiedTime">1311177552000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/357.html">#357</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/357.html">Fix API documentation, to correct misleading HTTP_AUTHORIZATION statement.</a>
                          </td>
                          <td class="description">
                            <p>
Sean Burlington wrote:
</p>
<blockquote class="citation">
<p>
I recently came across a documentation issue
</p>
<p>
<a class="ext-link" href="http://knowledgeforge.net/ckan/doc/ckan/api.html"><span class="icon">​</span>http://knowledgeforge.net/ckan/doc/ckan/api.html</a>
</p>
<hr />
<p>
The key should be passed in the API request header:
Header         Example value
HTTP_AUTHORIZATION         fde34a3c-b716-4c39-8dc4-881ba115c6d4
</p>
<hr />
<p>
But the header name is actually just 'AUTHORIZATION'
</p>
<p>
For example to set it in PHP
</p>
<p>
curl_setopt($ch, CURLOPT_HTTPHEADER, array('AUTHORIZATION:
xxxxx-xxxx-xxxx-xxxx-xxxxxxx'));
</p>
</blockquote>

                            
                          </td>
                          <td class="PosixTime">1277459886000000
                          </td>
                          <td class="ModifiedTime">1277461466000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/360.html">#360</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datapkg-0.7.html">datapkg-0.7</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/360.html">New sqlite-based DB index</a>
                          </td>
                          <td class="description">
                            <p>
In 0.5 and 0.6 have been more oriented to getting file indexes working to support the convenience of using packages on disk directly. However we now need to go back to having a better central/default index and the best model for this is a simple db index using sqlite (which is now supported in the standard library).
</p>
<p>
NB: this is a retrospective ticket (been working on this for a couple of months)
</p>

                            
                          </td>
                          <td class="PosixTime">1277803174000000
                          </td>
                          <td class="ModifiedTime">1288004891000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/362.html">#362</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/362.html">Ratings should not be created with a GET</a>
                          </td>
                          <td class="description">
                            <h2 id="Background">Background</h2>
<p>
In the Web UI, when you rate a package it simply links to something like:
</p>
<p>
<a class="ext-link" href="http://ckan.net/package/rate/mke-liquor-licenses?rating=3"><span class="icon">​</span>http://ckan.net/package/rate/mke-liquor-licenses?rating=3</a>
</p>
<p>
This creates a GET request. 
</p>
<p>
This is bad because:
</p>
<ul><li>Search engine crawlers follow links to find pages, and in this case end up creating a rating (although we've got a robots.txt to try and avoid this)
</li><li>There are occasions when we want to make a CKAN instance read-only, so we put a &lt;<a class="missing wiki">LimitExcept?</a> GET&gt; Apache instruction in. But the database may still get written for these ratings.
</li><li>Best practise for web requests is for GET to be a read-only request.
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1278925451000000
                          </td>
                          <td class="ModifiedTime">1311176564000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/363.html">#363</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/363.html">Blank revisions</a>
                          </td>
                          <td class="description">
                            <p>
Occasionally we seem to get revisions that are not connected to packages. These shouldn't appear, since all revisioned objects are linked to a package aren't they?
</p>
<p>
They appear on the 'Recently changed' list on the home page with an empty 'Packages' column.
</p>

                            
                          </td>
                          <td class="PosixTime">1278947772000000
                          </td>
                          <td class="ModifiedTime">1310125872000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/364.html">#364</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/364.html">Search for 'statistic' returns nothing</a>
                          </td>
                          <td class="description">
                            <p>
On ckan.net there are plenty of packages (and indeed their tags) with the word 'statistic' in them, but no packages turn up when you search for it:
</p>
<p>
<a class="ext-link" href="http://ckan.net/package/search?q=statistic&amp;search=Search+Packages+%C2%BB"><span class="icon">​</span>http://ckan.net/package/search?q=statistic&amp;search=Search+Packages+%C2%BB</a>
</p>
<p>
(Using Postgres full text search)
</p>

                            
                          </td>
                          <td class="PosixTime">1278949620000000
                          </td>
                          <td class="ModifiedTime">1291637291000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/368.html">#368</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">anonymous
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/368.html">500 Server error when creating package</a>
                          </td>
                          <td class="description">
                            <p>
I've just started writing the importer from cap.open.org.nz and was running an initial import of just the package name and titles. The packages were created however I received a 500 error in response:
</p>
<p>
"publish: New Zealand Coastline (new-zealand-coastline)"
opening connection to nz.ckan.net...
opened
&lt;- "POST /api/rest/package HTTP/1.1\r\nContent-Type: application/x-www-form-urlencoded\r\nConnection: close\r\nAuthorization: 81179ade-fa4a-4632-9b89-3d0c98bfc8b8\r\nContent-Length: 64\r\nHost: nz.ckan.net\r\n\r\n"
&lt;- "{\"name\":\"new-zealand-coastline\",\"title\":\"New Zealand Coastline\"}"
-&gt; "HTTP/1.1 500 Internal Server Error\r\n"
-&gt; "Date: Tue, 20 Jul 2010 10:20:35 GMT\r\n"
-&gt; "Server: Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2\r\n"
-&gt; "Vary: Accept-Encoding\r\n"
-&gt; "Content-Type: text/html; charset=iso-8859-1\r\n"
-&gt; "Cache-Control: proxy-revalidate\r\n"
-&gt; "Content-Length: 640\r\n"
-&gt; "Connection: close\r\n"
-&gt; "\r\n"
reading 640 bytes...
-&gt; "&lt;!DOCTYPE HTML PUBLIC \"-<em>IETF</em>DTD HTML 2.0<em>EN\"&gt;\n&lt;html&gt;&lt;head&gt;\n&lt;title&gt;500 Internal Server Error&lt;/title&gt;\n&lt;/head&gt;&lt;body&gt;\n&lt;h1&gt;Internal Server Error&lt;/h1&gt;\n&lt;p&gt;The server encountered an internal error or\nmisconfiguration and was unable to complete\nyour request.&lt;/p&gt;\n&lt;p&gt;Please contact the server administrator,\n [no address given] and inform them of the time the error occurred,\nand anything you might have done that may have\ncaused the error.&lt;/p&gt;\n&lt;p&gt;More information about this error may be available\nin the server error log.&lt;/p&gt;\n&lt;hr&gt;\n&lt;address&gt;Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2 Server at nz.ckan.net Port 80&lt;/address&gt;\n&lt;/body&gt;&lt;/html&gt;\n"
read 640 bytes
Conn close
</em></p>
<p>
The server should not respond with a 500 error if the package was created. 
</p>

                            
                          </td>
                          <td class="PosixTime">1279622462000000
                          </td>
                          <td class="ModifiedTime">1291831811000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/381.html">#381</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/381.html">Test defect</a>
                          </td>
                          <td class="description">
                            <p>
please ignore
</p>

                            
                          </td>
                          <td class="PosixTime">1280345937000000
                          </td>
                          <td class="ModifiedTime">1294410466000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/432.html">#432</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/432.html">Creating package over REST gives 500 error</a>
                          </td>
                          <td class="description">
                            <p>
This occurs when CKAN is run with mod_wsgi (not under paster).
</p>
<p>
This is because of a unicode header being creating in rest.py.
</p>

                            
                          </td>
                          <td class="PosixTime">1282065101000000
                          </td>
                          <td class="ModifiedTime">1282552819000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/433.html">#433</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/datapkg-0.8.html">datapkg-0.8</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/433.html">Data package metadata in the Egg</a>
                          </td>
                          <td class="description">
                            <p>
Still not sure if we shouldn't use the existing setuptools machinery to manage this -- there is already a way to get at the metadata. In any event, I've just made an addition to datapkg that makes it possible to put datapkg_sources as a dictionary in your package's setup.py. Afterwards it is possible to pull the metadata out of the egg. Of course this could easily be changed to save the information in whatever form, indeed if you pass it a string instead of a dictionary it will just write whatever you gave it into the datapkg_sources.spec. The point is, I think that the egg is a good place to stuff this information.
</p>
<p>
For non-python users, it is always possible to simply put up the datapkg_sources.spec somewhere on the web so they can directly retrieve the data files.
</p>
<p>
From the docstring::
</p>
<pre class="wiki">    This is the implementation for an [egg_info.writers] entrypoint.
    Datapkg adds an argument to setuptools's setup() function called
    datapkg_sources. The argument should be a dictionary of the form:

    .. code-block:: python

        setup(
            ...,
            datapkg_sources = {
                "cra2009" : "http://www.hm-treasury.gov.uk/d/cra_2009_db.csv"
            }
        )

    The result of this is that there will be a file in the egg called
    datapkg_sources.spec that looks like this::

        [sources]
        cra2009=http://www.hm-treasury.gov.uk/d/cra_2009_db.csv

    How do you get at this data? Simple::

    .. code-block:: python

        import pkg_resources
        dist = pkg_resources.get_distribution("ukgov_treasury_cra")
        spec = dist.get_metadata("datapkg_sources.spec")

    and 'spec' will be the contents of the file as a string.
</pre>
                            
                          </td>
                          <td class="PosixTime">1282078660000000
                          </td>
                          <td class="ModifiedTime">1283183647000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/434.html">#434</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/434.html">Logged in user to si.ckan.net causes genshi exception</a>
                          </td>
                          <td class="description">
                            <p>
Here's the trace:
</p>
<pre class="wiki">[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197] Error - &lt;type 'exceptions.IndexError'&gt;: list index out of range
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197] mod_wsgi (pid=6195): Exception occurred processing WSGI script '/home/okfn/var/srvc/si.ckan.net/py
env/bin/si.ckan.net.py'.
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197] Traceback (most recent call last):
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/paste/cascade.py", line 
130, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return self.apps[-1](environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/paste/registry.py", line
 375, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     app_iter = self.application(environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/repoze/who/middleware.py
", line 107, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     app_iter = app(environ, wrapper.wrap_start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/middleware.py", l
ine 214, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     self.app, new_environ, catch_exc_info=True)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/util.py", line 94
, in call_wsgi_application
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     app_iter = application(environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/weberror/errormiddleware
.py", line 156, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return self.application(environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/beaker/middleware.py", l
ine 73, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return self.app(environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/beaker/middleware.py", l
ine 152, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return self.wrap_app(environ, session_start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/routes/middleware.py", l
ine 130, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     response = self.app(environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/wsgiapp.py", line
 125, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     response = self.dispatch(controller, environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/wsgiapp.py", line
 324, in dispatch
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return controller(environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/src/ckan/ckan/lib/base.py", line 73, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return WSGIController.__call__(self, environ, start_response)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/controllers/core.
py", line 221, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     response = self._dispatch_call()
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/controllers/core.
py", line 172, in _dispatch_call
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     response = self._inspect_call(func)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/controllers/core.
py", line 107, in _inspect_call
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     result = self._perform_call(func, args)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/pylons/controllers/core.
py", line 60, in _perform_call
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return func(**args)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/src/ckan/ckan/controllers/error.py", line 32, in doc
ument
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     ckan_template = render('error_document_template.html')
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/src/ckan/ckan/lib/base.py", line 38, in render
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return render_template()
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/src/ckan/ckan/lib/base.py", line 36, in render_templ
ate
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return literal(stream.render(method=method, encoding=None))
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/core.py", line 18
3, in render
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return encode(generator, method=method, encoding=encoding, out=out)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/output.py", line 
57, in encode
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     return _encode(''.join(list(iterator)))
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/output.py", line 339, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for kind, data, pos in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/output.py", line 670, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for kind, data, pos in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/output.py", line 771, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for kind, data, pos in chain(stream, [(None, None, None)]):
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/output.py", line 586, in __call__
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for ev in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/core.py", line 288, in _ensure
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for event in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/template/base.py", line 618, in _include
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for event in tmpl.generate(ctxt, **vars):
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/template/base.py", line 618, in _include
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for event in tmpl.generate(ctxt, **vars):
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/template/base.py", line 605, in _include
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for event in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/template/markup.py", line 327, in _match
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for event in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/template/base.py", line 545, in _flatten
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for kind, data, pos in stream:
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/filters/i18n.py", line 177, in _generate
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     for event in msgbuf.translate(gettext(msgbuf.format())):
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/filters/i18n.py", line 1029, in translate
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     parts = parse_msg(string)
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]   File "/home/okfn/var/srvc/si.ckan.net/pyenv/lib/python2.5/site-packages/genshi/filters/i18n.py", line 1143, in parse_msg
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197]     parts.append((stack[-1], string))
[Wed Aug 18 11:10:19 2010] [error] [client 89.212.104.197] IndexError: list index out of range
</pre><p>
ckan: 1e403927f2bb (metastable)
genshi: 0.6
lang: slovenian
</p>

                            
                          </td>
                          <td class="PosixTime">1282130515000000
                          </td>
                          <td class="ModifiedTime">1283189807000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/435.html">#435</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/435.html">Switching between ckan instances causes orphaned postgres processes</a>
                          </td>
                          <td class="description">
                            <p>
Analysis using pg_top reveals orphaed processes:
</p>
<p>
<a class="ext-link" href="https://trac.dataco.coi.gov.uk/projects/datagov/ticket/460#comment:6"><span class="icon">​</span>https://trac.dataco.coi.gov.uk/projects/datagov/ticket/460#comment:6</a>
</p>
<p>
This followed switching ckan instances on the dgu machine. Do these hang around forever clogging up a db server? Can switching between instances be smoothed to avoid this?
</p>

                            
                          </td>
                          <td class="PosixTime">1282147736000000
                          </td>
                          <td class="ModifiedTime">1298284084000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/460.html">#460</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/460.html">State field changed by non-sysadmin</a>
                          </td>
                          <td class="description">
                            <p>
This package:
</p>
<p>
<a class="ext-link" href="http://ckan.net/package/dbtune-audioscrobbler"><span class="icon">​</span>http://ckan.net/package/dbtune-audioscrobbler</a>
</p>
<p>
was:
</p>
<ol><li>created by Richard (logged-in)
</li><li>edited by Richard (logged-in)
</em></li></ol><p>
(According to the logs, at this point the state was changed from 'active' to 'deleted') -- RP was it set to 'deleted' or just <em>?
</p>
<ol start="3"><li>pudo changed the state back to active
</li></ol><p>
Similarly an incident with bibbase package where field set to <em> (see <a class="ext-link" href="http://ckan.net/revision/diff/bibbase?diff=702bb0a3-03b7-49ac-87ad-e489c414962f&amp;oldid=5447842d-b6ed-41d9-9cfd-8bb73b85c409"><span class="icon">​</span>http://ckan.net/revision/diff/bibbase?diff=702bb0a3-03b7-49ac-87ad-e489c414962f&amp;oldid=5447842d-b6ed-41d9-9cfd-8bb73b85c409</a>)
</em></p>
<p>
Need to investigate how this got changed, fix if necessary and report back to Richard. Note that package 'admins' as well as sysadmins can change the state of a package (though note that bibbase did not appear to have an owner).
</p>
<p>
Suggested solution (for setting to <em>):
</em></p>
<ul><li>Ensure in ckan/forms.py that there is a validator for state field that ensures only set to valid values.
</li><li>Check that we do not allow state to be changed in the api except by package owner or sysadmin
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1282300002000000
                          </td>
                          <td class="ModifiedTime">1311176868000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/463.html">#463</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/463.html">package diff exception</a>
                          </td>
                          <td class="description">
                            <p>
Investigate exception:
</p>
<pre class="wiki">
URL: http://ckan.net/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:73 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']    
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckan.controllers.revision:119 in diff
&lt;&lt;          c.revision_to = model.Session.query(model.Revision).get(
                   request.params.getone('diff'))
               diff = pkg.diff(c.revision_to, c.revision_from)
               c.diff = diff.items()
               c.diff.sort()
&gt;&gt;  diff = pkg.diff(c.revision_to, c.revision_from)
Module ckan.model.package:340 in diff
&lt;&lt;                              display_id = to_obj_rev.tag.name
                               elif obj_class.__name__ == 'PackageExtra':
                                   display_id = to_obj_rev.key
                               else:
                                   display_id = related_obj_id[:4]
&gt;&gt;  display_id = to_obj_rev.key
AttributeError: 'NoneType' object has no attribute 'key'
CGI Variables
AUTH_TYPE	'cookie'
DOCUMENT_ROOT	'/htdocs'
GATEWAY_INTERFACE	'CGI/1.1'
HTTP_ACCEPT	'application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5'
HTTP_ACCEPT_CHARSET	'ISO-8859-1,utf-8;q=0.7,*;q=0.3'
HTTP_ACCEPT_ENCODING	'gzip'
HTTP_ACCEPT_LANGUAGE	'en-US,en;q=0.8'
HTTP_CACHE_CONTROL	'max-age=0'
HTTP_COOKIE	'__utmz=27730403.1281000628.1.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=ckan; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; __utma=27730403.1381387877.1281962773.1282248244.1282250173.11; __utmc=27730403; __utmb=27730403.6.10.1282250173'
HTTP_HOST	'ckan.net'
HTTP_REFERER	'http://ckan.net/package/history/dbtune-audioscrobbler'
HTTP_USER_AGENT	'Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6_4; en-US) AppleWebKit/534.6 (KHTML, like Gecko) Chrome/6.0.490.1 Safari/534.6'
PATH	'/usr/local/bin:/usr/bin:/bin'
PATH_INFO	'/revision/diff/dbtune-audioscrobbler'
PATH_TRANSLATED	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py/revision/diff/dbtune-audioscrobbler'
QUERY_STRING	'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
REMOTE_ADDR	'92.226.62.168'
REMOTE_PORT	'55102'
REMOTE_USER	'http://pudo.org/'
REMOTE_USER_TOKENS	['']
REQUEST_METHOD	'GET'
REQUEST_URI	'/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
SCRIPT_FILENAME	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py'
SCRIPT_URI	'http://ckan.net/revision/diff/dbtune-audioscrobbler'
SCRIPT_URL	'/revision/diff/dbtune-audioscrobbler'
SERVER_ADDR	'10.226.226.118'
SERVER_ADMIN	'[no address given]'
SERVER_NAME	'ckan.net'
SERVER_PORT	'80'
SERVER_PROTOCOL	'HTTP/1.1'
SERVER_SIGNATURE	'&lt;address&gt;Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2 Server at ckan.net Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE	'Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2'
WSGI Variables
application	&lt;beaker.middleware.CacheMiddleware object at 0xbb528cc&gt;
beaker.cache	&lt;beaker.cache.CacheManager object at 0xbb528ec&gt;
beaker.get_session	&lt;bound method SessionMiddleware._get_session of &lt;beaker.middleware.SessionMiddleware object at 0xbb5286c&gt;&gt;
beaker.session	{'_accessed_time': 1282252047.603267, '_creation_time': 1282252047.603267}
mod_wsgi.application_group	'ckan.net|'
mod_wsgi.callable_object	'application'
mod_wsgi.listener_host	''
mod_wsgi.listener_port	'80'
mod_wsgi.process_group	''
mod_wsgi.reload_mechanism	'0'
mod_wsgi.script_reloading	'1'
mod_wsgi.version	(2, 5)
paste.cookies	(&lt;SimpleCookie: __utma='27730403.1381387877.1281962773.1282248244.1282250173.11' __utmb='27730403.6.10.1282250173' __utmc='27730403' __utmz='27730403.1281000628.1.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=ckan' auth_tkt='e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!'&gt;, '__utmz=27730403.1281000628.1.6.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=ckan; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; auth_tkt="e919c7bb40f890a0184ed7be95465e1a4c6d130bhttp://pudo.org/!"; __utma=27730403.1381387877.1281962773.1282248244.1282250173.11; __utmc=27730403; __utmb=27730403.6.10.1282250173')
paste.parsed_querystring	([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')], 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
paste.registry	&lt;paste.registry.Registry object at 0xf702aec&gt;
paste.throw_errors	True
pylons.action_method	&lt;bound method RevisionController.diff of &lt;ckan.controllers.revision.RevisionController object at 0xf6eaf0c&gt;&gt;
pylons.controller	&lt;ckan.controllers.revision.RevisionController object at 0xf6eaf0c&gt;
pylons.environ_config	{'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons	&lt;pylons.util.PylonsContext object at 0xf6eaa8c&gt;
pylons.routes_dict	{'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'}
repoze.who.identity	&lt;repoze.who identity (hidden, dict-like) at 280815340&gt;
repoze.who.logger	&lt;logging.Logger instance at 0xbcdfccc&gt;
repoze.who.plugins	{'openid': &lt;OpenIdIdentificationPlugin 196612236&gt;, 'auth_tkt': &lt;AuthTktCookiePlugin 198048140&gt;}
routes.route	&lt;routes.route.Route object at 0xbbc44cc&gt;
routes.url	&lt;routes.util.URLGenerator object at 0xf5e55ec&gt;
webob._parsed_query_vars	(GET([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')]), 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
webob.adhoc_attrs	{'language': 'en-us'}
wsgi process	'Multi process AND threads (?)'
wsgi.file_wrapper	&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0xfe0b0b0&gt;
wsgiorg.routing_args	(&lt;routes.util.URLGenerator object at 0xf5e55ec&gt;, {'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'})
</pre>
                            
                          </td>
                          <td class="PosixTime">1282306037000000
                          </td>
                          <td class="ModifiedTime">1294916148000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/500.html">#500</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/500.html">Exception from diff</a>
                          </td>
                          <td class="description">
                            <p>
Investigate exception occured occasionally in last couple of days on ckan.net:
</p>
<pre class="wiki">WebApp Error: &lt;type 'exceptions.AttributeError'&gt;: 'NoneType' object has no attribute 'key' 					

URL: http://ckan.net/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c
Module weberror.errormiddleware:162 in __call__
&lt;&lt;              __traceback_supplement__ = Supplement, self, environ
                   sr_checker = ResponseStartChecker(start_response)
                   app_iter = self.application(environ, sr_checker)
                   return self.make_catching_iter(app_iter, environ, sr_checker)
               except:
&gt;&gt;  app_iter = self.application(environ, sr_checker)
Module beaker.middleware:73 in __call__
&lt;&lt;                                                     self.cache_manager)
               environ[self.environ_key] = self.cache_manager
               return self.app(environ, start_response)
&gt;&gt;  return self.app(environ, start_response)
Module beaker.middleware:152 in __call__
&lt;&lt;                          headers.append(('Set-cookie', cookie))
                   return start_response(status, headers, exc_info)
               return self.wrap_app(environ, session_start_response)
           
           def _get_session(self):
&gt;&gt;  return self.wrap_app(environ, session_start_response)
Module routes.middleware:130 in __call__
&lt;&lt;                  environ['SCRIPT_NAME'] = environ['SCRIPT_NAME'][:-1]
               
               response = self.app(environ, start_response)
               
               # Wrapped in try as in rare cases the attribute will be gone already
&gt;&gt;  response = self.app(environ, start_response)
Module pylons.wsgiapp:125 in __call__
&lt;&lt;          
               controller = self.resolve(environ, start_response)
               response = self.dispatch(controller, environ, start_response)
               
               if 'paste.testing_variables' in environ and hasattr(response,
&gt;&gt;  response = self.dispatch(controller, environ, start_response)
Module pylons.wsgiapp:324 in dispatch
&lt;&lt;          if log_debug:
                   log.debug("Calling controller class with WSGI interface")
               return controller(environ, start_response)
           
           def load_test_env(self, environ):
&gt;&gt;  return controller(environ, start_response)
Module ckan.lib.base:73 in __call__
&lt;&lt;          # available in environ['pylons.routes_dict']    
               try:
                   return WSGIController.__call__(self, environ, start_response)
               finally:
                   model.Session.remove()
&gt;&gt;  return WSGIController.__call__(self, environ, start_response)
Module pylons.controllers.core:221 in __call__
&lt;&lt;                  return response(environ, self.start_response)
               
               response = self._dispatch_call()
               if not start_response_called:
                   self.start_response = start_response
&gt;&gt;  response = self._dispatch_call()
Module pylons.controllers.core:172 in _dispatch_call
&lt;&lt;              req.environ['pylons.action_method'] = func
                   
                   response = self._inspect_call(func)
               else:
                   if log_debug:
&gt;&gt;  response = self._inspect_call(func)
Module pylons.controllers.core:107 in _inspect_call
&lt;&lt;                        func.__name__, args)
               try:
                   result = self._perform_call(func, args)
               except HTTPException, httpe:
                   if log_debug:
&gt;&gt;  result = self._perform_call(func, args)
Module pylons.controllers.core:60 in _perform_call
&lt;&lt;          """Hide the traceback for everything above this method"""
               __traceback_hide__ = 'before_and_this'
               return func(**args)
           
           def _inspect_call(self, func):
&gt;&gt;  return func(**args)
Module ckan.controllers.revision:119 in diff
&lt;&lt;          c.revision_to = model.Session.query(model.Revision).get(
                   request.params.getone('diff'))
               diff = pkg.diff(c.revision_to, c.revision_from)
               c.diff = diff.items()
               c.diff.sort()
&gt;&gt;  diff = pkg.diff(c.revision_to, c.revision_from)
Module ckan.model.package:340 in diff
&lt;&lt;                              display_id = to_obj_rev.tag.name
                               elif obj_class.__name__ == 'PackageExtra':
                                   display_id = to_obj_rev.key
                               else:
                                   display_id = related_obj_id[:4]
&gt;&gt;  display_id = to_obj_rev.key
AttributeError: 'NoneType' object has no attribute 'key'
CGI Variables
DOCUMENT_ROOT	'/htdocs'
GATEWAY_INTERFACE	'CGI/1.1'
HTTP_ACCEPT	'*/*'
HTTP_ACCEPT_ENCODING	'gzip'
HTTP_ACCEPT_LANGUAGE	'zh-cn,zh-tw'
HTTP_CONNECTION	'close'
HTTP_HOST	'ckan.net'
HTTP_USER_AGENT	'Baiduspider+(+http://www.baidu.com/search/spider.htm)'
PATH	'/usr/local/bin:/usr/bin:/bin'
PATH_INFO	'/revision/diff/dbtune-audioscrobbler'
PATH_TRANSLATED	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py/revision/diff/dbtune-audioscrobbler'
QUERY_STRING	'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
REMOTE_ADDR	'123.125.66.32'
REMOTE_PORT	'63767'
REQUEST_METHOD	'GET'
REQUEST_URI	'/revision/diff/dbtune-audioscrobbler?diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c'
SCRIPT_FILENAME	'/home/okfn/var/srvc/ckan.net/pyenv/bin/ckan.net.py'
SCRIPT_URI	'http://ckan.net/revision/diff/dbtune-audioscrobbler'
SCRIPT_URL	'/revision/diff/dbtune-audioscrobbler'
SERVER_ADDR	'10.226.226.118'
SERVER_ADMIN	'[no address given]'
SERVER_NAME	'ckan.net'
SERVER_PORT	'80'
SERVER_PROTOCOL	'HTTP/1.1'
SERVER_SIGNATURE	'&lt;address&gt;Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2 Server at ckan.net Port 80&lt;/address&gt;\n'
SERVER_SOFTWARE	'Apache/2.2.9 (Debian) mod_wsgi/2.5 Python/2.5.2'
WSGI Variables
application	&lt;beaker.middleware.CacheMiddleware object at 0x9f603ec&gt;
beaker.cache	&lt;beaker.cache.CacheManager object at 0x9f6042c&gt;
beaker.get_session	&lt;bound method SessionMiddleware._get_session of &lt;beaker.middleware.SessionMiddleware object at 0x9f602ac&gt;&gt;
beaker.session	{'_accessed_time': 1282385101.4243281, '_creation_time': 1282385101.4243281}
mod_wsgi.application_group	'ckan.net|'
mod_wsgi.callable_object	'application'
mod_wsgi.listener_host	''
mod_wsgi.listener_port	'80'
mod_wsgi.process_group	''
mod_wsgi.reload_mechanism	'0'
mod_wsgi.script_reloading	'1'
mod_wsgi.version	(2, 5)
paste.cookies	(&lt;SimpleCookie: &gt;, '')
paste.parsed_querystring	([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')], 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
paste.registry	&lt;paste.registry.Registry object at 0x104552ec&gt;
paste.throw_errors	True
pylons.action_method	&lt;bound method RevisionController.diff of &lt;ckan.controllers.revision.RevisionController object at 0xfb17aec&gt;&gt;
pylons.controller	&lt;ckan.controllers.revision.RevisionController object at 0xfb17aec&gt;
pylons.environ_config	{'session': 'beaker.session', 'cache': 'beaker.cache'}
pylons.pylons	&lt;pylons.util.PylonsContext object at 0x10286d4c&gt;
pylons.routes_dict	{'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'}
repoze.who.logger	&lt;logging.Logger instance at 0xa16e0cc&gt;
repoze.who.plugins	{'openid': &lt;OpenIdIdentificationPlugin 167584972&gt;, 'auth_tkt': &lt;AuthTktCookiePlugin 169253516&gt;}
routes.route	&lt;routes.route.Route object at 0x9f3690c&gt;
routes.url	&lt;routes.util.URLGenerator object at 0xfd8d7cc&gt;
webob._parsed_query_vars	(GET([('diff', '66a47b9e-232a-4838-8674-66fa1a5c76e1'), ('oldid', 'a99c98be-767a-4e49-9025-2472b2d18b9c')]), 'diff=66a47b9e-232a-4838-8674-66fa1a5c76e1&amp;oldid=a99c98be-767a-4e49-9025-2472b2d18b9c')
webob.adhoc_attrs	{'language': 'en-us'}
wsgi process	'Multi process AND threads (?)'
wsgi.file_wrapper	&lt;built-in method file_wrapper of mod_wsgi.Adapter object at 0x103a5bf0&gt;
wsgiorg.routing_args	(&lt;routes.util.URLGenerator object at 0xfd8d7cc&gt;, {'action': u'diff', 'controller': u'revision', 'id': u'dbtune-audioscrobbler'})



</pre>
                            
                          </td>
                          <td class="PosixTime">1282553033000000
                          </td>
                          <td class="ModifiedTime">1287747652000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/514.html">#514</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/514.html">Inconsistent use of 'location' header in API</a>
                          </td>
                          <td class="description">
                            <p>
When you create a package then the 'location' header gets set. This doesn't happen for any other domain objects. I think this should be consistent - either none or all.
</p>
<p>
I've removed the info about the header in the docs in the meantime.
</p>

                            
                          </td>
                          <td class="PosixTime">1282757357000000
                          </td>
                          <td class="ModifiedTime">1282757391000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/515.html">#515</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/515.html">Inconsistent use of 'location' header in API</a>
                          </td>
                          <td class="description">
                            <p>
When you create a package then the 'location' header gets set. This doesn't happen for any other domain objects. I think this should be consistent - either none or all.
</p>
<p>
I've removed the info about the header in the docs in the meantime.
</p>

                            
                          </td>
                          <td class="PosixTime">1282757360000000
                          </td>
                          <td class="ModifiedTime">1302774268000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/516.html">#516</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/516.html">Double-escaped text visible - revision page</a>
                          </td>
                          <td class="description">
                            <p>
At: <a class="ext-link" href="http://ckan.net/revision"><span class="icon">​</span>http://ckan.net/revision</a>
you can see:
"Next &amp;raquo;" on pager
This doesn't seem to be a problem with earlier (1.0.1) version.
</p>

                            
                          </td>
                          <td class="PosixTime">1282829539000000
                          </td>
                          <td class="ModifiedTime">1288002933000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/532.html">#532</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/532.html">Just a test - please ignore</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1282906842000000
                          </td>
                          <td class="ModifiedTime">1282907197000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/534.html">#534</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnbywater
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/534.html">buildbot config - database machine moved</a>
                          </td>
                          <td class="description">
                            <p>
Configure buildbot to use postgres db which has been moved to eu5.okfn.org
</p>
<p>
pudo said: Could you perhaps also comment on <a class="ext-link" href="http://knowledgeforge.net/okfn/tasks/ticket/466"><span class="icon">​</span>http://knowledgeforge.net/okfn/tasks/ticket/466</a> with a hint on how to update this properly? I only edited /home/buildslave/okfn/full/build/buildandsmoke/buildandsmoke.ini which was the only occurence of the DB credentials I could find there.
</p>

                            
                          </td>
                          <td class="PosixTime">1283165568000000
                          </td>
                          <td class="ModifiedTime">1288002762000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/535.html">#535</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/535.html">genshi error when logged into sl.ckan.net</a>
                          </td>
                          <td class="description">
                            <p>
Genshi exception when rendering the page whilst logged in to sl.ckan.net.
</p>

                            
                          </td>
                          <td class="PosixTime">1283165774000000
                          </td>
                          <td class="ModifiedTime">1283167040000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/557.html">#557</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/557.html">Remove siblings from link_to/from relationship display</a>
                          </td>
                          <td class="description">
                            <p>
Displaying siblings is not needed for link_to/from.
</p>

                            
                          </td>
                          <td class="PosixTime">1283542595000000
                          </td>
                          <td class="ModifiedTime">1297075159000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/558.html">#558</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/558.html">Sort extras, relationships by key/object alphabetically</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1283542680000000
                          </td>
                          <td class="ModifiedTime">1283781883000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/559.html">#559</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/559.html">Fix package lookup on group edit form</a>
                          </td>
                          <td class="description">
                            <p>
Lookup is needed to add a package but won't show up at some times. 
</p>
<p>
Originally reported by Anja Jentzsch, re questions. 
</p>

                            
                          </td>
                          <td class="PosixTime">1283542776000000
                          </td>
                          <td class="ModifiedTime">1310127694000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/560.html">#560</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/560.html">Deleted packages showing up in tag lists</a>
                          </td>
                          <td class="description">
                            <p>
E.g. <a class="ext-link" href="http://ckan.net/tag/lod"><span class="icon">​</span>http://ckan.net/tag/lod</a> contains musicbrainz_ (Musicbrainz) item (if you click you will get 403/login as deleted packages can only be seen by admins).
</p>
<p>
Also suggested that these are showing up in the API (courtesy of Anja)
</p>
<p>
Cost: 2h
</p>

                            
                          </td>
                          <td class="PosixTime">1283700001000000
                          </td>
                          <td class="ModifiedTime">1297084192000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/561.html">#561</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/561.html">Deleted packages are returned in the API</a>
                          </td>
                          <td class="description">
                            <p>
Anja is reporting this, severe bug, I think.
</p>

                            
                          </td>
                          <td class="PosixTime">1283775578000000
                          </td>
                          <td class="ModifiedTime">1283775711000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/562.html">#562</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.2.html">ckan-v1.2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/562.html">OpenID Login fails using Yahoo and Google</a>
                          </td>
                          <td class="description">
                            <p>
reported by LOD folks.
</p>
<p>
subsidary bug: error messages from OpenID providers are not shown on the form return page. 
</p>

                            
                          </td>
                          <td class="PosixTime">1283941119000000
                          </td>
                          <td class="ModifiedTime">1284063574000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/576.html">#576</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/576.html">CKAN Requires Old Version of SQLAlchemy</a>
                          </td>
                          <td class="description">
                            <p>
Requires 0.4. 0.5 is a maintenance branch, 0.6 is current.
</p>
<p>
VDM appears to work correctly (all the tests pass) with 0.5. CKAN does not -- requires more investigation to determine exactly why.
</p>
<p>
It would actually be nice to be able to run with 0.6 or 0.5, though 0.6 will require some changes to VDM as well
</p>

                            
                          </td>
                          <td class="PosixTime">1284141573000000
                          </td>
                          <td class="ModifiedTime">1294753848000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/662.html">#662</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">sebbacon
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/662.html">Can't put entity that is returned by posting to package register</a>
                          </td>
                          <td class="description">
                            <p>
It's because Package carries several out-of-band values, which are snagged on the way back out. Entity get response also can't be posted.
</p>
<p>
However, post response can be re-posted (because it isn't the same as the register-post/entity-get responses.
</p>
<p>
An issue for CKAN too.
</p>
<p>
Sub-ticket of <a class="closed ticket" href="../ticket/961.html" title="enhancement: [super] Refactoring of forms, validation and model synchronization (closed: fixed)">#961</a> (form, validation, model sync meta-ticket) and depends on that work.
</p>

                            
                          </td>
                          <td class="PosixTime">1285410546000000
                          </td>
                          <td class="ModifiedTime">1301076463000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/663.html">#663</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/663.html">Duplicate sibling relationships displayed</a>
                          </td>
                          <td class="description">
                            <p>
Looking at:
<a class="ext-link" href="http://ckan.net/package/rkb-explorer-acm"><span class="icon">​</span>http://ckan.net/package/rkb-explorer-acm</a>
</p>
<p>
'rkb-explorer-resex' gets display multiple times and shouldn't
</p>

                            
                          </td>
                          <td class="PosixTime">1285576369000000
                          </td>
                          <td class="ModifiedTime">1298913603000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/664.html">#664</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">kindly
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/664.html">Sibling relationships shown for deleted packages</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1285576600000000
                          </td>
                          <td class="ModifiedTime">1300371645000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/667.html">#667</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/667.html">API is slow</a>
                          </td>
                          <td class="description">
                            <p>
See message and script:
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-discuss/2010-September/000569.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-discuss/2010-September/000569.html</a>
</p>
<p>
1500 requests shouldn't take hours.
</p>

                            
                          </td>
                          <td class="PosixTime">1285885228000000
                          </td>
                          <td class="ModifiedTime">1297069121000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/668.html">#668</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">Colin Calnan
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/668.html">Caching issues on API v1</a>
                          </td>
                          <td class="description">
                            <p>
It seems like the API v1 on CKAN metastable (cset:ec21f8e1c87e) has some caching issues.
</p>
<p>
Steps to test:
</p>
<ol><li>Modify a dataset on datadotgc.ca, redirects to CKAN 
</li></ol><ol start="2"><li>On save, redirects to <a class="ext-link" href="http://www.datadotgc.ca/update/geogratisnat_hydrography_v100"><span class="icon">​</span>http://www.datadotgc.ca/update/geogratisnat_hydrography_v100</a> which in turn redirects to <a class="ext-link" href="http://www.datadotgc.ca/dataset/geogratisnat_hydrography_v100"><span class="icon">​</span>http://www.datadotgc.ca/dataset/geogratisnat_hydrography_v100</a>
</li></ol><ol start="3"><li>You can see that the Dataset has not updated correctly. Run a check on the API v1 - <a class="ext-link" href="http://ca.ckan.net/api/1/rest/package/geogratisnat_hydrography_v100"><span class="icon">​</span>http://ca.ckan.net/api/1/rest/package/geogratisnat_hydrography_v100</a> the updates are not present
</li></ol><ol start="4"><li>Check the v2 of the API - <a class="ext-link" href="http://ca.ckan.net/api/rest/package/geogratisnat_hydrography_v100"><span class="icon">​</span>http://ca.ckan.net/api/rest/package/geogratisnat_hydrography_v100</a>, the updates are present.
</li></ol><ol start="5"><li>Setting the headers to 'Cache-control: no-cache' or 'Pragma: no-cache' does not work either.
</li></ol>
                            
                          </td>
                          <td class="PosixTime">1285953542000000
                          </td>
                          <td class="ModifiedTime">1311176649000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/699.html">#699</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">TimDavies
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/699.html">Paging search results re-sets Open Only and Downloadable Only flags</a>
                          </td>
                          <td class="description">
                            <p>
When getting a search results page (e.g. <a class="ext-link" href="http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1"><span class="icon">​</span>http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1</a>) and then using the on-page links to page through results, the next link / numbered page links go to <a class="ext-link" href="http://ckan.net/package/search?q=development&amp;page=2"><span class="icon">​</span>http://ckan.net/package/search?q=development&amp;page=2</a> rather than <a class="ext-link" href="http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1&amp;page=2"><span class="icon">​</span>http://ckan.net/package/search?q=development&amp;open_only=1&amp;downloadable_only=1&amp;page=2</a> meaning that the filter flags set (Download Only; Open Only) are not respected on the second page of listings. 
</p>

                            
                          </td>
                          <td class="PosixTime">1287143698000000
                          </td>
                          <td class="ModifiedTime">1296499061000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/715.html">#715</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/715.html">The group list page shall show the group title *or* group name</a>
                          </td>
                          <td class="description">
                            <p>
Symptom <a class="closed ticket" href="../ticket/1.html" title="enhancement: Visitor visits service (closed: fixed)">#1</a>: Groups without titles don't get a clickable link, because there is no text. Defaulting to the group name would solve this trouble.
Symptom <a class="closed ticket" href="../ticket/2.html" title="enhancement: Register as user on the service (closed: fixed)">#2</a>: Package groups drop-down list show's 'None' when a group doesn't have a title.
</p>
<p>
Therefore, we need to centralize presentation of group title, so it defers to group name. And we need tests.
</p>
<p>
Also please sort groups by title on group list page.
</p>

                            
                          </td>
                          <td class="PosixTime">1287583089000000
                          </td>
                          <td class="ModifiedTime">1297796784000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/770.html">#770</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">johnbywater
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/770.html">Improve the paster harvester help command</a>
                          </td>
                          <td class="description">
                            <p>
Issue 1. Help command without arguments fails:
</p>
<p>
$paster help --plugin ckan --config development.ini
</p>
<p>
gives:
</p>
<p>
EITHER
</p>
<p>
Command help not recognized
</p>
<p>
OR
</p>
<p>
paster help: error: no such option: --plugin
</p>
<p>
Issue 2: Harvester command with arguments fails.
</p>
<p>
$ paster harvester
Traceback (most recent call last):
...
</p>
<blockquote>
<p>
cmd = self.args<a class="missing changeset" title="No default repository defined">[0]</a>
</p>
</blockquote>
<p>
<a class="missing wiki">IndexError?</a>: list index out of range
</p>

                            
                          </td>
                          <td class="PosixTime">1288190220000000
                          </td>
                          <td class="ModifiedTime">1296593925000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/782.html">#782</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/782.html">Add and remove users from sysadmin role from the command line</a>
                          </td>
                          <td class="description">
                            <p>
Need to be able to create (and remove) sysadmins easily (used to be able to do this via ini file but this functionality was removed a while back in authz system reorganization it seems).
</p>
<p>
Suggest creating a new paster command as first step.
</p>
<pre class="wiki"># user identifier = openid (?)
paster sysadmin add {user identifier}
paster sysadmin remove {user identifier}
</pre><p>
Suggest this also be added to main CKAN docs.
</p>
<p>
This should go into metastable as well as default so that it goes into the v1.2 release (can do this via a transplant from one branch to the other)
</p>

                            
                          </td>
                          <td class="PosixTime">1289205287000000
                          </td>
                          <td class="ModifiedTime">1289218661000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/796.html">#796</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/796.html">AlphaPage for non-latin languages</a>
                          </td>
                          <td class="description">
                            <p>
The <a class="missing wiki">AlphaPage?</a> implementation assumes that all packages start with a latin character. This is not true for Russian, Chinese, Arabian and Persian languages etc. We should either use a unicode solution (i.e. display a full class of characters based on the current locale) or use generic paging instead. 
</p>

                            
                          </td>
                          <td class="PosixTime">1289296662000000
                          </td>
                          <td class="ModifiedTime">1291640040000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/811.html">#811</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/811.html">Extra field editing form layout breaks when there are long field names</a>
                          </td>
                          <td class="description">
                            <p>
The layout of the editing section for extra fields breaks when a field name is slightly too long. Field names jump over to the right. See <a class="ext-link" href="http://ckan.net/package/edit/dbpedia"><span class="icon">​</span>http://ckan.net/package/edit/dbpedia</a> for examples.
</p>

                            
                          </td>
                          <td class="PosixTime">1289994812000000
                          </td>
                          <td class="ModifiedTime">1323170289000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/812.html">#812</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/812.html">Package edit form only allows three extra fields</a>
                          </td>
                          <td class="description">
                            <h1 id="Rationale">Rationale</h1>
<p>
The package edit form is restricted to three extra fields. To enter more than three fields, one has to save the package and hit edit again (or hit preview).
</p>
<h1 id="Implementation">Implementation</h1>
<p>
A mechanism similar to the one for resources (where you can add lines as you go) would solve this. So, have a button that adds more extra field rows via JS. (Extra fields don't need up/down buttons that the Resource table has)
</p>
<p>
Nice to have: a blank field is added when you tab from the last filled-in field in the table.
</p>

                            
                          </td>
                          <td class="PosixTime">1289995010000000
                          </td>
                          <td class="ModifiedTime">1311176917000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/819.html">#819</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">cygri
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/819.html">Tag autocompletion widget broken</a>
                          </td>
                          <td class="description">
                            <p>
The widget for tag autocompletion is broken in various ways.
</p>
<p>
For example, if I edit a package that is tagged "music", and just tab through the form fields to get to the Author field, then the widget changes to "industrial-music" as I tab through it.
</p>
<p>
Or if the tag is "foo bar" and I hit alt-right to jump to the end of the text field (with the intent of adding a third tag), then the contents change to "foo barbecue".
</p>

                            
                          </td>
                          <td class="PosixTime">1290004121000000
                          </td>
                          <td class="ModifiedTime">1323171435000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/820.html">#820</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/820.html">Exception browsing /user/apikey when not logged in</a>
                          </td>
                          <td class="description">
                            <p>
Should fail gracefully (not the existing 500 error) when you go to ckan.net/user/apikey (manually typing in the url) but haven't logged in.
</p>
<pre class="wiki">WebApp Error: &lt;type 'exceptions.AttributeError'&gt;: 'NoneType' object has no attribute 'apikey' 						

URL: http://test-hmg.ckan.net/user/apikey
</pre>
                            
                          </td>
                          <td class="PosixTime">1290006079000000
                          </td>
                          <td class="ModifiedTime">1311325226000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/821.html">#821</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-2.html">ckan-v1.4-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/821.html">Some resources have disappeared in CKAN</a>
                          </td>
                          <td class="description">
                            <p>
Simon has spotted 31 packages whose resources have disappeared in CKAN, but still appear in the Drupal front-end.
</p>
<p>
Here are the details:
</p>
<ul><li>in CKAN's package view (in web interface, API and dump) no resources display
</li><li>but they WERE created in CKAN, as shown by the revision diffs.
</li><li>they are in the Drupal front-end
</li></ul><p>
So these resources must have been in the CKAN API at some point and then disappeared without trace/revision to alert Drupal.
</p>
<p>
Packages affected: anti-social-behaviour-orders-1999-2007
asylum-applications-jan-mar-2009
control-of-immigration-quarterly-statistical-summary-united-kingdom-2009-october-december
coroners-statistics-england-and-wales
courts-statistics-user-survey-england-and-wales
court-statistics-company-insolvency-and-bankruptcy-england-and-wales
court-statistics-england-and-wales
court-statistics-mortages-and-landlord-possession-england-and-wales
crime-in-england-and-wales
crime-statistics-local-reoffending-england-and-wales
crime-statistics-prison-and-probation-england-and-wales
crime-statistics-reoffending-of-adults-england-and-wales
crime-statistics-reoffending-of-juvenilles-england-and-wales
data_gov_uk-datasets
digest-uk-energy-statistics-2008
directgov-central-hottest-pages-monthly
directgov-central-internal-search-terms-monthly
directgov-section-visits-monthly
electricity-consumption-2007
electricity-gas-consumption-2007
energy-consumption-uk-2008
final-energy-consumption-2007
foi-statistics-uk-central-government
fuel-poverty-statistics-2007
gas-consumption-2007
gb-reported-bicycling-accidents
gb-road-traffic-counts
gb-traffic-matrix
greenhouse-gas-emissions-2008
high-level-indicators-energy-use-2006
judicial-and-court-statistics-england-and-wales
laboratory-tests-and-prices
local-authority-carbon-dioxide-emissions-2007
magistrates-courts-statistics-survey-england-and-wales
monthly-energy-prices
monthly-energy-trends
ni_012_refused_and_deferred_houses_in_multiple_occupation_hmos_licence_applications_leading_to_immig
ni_013_migrants_english_language_skills_and_knowledge
ni_023_perceptions_that_people_in_the_area_treat_one_another_with_respect_and_consideration
ni_024_satisfaction_with_the_way_the_police_and_local_council_dealt_with_anti-social_behaviour
ni_025_satisfaction_of_different_groups_with_the_way_the_police_and_local_council_dealt_with_anti-so
ni_026_specialist_support_to_victims_of_a_serious_sexual_offence
ni_029_gun_crime_rate
ni_031_re-offending_rate_of_registered_sex_offenders
ni_032_repeat_incidents_of_domestic_violence
ni_034_domestic_violence_-_murder
ni_036_protection_against_terrorist_attack
ni_038_drug_related_class_a_offending_rate
ni_078_reduction_in_number_of_schools_where_fewer_than_30_of_pupils_achieve_5_or_more_a-_c_grades_at
ni_101_looked_after_children_achieving_5_a-c_gcses_or_equivalent_at_key_stage_4_including_english_an
ni_109_delivery_of_sure_start_childrens_centres
ni_126_early_access_for_women_to_maternity_services
ni_127_self_reported_experience_of_social_care_users
ni_128_user_reported_measure_of_respect_and_dignity_in_their_treatment
ni_181_time_taken_to_process_housing_benefit-council_tax_benefit_new_claims_and_change_events
ni_184_food_establishments_in_the_area_which_are_broadly_compliant_with_food_hygiene_law
ni_185_co2_reduction_from_local_authority_operations
ni_190_achievement_in_meeting_standards_for_the_control_system_for_animal_health
ni_194_air_quality_-_reduction_in_nox_and_primary_pm10_emissions_through_local_authorities_estate_an
other-fuels-consumption-2006
police-use-firearms-england-wales-2007-2008
prison-end-of-custody-licence-releases-and-recalls-england-and-wales
prison-population-england-and-wales
probation-offender-management-caseload-statistics-england-and-wales
probation-statistics-quarterly-brief-england-and-wales
quality-indicators-energy-data-2007
quarterly-energy-prices
quarterly-energy-trends
road-transport-energy-consumption-2007
sentencing-statistics-england-and-wales
statistics-terrorism-arrests-outcomes-2001-2008
ukba-control-of-immigration-statistics-2008
ukba-control-of-immigration-statistics-2008-supplementary-tables
uk-energy-in-brief-2008
uk-energy-sector-indicators-background-2008
uk-energy-sector-indicators-key-supporting-2008
uk-exportcontrollists
uk-exportcontrol-sanctions
uk-export-control-statistics
uk-glossary-exportcontrol
uk-ipo-offences
weekly-fuel-prices
</p>

                            
                          </td>
                          <td class="PosixTime">1290015776000000
                          </td>
                          <td class="ModifiedTime">1298486642000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/823.html">#823</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/823.html">Etags cache doesn't update when only non-core package fields changed.</a>
                          </td>
                          <td class="description">
                            <ol><li>Create a package.
</li><li>Edit package and add a resource.
</li><li>View package in browser - no sign of the resource - ERROR.
</li><li>View package in API - resource is there.
</li></ol><p>
Reason: hash doesn't change because package.revision only takes account of core fields.
</p>

                            
                          </td>
                          <td class="PosixTime">1290505078000000
                          </td>
                          <td class="ModifiedTime">1290506116000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/827.html">#827</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/827.html">metadata_created_and_modified error</a>
                          </td>
                          <td class="description">
                            <p>
Intermittent failure on ckan default branch. Looks like brittle test.
</p>
<pre class="wiki">======================================================================
FAIL: ckan.tests.models.test_package.TestPackageRevisions.test_02_metadata_created_and_modified
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/home/buildslave/okfn/full/build/buildandsmoke/pyenv/lib/python2.6/site-packages/nose/case.py", line 186, in runTest
    self.test(*self.arg)
  File "/home/buildslave/okfn/full/build/buildandsmoke/pyenv/src/ckan/ckan/tests/models/test_package.py", line 250, in test_02_metadata_created_and_modified
    assert out == exp, (out, exp)
AssertionError: (datetime.datetime(2010, 11, 25, 4, 37, 52, 949380), datetime.datetime(2010, 11, 25, 4, 37, 52, 94938))
</pre><p>
<a class="ext-link" href="http://buildbot.okfn.org/builders/builder-ckan/builds/589/steps/shell/logs/stdio"><span class="icon">​</span>http://buildbot.okfn.org/builders/builder-ckan/builds/589/steps/shell/logs/stdio</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1290678624000000
                          </td>
                          <td class="ModifiedTime">1290766239000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/829.html">#829</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/829.html">Admin CRUD broken</a>
                          </td>
                          <td class="description">
                            <p>
Browsing to the admin interface /admin (even logged in as a sysadmin) gives an exception.
</p>

                            
                          </td>
                          <td class="PosixTime">1290695043000000
                          </td>
                          <td class="ModifiedTime">1303838115000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/844.html">#844</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/844.html">bad mail config ckan.net/ckan.org</a>
                          </td>
                          <td class="description">
                            <p>
ckan.net and ckan.org have no mx record and no listener on port 25. yet they send out mail. this means, when messages it sends bounce for whatever reason, the bounce messages stay in the queue on the remote mail server until they expire. for example:
</p>
<pre class="wiki">B30E6D9F       2873 Sat Dec  4 14:05:40  MAILER-DAEMON
(delivery temporarily suspended: connect to ckan.net[46.51.189.76]:25: Operation timed out)
                                         no-reply@ckan.net
</pre><p>
both these domains should have an mx record pointing to mail.okfn.org and mail.okfn.org should be configured to handle these addresses correctly, e.g. by sending them to /dev/null
</p>

                            
                          </td>
                          <td class="PosixTime">1291556753000000
                          </td>
                          <td class="ModifiedTime">1296340486000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/849.html">#849</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/849.html">Import extra CSS from main template</a>
                          </td>
                          <td class="description">
                            <p>
The CSS @import directive at the bottom of the main CKAN css file is not understood in all browsers, move this to a seperate import. 
</p>

                            
                          </td>
                          <td class="PosixTime">1291714923000000
                          </td>
                          <td class="ModifiedTime">1291715179000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/851.html">#851</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/851.html">Link Checking</a>
                          </td>
                          <td class="description">
                            <p>
revisit link checker from <a class="ext-link" href="http://knowledgeforge.net/ckan/ckanext/file/tip/ckanext/link_checker.py"><span class="icon">​</span>http://knowledgeforge.net/ckan/ckanext/file/tip/ckanext/link_checker.py</a>
</p>
<p>
revisit ollyc's parallel work
</p>
<p>
look at how this gets used in practice (maybe deprecate in favour of curate tool (suitably wrapped to hide details from the user)
</p>

                            
                          </td>
                          <td class="PosixTime">1291722860000000
                          </td>
                          <td class="ModifiedTime">1293025112000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/854.html">#854</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">johnlawrenceaspden
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-6.html">ckan-v1.4-sprint-6</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/854.html">Tests for authorization_group</a>
                          </td>
                          <td class="description">
                            <p>
The coverage tool (run by buildbot in the ckan build) reports that only 24% of lines of ckan.controllers.authorization_group are run in tests and 38% of ckan.forms.authorization_group. This suggests a need for more tests.
</p>

                            
                          </td>
                          <td class="PosixTime">1291723815000000
                          </td>
                          <td class="ModifiedTime">1304351843000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/855.html">#855</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/855.html">Authenticator tests</a>
                          </td>
                          <td class="description">
                            <p>
The coverage tool (run by buildbot in the ckan build) reports that only 38% of lines of ckan.lib.authenticator are run in tests. This suggests a need for more tests.
</p>

                            
                          </td>
                          <td class="PosixTime">1291723967000000
                          </td>
                          <td class="ModifiedTime">1311176988000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/856.html">#856</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/856.html">Tests for caching</a>
                          </td>
                          <td class="description">
                            <p>
Test coverage for ckan.lib.cache is only 40%. Can that be usefully improved?
</p>

                            
                          </td>
                          <td class="PosixTime">1291724064000000
                          </td>
                          <td class="ModifiedTime">1311177085000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/857.html">#857</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/857.html">Tests for CLI</a>
                          </td>
                          <td class="description">
                            <p>
Test coverage for ckan.lib.cli is 34%. Need to improve that.
</p>

                            
                          </td>
                          <td class="PosixTime">1291724131000000
                          </td>
                          <td class="ModifiedTime">1311182581000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/858.html">#858</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/858.html">Tests for diff</a>
                          </td>
                          <td class="description">
                            <p>
Test coverage for ckan.lib.diff is 24%. Need to improve
</p>

                            
                          </td>
                          <td class="PosixTime">1291724171000000
                          </td>
                          <td class="ModifiedTime">1291734297000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/859.html">#859</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/859.html">Tests for User model</a>
                          </td>
                          <td class="description">
                            <p>
Test coverage of ckan.model.user is 53%. Notable exception - setting password. Room for improvement?
</p>

                            
                          </td>
                          <td class="PosixTime">1291724348000000
                          </td>
                          <td class="ModifiedTime">1311177461000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/860.html">#860</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/860.html">full text indexing for semantic.ckan.net</a>
                          </td>
                          <td class="description">
                            <p>
...
</p>

                            
                          </td>
                          <td class="PosixTime">1291726029000000
                          </td>
                          <td class="ModifiedTime">1291726067000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/861.html">#861</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/861.html">unicode errors creating rdf output</a>
                          </td>
                          <td class="description">
                            <p>
<a class="ext-link" href="http://bitbucket.org/ww/ckanrdf/changeset/63b60d3a253d"><span class="icon">​</span>http://bitbucket.org/ww/ckanrdf/changeset/63b60d3a253d</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1291726125000000
                          </td>
                          <td class="ModifiedTime">1311168845000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/862.html">#862</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/862.html">deploy rdf on catalogue.data.gov.uk</a>
                          </td>
                          <td class="description">
                            <p>
handle various dgu extras, configure apache for autonegotiation, etc.
</p>

                            
                          </td>
                          <td class="PosixTime">1291726237000000
                          </td>
                          <td class="ModifiedTime">1291726261000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/865.html">#865</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/865.html">Support external strings in JS</a>
                          </td>
                          <td class="description">
                            <ul><li>Provide and include a "language.js" file. 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1291801938000000
                          </td>
                          <td class="ModifiedTime">1295259773000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/870.html">#870</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">memespring
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-1.html">ckan-v1.3-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/870.html">Menu items not selecting correctly</a>
                          </td>
                          <td class="description">
                            <p>
Since the main menu items have changed (part of the UI redesign) the selected items are not functioning correctly.
</p>
<p>
Specifically if Home / About or Add Package / Search are selected both menu items are highlighted.
</p>
<p>
This is because the code assumes only one top-level menu item per controller.
</p>

                            
                          </td>
                          <td class="PosixTime">1292243583000000
                          </td>
                          <td class="ModifiedTime">1294914243000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/871.html">#871</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">nils.toedtmann
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/871.html">Check whether localhost-only exim installtions need upgrading too</a>
                          </td>
                          <td class="description">
                            <p>
The infamous <a class="ext-link" href="http://www.exim.org/lurker/message/20101207.215955.bb32d4f2.en.html"><span class="icon">​</span>exim bug</a> only needs one mail with prepared headers to travel through a exim system infect it. All local processes could do that, and some services (e.g. cron, webapps) send messages and might be convinced by malicious remote users to produce evil headers. 
</p>
<p>
We should either rule out that this could happen on our systems, or upgrade all exims regardless of whether they are localhost-only or not.
</p>
<p>
BTW did we already run a rootkit checker like <a class="ext-link" href="http://rkhunter.sourceforge.net/"><span class="icon">​</span>Rootkit hunter</a> on eu1? If not we should maybe do it now - there was already an exploit out in the wild. <a class="missing wiki">ByteMark?</a> has (a) already observed infections and (b) notified us because they remotely fingerprinted our mailer to be exim&lt;4.70 (our EHLO banner contains the exim version), just as anyone could. 
</p>

                            
                          </td>
                          <td class="PosixTime">1292264117000000
                          </td>
                          <td class="ModifiedTime">1296340558000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/873.html">#873</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/873.html">ONS loader assigns packages to same package even when dept name added manually</a>
                          </td>
                          <td class="description">
                            <p>
e.g. national_child_measurement_programme had no department but "Information Centre for Health and Social Care" for agency, and TNA inferred it should be under department DoH. But now the next ONS update to this series expects a blank department, so creates a new package national_child_measurement_programme_.
</p>

                            
                          </td>
                          <td class="PosixTime">1292437253000000
                          </td>
                          <td class="ModifiedTime">1292939274000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/880.html">#880</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-2.html">ckan-v1.3-sprint-2</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/880.html">ONS loader tripping up on deleted packages</a>
                          </td>
                          <td class="description">
                            <p>
Deleted packages with the same title and extra fields as an active package trip up the loader. It finds them in the search, but due to ckanclient not using the apikey when you 'get' the package to examine it further, it causes an exception.
</p>

                            
                          </td>
                          <td class="PosixTime">1292939379000000
                          </td>
                          <td class="ModifiedTime">1292945137000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/881.html">#881</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">fccoelho
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/881.html">http authentication requirement when installing</a>
                          </td>
                          <td class="description">
                            <p>
I am having trouble installing Ckan with virtualenv and pip using pip-requirements.txt due to the Authentication requirements to download the source code.
</p>

                            
                          </td>
                          <td class="PosixTime">1293021889000000
                          </td>
                          <td class="ModifiedTime">1296335072000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/882.html">#882</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/882.html">Update i18n user docs and backport genshi i18n:domain fixes from WDMMG</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1293192044000000
                          </td>
                          <td class="ModifiedTime">1340626094000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/885.html">#885</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/885.html">reimplement csw module to use owslib</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1293278099000000
                          </td>
                          <td class="ModifiedTime">1294253508000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/886.html">#886</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/886.html">move uklii forms api to dgu module</a>
                          </td>
                          <td class="description">
                            <p>
doesn't belong in ckan core
</p>

                            
                          </td>
                          <td class="PosixTime">1293278145000000
                          </td>
                          <td class="ModifiedTime">1294916538000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/893.html">#893</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/893.html">ExtrasField should not overwrite more specific extras</a>
                          </td>
                          <td class="description">
                            <p>
At the moment, <a class="missing wiki">ExtrasField?</a> cannot be used in conjunction with more specific extra fields, such as <a class="missing wiki">TextExtraField?</a> or <a class="missing wiki">SuggestTextExtraField?</a>.
</p>

                            
                          </td>
                          <td class="PosixTime">1294135783000000
                          </td>
                          <td class="ModifiedTime">1298293527000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/894.html">#894</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">wwaites
                          </td>
                          <td class="reporter">wwaites
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4.html">ckan-v1.4</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">invalid
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/894.html">harvest from http://locationmetadataeditor.data.gov.uk/geonetwork/srv/csw</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1294253876000000
                          </td>
                          <td class="ModifiedTime">1300196388000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/895.html">#895</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">memespring
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-backlog.html">ckan-backlog</a>
                          </td>
                          <td class="status">new
                          </td>
                          <td class="resolution">
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/895.html">Add version number (or simular) to css/js includes query string</a>
                          </td>
                          <td class="description">
                            <p>
Updates to css after a new deploy don't come through without a hard refresh. Adding the version number to the include urls will solve this e.g.
</p>
<p>
mycssfile.css?v=12345678
</p>

                            
                          </td>
                          <td class="PosixTime">1294343382000000
                          </td>
                          <td class="ModifiedTime">1339774593000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/897.html">#897</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">dread
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">duplicate
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/897.html">"New package" highlighted in Navigator when searching</a>
                          </td>
                          <td class="description">
                            <p>
On ckan.net 1.3.1b, click on "Search" in the Navigator. Now both "Search" and "New Package" are highlighted.
</p>

                            
                          </td>
                          <td class="PosixTime">1294648815000000
                          </td>
                          <td class="ModifiedTime">1294914333000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/898.html">#898</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/898.html">Changes stored indefinitely</a>
                          </td>
                          <td class="description">
                            <p>
Every change to every object is being stored in memory, which could add up to quite a lot of memory.  
</p>
<p>
This fixes it by making sure the objects are in a weakref.  <a class="ext-link" href="https://bitbucket.org/kindly/vdm/changeset/8d5f91db641f"><span class="icon">​</span>https://bitbucket.org/kindly/vdm/changeset/8d5f91db641f</a>
</p>

                            
                          </td>
                          <td class="PosixTime">1294659490000000
                          </td>
                          <td class="ModifiedTime">1294662408000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/900.html">#900</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/900.html">Intermittent error with new revision not having id</a>
                          </td>
                          <td class="description">
                            <p>
There are still some intermittent errors due to objects not having a revision_id, if you save an object at the same time as the revision.  We add the uuid earlier to fix this.    <a class="ext-link" href="https://bitbucket.org/kindly/vdm/changeset/0050d023ca4e"><span class="icon">​</span>https://bitbucket.org/kindly/vdm/changeset/0050d023ca4e</a>.
</p>
<p>
From David Raznick
</p>

                            
                          </td>
                          <td class="PosixTime">1294659696000000
                          </td>
                          <td class="ModifiedTime">1294916587000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/902.html">#902</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">rgrp
                          </td>
                          <td class="reporter">dread
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/902.html">Package buttons not clickable / Improve submenu tabs</a>
                          </td>
                          <td class="description">
                            <p>
On a package page there are three buttons to the right - View, Edit, History. Each of these buttons contain an icon and the text, but you can only activate the button by clicking on the icon. When you click on the part of the button where the text is (about 50% of the button) then nothing happens.
</p>
<p>
Using: Chrome, Firefox
</p>

                            
                          </td>
                          <td class="PosixTime">1294756898000000
                          </td>
                          <td class="ModifiedTime">1297078885000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/903.html">#903</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3.html">ckan-v1.3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/903.html">Proper handling of deleted packages in Solr serps</a>
                          </td>
                          <td class="description">
                            <p>
Currently, deleted packages are filtered from search results after solr returns. That means result count can drop below the requested number, down to 0. Thus we need to filter before or in Solr. 
</p>

                            
                          </td>
                          <td class="PosixTime">1294831054000000
                          </td>
                          <td class="ModifiedTime">1296588070000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/905.html">#905</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">thejimmyg
                          </td>
                          <td class="reporter">Stiivi
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-sprint-2012-02-06.html">ckan-sprint-2012-02-06</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">worksforme
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/905.html">Unable to search with accented characters in package names</a>
                          </td>
                          <td class="description">
                            <p>
I have a package with name: "Štatistické prehľady agendy cestovných pasov" and when I try to search for "Štatistické" there are no results.
</p>
<p>
CKAN setup:
</p>
<ul><li>psql DB with UTF-8 tables
</li></ul><ul><li>psql search backend
</li></ul><ul><li>ckan version: 1.3.1b
</li></ul><p>
Example:
</p>
<p>
<a class="ext-link" href="http://verejnedata.sk/package/agenda-cestovnch-pasov"><span class="icon">​</span>http://verejnedata.sk/package/agenda-cestovnch-pasov</a>
</p>
<p>
try to search for the first word in the package name.
</p>

                            
                          </td>
                          <td class="PosixTime">1294939120000000
                          </td>
                          <td class="ModifiedTime">1328638536000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/908.html">#908</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">rgrp
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.4-sprint-1.html">ckan-v1.4-sprint-1</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/908.html">Issues deploying extensions with modwsgi / uwsgi</a>
                          </td>
                          <td class="description">
                            <p>
Some extensions import pylons features (such as request) at root.
</p>
<p>
Have encountered following issues:
</p>
<ol><li>You need to import ckanext before any ckan stuff in your wsgi script (extension stats and dataapi)
</li></ol><ol start="2"><li>Running under wsgi daemon mode (normal mode is fine!) the front page (front page only) will not work (does not occur with disqus or synchronous_search but does with stats and dataapi extensions). You get errors like this in the log:
</li></ol><pre class="wiki">[Mon Jan 17 09:01:19 2011] [error] Exception KeyError: KeyError(-1218594160,) in &lt;module 'threading' from '/usr/lib/python2.6/threading.pyc'&gt; ignored
[Mon Jan 17 09:01:20 2011] [error] Exception AttributeError: "'NoneType' object has no attribute 'clearing'" in &lt;bound method PluginEnvironment.__del__ of  Services for Environment '&lt;default&gt;'
</pre>
                            
                          </td>
                          <td class="PosixTime">1295264624000000
                          </td>
                          <td class="ModifiedTime">1296730578000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/911.html">#911</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-3.html">ckan-v1.3-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/911.html">Add pager to dcat-tools/rdfsolr</a>
                          </td>
                          <td class="description">
                            
                            
                          </td>
                          <td class="PosixTime">1295266211000000
                          </td>
                          <td class="ModifiedTime">1296467375000000
                          </td>
              </tr>
              <tr class="even">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/912.html">#912</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.5.html">ckan-v1.5</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">wontfix
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/912.html">Rethink result row representation in dcat-tools/rdfsolr</a>
                          </td>
                          <td class="description">
                            <ul><li>Should license go in the bottom line? 
</li><li>Formats should be styled as in CKAN
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295266299000000
                          </td>
                          <td class="ModifiedTime">1306774876000000
                          </td>
              </tr>
              <tr class="odd">
                          <td class="ticket">
                            <a title="View ticket" href="../ticket/914.html">#914</a>
                          </td>
                          <td class="type">defect
                          </td>
                          <td class="owner">pudo
                          </td>
                          <td class="reporter">pudo
                          </td>
                          <td class="milestone">
                            <a title="View milestone" href="../milestone/ckan-v1.3-sprint-3.html">ckan-v1.3-sprint-3</a>
                          </td>
                          <td class="status">closed
                          </td>
                          <td class="resolution">fixed
                          </td>
                          <td class="summary">
                            <a title="View ticket" href="../ticket/914.html">Handle formats in dcat-tools</a>
                          </td>
                          <td class="description">
                            <ul><li>Create a list of valid predicates for format information (accessURL et al) 
</li><li>Execute <a class="assigned ticket" href="../ticket/235.html" title="enhancement: Resource format normalization and detection (assigned)">#235</a> via Google Spreadsheets and include in DCat enrichment 
</li></ul>
                            
                          </td>
                          <td class="PosixTime">1295266569000000
                          </td>
                          <td class="ModifiedTime">1297069958000000
                          </td>
              </tr>
          </tbody>
      </table>
      <div class="paging">
    <span class="previous">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Previous Page">←</a>
    </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=12.html" title="Page 12">12</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=13.html" title="Page 13">13</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=14.html" title="Page 14">14</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=15.html" title="Page 15">15</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=16.html" title="Page 16">16</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=17.html" title="Page 17">17</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=18.html" title="Page 18">18</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=19.html" title="Page 19">19</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=20.html" title="Page 20">20</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=21.html" title="Page 21">21</a>
      </span>
      <span>
        <span class="current">22</span>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=23.html" title="Page 23">23</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=24.html" title="Page 24">24</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=25.html" title="Page 25">25</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=26.html" title="Page 26">26</a>
      </span>
      <span>
        <a href="22%3Fsort=type&amp;asc=0&amp;page=27.html" title="Page 27">27</a>
      </span>
    <span class="next">
      <a href="22%3Fsort=type&amp;asc=0&amp;page=23.html" title="Next Page">→</a>
    </span>
</div>
      <div id="help"><strong>Note:</strong>
        See <a href="../wiki/TracReports.html">TracReports</a> for help on using and creating reports.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=0&amp;format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=0&amp;format=csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="22%3Fsort=type&amp;asc=0&amp;format=tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="../report%3Fid=22&amp;format=sql">SQL Query</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>