<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>CKAN: Ticket #1174: API Representation Registry</title>
    <link>http://localhost/ticket/1174</link>
    <description>&lt;p&gt;
As CKAN grows, more and more optional representations of packages will become used. Besides RDF (which is the motivation for this ticket), support for DSPL, home-grown XML, or CSV listings is imaginable.
&lt;/p&gt;
&lt;p&gt;
To properly support this CKAN should have an extensible representation registry that can be extended when new output types become available (and without changing the API in the process). This needs to integrate in two places:
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;We need to add support for file format extensions to the package handler and REST API.
&lt;/li&gt;&lt;li&gt;We need to add HTTP content type negotiation (Accept headers).
&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;
To support this we should have a registry with two registers:
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;to map format extensions to mime types (e.g. "json" -&amp;gt; "application/json")
&lt;/li&gt;&lt;li&gt;to map mime types and entity types to converter functions (e.g. 8"application/json", ckan.model.Package) -&amp;gt; func(obj, mime_type) )
&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;
This should be set up on load_environment so that IConfigurer plugins can feed into it.
&lt;/p&gt;
&lt;p&gt;
The registry should then first be added to _finish in the REST API (which needs to be refactored to be passed the {format} part of the URL if one is given. Based on the format part and HTTP headers, an appropriate representation can be generated by the registry and then be returned to the user.
&lt;/p&gt;
&lt;p&gt;
Forwarding of requests to the regular WUI controllers with Accept headers set or a format specified can be implemented in a separate effort.
&lt;/p&gt;
</description>
    <language>en-us</language>
    <image>
      <title>CKAN</title>
      <url>http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png</url>
      <link>http://localhost/ticket/1174</link>
    </image>
    <generator>Trac 0.12.3</generator>
    <item>
      
        <dc:creator>amercader</dc:creator>

      <pubDate>Fri, 03 Jun 2011 09:11:32 GMT</pubDate>
      <title>cc set</title>
      <link>http://localhost/ticket/1174#comment:1</link>
      <guid isPermaLink="false">http://localhost/ticket/1174#comment:1</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;cc&lt;/strong&gt;
              &lt;em&gt;adria.mercader@â€¦&lt;/em&gt; added
            &lt;/li&gt;
          &lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>pudo</dc:creator>

      <pubDate>Thu, 09 Jun 2011 10:26:40 GMT</pubDate>
      <title>status changed; resolution set</title>
      <link>http://localhost/ticket/1174#comment:2</link>
      <guid isPermaLink="false">http://localhost/ticket/1174#comment:2</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;new&lt;/em&gt; to &lt;em&gt;closed&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;resolution&lt;/strong&gt;
                set to &lt;em&gt;wontfix&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
wontfix as thejimmyg wants to turn REST API into RPC API and this doesn't fit in.
&lt;/p&gt;
&lt;p&gt;
Not an excellent plan in my idea but this is to be discussed elsewhere.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item>
 </channel>
</rss>