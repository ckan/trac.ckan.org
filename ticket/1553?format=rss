<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>CKAN: Ticket #1553: Upload handles non-logged in user badly</title>
    <link>http://localhost/ticket/1553</link>
    <description>&lt;p&gt;
When you install ckanext-store (Storage extension) then CKAN displays 'Upload a file' button in the dataset/resource edit tab.
&lt;/p&gt;
&lt;p&gt;
If you are not logged in, then this feature doesn't work, but there is nothing to indicate this. The button should be disabled.
&lt;/p&gt;
&lt;p&gt;
Furthermore, it lets you think you are starting the upload process, the spinner spins, it says 'Uploading...' and stays like that for a long while.
&lt;/p&gt;
&lt;p&gt;
This is a problem CKAN 1.4.3(ish) - 1.5.1 (current version) when you install the current ckanext-storage.
&lt;/p&gt;
</description>
    <language>en-us</language>
    <image>
      <title>CKAN</title>
      <url>http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png</url>
      <link>http://localhost/ticket/1553</link>
    </image>
    <generator>Trac 0.12.3</generator>
    <item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Fri, 16 Dec 2011 17:35:39 GMT</pubDate>
      <title></title>
      <link>http://localhost/ticket/1553#comment:1</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:1</guid>
      <description>
        &lt;p&gt;
This is now ameliorated in thedatahub.org by requiring login to do any edits. But the bug may be an issue for other sites that want more open settings.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>ross</dc:creator>

      <pubDate>Wed, 11 Jan 2012 13:30:57 GMT</pubDate>
      <title></title>
      <link>http://localhost/ticket/1553#comment:2</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:2</guid>
      <description>
        &lt;p&gt;
I think this is caused by the javascript xhr call getting redirected (quietly) to the login page, so the original javascript can't complete as it has a login form rather than the auth form it is looking for.
&lt;/p&gt;
&lt;p&gt;
Maybe we should change the JS to realise that it is at the login page and do something different than pretend to still be uploading?
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>rgrp</dc:creator>

      <pubDate>Mon, 20 Feb 2012 16:35:02 GMT</pubDate>
      <title></title>
      <link>http://localhost/ticket/1553#comment:3</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:3</guid>
      <description>
        &lt;p&gt;
@ross: this is indeed the issue (and I explained this to dread but failed to note here). I suggested this was a limited problem as most sites would not allow anonymous editing (which is where this occurs). However, it is a UX bug for that situation.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>ross</dc:creator>

      <pubDate>Mon, 28 May 2012 12:08:32 GMT</pubDate>
      <title>milestone set</title>
      <link>http://localhost/ticket/1553#comment:4</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:4</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;milestone&lt;/strong&gt;
                set to &lt;em&gt;ckan-v1.8&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>ross</dc:creator>

      <pubDate>Mon, 25 Jun 2012 12:40:27 GMT</pubDate>
      <title>owner, status changed</title>
      <link>http://localhost/ticket/1553#comment:5</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:5</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;owner&lt;/strong&gt;
              changed from &lt;em&gt;ross&lt;/em&gt; to &lt;em&gt;aron.carroll&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;new&lt;/em&gt; to &lt;em&gt;assigned&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
Aron, can I assign this to you for when you do the JS based uploading on demo site/new UI?
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>aron.carroll</dc:creator>

      <pubDate>Mon, 25 Jun 2012 12:47:33 GMT</pubDate>
      <title>milestone changed; keywords set</title>
      <link>http://localhost/ticket/1553#comment:6</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:6</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;keywords&lt;/strong&gt;
              &lt;em&gt;demo-theme&lt;/em&gt; added
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;milestone&lt;/strong&gt;
                changed from &lt;em&gt;ckan-v1.8&lt;/em&gt; to &lt;em&gt;opendatasuite 2&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
Ross, I think you just did :) I'll make sure the new form takes this into account.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>aron.carroll</dc:creator>

      <pubDate>Wed, 25 Jul 2012 12:45:39 GMT</pubDate>
      <title>milestone changed</title>
      <link>http://localhost/ticket/1553#comment:7</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:7</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;milestone&lt;/strong&gt;
                changed from &lt;em&gt;opendatasuite 2&lt;/em&gt; to &lt;em&gt;demo phase 3&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>aron.carroll</dc:creator>

      <pubDate>Wed, 25 Jul 2012 14:32:36 GMT</pubDate>
      <title>status changed; resolution set</title>
      <link>http://localhost/ticket/1553#comment:8</link>
      <guid isPermaLink="false">http://localhost/ticket/1553#comment:8</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;assigned&lt;/em&gt; to &lt;em&gt;closed&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;resolution&lt;/strong&gt;
                set to &lt;em&gt;fixed&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
Fixed in d41af4c
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item>
 </channel>
</rss>