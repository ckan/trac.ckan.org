id	summary	reporter	owner	description	type	status	priority	milestone	component	resolution	keywords	cc	repo	theme
1455	Search results when 'all_fields' don't include 'extra' fields	dread	johnglover	"When you do a search like this:
{{{
http://thedatahub.org/api/search/package?q=tauberer+census&all_fields=1
}}}
the ""extra"" fields (e.g. ""triples"", ""shortname"") get missed off the results. The docs say it should be a ""full record"" and I don't see any reason why this is missed off.

This is a problem because search all_fields is the only way for clients and front-ends to get packages in bulk. They end up (like lodcloud) doing thousands of requests to get packages individually.

The full record is:
{{{
http://thedatahub.org/api/rest/dataset/2000-us-census-rdf
{""count"": 1, ""results"": [{""res_description"": [""Download"", ""XML Sitemap"", ""SPARQL enpdoint"", ""Example (RDF/XML)""], ""name"": ""2000-us-census-rdf"", ""license"": ""Non-OKD Compliant::Creative Commons Non-Commercial (Any)"", ""author"": ""Joshua Tauberer"", ""author_email"": ""http://razor.occams.info/"", ""ckan_url"": ""http://thedatahub.org/dataset/2000-us-census-rdf"", ""notes"": ""2000 U.S. Census converted into over a billion RDF triples.\n\nPopulation statistics at various geographic levels, from the U.S. as a whole, down through states, counties, sub-counties (roughly, cities and incorporated towns)\n\nNotes: also found in the of SPARQL Endpoints.\n\nFrom home page:\n\n> * For the detailed Census statistics, you'll have to download the raw Census data files from the Census Bureau, my Perl script and the patch file below and run it yourself because the files are too big for me to offer as a download!\n> \n> * The data and scripts can be reused under Creative Commons Attribution-NonCommercial-ShareAlike.\n"", ""entity_type"": ""package"", ""site_id"": ""www.ckan.net"", ""download_url"": ""http://www.rdfabout.com/demo/census/"", ""indexed_ts"": ""2011-11-01T12:52:36.034Z"", ""url"": ""http://www.rdfabout.com/demo/census/"", ""state"": ""active"", ""title"": ""2000 U.S. Census in RDF (rdfabout.com)"", ""groups"": [""lod"", ""lodcloud""], ""res_format"": ["""", ""meta/sitemap"", ""api/sparql"", ""example/rdf+xml""], ""license_id"": ""cc-nc"", ""revision_id"": ""fcbad0de-79ea-41bd-8e01-eb832a05b732"", ""res_url"": [""http://www.rdfabout.com/demo/census/"", ""http://www.rdfabout.com/sitemap.xml"", ""http://www.rdfabout.com/sparql"", ""http://www.rdfabout.com/rdf/usgov/geo/us/ny""], ""id"": ""551ec435-f198-4d52-9b56-ec0b0be6aec9"", ""tags"": [""census"", ""data"", ""demographics"", ""deref-vocab"", ""format-dc"", ""format-geonames"", ""format-politico"", ""format-rdf"", ""geographic"", ""linkeddata"", ""lod"", ""lodcloud.nolinks"", ""no-license-metadata"", ""no-provenance-metadata"", ""no-vocab-mappings"", ""population"", ""published-by-third-party"", ""rdf"", ""statistics"", ""us""]}]}
}}}"	defect	closed	major	ckan-sprint-2011-12-05	ckan	fixed	search		ckan	none
