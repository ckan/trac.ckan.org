<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      #2406 (Errors in source install doc)
     – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="2405.html" title="Ticket #2405" />
        <link rel="last" href="3030.html" title="Ticket #3030" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="2406%3Fformat=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="2406%3Fformat=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="2406%3Fformat=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="2407.html" title="Ticket #2407" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="93d81ccf9a7bb1c456462f62";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 2406, escape_newlines: 0}
        $("#comment").autoPreview("/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="2405.html" title="Ticket #2405">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="2407.html" title="Ticket #2407">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="2406.html">Ticket #2406</a>
          <span class="status">(new defect)</span>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="../timeline%3Ffrom=2012-05-21T10:11:33Z&amp;precision=second.html" title="2012-05-21T10:11:33Z in Timeline">2 years</a> ago</p>
    <p>Last modified <a class="timeline" href="../timeline%3Ffrom=2012-06-25T15:06:44Z&amp;precision=second.html" title="2012-06-25T15:06:44Z in Timeline">23 months</a> ago</p>
  </div>
  <h2 class="summary searchable">Errors in source install doc</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="../query%3Fstatus=!closed&amp;reporter=markw.html">markw</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="../query%3Fstatus=!closed&amp;owner=kindly.html">kindly</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="../query%3Fstatus=!closed&amp;priority=awaiting+triage.html">awaiting triage</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="milestone" href="../milestone/ckan-v1.9.html">ckan-v1.9</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="../query%3Fstatus=!closed&amp;component=ckan.html">ckan</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_repo">
          Repository:
        </th>
        <td headers="h_repo">
              <a href="../query%3Fstatus=!closed&amp;repo=ckan.html">ckan</a>
        </td>
    </tr><tr>
        <th id="h_theme">
          Theme:
        </th>
        <td headers="h_theme">
              <a href="../query%3Fstatus=!closed&amp;theme=none.html">none</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
There are a few errors or unclarities in the source install doc - see
</p>
<p>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002203.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002203.html</a>
<a class="ext-link" href="http://lists.okfn.org/pipermail/ckan-dev/2012-May/002204.html"><span class="icon">​</span>http://lists.okfn.org/pipermail/ckan-dev/2012-May/002204.html</a>
</p>

    </div>
  </div>
</div>
          

        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="2406.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-05-23T09:46:25Z&amp;precision=second.html" title="2012-05-23T09:46:25Z in Timeline">2 years</a> ago by toby
                </h3>
                
    <div class="comment searchable">
      
      <p>
I installed CKAN yesterday afternoon from source, using the instructions at
</p>
<p>
<a class="ext-link" href="http://docs.ckan.org/en/ckan-1.7/install-from-source.html"><span class="icon">​</span>http://docs.ckan.org/en/ckan-1.7/install-from-source.html</a>
</p>
<p>
Most things worked pretty smoothly and, luckily, when they didn't I
was lucky enough to have David Raznick on hand to help sort them out.
As a result I've made the following notes on where the doc could be
improved.
</p>
<p>
For some ghastly reason I am running Linux Mint, which is some variant
of Ubuntu. It's not 10.04, so no package, hence the source install.
</p>
<p>
Sec 2: Not wanting a mysterious file called 'pyenv' in my home
directory, I created a directory ~/ckan and typed 'virtualenv pyenv'
from there. Everything worked fine. But if I had needed the 'tip' it
would have been a little confusing. It would also be worth reminding
the user that the dubious package is one they've supposedly just
installed, so if that went OK, they won't need to worry about this.
</p>
<p>
The tip also isn't clear about under what circumstances I'd need to do
the 'easy_install pip' - I didn't need to (is that also only when
python-virtualenv is missing?)
</p>
<p>
Sec 4: This worked, but the example command for installing a
particular version is confusing. It says it is for 1.5.1, but
replacing '1.5.1' with '1.7' fails because there is a rogue 'c' in the
command.
</p>
<p>
Probably it would be better to use the latest version (1.7) as the
example anyway. Or is there a way of asking for the latest released
version?
</p>
<p>
I understand this checks out the whole Git repository with all history
</p>
<ul><li>I can't imagine why I'd need to do this to build a particular
</li></ul><p>
version. But David assures me it's very sensible.
</p>
<p>
Sec 6: This worked, but it wasn't very clear what the purpose of the
'List existing databases' step was.
</p>
<p>
Sec 8: So now I had to try to get Solr working using the instructions at
</p>
<p>
<a class="ext-link" href="http://docs.ckan.org/en/ckan-1.7/solr-setup.html"><span class="icon">​</span>http://docs.ckan.org/en/ckan-1.7/solr-setup.html</a>
</p>
<p>
This didn't work at all, in ways I can't now remember, to do with
Java. In the end David suggested using Tomcat rather than Jetty (don't
ask me what these do, but they have something to do with getting Solr
to work ...) and this turned out to be much more straightforward to
install and get working, with two caveats (below). David suggested
maybe Tomcat should be the default suggested in this doc.
</p>
<ul><li>One problem with Jetty was to do with using the wrong version of
</li></ul><p>
Java, which seemed to be fixed using "sudo update-alternatives
--config java". It didn't fix Jetty - not sure if it would also have
been needed with Tomcat.
</p>
<ul><li>Soft linking the schema file didn't work - it seems Tomcat doesn't
</li></ul><p>
like soft links. We made a copy.
</p>
<p>
After this everything worked, and I now have my very own CKAN. Hurrah!
</p>
<p>
Mark
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="2406.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-05-23T09:46:53Z&amp;precision=second.html" title="2012-05-23T09:46:53Z in Timeline">2 years</a> ago by toby
                </h3>
                
    <div class="comment searchable">
      
      <p>
The 'post-installation setup' instructions at
</p>
<p>
<a class="ext-link" href="http://docs.ckan.org/en/ckan-1.7/post-installation.html"><span class="icon">​</span>http://docs.ckan.org/en/ckan-1.7/post-installation.html</a>
</p>
<p>
claim to be for either package or source installations, but only work
as stated if you have done a package installation. E.g. after a source
install, "paster --plugin=ckan user add admin
--config=/etc/ckan/std/std.ini" doesn't work (the ini file is
somewhere completely different), but just typing "paster user add
admin" from the ckan directory is fine.
</p>
<p>
The instructions should also mention that the virtual environment
should be activated.
</p>
<p>
Mark
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="2406.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-06-18T15:49:16Z&amp;precision=second.html" title="2012-06-18T15:49:16Z in Timeline">23 months</a> ago by kindly
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        set to <em>ckan-v1.8</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="2406.html#comment:4">comment:4</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-06-25T15:06:44Z&amp;precision=second.html" title="2012-06-25T15:06:44Z in Timeline">23 months</a> ago by kindly
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Milestone</strong>
        changed from <em>ckan-v1.8</em> to <em>ckan-v1.9</em>
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="2406%3Fformat=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="2406%3Fformat=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="2406%3Fformat=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>