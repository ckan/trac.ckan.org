<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>CKAN: Ticket #1085: local development copy of ckan depends on existence of ckan.net</title>
    <link>http://localhost/ticket/1085</link>
    <description>&lt;p&gt;
ckan.net appears to have either gone down or be running ultra slowly.
&lt;/p&gt;
&lt;p&gt;
this means that ckan copies running locally on my machine run very slowly indeed.
&lt;/p&gt;
&lt;p&gt;
is this behaviour desirable?
&lt;/p&gt;
&lt;p&gt;
This command finds lots of &lt;a class="ext-link" href="http://~~~ckan.net"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://~~~ckan.net&lt;/a&gt; references in python, html and javascript files:
&lt;/p&gt;
&lt;p&gt;
find ~/pyenv/src \( -name "*.py" -or -name "*.html" -or -name "*.js" \) -print0 | xargs -0 -e grep --color -nH -e "&lt;a class="ext-link" href="http://.*ckan.net"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://.*ckan.net&lt;/a&gt;"
&lt;/p&gt;
&lt;p&gt;
output for reference:
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;
/home/okfn/pyenv/src/ckan/ckan/&lt;span class="underline"&gt;init__.py:5:Network (CKAN) site: &lt;a class="ext-link" href="http://www.ckan.net"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://www.ckan.net&lt;/a&gt;.
/home/okfn/pyenv/src/ckan/ckan/lib/create_test_data.py:346:&amp;lt;&lt;a class="ext-link" href="http://ckan.net/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/&lt;/a&gt;&amp;gt;
/home/okfn/pyenv/src/ckan/ckan/lib/rdf.py:3:DOMAIN = '&lt;a class="ext-link" href="http://ckan.net"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net&lt;/a&gt;'
/home/okfn/pyenv/src/ckan/ckan/lib/rdf.py:4:CKAN_NAMESPACE = '&lt;a class="ext-link" href="http://ckan.net/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/&lt;/a&gt;#'
/home/okfn/pyenv/src/ckan/ckan/lib/talis.py:60:                      'ckan':'&lt;a class="ext-link" href="http://ckan.net/ns"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/ns&lt;/a&gt;#',
/home/okfn/pyenv/src/ckan/ckan/public/scripts/bookmarklet.js:2:    f='&lt;a class="ext-link" href="http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;title='+encodeURIComponent(document.title"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;title='+encodeURIComponent(document.title&lt;/a&gt;);
/home/okfn/pyenv/src/ckan/ckan/public/scripts/test_bookmarklet.html:16:    addtockan.src='&lt;a class="ext-link" href="http://ckan.net/scripts/bookmarklet.js"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/scripts/bookmarklet.js&lt;/a&gt;';
/home/okfn/pyenv/src/ckan/ckan/public/scripts/test_bookmarklet.html:27:    &amp;lt;p&amp;gt;&amp;lt;strong&amp;gt;Proper bookmarklet (compressed -- need to escape &amp;amp;amp;):&amp;lt;/strong&amp;gt; &amp;lt;a href="javascript:(function(){f='&lt;a class="ext-link" href="http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;amp;title='+encodeURIComponent(document.title);if((n=document.getElementsByName('description')[0])&amp;amp;amp;&amp;amp;amp;(d=n.content)){f+='&amp;amp;amp;notes='+encodeURIComponent(d);}a=function(){if(!window.open(f)){location.href=f;}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/package/new?url='+encodeURIComponent(window.location.href)+'&amp;amp;amp;title='+encodeURIComponent(document.title);if((n=document.getElementsByName('description')[0])&amp;amp;amp;&amp;amp;amp;(d=n.content)){f+='&amp;amp;amp;notes='+encodeURIComponent(d);}a=function(){if(!window.open(f)){location.href=f;}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a&lt;/a&gt;()}})()"&amp;gt;Add to CKAN&amp;lt;/a&amp;gt;
/home/okfn/pyenv/src/ckan/ckan/templates/home/license.html:31:      For convenience, all material - including all package, tag and revision information - is available in bulk, in the form of a full dump of the CKAN database. This (gzipped) dump file is updated daily and can be downloaded from &amp;lt;a href="&lt;a class="ext-link" href="http://www.ckan.net/dump/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://www.ckan.net/dump/&lt;/a&gt;"&amp;gt;&lt;a class="ext-link" href="http://www.ckan.net/dump/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://www.ckan.net/dump/&lt;/a&gt;&amp;lt;/a&amp;gt;.
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:71:            'notes': u'Some test notes\n\n### A 3rd level heading\n\n&lt;strong&gt;Some bolded text.&lt;/strong&gt;\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &amp;lt;\n\n&amp;lt;&lt;a class="ext-link" href="http://ckan.net/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/&lt;/a&gt;&amp;gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:137:             'notes': u'Some test notes\n\n### A 3rd level heading\n\n&lt;strong&gt;Some bolded text.&lt;/strong&gt;\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &amp;lt;\n\n&amp;lt;&lt;a class="ext-link" href="http://ckan.net/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/&lt;/a&gt;&amp;gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:447:                                  'notes': u'Some test notes\n\n### A 3rd level heading\n\n&lt;strong&gt;Some bolded text.&lt;/strong&gt;\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &amp;lt;\n\n&amp;lt;&lt;a class="ext-link" href="http://ckan.net/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/&lt;/a&gt;&amp;gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/dictization.py:458:                                  'notes': u'Some test notes\n\n### A 3rd level heading\n\n&lt;strong&gt;Some bolded text.&lt;/strong&gt;\n\n*Some italicized text.*\n\nForeign characters:\nu with umlaut \xfc\n66-style quote \u201c\nforeign word: th\xfcmb\n \nNeeds escaping:\nleft arrow &amp;lt;\n\n&amp;lt;&lt;a class="ext-link" href="http://ckan.net/"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/&lt;/a&gt;&amp;gt;\n\n',
/home/okfn/pyenv/src/ckan/ckan/tests/functional/api/base.py:178:        assert '"ckan_url": "&lt;a class="ext-link" href="http://test.ckan.net/package/annakarenina"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://test.ckan.net/package/annakarenina&lt;/a&gt;"' in msg, msg
/home/okfn/pyenv/src/ckanclient/ckanclient/&lt;/span&gt;init__.py:116:    api e.g. &lt;a class="ext-link" href="http://ckan.net/api"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/api&lt;/a&gt; rather than &lt;a class="ext-link" href="http://ckan.net/api/rest"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://ckan.net/api/rest&lt;/a&gt;)
/home/okfn/pyenv/src/ckanclient/ckanclient/&lt;span class="underline"&gt;init__.py:261:    :param base_location: default *&lt;a class="ext-link" href="http://www.ckan.net/api"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://www.ckan.net/api&lt;/a&gt;*
/home/okfn/pyenv/src/ckanclient/ckanclient/&lt;/span&gt;init__.py:267:    base_location = '&lt;a class="ext-link" href="http://www.ckan.net/api"&gt;&lt;span class="icon"&gt;​&lt;/span&gt;http://www.ckan.net/api&lt;/a&gt;'
&lt;/p&gt;
&lt;hr /&gt;
</description>
    <language>en-us</language>
    <image>
      <title>CKAN</title>
      <url>http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png</url>
      <link>http://localhost/ticket/1085</link>
    </image>
    <generator>Trac 0.12.3</generator>
    <item>
      
        <dc:creator>rgrp</dc:creator>

      <pubDate>Tue, 12 Apr 2011 15:25:51 GMT</pubDate>
      <title></title>
      <link>http://localhost/ticket/1085#comment:1</link>
      <guid isPermaLink="false">http://localhost/ticket/1085#comment:1</guid>
      <description>
        &lt;p&gt;
I don't think this is very useful output :) Most of this is test/demo/rdf and therefore not relevant.
&lt;/p&gt;
&lt;p&gt;
Also have you checked your ckan.site_url in your development.ini -- which configures where what is used as based for all external urls in the templates?
&lt;/p&gt;
&lt;p&gt;
IMO there is nothing to fix here.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Tue, 12 Apr 2011 16:10:02 GMT</pubDate>
      <title>owner set</title>
      <link>http://localhost/ticket/1085#comment:2</link>
      <guid isPermaLink="false">http://localhost/ticket/1085#comment:2</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;owner&lt;/strong&gt;
              set to &lt;em&gt;dread&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
As discussed on IRC, the default ckan.site_url should be blank, rather than ckan.net.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Tue, 12 Apr 2011 16:21:54 GMT</pubDate>
      <title>status changed; resolution set</title>
      <link>http://localhost/ticket/1085#comment:3</link>
      <guid isPermaLink="false">http://localhost/ticket/1085#comment:3</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;new&lt;/em&gt; to &lt;em&gt;closed&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;resolution&lt;/strong&gt;
                set to &lt;em&gt;fixed&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
Fixed in cset:01b3de5d4e31 on default.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item>
 </channel>
</rss>