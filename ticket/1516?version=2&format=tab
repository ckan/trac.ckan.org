id	summary	reporter	owner	description	type	status	priority	milestone	component	resolution	keywords	cc	repo	theme
1516	Update SOLR schema after 1.5.1 release and set up multicore SOLR instances if needed	amercader	amercader	"CKAN 1.5.1 will introduce changes in the SOLR schema and functions to support multiple schema versions. Unfortunately the changes in the schema will be backwards incompatible so either both CKAN and SOLR are upgraded, or SOLR is configured as multicore, with one core for each schema. The solr cores would look like:

{{{http://<solr-server>/solr/schema-<version>}}}

Different scenarios:

 * Single SOLR instance used by only one CKAN site (e.g. SOLR running on the same machine):
  * Update CKAN
  * Update SOLR schema (symlink to suitable version in CKAN source) 
  * Rebuild search index

 * Single SOLR instance used by multiple CKAN sites.
  * Update CKAN source
  * Configure SOLR as multicore, one core for version 1.2 and another for 1.3 of the schema (symlink to appropriate version in CKAN source)
  * Update solr_url on each of the CKAN sites with the suitable core
  * Rebuild search index


These are the SOLR and CKAN instances that need to be updated (Please add any missing ones):

 * Same machine as the CKAN site:
  * test.ckan.net
  * iati.test.ckan.net

 * s046.okserver.org
  * iatiregistry.org

 * s052.okserver.org
  * datacatalogs.org

 * eu4.okfn.org (solr.okfn.org)
  * datagm.org.uk

TODO: which SOLR server are using these instances?
 * thedatahub.org
 * data.gov.uk/ catalogue.data.gov.uk
 * hri.fi
 * register.data.overheid.nl
 * data.norge.no
 * iati.ckan.net / iatiregistry.org
 * nederland.ckan.net
 * ie.ckan.net
 * it.ckan.net
 * no.ckan.net / datakilder.no
 * lt.ckan.net
 * cz.ckan.net
 * br.ckan.net
 * pl.ckan.net
 * datadotmontreal.ca/
 * lt.ckan.net
 * cz.ckan.net
 * br.ckan.net
 * pl.ckan.net
 * at.ckan.net
 * colorado.ckan.net
 * ca.ckan.net / datadotgc.com
 * publicdata.eu




"	task	new	critical		ckan		search solr	johnglover kindly rgrp dread nils.toedtmann@â€¦	ckan	migrations
