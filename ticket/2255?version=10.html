<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      #2255 (Organizations (Privacy + Ownership))
     – CKAN
    </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!--[if IE]><script type="text/javascript">window.location.hash = window.location.hash;</script><![endif]-->
        <link rel="search" href="../search.html" />
        <link rel="prev" href="2254.html" title="Ticket #2254" />
        <link rel="last" href="3030.html" title="Ticket #3030" />
        <link rel="help" href="../wiki/TracGuide.html" />
        <link rel="alternate" href="2255%3Fversion=10&amp;format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="2255%3Fversion=10&amp;format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" /><link rel="alternate" href="2255%3Fversion=10&amp;format=rss" type="application/rss+xml" class="rss" title="RSS Feed" />
        <link rel="next" href="2256.html" title="Ticket #2256" />
        <link rel="start" href="../wiki.1.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="1.html" title="Ticket #1" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../search/opensearch" title="Search CKAN" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="93d81ccf9a7bb1c456462f62";
    </script>
    <script type="text/javascript" src="../chrome/common/js/jquery.js"></script><script type="text/javascript" src="../chrome/common/js/babel.js"></script><script type="text/javascript" src="../chrome/common/js/messages/en_US.js"></script><script type="text/javascript" src="../chrome/common/js/trac.js"></script><script type="text/javascript" src="../chrome/common/js/search.js"></script><script type="text/javascript" src="../chrome/common/js/folding.js"></script><script type="text/javascript" src="../chrome/common/js/wikitoolbar.js"></script><script type="text/javascript" src="../chrome/common/js/resizer.js"></script><script type="text/javascript" src="../chrome/common/js/auto_preview.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
        var args = {realm: "ticket", id: 2255, escape_newlines: 0}
        $("#comment").autoPreview("/wiki_render", args, function(textarea, text, rendered) {
            $("#ticketchange div.comment").html(rendered);
            if (rendered)
              $("#ticketchange").show();
            else if ($("#ticketchange ul.changes").length == 0)
              $("#ticketchange").hide();
        });
        $("#trac-comment-editor textarea").autoPreview("/wiki_render", args,
                                                       function(textarea, text, rendered) {
          var comment = $("#trac-comment-editor").next("div.comment");
          comment.html(rendered);
          if (rendered)
            comment.show();
          else
            comment.hide();
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://ckan.org/"><img src="http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png" alt="CKAN Trac" height="70" /></a>
      </div>
      <form id="search" action="../search.html" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../login.html">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="../wiki/TracGuide.html">Help/Guide</a></li><li><a href="../about.html">About Trac</a></li><li class="last"><a href="../register.html">Register</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="../timeline.html">Timeline</a></li><li><a href="../roadmap.html">Roadmap</a></li><li class="active"><a href="../report.html">View Tickets</a></li><li><a href="../search.html">Search</a></li><li class="last"><a href="../wiki.1.html">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><span>&larr; <a class="prev" href="2254.html" title="Ticket #2254">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="2256.html" title="Ticket #2256">Next Ticket</a> &rarr;</span></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
      <h1 id="trac-ticket-title">
          <a href="2255.html">Ticket #2255</a>
          <span class="status">(new enhancement)</span>
              — at <a href="2255%3Fversion=10.html#comment:10">Version 10</a>
      </h1>
      <div id="ticket">
  <div class="date">
    <p>Opened <a class="timeline" href="../timeline%3Ffrom=2012-03-22T11:53:38Z&amp;precision=second.html" title="2012-03-22T11:53:38Z in Timeline">2 years</a> ago</p>
    <p>Last modified <a class="timeline" href="../timeline%3Ffrom=2012-04-17T11:54:30Z&amp;precision=second.html" title="2012-04-17T11:54:30Z in Timeline">2 years</a> ago</p>
  </div>
  <h2 class="summary searchable">Organizations (Privacy + Ownership)</h2>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable">
        <a href="../query%3Fstatus=!closed&amp;reporter=ross.html">ross</a>
      </td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner">
        <a href="../query%3Fstatus=!closed&amp;owner=ross.html">ross</a>
      </td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="../query%3Fstatus=!closed&amp;priority=awaiting+triage.html">awaiting triage</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="closed milestone" href="../milestone/ckan-sprint-2012-04-30.html">ckan-sprint-2012-04-30</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="../query%3Fstatus=!closed&amp;component=ckan.html">ckan</a>
        </td>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="../query%3Fstatus=!closed&amp;keywords=~[r:1.0d].html">[r:1.0d]</a>
        </td>
    </tr><tr>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
        <th id="h_repo">
          Repository:
        </th>
        <td headers="h_repo">
              <a href="../query%3Fstatus=!closed&amp;repo=ckan.html">ckan</a>
        </td>
    </tr><tr>
        <th id="h_theme">
          Theme:
        </th>
        <td headers="h_theme">
              <a href="../query%3Fstatus=!closed&amp;theme=none.html">none</a>
        </td>
        <th>
        </th>
        <td>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
      <span class="lastmod" title="2012-03-29 09:51:30+00:00">
        (last modified by ross)
        (<a href="2255%3Faction=diff&amp;version=10.html">diff</a>)
      </span>
    </h3>
    <div class="searchable">
      <p>
[x] The publisher_form extension and the 'publisher' component of the system will be renamed to organizations to both make its functionality clear, and to differentiate it from the publish auth profile.
</p>
<p>
Ownership of datasets is important and this ticket will enforce membership for a dataset to a single individual organization.  The workflow for adding a dataset to a publisher/organization will stay the same but there will be no mechanism for adding existing datasets to an organization from within the organization forms.
</p>
<blockquote>
<p>
[x] New datasets can be created from the organization form, in which case the organization will be set in the dataset form dropdown (with privacy set to private - see below)
</p>
</blockquote>
<blockquote>
<p>
[x] Datasets created from direct access to /dataset/new will have a drop down showing all of the organizations available to the current user.
</p>
</blockquote>
<blockquote>
<p>
[ ] When editing a dataset the organization can only be changed if the current user is the admin of the current organization, and only then to one of the organizations available to the current user.
</p>
</blockquote>
<p>
[x] Privacy will be enforced by changing the dataset form to have a public/private switch next to the organization drop-down which will be set as the capacity with which the dataset is added to an Organization.  Private means visible only within the Organization, and should be the default.
</p>
<p>
[x] Search will be affected as the public/private status of a dataset will need to be added to the schema 
</p>
<p>
[ ] Only public datasets showing in site search, and private showing in organization dataset search (if user is within the organization). 
</p>
<p>
[ ] Clarify how user can be owners of datasets without an organization
</p>
<p>
[ ] Documentation should be updated to reflect these changes.
</p>
<p>
[x] Verify, then add, then re-add to documentation.
 
</p>
<ul><li>A User joins or creates an Organization
</li></ul><ul><li>If creator of the Organization User becomes administrator of the Organization otherwise they become a Member.
</li></ul><ul><li><del>Creation of new Organization must be approved by a System Administrator</del>
</li></ul><ul><li>New Members must be approved by the Organization Administrator
</li></ul>
    </div>
  </div>
</div>
        <div>
          <h2 class="foldable">Change History</h2>
          <div id="changelog">
              <div class="change" id="trac-change-1">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:1" class="cnum">
      <a href="2255%3Fversion=10.html#comment:1">comment:1</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-22T12:27:11Z&amp;precision=second.html" title="2012-03-22T12:27:11Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=1.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-2">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:2" class="cnum">
      <a href="2255%3Fversion=10.html#comment:2">comment:2</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-22T13:30:59Z&amp;precision=second.html" title="2012-03-22T13:30:59Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=2.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-3">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:3" class="cnum">
      <a href="2255%3Fversion=10.html#comment:3">comment:3</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-26T07:58:56Z&amp;precision=second.html" title="2012-03-26T07:58:56Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=3.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-4">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:4" class="cnum">
      <a href="2255%3Fversion=10.html#comment:4">comment:4</a>
    </span>
                          <span>follow-up:</span>
      <a href="2255%3Fversion=10.html#comment:5">↓ 5</a>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-26T09:08:56Z&amp;precision=second.html" title="2012-03-26T09:08:56Z in Timeline">2 years</a> ago by rgrp
                </h3>
                
    <div class="comment searchable">
      
      <p>
I would say Public is default for Organization with Private being an option (or do we make this a config option?).
</p>
<p>
What about ownership by users?
</p>
<blockquote class="citation">
<blockquote>
<p>
New datasets can be created from the organization form, in which case the organization will be set in the dataset form dropdown (with privacy set to private - see below)
</p>
</blockquote>
</blockquote>
<p>
Does this mean like the setup on groups on the datahub (i.e. forward to new dataset but with some things hard-coded, organization/group?)? Or does it mean actual new dataset form on organization page.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:5" class="cnum">
      <a href="2255%3Fversion=10.html#comment:5">comment:5</a>
    </span>
                        in reply to:
      <a href="2255%3Fversion=10.html#comment:4">↑ 4</a>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-26T14:32:20Z&amp;precision=second.html" title="2012-03-26T14:32:20Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=5.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      <blockquote class="citation">
<p>
What about ownership by users?
</p>
</blockquote>
<p>
Good question. WIll add to description.
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote>
<p>
New datasets can be created from the organization form, in which case the organization will be set in the dataset form dropdown (with privacy set to private - see below)
</p>
</blockquote>
</blockquote>
<p>
Does this mean like the setup on groups on the datahub (i.e. forward to new dataset but with some things hard-coded, organization/group?)? Or does it mean actual new dataset form on organization page.
</p>
</blockquote>
<p>
The former, although currently we will have a slightly different form in the organizations extension, until such a time as we're ready to replace the existing one.  Tried merging the two forms but it ended up with such a mess of logic that it was unmanageable.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:6" class="cnum">
      <a href="2255%3Fversion=10.html#comment:6">comment:6</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-26T16:07:46Z&amp;precision=second.html" title="2012-03-26T16:07:46Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=6.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-7">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:7" class="cnum">
      <a href="2255%3Fversion=10.html#comment:7">comment:7</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-28T10:13:21Z&amp;precision=second.html" title="2012-03-28T10:13:21Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=7.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-8">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:8" class="cnum">
      <a href="2255%3Fversion=10.html#comment:8">comment:8</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-28T11:27:21Z&amp;precision=second.html" title="2012-03-28T11:27:21Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=8.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      <p>
Changed description based on docs of stuff to verify.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:9" class="cnum">
      <a href="2255%3Fversion=10.html#comment:9">comment:9</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-28T11:38:03Z&amp;precision=second.html" title="2012-03-28T11:38:03Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=9.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
              <div class="change" id="trac-change-10">
                <h3 class="change">
                  <span class="threading">
                    <span id="comment:10" class="cnum">
      <a href="2255%3Fversion=10.html#comment:10">comment:10</a>
    </span>
                  </span>
                  Changed <a class="timeline" href="../timeline%3Ffrom=2012-03-29T09:51:30Z&amp;precision=second.html" title="2012-03-29T09:51:30Z in Timeline">2 years</a> ago by ross
                </h3>
                
  <ul class="changes">
    <li>
      <strong>Description</strong>
        modified (<a href="2255%3Faction=diff&amp;version=10.html">diff</a>)
    </li>
  </ul>
    <div class="comment searchable">
      
      
    </div>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="../wiki/TracTickets.html">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="2255%3Fversion=10&amp;format=csv" class="csv">Comma-delimited Text</a>
        </li><li>
          <a rel="nofollow" href="2255%3Fversion=10&amp;format=tab" class="tab">Tab-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="2255%3Fversion=10&amp;format=rss" class="rss">RSS Feed</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 0.12.3</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>