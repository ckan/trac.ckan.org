<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>CKAN: Ticket #1455: Search results when 'all_fields' don't include 'extra' fields</title>
    <link>http://localhost/ticket/1455</link>
    <description>&lt;p&gt;
When you do a search like this:
&lt;/p&gt;
&lt;pre class="wiki"&gt;http://thedatahub.org/api/search/package?q=tauberer+census&amp;amp;all_fields=1
&lt;/pre&gt;&lt;p&gt;
the "extra" fields (e.g. "triples", "shortname") get missed off the results. The docs say it should be a "full record" and I don't see any reason why this is missed off.
&lt;/p&gt;
&lt;p&gt;
This is a problem because search all_fields is the only way for clients and front-ends to get packages in bulk. They end up (like lodcloud) doing thousands of requests to get packages individually.
&lt;/p&gt;
&lt;p&gt;
The full record is:
&lt;/p&gt;
&lt;pre class="wiki"&gt;http://thedatahub.org/api/rest/dataset/2000-us-census-rdf
{"count": 1, "results": [{"res_description": ["Download", "XML Sitemap", "SPARQL enpdoint", "Example (RDF/XML)"], "name": "2000-us-census-rdf", "license": "Non-OKD Compliant::Creative Commons Non-Commercial (Any)", "author": "Joshua Tauberer", "author_email": "http://razor.occams.info/", "ckan_url": "http://thedatahub.org/dataset/2000-us-census-rdf", "notes": "2000 U.S. Census converted into over a billion RDF triples.\n\nPopulation statistics at various geographic levels, from the U.S. as a whole, down through states, counties, sub-counties (roughly, cities and incorporated towns)\n\nNotes: also found in the of SPARQL Endpoints.\n\nFrom home page:\n\n&amp;gt; * For the detailed Census statistics, you'll have to download the raw Census data files from the Census Bureau, my Perl script and the patch file below and run it yourself because the files are too big for me to offer as a download!\n&amp;gt; \n&amp;gt; * The data and scripts can be reused under Creative Commons Attribution-NonCommercial-ShareAlike.\n", "entity_type": "package", "site_id": "www.ckan.net", "download_url": "http://www.rdfabout.com/demo/census/", "indexed_ts": "2011-11-01T12:52:36.034Z", "url": "http://www.rdfabout.com/demo/census/", "state": "active", "title": "2000 U.S. Census in RDF (rdfabout.com)", "groups": ["lod", "lodcloud"], "res_format": ["", "meta/sitemap", "api/sparql", "example/rdf+xml"], "license_id": "cc-nc", "revision_id": "fcbad0de-79ea-41bd-8e01-eb832a05b732", "res_url": ["http://www.rdfabout.com/demo/census/", "http://www.rdfabout.com/sitemap.xml", "http://www.rdfabout.com/sparql", "http://www.rdfabout.com/rdf/usgov/geo/us/ny"], "id": "551ec435-f198-4d52-9b56-ec0b0be6aec9", "tags": ["census", "data", "demographics", "deref-vocab", "format-dc", "format-geonames", "format-politico", "format-rdf", "geographic", "linkeddata", "lod", "lodcloud.nolinks", "no-license-metadata", "no-provenance-metadata", "no-vocab-mappings", "population", "published-by-third-party", "rdf", "statistics", "us"]}]}
&lt;/pre&gt;</description>
    <language>en-us</language>
    <image>
      <title>CKAN</title>
      <url>http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png</url>
      <link>http://localhost/ticket/1455</link>
    </image>
    <generator>Trac 0.12.3</generator>
    <item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Wed, 09 Nov 2011 22:19:26 GMT</pubDate>
      <title>status changed; owner set</title>
      <link>http://localhost/ticket/1455#comment:1</link>
      <guid isPermaLink="false">http://localhost/ticket/1455#comment:1</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;owner&lt;/strong&gt;
              set to &lt;em&gt;dread&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;new&lt;/em&gt; to &lt;em&gt;assigned&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Mon, 21 Nov 2011 10:47:39 GMT</pubDate>
      <title>milestone changed</title>
      <link>http://localhost/ticket/1455#comment:2</link>
      <guid isPermaLink="false">http://localhost/ticket/1455#comment:2</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;milestone&lt;/strong&gt;
                changed from &lt;em&gt;current-ckan-sprint-2011-11-21&lt;/em&gt; to &lt;em&gt;ckan-v1.6&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Mon, 21 Nov 2011 10:50:33 GMT</pubDate>
      <title>owner, milestone changed</title>
      <link>http://localhost/ticket/1455#comment:3</link>
      <guid isPermaLink="false">http://localhost/ticket/1455#comment:3</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;owner&lt;/strong&gt;
              changed from &lt;em&gt;dread&lt;/em&gt; to &lt;em&gt;johnglover&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;milestone&lt;/strong&gt;
                changed from &lt;em&gt;ckan-v1.6&lt;/em&gt; to &lt;em&gt;ckan-sprint-2011-12-05&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
John to look at.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>johnglover</dc:creator>

      <pubDate>Mon, 28 Nov 2011 14:45:06 GMT</pubDate>
      <title>status changed; keywords, resolution set</title>
      <link>http://localhost/ticket/1455#comment:4</link>
      <guid isPermaLink="false">http://localhost/ticket/1455#comment:4</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;keywords&lt;/strong&gt;
              &lt;em&gt;search&lt;/em&gt; added
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;assigned&lt;/em&gt; to &lt;em&gt;closed&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;resolution&lt;/strong&gt;
                set to &lt;em&gt;fixed&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
Fixed - commit: &lt;a class="ext-link" href="https://github.com/okfn/ckan/commit/05b675a4314ad269c6e6a095d57e3f2a21e771eb"&gt;&lt;span class="icon"&gt;â€‹&lt;/span&gt;https://github.com/okfn/ckan/commit/05b675a4314ad269c6e6a095d57e3f2a21e771eb&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
Note:
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Includes a small change to Solr schema file.
&lt;/li&gt;&lt;li&gt;Search index will need to be rebuilt for changes to take effect
&lt;/li&gt;&lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Wed, 21 Dec 2011 13:34:26 GMT</pubDate>
      <title></title>
      <link>http://localhost/ticket/1455#comment:5</link>
      <guid isPermaLink="false">http://localhost/ticket/1455#comment:5</guid>
      <description>
        &lt;p&gt;
Fix has gone into CKAN 1.5.1
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item>
 </channel>
</rss>