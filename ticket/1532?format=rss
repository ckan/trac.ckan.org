<?xml version="1.0"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" version="2.0">
  <channel>
    <title>CKAN: Ticket #1532: Registration with OpenID has misleading error message</title>
    <link>http://localhost/ticket/1532</link>
    <description>&lt;p&gt;
The log-in page says "Login using Open ID" and gives instructions for signing up. YET this is only available to users who've already added openid to their account. If you have not done this and then sign-in via OpenID (which is successful from the OpenID end) then you are told "Login failed. Bad username or password." in a flash message.
&lt;/p&gt;
&lt;p&gt;
Proposed solution (i don't know if this is possible):
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;When you log-in for the first time via OpenID, it doesn't actually log you in in CKAN. It just sends you to the 'Create User' page with the OpenID field pre-filled, and puts up a flash message "This OpenID account is not yet registered on thedatahub. Please complete your details.". This allows you to complete the registration and logs you in, and allows you to log-in directly with OpenID in the future.
&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;
Alternatives:
&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;Just change the error message to be 'You need to register in CKAN first. Quote your OpenID in the registration form to use it in future.'
&lt;/li&gt;&lt;li&gt;Remove OpenID altogether
&lt;/li&gt;&lt;/ul&gt;</description>
    <language>en-us</language>
    <image>
      <title>CKAN</title>
      <url>http://assets.okfn.org/p/ckan/img/ckan_logo_shortname.png</url>
      <link>http://localhost/ticket/1532</link>
    </image>
    <generator>Trac 0.12.3</generator>
    <item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Thu, 15 Dec 2011 13:33:24 GMT</pubDate>
      <title>status changed; resolution set</title>
      <link>http://localhost/ticket/1532#comment:1</link>
      <guid isPermaLink="false">http://localhost/ticket/1532#comment:1</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;status&lt;/strong&gt;
                changed from &lt;em&gt;new&lt;/em&gt; to &lt;em&gt;closed&lt;/em&gt;
            &lt;/li&gt;
            &lt;li&gt;&lt;strong&gt;resolution&lt;/strong&gt;
                set to &lt;em&gt;fixed&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
        &lt;p&gt;
I couldn't see a way to communicate the situation "OpenID authenticated, but doesn't match any CKAN user" from the repoze middleware to CKAN. So in [release-v1.5.1c 9e86c8b] I have provided extra instructions in the OpenID log-in screen, and in the log-in error message suggest what could have gone wrong.
&lt;/p&gt;
&lt;p&gt;
This issue appeared in 1.5.1b and fixed in 1.5.1c in time for the 1.5.1 release.
&lt;/p&gt;
      </description>
      <category>Ticket</category>
    </item><item>
      
        <dc:creator>dread</dc:creator>

      <pubDate>Thu, 15 Dec 2011 13:33:47 GMT</pubDate>
      <title>milestone set</title>
      <link>http://localhost/ticket/1532#comment:2</link>
      <guid isPermaLink="false">http://localhost/ticket/1532#comment:2</guid>
      <description>
          &lt;ul&gt;
            &lt;li&gt;&lt;strong&gt;milestone&lt;/strong&gt;
                set to &lt;em&gt;current-ckan-sprint-2011-12-19&lt;/em&gt;
            &lt;/li&gt;
          &lt;/ul&gt;
      </description>
      <category>Ticket</category>
    </item>
 </channel>
</rss>